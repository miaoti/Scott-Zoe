function sv(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function am(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var om={exports:{}},jo={},lm={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ei=Symbol.for("react.element"),iv=Symbol.for("react.portal"),av=Symbol.for("react.fragment"),ov=Symbol.for("react.strict_mode"),lv=Symbol.for("react.profiler"),cv=Symbol.for("react.provider"),uv=Symbol.for("react.context"),dv=Symbol.for("react.forward_ref"),hv=Symbol.for("react.suspense"),pv=Symbol.for("react.memo"),fv=Symbol.for("react.lazy"),ch=Symbol.iterator;function mv(e){return e===null||typeof e!="object"?null:(e=ch&&e[ch]||e["@@iterator"],typeof e=="function"?e:null)}var cm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},um=Object.assign,dm={};function gs(e,t,r){this.props=e,this.context=t,this.refs=dm,this.updater=r||cm}gs.prototype.isReactComponent={};gs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hm(){}hm.prototype=gs.prototype;function Pu(e,t,r){this.props=e,this.context=t,this.refs=dm,this.updater=r||cm}var Tu=Pu.prototype=new hm;Tu.constructor=Pu;um(Tu,gs.prototype);Tu.isPureReactComponent=!0;var uh=Array.isArray,pm=Object.prototype.hasOwnProperty,Du={current:null},fm={key:!0,ref:!0,__self:!0,__source:!0};function mm(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)pm.call(t,n)&&!fm.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Ei,type:e,key:a,ref:o,props:i,_owner:Du.current}}function gv(e,t){return{$$typeof:Ei,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Au(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ei}function xv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var dh=/\/+/g;function ol(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xv(""+e.key):t.toString(36)}function ha(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ei:case iv:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+ol(o,0):n,uh(i)?(r="",e!=null&&(r=e.replace(dh,"$&/")+"/"),ha(i,t,r,"",function(u){return u})):i!=null&&(Au(i)&&(i=gv(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(dh,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",uh(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+ol(a,l);o+=ha(a,t,r,c,i)}else if(c=mv(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+ol(a,l++),o+=ha(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ui(e,t,r){if(e==null)return e;var n=[],i=0;return ha(e,n,"","",function(a){return t.call(r,a,i++)}),n}function yv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xe={current:null},pa={transition:null},vv={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:pa,ReactCurrentOwner:Du};function gm(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Ui,forEach:function(e,t,r){Ui(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ui(e,function(){t++}),t},toArray:function(e){return Ui(e,function(t){return t})||[]},only:function(e){if(!Au(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=gs;re.Fragment=av;re.Profiler=lv;re.PureComponent=Pu;re.StrictMode=ov;re.Suspense=hv;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vv;re.act=gm;re.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=um({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Du.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)pm.call(t,c)&&!fm.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ei,type:e.type,key:i,ref:a,props:n,_owner:o}};re.createContext=function(e){return e={$$typeof:uv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cv,_context:e},e.Consumer=e};re.createElement=mm;re.createFactory=function(e){var t=mm.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:dv,render:e}};re.isValidElement=Au;re.lazy=function(e){return{$$typeof:fv,_payload:{_status:-1,_result:e},_init:yv}};re.memo=function(e,t){return{$$typeof:pv,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=pa.transition;pa.transition={};try{e()}finally{pa.transition=t}};re.unstable_act=gm;re.useCallback=function(e,t){return Xe.current.useCallback(e,t)};re.useContext=function(e){return Xe.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return Xe.current.useDeferredValue(e)};re.useEffect=function(e,t){return Xe.current.useEffect(e,t)};re.useId=function(){return Xe.current.useId()};re.useImperativeHandle=function(e,t,r){return Xe.current.useImperativeHandle(e,t,r)};re.useInsertionEffect=function(e,t){return Xe.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return Xe.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return Xe.current.useMemo(e,t)};re.useReducer=function(e,t,r){return Xe.current.useReducer(e,t,r)};re.useRef=function(e){return Xe.current.useRef(e)};re.useState=function(e){return Xe.current.useState(e)};re.useSyncExternalStore=function(e,t,r){return Xe.current.useSyncExternalStore(e,t,r)};re.useTransition=function(){return Xe.current.useTransition()};re.version="18.3.1";lm.exports=re;var y=lm.exports;const Nn=am(y),wv=sv({__proto__:null,default:Nn},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv=y,jv=Symbol.for("react.element"),Nv=Symbol.for("react.fragment"),Sv=Object.prototype.hasOwnProperty,kv=bv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cv={key:!0,ref:!0,__self:!0,__source:!0};function xm(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Sv.call(t,n)&&!Cv.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:jv,type:e,key:a,ref:o,props:i,_owner:kv.current}}jo.Fragment=Nv;jo.jsx=xm;jo.jsxs=xm;om.exports=jo;var s=om.exports,nc={},ym={exports:{}},gt={},vm={exports:{}},wm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,I){var V=O.length;O.push(I);e:for(;0<V;){var G=V-1>>>1,H=O[G];if(0<i(H,I))O[G]=I,O[V]=H,V=G;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var I=O[0],V=O.pop();if(V!==I){O[0]=V;e:for(var G=0,H=O.length,Z=H>>>1;G<Z;){var oe=2*(G+1)-1,W=O[oe],Y=oe+1,ee=O[Y];if(0>i(W,V))Y<H&&0>i(ee,W)?(O[G]=ee,O[Y]=V,G=Y):(O[G]=W,O[oe]=V,G=oe);else if(Y<H&&0>i(ee,V))O[G]=ee,O[Y]=V,G=Y;else break e}}return I}function i(O,I){var V=O.sortIndex-I.sortIndex;return V!==0?V:O.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,x=!1,b=!1,j=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(O){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=O)n(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(u)}}function v(O){if(b=!1,m(O),!x)if(r(c)!==null)x=!0,B(S);else{var I=r(u);I!==null&&z(v,I.startTime-O)}}function S(O,I){x=!1,b&&(b=!1,w(C),C=-1),f=!0;var V=p;try{for(m(I),h=r(c);h!==null&&(!(h.expirationTime>I)||O&&!N());){var G=h.callback;if(typeof G=="function"){h.callback=null,p=h.priorityLevel;var H=G(h.expirationTime<=I);I=e.unstable_now(),typeof H=="function"?h.callback=H:h===r(c)&&n(c),m(I)}else n(c);h=r(c)}if(h!==null)var Z=!0;else{var oe=r(u);oe!==null&&z(v,oe.startTime-I),Z=!1}return Z}finally{h=null,p=V,f=!1}}var k=!1,E=null,C=-1,A=5,P=-1;function N(){return!(e.unstable_now()-P<A)}function D(){if(E!==null){var O=e.unstable_now();P=O;var I=!0;try{I=E(!0,O)}finally{I?M():(k=!1,E=null)}}else k=!1}var M;if(typeof g=="function")M=function(){g(D)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,L=_.port2;_.port1.onmessage=D,M=function(){L.postMessage(null)}}else M=function(){j(D,0)};function B(O){E=O,k||(k=!0,M())}function z(O,I){C=j(function(){O(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){x||f||(x=!0,B(S))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(O){switch(p){case 1:case 2:case 3:var I=3;break;default:I=p}var V=p;p=I;try{return O()}finally{p=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,I){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var V=p;p=O;try{return I()}finally{p=V}},e.unstable_scheduleCallback=function(O,I,V){var G=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?G+V:G):V=G,O){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=V+H,O={id:d++,callback:I,priorityLevel:O,startTime:V,expirationTime:H,sortIndex:-1},V>G?(O.sortIndex=V,t(u,O),r(c)===null&&O===r(u)&&(b?(w(C),C=-1):b=!0,z(v,V-G))):(O.sortIndex=H,t(c,O),x||f||(x=!0,B(S))),O},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(O){var I=p;return function(){var V=p;p=I;try{return O.apply(this,arguments)}finally{p=V}}}})(wm);vm.exports=wm;var Ev=vm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv=y,ft=Ev;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bm=new Set,si={};function Sn(e,t){ns(e,t),ns(e+"Capture",t)}function ns(e,t){for(si[e]=t,e=0;e<t.length;e++)bm.add(t[e])}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sc=Object.prototype.hasOwnProperty,Tv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hh={},ph={};function Dv(e){return sc.call(ph,e)?!0:sc.call(hh,e)?!1:Tv.test(e)?ph[e]=!0:(hh[e]=!0,!1)}function Av(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Mv(e,t,r,n){if(t===null||typeof t>"u"||Av(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Je(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new Je(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new Je(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new Je(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new Je(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new Je(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new Je(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new Je(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new Je(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new Je(e,5,!1,e.toLowerCase(),null,!1,!1)});var Mu=/[\-:]([a-z])/g;function Ru(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Mu,Ru);Fe[t]=new Je(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Mu,Ru);Fe[t]=new Je(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Mu,Ru);Fe[t]=new Je(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new Je(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new Je(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ou(e,t,r,n){var i=Fe.hasOwnProperty(t)?Fe[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Mv(t,r,i,n)&&(r=null),n||i===null?Dv(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var pr=Pv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wi=Symbol.for("react.element"),Mn=Symbol.for("react.portal"),Rn=Symbol.for("react.fragment"),_u=Symbol.for("react.strict_mode"),ic=Symbol.for("react.profiler"),jm=Symbol.for("react.provider"),Nm=Symbol.for("react.context"),Lu=Symbol.for("react.forward_ref"),ac=Symbol.for("react.suspense"),oc=Symbol.for("react.suspense_list"),Fu=Symbol.for("react.memo"),vr=Symbol.for("react.lazy"),Sm=Symbol.for("react.offscreen"),fh=Symbol.iterator;function ks(e){return e===null||typeof e!="object"?null:(e=fh&&e[fh]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,ll;function Bs(e){if(ll===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ll=t&&t[1]||""}return`
`+ll+e}var cl=!1;function ul(e,t){if(!e||cl)return"";cl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{cl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Bs(e):""}function Rv(e){switch(e.tag){case 5:return Bs(e.type);case 16:return Bs("Lazy");case 13:return Bs("Suspense");case 19:return Bs("SuspenseList");case 0:case 2:case 15:return e=ul(e.type,!1),e;case 11:return e=ul(e.type.render,!1),e;case 1:return e=ul(e.type,!0),e;default:return""}}function lc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rn:return"Fragment";case Mn:return"Portal";case ic:return"Profiler";case _u:return"StrictMode";case ac:return"Suspense";case oc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nm:return(e.displayName||"Context")+".Consumer";case jm:return(e._context.displayName||"Context")+".Provider";case Lu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fu:return t=e.displayName||null,t!==null?t:lc(e.type)||"Memo";case vr:t=e._payload,e=e._init;try{return lc(e(t))}catch{}}return null}function Ov(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lc(t);case 8:return t===_u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Br(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function km(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _v(e){var t=km(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hi(e){e._valueTracker||(e._valueTracker=_v(e))}function Cm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=km(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function _a(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cc(e,t){var r=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function mh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Br(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Em(e,t){t=t.checked,t!=null&&Ou(e,"checked",t,!1)}function uc(e,t){Em(e,t);var r=Br(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dc(e,t.type,r):t.hasOwnProperty("defaultValue")&&dc(e,t.type,Br(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function dc(e,t,r){(t!=="number"||_a(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Is=Array.isArray;function Qn(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Br(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function hc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(F(92));if(Is(r)){if(1<r.length)throw Error(F(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Br(r)}}function Pm(e,t){var r=Br(t.value),n=Br(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function yh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Tm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Tm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qi,Dm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qi=qi||document.createElement("div"),qi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ii(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lv=["Webkit","ms","Moz","O"];Object.keys(Hs).forEach(function(e){Lv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hs[t]=Hs[e]})});function Am(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Hs.hasOwnProperty(e)&&Hs[e]?(""+t).trim():t+"px"}function Mm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Am(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Fv=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fc(e,t){if(t){if(Fv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function mc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gc=null;function zu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xc=null,Xn=null,Jn=null;function vh(e){if(e=Di(e)){if(typeof xc!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Eo(t),xc(e.stateNode,e.type,t))}}function Rm(e){Xn?Jn?Jn.push(e):Jn=[e]:Xn=e}function Om(){if(Xn){var e=Xn,t=Jn;if(Jn=Xn=null,vh(e),t)for(e=0;e<t.length;e++)vh(t[e])}}function _m(e,t){return e(t)}function Lm(){}var dl=!1;function Fm(e,t,r){if(dl)return e(t,r);dl=!0;try{return _m(e,t,r)}finally{dl=!1,(Xn!==null||Jn!==null)&&(Lm(),Om())}}function ai(e,t){var r=e.stateNode;if(r===null)return null;var n=Eo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(F(231,t,typeof r));return r}var yc=!1;if(or)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){yc=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{yc=!1}function zv(e,t,r,n,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var qs=!1,La=null,Fa=!1,vc=null,Bv={onError:function(e){qs=!0,La=e}};function Iv(e,t,r,n,i,a,o,l,c){qs=!1,La=null,zv.apply(Bv,arguments)}function Vv(e,t,r,n,i,a,o,l,c){if(Iv.apply(this,arguments),qs){if(qs){var u=La;qs=!1,La=null}else throw Error(F(198));Fa||(Fa=!0,vc=u)}}function kn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function zm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wh(e){if(kn(e)!==e)throw Error(F(188))}function $v(e){var t=e.alternate;if(!t){if(t=kn(e),t===null)throw Error(F(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return wh(i),e;if(a===n)return wh(i),t;a=a.sibling}throw Error(F(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(F(189))}}if(r.alternate!==n)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?e:t}function Bm(e){return e=$v(e),e!==null?Im(e):null}function Im(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Im(e);if(t!==null)return t;e=e.sibling}return null}var Vm=ft.unstable_scheduleCallback,bh=ft.unstable_cancelCallback,Uv=ft.unstable_shouldYield,Wv=ft.unstable_requestPaint,je=ft.unstable_now,Hv=ft.unstable_getCurrentPriorityLevel,Bu=ft.unstable_ImmediatePriority,$m=ft.unstable_UserBlockingPriority,za=ft.unstable_NormalPriority,qv=ft.unstable_LowPriority,Um=ft.unstable_IdlePriority,No=null,Wt=null;function Yv(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(No,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:Qv,Gv=Math.log,Kv=Math.LN2;function Qv(e){return e>>>=0,e===0?32:31-(Gv(e)/Kv|0)|0}var Yi=64,Gi=4194304;function Vs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ba(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=Vs(l):(a&=o,a!==0&&(n=Vs(a)))}else o=r&~i,o!==0?n=Vs(o):a!==0&&(n=Vs(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-_t(t),i=1<<r,n|=e[r],t&=~i;return n}function Xv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jv(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-_t(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=Xv(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function wc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wm(){var e=Yi;return Yi<<=1,!(Yi&4194240)&&(Yi=64),e}function hl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Pi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=r}function Zv(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-_t(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Iu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-_t(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ce=0;function Hm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qm,Vu,Ym,Gm,Km,bc=!1,Ki=[],Pr=null,Tr=null,Dr=null,oi=new Map,li=new Map,jr=[],ew="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jh(e,t){switch(e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":oi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":li.delete(t.pointerId)}}function Es(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Di(t),t!==null&&Vu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function tw(e,t,r,n,i){switch(t){case"focusin":return Pr=Es(Pr,e,t,r,n,i),!0;case"dragenter":return Tr=Es(Tr,e,t,r,n,i),!0;case"mouseover":return Dr=Es(Dr,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return oi.set(a,Es(oi.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,li.set(a,Es(li.get(a)||null,e,t,r,n,i)),!0}return!1}function Qm(e){var t=tn(e.target);if(t!==null){var r=kn(t);if(r!==null){if(t=r.tag,t===13){if(t=zm(r),t!==null){e.blockedOn=t,Km(e.priority,function(){Ym(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=jc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);gc=n,r.target.dispatchEvent(n),gc=null}else return t=Di(r),t!==null&&Vu(t),e.blockedOn=r,!1;t.shift()}return!0}function Nh(e,t,r){fa(e)&&r.delete(t)}function rw(){bc=!1,Pr!==null&&fa(Pr)&&(Pr=null),Tr!==null&&fa(Tr)&&(Tr=null),Dr!==null&&fa(Dr)&&(Dr=null),oi.forEach(Nh),li.forEach(Nh)}function Ps(e,t){e.blockedOn===t&&(e.blockedOn=null,bc||(bc=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,rw)))}function ci(e){function t(i){return Ps(i,e)}if(0<Ki.length){Ps(Ki[0],e);for(var r=1;r<Ki.length;r++){var n=Ki[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Pr!==null&&Ps(Pr,e),Tr!==null&&Ps(Tr,e),Dr!==null&&Ps(Dr,e),oi.forEach(t),li.forEach(t),r=0;r<jr.length;r++)n=jr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<jr.length&&(r=jr[0],r.blockedOn===null);)Qm(r),r.blockedOn===null&&jr.shift()}var Zn=pr.ReactCurrentBatchConfig,Ia=!0;function nw(e,t,r,n){var i=ce,a=Zn.transition;Zn.transition=null;try{ce=1,$u(e,t,r,n)}finally{ce=i,Zn.transition=a}}function sw(e,t,r,n){var i=ce,a=Zn.transition;Zn.transition=null;try{ce=4,$u(e,t,r,n)}finally{ce=i,Zn.transition=a}}function $u(e,t,r,n){if(Ia){var i=jc(e,t,r,n);if(i===null)jl(e,t,n,Va,r),jh(e,n);else if(tw(i,e,t,r,n))n.stopPropagation();else if(jh(e,n),t&4&&-1<ew.indexOf(e)){for(;i!==null;){var a=Di(i);if(a!==null&&qm(a),a=jc(e,t,r,n),a===null&&jl(e,t,n,Va,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else jl(e,t,n,null,r)}}var Va=null;function jc(e,t,r,n){if(Va=null,e=zu(n),e=tn(e),e!==null)if(t=kn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=zm(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Va=e,null}function Xm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hv()){case Bu:return 1;case $m:return 4;case za:case qv:return 16;case Um:return 536870912;default:return 16}default:return 16}}var Sr=null,Uu=null,ma=null;function Jm(){if(ma)return ma;var e,t=Uu,r=t.length,n,i="value"in Sr?Sr.value:Sr.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return ma=i.slice(e,1<n?1-n:void 0)}function ga(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qi(){return!0}function Sh(){return!1}function xt(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Qi:Sh,this.isPropagationStopped=Sh,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),t}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wu=xt(xs),Ti=ve({},xs,{view:0,detail:0}),iw=xt(Ti),pl,fl,Ts,So=ve({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ts&&(Ts&&e.type==="mousemove"?(pl=e.screenX-Ts.screenX,fl=e.screenY-Ts.screenY):fl=pl=0,Ts=e),pl)},movementY:function(e){return"movementY"in e?e.movementY:fl}}),kh=xt(So),aw=ve({},So,{dataTransfer:0}),ow=xt(aw),lw=ve({},Ti,{relatedTarget:0}),ml=xt(lw),cw=ve({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),uw=xt(cw),dw=ve({},xs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hw=xt(dw),pw=ve({},xs,{data:0}),Ch=xt(pw),fw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gw[e])?!!t[e]:!1}function Hu(){return xw}var yw=ve({},Ti,{key:function(e){if(e.key){var t=fw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ga(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hu,charCode:function(e){return e.type==="keypress"?ga(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ga(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vw=xt(yw),ww=ve({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eh=xt(ww),bw=ve({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hu}),jw=xt(bw),Nw=ve({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sw=xt(Nw),kw=ve({},So,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cw=xt(kw),Ew=[9,13,27,32],qu=or&&"CompositionEvent"in window,Ys=null;or&&"documentMode"in document&&(Ys=document.documentMode);var Pw=or&&"TextEvent"in window&&!Ys,Zm=or&&(!qu||Ys&&8<Ys&&11>=Ys),Ph=" ",Th=!1;function eg(e,t){switch(e){case"keyup":return Ew.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var On=!1;function Tw(e,t){switch(e){case"compositionend":return tg(t);case"keypress":return t.which!==32?null:(Th=!0,Ph);case"textInput":return e=t.data,e===Ph&&Th?null:e;default:return null}}function Dw(e,t){if(On)return e==="compositionend"||!qu&&eg(e,t)?(e=Jm(),ma=Uu=Sr=null,On=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zm&&t.locale!=="ko"?null:t.data;default:return null}}var Aw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Aw[e.type]:t==="textarea"}function rg(e,t,r,n){Rm(n),t=$a(t,"onChange"),0<t.length&&(r=new Wu("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Gs=null,ui=null;function Mw(e){pg(e,0)}function ko(e){var t=Fn(e);if(Cm(t))return e}function Rw(e,t){if(e==="change")return t}var ng=!1;if(or){var gl;if(or){var xl="oninput"in document;if(!xl){var Ah=document.createElement("div");Ah.setAttribute("oninput","return;"),xl=typeof Ah.oninput=="function"}gl=xl}else gl=!1;ng=gl&&(!document.documentMode||9<document.documentMode)}function Mh(){Gs&&(Gs.detachEvent("onpropertychange",sg),ui=Gs=null)}function sg(e){if(e.propertyName==="value"&&ko(ui)){var t=[];rg(t,ui,e,zu(e)),Fm(Mw,t)}}function Ow(e,t,r){e==="focusin"?(Mh(),Gs=t,ui=r,Gs.attachEvent("onpropertychange",sg)):e==="focusout"&&Mh()}function _w(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ko(ui)}function Lw(e,t){if(e==="click")return ko(t)}function Fw(e,t){if(e==="input"||e==="change")return ko(t)}function zw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:zw;function di(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!sc.call(t,i)||!Ft(e[i],t[i]))return!1}return!0}function Rh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Oh(e,t){var r=Rh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Rh(r)}}function ig(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ig(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ag(){for(var e=window,t=_a();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=_a(e.document)}return t}function Yu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Bw(e){var t=ag(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ig(r.ownerDocument.documentElement,r)){if(n!==null&&Yu(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=Oh(r,a);var o=Oh(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Iw=or&&"documentMode"in document&&11>=document.documentMode,_n=null,Nc=null,Ks=null,Sc=!1;function _h(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sc||_n==null||_n!==_a(n)||(n=_n,"selectionStart"in n&&Yu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ks&&di(Ks,n)||(Ks=n,n=$a(Nc,"onSelect"),0<n.length&&(t=new Wu("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=_n)))}function Xi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ln={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionend:Xi("Transition","TransitionEnd")},yl={},og={};or&&(og=document.createElement("div").style,"AnimationEvent"in window||(delete Ln.animationend.animation,delete Ln.animationiteration.animation,delete Ln.animationstart.animation),"TransitionEvent"in window||delete Ln.transitionend.transition);function Co(e){if(yl[e])return yl[e];if(!Ln[e])return e;var t=Ln[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in og)return yl[e]=t[r];return e}var lg=Co("animationend"),cg=Co("animationiteration"),ug=Co("animationstart"),dg=Co("transitionend"),hg=new Map,Lh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(e,t){hg.set(e,t),Sn(t,[e])}for(var vl=0;vl<Lh.length;vl++){var wl=Lh[vl],Vw=wl.toLowerCase(),$w=wl[0].toUpperCase()+wl.slice(1);Ur(Vw,"on"+$w)}Ur(lg,"onAnimationEnd");Ur(cg,"onAnimationIteration");Ur(ug,"onAnimationStart");Ur("dblclick","onDoubleClick");Ur("focusin","onFocus");Ur("focusout","onBlur");Ur(dg,"onTransitionEnd");ns("onMouseEnter",["mouseout","mouseover"]);ns("onMouseLeave",["mouseout","mouseover"]);ns("onPointerEnter",["pointerout","pointerover"]);ns("onPointerLeave",["pointerout","pointerover"]);Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uw=new Set("cancel close invalid load scroll toggle".split(" ").concat($s));function Fh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Vv(n,t,void 0,e),e.currentTarget=null}function pg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;Fh(i,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;Fh(i,l,u),a=c}}}if(Fa)throw e=vc,Fa=!1,vc=null,e}function pe(e,t){var r=t[Tc];r===void 0&&(r=t[Tc]=new Set);var n=e+"__bubble";r.has(n)||(fg(t,e,2,!1),r.add(n))}function bl(e,t,r){var n=0;t&&(n|=4),fg(r,e,n,t)}var Ji="_reactListening"+Math.random().toString(36).slice(2);function hi(e){if(!e[Ji]){e[Ji]=!0,bm.forEach(function(r){r!=="selectionchange"&&(Uw.has(r)||bl(r,!1,e),bl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ji]||(t[Ji]=!0,bl("selectionchange",!1,t))}}function fg(e,t,r,n){switch(Xm(t)){case 1:var i=nw;break;case 4:i=sw;break;default:i=$u}r=i.bind(null,t,r,e),i=void 0,!yc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function jl(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=tn(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}Fm(function(){var u=a,d=zu(r),h=[];e:{var p=hg.get(e);if(p!==void 0){var f=Wu,x=e;switch(e){case"keypress":if(ga(r)===0)break e;case"keydown":case"keyup":f=vw;break;case"focusin":x="focus",f=ml;break;case"focusout":x="blur",f=ml;break;case"beforeblur":case"afterblur":f=ml;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=kh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=ow;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=jw;break;case lg:case cg:case ug:f=uw;break;case dg:f=Sw;break;case"scroll":f=iw;break;case"wheel":f=Cw;break;case"copy":case"cut":case"paste":f=hw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Eh}var b=(t&4)!==0,j=!b&&e==="scroll",w=b?p!==null?p+"Capture":null:p;b=[];for(var g=u,m;g!==null;){m=g;var v=m.stateNode;if(m.tag===5&&v!==null&&(m=v,w!==null&&(v=ai(g,w),v!=null&&b.push(pi(g,v,m)))),j)break;g=g.return}0<b.length&&(p=new f(p,x,null,r,d),h.push({event:p,listeners:b}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&r!==gc&&(x=r.relatedTarget||r.fromElement)&&(tn(x)||x[lr]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(x=r.relatedTarget||r.toElement,f=u,x=x?tn(x):null,x!==null&&(j=kn(x),x!==j||x.tag!==5&&x.tag!==6)&&(x=null)):(f=null,x=u),f!==x)){if(b=kh,v="onMouseLeave",w="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=Eh,v="onPointerLeave",w="onPointerEnter",g="pointer"),j=f==null?p:Fn(f),m=x==null?p:Fn(x),p=new b(v,g+"leave",f,r,d),p.target=j,p.relatedTarget=m,v=null,tn(d)===u&&(b=new b(w,g+"enter",x,r,d),b.target=m,b.relatedTarget=j,v=b),j=v,f&&x)t:{for(b=f,w=x,g=0,m=b;m;m=Dn(m))g++;for(m=0,v=w;v;v=Dn(v))m++;for(;0<g-m;)b=Dn(b),g--;for(;0<m-g;)w=Dn(w),m--;for(;g--;){if(b===w||w!==null&&b===w.alternate)break t;b=Dn(b),w=Dn(w)}b=null}else b=null;f!==null&&zh(h,p,f,b,!1),x!==null&&j!==null&&zh(h,j,x,b,!0)}}e:{if(p=u?Fn(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var S=Rw;else if(Dh(p))if(ng)S=Fw;else{S=_w;var k=Ow}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=Lw);if(S&&(S=S(e,u))){rg(h,S,r,d);break e}k&&k(e,p,u),e==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&dc(p,"number",p.value)}switch(k=u?Fn(u):window,e){case"focusin":(Dh(k)||k.contentEditable==="true")&&(_n=k,Nc=u,Ks=null);break;case"focusout":Ks=Nc=_n=null;break;case"mousedown":Sc=!0;break;case"contextmenu":case"mouseup":case"dragend":Sc=!1,_h(h,r,d);break;case"selectionchange":if(Iw)break;case"keydown":case"keyup":_h(h,r,d)}var E;if(qu)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else On?eg(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Zm&&r.locale!=="ko"&&(On||C!=="onCompositionStart"?C==="onCompositionEnd"&&On&&(E=Jm()):(Sr=d,Uu="value"in Sr?Sr.value:Sr.textContent,On=!0)),k=$a(u,C),0<k.length&&(C=new Ch(C,e,null,r,d),h.push({event:C,listeners:k}),E?C.data=E:(E=tg(r),E!==null&&(C.data=E)))),(E=Pw?Tw(e,r):Dw(e,r))&&(u=$a(u,"onBeforeInput"),0<u.length&&(d=new Ch("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=E))}pg(h,t)})}function pi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function $a(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ai(e,r),a!=null&&n.unshift(pi(e,a,i)),a=ai(e,t),a!=null&&n.push(pi(e,a,i))),e=e.return}return n}function Dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zh(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=ai(r,a),c!=null&&o.unshift(pi(r,c,l))):i||(c=ai(r,a),c!=null&&o.push(pi(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Ww=/\r\n?/g,Hw=/\u0000|\uFFFD/g;function Bh(e){return(typeof e=="string"?e:""+e).replace(Ww,`
`).replace(Hw,"")}function Zi(e,t,r){if(t=Bh(t),Bh(e)!==t&&r)throw Error(F(425))}function Ua(){}var kc=null,Cc=null;function Ec(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pc=typeof setTimeout=="function"?setTimeout:void 0,qw=typeof clearTimeout=="function"?clearTimeout:void 0,Ih=typeof Promise=="function"?Promise:void 0,Yw=typeof queueMicrotask=="function"?queueMicrotask:typeof Ih<"u"?function(e){return Ih.resolve(null).then(e).catch(Gw)}:Pc;function Gw(e){setTimeout(function(){throw e})}function Nl(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),ci(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ci(t)}function Ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ys=Math.random().toString(36).slice(2),Ut="__reactFiber$"+ys,fi="__reactProps$"+ys,lr="__reactContainer$"+ys,Tc="__reactEvents$"+ys,Kw="__reactListeners$"+ys,Qw="__reactHandles$"+ys;function tn(e){var t=e[Ut];if(t)return t;for(var r=e.parentNode;r;){if(t=r[lr]||r[Ut]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Vh(e);e!==null;){if(r=e[Ut])return r;e=Vh(e)}return t}e=r,r=e.parentNode}return null}function Di(e){return e=e[Ut]||e[lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Eo(e){return e[fi]||null}var Dc=[],zn=-1;function Wr(e){return{current:e}}function fe(e){0>zn||(e.current=Dc[zn],Dc[zn]=null,zn--)}function de(e,t){zn++,Dc[zn]=e.current,e.current=t}var Ir={},He=Wr(Ir),nt=Wr(!1),dn=Ir;function ss(e,t){var r=e.type.contextTypes;if(!r)return Ir;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function st(e){return e=e.childContextTypes,e!=null}function Wa(){fe(nt),fe(He)}function $h(e,t,r){if(He.current!==Ir)throw Error(F(168));de(He,t),de(nt,r)}function mg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(F(108,Ov(e)||"Unknown",i));return ve({},r,n)}function Ha(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ir,dn=He.current,de(He,e),de(nt,nt.current),!0}function Uh(e,t,r){var n=e.stateNode;if(!n)throw Error(F(169));r?(e=mg(e,t,dn),n.__reactInternalMemoizedMergedChildContext=e,fe(nt),fe(He),de(He,e)):fe(nt),de(nt,r)}var Zt=null,Po=!1,Sl=!1;function gg(e){Zt===null?Zt=[e]:Zt.push(e)}function Xw(e){Po=!0,gg(e)}function Hr(){if(!Sl&&Zt!==null){Sl=!0;var e=0,t=ce;try{var r=Zt;for(ce=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Zt=null,Po=!1}catch(i){throw Zt!==null&&(Zt=Zt.slice(e+1)),Vm(Bu,Hr),i}finally{ce=t,Sl=!1}}return null}var Bn=[],In=0,qa=null,Ya=0,wt=[],bt=0,hn=null,tr=1,rr="";function Kr(e,t){Bn[In++]=Ya,Bn[In++]=qa,qa=e,Ya=t}function xg(e,t,r){wt[bt++]=tr,wt[bt++]=rr,wt[bt++]=hn,hn=e;var n=tr;e=rr;var i=32-_t(n)-1;n&=~(1<<i),r+=1;var a=32-_t(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,tr=1<<32-_t(t)+i|r<<i|n,rr=a+e}else tr=1<<a|r<<i|n,rr=e}function Gu(e){e.return!==null&&(Kr(e,1),xg(e,1,0))}function Ku(e){for(;e===qa;)qa=Bn[--In],Bn[In]=null,Ya=Bn[--In],Bn[In]=null;for(;e===hn;)hn=wt[--bt],wt[bt]=null,rr=wt[--bt],wt[bt]=null,tr=wt[--bt],wt[bt]=null}var pt=null,dt=null,me=!1,Ot=null;function yg(e,t){var r=Nt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Wh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,dt=Ar(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=hn!==null?{id:tr,overflow:rr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Nt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,pt=e,dt=null,!0):!1;default:return!1}}function Ac(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Mc(e){if(me){var t=dt;if(t){var r=t;if(!Wh(e,t)){if(Ac(e))throw Error(F(418));t=Ar(r.nextSibling);var n=pt;t&&Wh(e,t)?yg(n,r):(e.flags=e.flags&-4097|2,me=!1,pt=e)}}else{if(Ac(e))throw Error(F(418));e.flags=e.flags&-4097|2,me=!1,pt=e}}}function Hh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function ea(e){if(e!==pt)return!1;if(!me)return Hh(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ec(e.type,e.memoizedProps)),t&&(t=dt)){if(Ac(e))throw vg(),Error(F(418));for(;t;)yg(e,t),t=Ar(t.nextSibling)}if(Hh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){dt=Ar(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=pt?Ar(e.stateNode.nextSibling):null;return!0}function vg(){for(var e=dt;e;)e=Ar(e.nextSibling)}function is(){dt=pt=null,me=!1}function Qu(e){Ot===null?Ot=[e]:Ot.push(e)}var Jw=pr.ReactCurrentBatchConfig;function Ds(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var n=r.stateNode}if(!n)throw Error(F(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,e))}return e}function ta(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qh(e){var t=e._init;return t(e._payload)}function wg(e){function t(w,g){if(e){var m=w.deletions;m===null?(w.deletions=[g],w.flags|=16):m.push(g)}}function r(w,g){if(!e)return null;for(;g!==null;)t(w,g),g=g.sibling;return null}function n(w,g){for(w=new Map;g!==null;)g.key!==null?w.set(g.key,g):w.set(g.index,g),g=g.sibling;return w}function i(w,g){return w=_r(w,g),w.index=0,w.sibling=null,w}function a(w,g,m){return w.index=m,e?(m=w.alternate,m!==null?(m=m.index,m<g?(w.flags|=2,g):m):(w.flags|=2,g)):(w.flags|=1048576,g)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,g,m,v){return g===null||g.tag!==6?(g=Al(m,w.mode,v),g.return=w,g):(g=i(g,m),g.return=w,g)}function c(w,g,m,v){var S=m.type;return S===Rn?d(w,g,m.props.children,v,m.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===vr&&qh(S)===g.type)?(v=i(g,m.props),v.ref=Ds(w,g,m),v.return=w,v):(v=Na(m.type,m.key,m.props,null,w.mode,v),v.ref=Ds(w,g,m),v.return=w,v)}function u(w,g,m,v){return g===null||g.tag!==4||g.stateNode.containerInfo!==m.containerInfo||g.stateNode.implementation!==m.implementation?(g=Ml(m,w.mode,v),g.return=w,g):(g=i(g,m.children||[]),g.return=w,g)}function d(w,g,m,v,S){return g===null||g.tag!==7?(g=ln(m,w.mode,v,S),g.return=w,g):(g=i(g,m),g.return=w,g)}function h(w,g,m){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Al(""+g,w.mode,m),g.return=w,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Wi:return m=Na(g.type,g.key,g.props,null,w.mode,m),m.ref=Ds(w,null,g),m.return=w,m;case Mn:return g=Ml(g,w.mode,m),g.return=w,g;case vr:var v=g._init;return h(w,v(g._payload),m)}if(Is(g)||ks(g))return g=ln(g,w.mode,m,null),g.return=w,g;ta(w,g)}return null}function p(w,g,m,v){var S=g!==null?g.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:l(w,g,""+m,v);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Wi:return m.key===S?c(w,g,m,v):null;case Mn:return m.key===S?u(w,g,m,v):null;case vr:return S=m._init,p(w,g,S(m._payload),v)}if(Is(m)||ks(m))return S!==null?null:d(w,g,m,v,null);ta(w,m)}return null}function f(w,g,m,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return w=w.get(m)||null,l(g,w,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Wi:return w=w.get(v.key===null?m:v.key)||null,c(g,w,v,S);case Mn:return w=w.get(v.key===null?m:v.key)||null,u(g,w,v,S);case vr:var k=v._init;return f(w,g,m,k(v._payload),S)}if(Is(v)||ks(v))return w=w.get(m)||null,d(g,w,v,S,null);ta(g,v)}return null}function x(w,g,m,v){for(var S=null,k=null,E=g,C=g=0,A=null;E!==null&&C<m.length;C++){E.index>C?(A=E,E=null):A=E.sibling;var P=p(w,E,m[C],v);if(P===null){E===null&&(E=A);break}e&&E&&P.alternate===null&&t(w,E),g=a(P,g,C),k===null?S=P:k.sibling=P,k=P,E=A}if(C===m.length)return r(w,E),me&&Kr(w,C),S;if(E===null){for(;C<m.length;C++)E=h(w,m[C],v),E!==null&&(g=a(E,g,C),k===null?S=E:k.sibling=E,k=E);return me&&Kr(w,C),S}for(E=n(w,E);C<m.length;C++)A=f(E,w,C,m[C],v),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?C:A.key),g=a(A,g,C),k===null?S=A:k.sibling=A,k=A);return e&&E.forEach(function(N){return t(w,N)}),me&&Kr(w,C),S}function b(w,g,m,v){var S=ks(m);if(typeof S!="function")throw Error(F(150));if(m=S.call(m),m==null)throw Error(F(151));for(var k=S=null,E=g,C=g=0,A=null,P=m.next();E!==null&&!P.done;C++,P=m.next()){E.index>C?(A=E,E=null):A=E.sibling;var N=p(w,E,P.value,v);if(N===null){E===null&&(E=A);break}e&&E&&N.alternate===null&&t(w,E),g=a(N,g,C),k===null?S=N:k.sibling=N,k=N,E=A}if(P.done)return r(w,E),me&&Kr(w,C),S;if(E===null){for(;!P.done;C++,P=m.next())P=h(w,P.value,v),P!==null&&(g=a(P,g,C),k===null?S=P:k.sibling=P,k=P);return me&&Kr(w,C),S}for(E=n(w,E);!P.done;C++,P=m.next())P=f(E,w,C,P.value,v),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?C:P.key),g=a(P,g,C),k===null?S=P:k.sibling=P,k=P);return e&&E.forEach(function(D){return t(w,D)}),me&&Kr(w,C),S}function j(w,g,m,v){if(typeof m=="object"&&m!==null&&m.type===Rn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Wi:e:{for(var S=m.key,k=g;k!==null;){if(k.key===S){if(S=m.type,S===Rn){if(k.tag===7){r(w,k.sibling),g=i(k,m.props.children),g.return=w,w=g;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===vr&&qh(S)===k.type){r(w,k.sibling),g=i(k,m.props),g.ref=Ds(w,k,m),g.return=w,w=g;break e}r(w,k);break}else t(w,k);k=k.sibling}m.type===Rn?(g=ln(m.props.children,w.mode,v,m.key),g.return=w,w=g):(v=Na(m.type,m.key,m.props,null,w.mode,v),v.ref=Ds(w,g,m),v.return=w,w=v)}return o(w);case Mn:e:{for(k=m.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===m.containerInfo&&g.stateNode.implementation===m.implementation){r(w,g.sibling),g=i(g,m.children||[]),g.return=w,w=g;break e}else{r(w,g);break}else t(w,g);g=g.sibling}g=Ml(m,w.mode,v),g.return=w,w=g}return o(w);case vr:return k=m._init,j(w,g,k(m._payload),v)}if(Is(m))return x(w,g,m,v);if(ks(m))return b(w,g,m,v);ta(w,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,g!==null&&g.tag===6?(r(w,g.sibling),g=i(g,m),g.return=w,w=g):(r(w,g),g=Al(m,w.mode,v),g.return=w,w=g),o(w)):r(w,g)}return j}var as=wg(!0),bg=wg(!1),Ga=Wr(null),Ka=null,Vn=null,Xu=null;function Ju(){Xu=Vn=Ka=null}function Zu(e){var t=Ga.current;fe(Ga),e._currentValue=t}function Rc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function es(e,t){Ka=e,Xu=Vn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rt=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(Xu!==e)if(e={context:e,memoizedValue:t,next:null},Vn===null){if(Ka===null)throw Error(F(308));Vn=e,Ka.dependencies={lanes:0,firstContext:e}}else Vn=Vn.next=e;return t}var rn=null;function ed(e){rn===null?rn=[e]:rn.push(e)}function jg(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,ed(t)):(r.next=i.next,i.next=r),t.interleaved=r,cr(e,n)}function cr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var wr=!1;function td(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ng(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ie&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,cr(e,r)}return i=n.interleaved,i===null?(t.next=t,ed(n)):(t.next=i.next,i.next=t),n.interleaved=t,cr(e,r)}function xa(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Iu(e,r)}}function Yh(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Qa(e,t,r,n){var i=e.updateQueue;wr=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,d=u=c=null,l=a;do{var p=l.lane,f=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,b=l;switch(p=t,f=r,b.tag){case 1:if(x=b.payload,typeof x=="function"){h=x.call(f,h,p);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,p=typeof x=="function"?x.call(f,h,p):x,p==null)break e;h=ve({},h,p);break e;case 2:wr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=h):d=d.next=f,o|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);fn|=o,e.lanes=o,e.memoizedState=h}}function Gh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(F(191,i));i.call(n)}}}var Ai={},Ht=Wr(Ai),mi=Wr(Ai),gi=Wr(Ai);function nn(e){if(e===Ai)throw Error(F(174));return e}function rd(e,t){switch(de(gi,t),de(mi,e),de(Ht,Ai),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pc(t,e)}fe(Ht),de(Ht,t)}function os(){fe(Ht),fe(mi),fe(gi)}function Sg(e){nn(gi.current);var t=nn(Ht.current),r=pc(t,e.type);t!==r&&(de(mi,e),de(Ht,r))}function nd(e){mi.current===e&&(fe(Ht),fe(mi))}var ge=Wr(0);function Xa(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kl=[];function sd(){for(var e=0;e<kl.length;e++)kl[e]._workInProgressVersionPrimary=null;kl.length=0}var ya=pr.ReactCurrentDispatcher,Cl=pr.ReactCurrentBatchConfig,pn=0,ye=null,Ae=null,Re=null,Ja=!1,Qs=!1,xi=0,Zw=0;function ze(){throw Error(F(321))}function id(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ft(e[r],t[r]))return!1;return!0}function ad(e,t,r,n,i,a){if(pn=a,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ya.current=e===null||e.memoizedState===null?nb:sb,e=r(n,i),Qs){a=0;do{if(Qs=!1,xi=0,25<=a)throw Error(F(301));a+=1,Re=Ae=null,t.updateQueue=null,ya.current=ib,e=r(n,i)}while(Qs)}if(ya.current=Za,t=Ae!==null&&Ae.next!==null,pn=0,Re=Ae=ye=null,Ja=!1,t)throw Error(F(300));return e}function od(){var e=xi!==0;return xi=0,e}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?ye.memoizedState=Re=e:Re=Re.next=e,Re}function Ct(){if(Ae===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Re===null?ye.memoizedState:Re.next;if(t!==null)Re=t,Ae=e;else{if(e===null)throw Error(F(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Re===null?ye.memoizedState=Re=e:Re=Re.next=e}return Re}function yi(e,t){return typeof t=="function"?t(e):t}function El(e){var t=Ct(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=Ae,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((pn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,ye.lanes|=d,fn|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,Ft(n,t.memoizedState)||(rt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,ye.lanes|=a,fn|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Pl(e){var t=Ct(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Ft(a,t.memoizedState)||(rt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function kg(){}function Cg(e,t){var r=ye,n=Ct(),i=t(),a=!Ft(n.memoizedState,i);if(a&&(n.memoizedState=i,rt=!0),n=n.queue,ld(Tg.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Re!==null&&Re.memoizedState.tag&1){if(r.flags|=2048,vi(9,Pg.bind(null,r,n,i,t),void 0,null),Oe===null)throw Error(F(349));pn&30||Eg(r,t,i)}return i}function Eg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Pg(e,t,r,n){t.value=r,t.getSnapshot=n,Dg(t)&&Ag(e)}function Tg(e,t,r){return r(function(){Dg(t)&&Ag(e)})}function Dg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ft(e,r)}catch{return!0}}function Ag(e){var t=cr(e,1);t!==null&&Lt(t,e,1,-1)}function Kh(e){var t=$t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=rb.bind(null,ye,e),[t.memoizedState,e]}function vi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Mg(){return Ct().memoizedState}function va(e,t,r,n){var i=$t();ye.flags|=e,i.memoizedState=vi(1|t,r,void 0,n===void 0?null:n)}function To(e,t,r,n){var i=Ct();n=n===void 0?null:n;var a=void 0;if(Ae!==null){var o=Ae.memoizedState;if(a=o.destroy,n!==null&&id(n,o.deps)){i.memoizedState=vi(t,r,a,n);return}}ye.flags|=e,i.memoizedState=vi(1|t,r,a,n)}function Qh(e,t){return va(8390656,8,e,t)}function ld(e,t){return To(2048,8,e,t)}function Rg(e,t){return To(4,2,e,t)}function Og(e,t){return To(4,4,e,t)}function _g(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lg(e,t,r){return r=r!=null?r.concat([e]):null,To(4,4,_g.bind(null,t,e),r)}function cd(){}function Fg(e,t){var r=Ct();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&id(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function zg(e,t){var r=Ct();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&id(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Bg(e,t,r){return pn&21?(Ft(r,t)||(r=Wm(),ye.lanes|=r,fn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rt=!0),e.memoizedState=r)}function eb(e,t){var r=ce;ce=r!==0&&4>r?r:4,e(!0);var n=Cl.transition;Cl.transition={};try{e(!1),t()}finally{ce=r,Cl.transition=n}}function Ig(){return Ct().memoizedState}function tb(e,t,r){var n=Or(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Vg(e))$g(t,r);else if(r=jg(e,t,r,n),r!==null){var i=Ke();Lt(r,e,n,i),Ug(r,t,n)}}function rb(e,t,r){var n=Or(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Vg(e))$g(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,Ft(l,o)){var c=t.interleaved;c===null?(i.next=i,ed(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=jg(e,t,i,n),r!==null&&(i=Ke(),Lt(r,e,n,i),Ug(r,t,n))}}function Vg(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function $g(e,t){Qs=Ja=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ug(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Iu(e,r)}}var Za={readContext:kt,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},nb={readContext:kt,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:Qh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,va(4194308,4,_g.bind(null,t,e),r)},useLayoutEffect:function(e,t){return va(4194308,4,e,t)},useInsertionEffect:function(e,t){return va(4,2,e,t)},useMemo:function(e,t){var r=$t();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$t();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=tb.bind(null,ye,e),[n.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:Kh,useDebugValue:cd,useDeferredValue:function(e){return $t().memoizedState=e},useTransition:function(){var e=Kh(!1),t=e[0];return e=eb.bind(null,e[1]),$t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ye,i=$t();if(me){if(r===void 0)throw Error(F(407));r=r()}else{if(r=t(),Oe===null)throw Error(F(349));pn&30||Eg(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Qh(Tg.bind(null,n,a,e),[e]),n.flags|=2048,vi(9,Pg.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=$t(),t=Oe.identifierPrefix;if(me){var r=rr,n=tr;r=(n&~(1<<32-_t(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=xi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Zw++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sb={readContext:kt,useCallback:Fg,useContext:kt,useEffect:ld,useImperativeHandle:Lg,useInsertionEffect:Rg,useLayoutEffect:Og,useMemo:zg,useReducer:El,useRef:Mg,useState:function(){return El(yi)},useDebugValue:cd,useDeferredValue:function(e){var t=Ct();return Bg(t,Ae.memoizedState,e)},useTransition:function(){var e=El(yi)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:kg,useSyncExternalStore:Cg,useId:Ig,unstable_isNewReconciler:!1},ib={readContext:kt,useCallback:Fg,useContext:kt,useEffect:ld,useImperativeHandle:Lg,useInsertionEffect:Rg,useLayoutEffect:Og,useMemo:zg,useReducer:Pl,useRef:Mg,useState:function(){return Pl(yi)},useDebugValue:cd,useDeferredValue:function(e){var t=Ct();return Ae===null?t.memoizedState=e:Bg(t,Ae.memoizedState,e)},useTransition:function(){var e=Pl(yi)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:kg,useSyncExternalStore:Cg,useId:Ig,unstable_isNewReconciler:!1};function At(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Oc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ve({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Do={isMounted:function(e){return(e=e._reactInternals)?kn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ke(),i=Or(e),a=sr(n,i);a.payload=t,r!=null&&(a.callback=r),t=Mr(e,a,i),t!==null&&(Lt(t,e,i,n),xa(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ke(),i=Or(e),a=sr(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Mr(e,a,i),t!==null&&(Lt(t,e,i,n),xa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ke(),n=Or(e),i=sr(r,n);i.tag=2,t!=null&&(i.callback=t),t=Mr(e,i,n),t!==null&&(Lt(t,e,n,r),xa(t,e,n))}};function Xh(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!di(r,n)||!di(i,a):!0}function Wg(e,t,r){var n=!1,i=Ir,a=t.contextType;return typeof a=="object"&&a!==null?a=kt(a):(i=st(t)?dn:He.current,n=t.contextTypes,a=(n=n!=null)?ss(e,i):Ir),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Do,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Jh(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Do.enqueueReplaceState(t,t.state,null)}function _c(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},td(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=kt(a):(a=st(t)?dn:He.current,i.context=ss(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Oc(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Do.enqueueReplaceState(i,i.state,null),Qa(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ls(e,t){try{var r="",n=t;do r+=Rv(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Tl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Lc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ab=typeof WeakMap=="function"?WeakMap:Map;function Hg(e,t,r){r=sr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){to||(to=!0,qc=n),Lc(e,t)},r}function qg(e,t,r){r=sr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Lc(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Lc(e,t),typeof n!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Zh(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new ab;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=wb.bind(null,e,t,r),t.then(e,e))}function ep(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tp(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=sr(-1,1),t.tag=2,Mr(r,t,1))),r.lanes|=1),e)}var ob=pr.ReactCurrentOwner,rt=!1;function Ye(e,t,r,n){t.child=e===null?bg(t,null,r,n):as(t,e.child,r,n)}function rp(e,t,r,n,i){r=r.render;var a=t.ref;return es(t,i),n=ad(e,t,r,n,a,i),r=od(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ur(e,t,i)):(me&&r&&Gu(t),t.flags|=1,Ye(e,t,n,i),t.child)}function np(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!xd(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Yg(e,t,a,n,i)):(e=Na(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:di,r(o,n)&&e.ref===t.ref)return ur(e,t,i)}return t.flags|=1,e=_r(a,n),e.ref=t.ref,e.return=t,t.child=e}function Yg(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(di(a,n)&&e.ref===t.ref)if(rt=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(rt=!0);else return t.lanes=e.lanes,ur(e,t,i)}return Fc(e,t,r,n,i)}function Gg(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Un,ut),ut|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(Un,ut),ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,de(Un,ut),ut|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,de(Un,ut),ut|=n;return Ye(e,t,i,r),t.child}function Kg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Fc(e,t,r,n,i){var a=st(r)?dn:He.current;return a=ss(t,a),es(t,i),r=ad(e,t,r,n,a,i),n=od(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ur(e,t,i)):(me&&n&&Gu(t),t.flags|=1,Ye(e,t,r,i),t.child)}function sp(e,t,r,n,i){if(st(r)){var a=!0;Ha(t)}else a=!1;if(es(t,i),t.stateNode===null)wa(e,t),Wg(t,r,n),_c(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=kt(u):(u=st(r)?dn:He.current,u=ss(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Jh(t,o,n,u),wr=!1;var p=t.memoizedState;o.state=p,Qa(t,n,o,i),c=t.memoizedState,l!==n||p!==c||nt.current||wr?(typeof d=="function"&&(Oc(t,r,d,n),c=t.memoizedState),(l=wr||Xh(t,r,l,n,p,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Ng(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:At(t.type,l),o.props=u,h=t.pendingProps,p=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=kt(c):(c=st(r)?dn:He.current,c=ss(t,c));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==c)&&Jh(t,o,n,c),wr=!1,p=t.memoizedState,o.state=p,Qa(t,n,o,i);var x=t.memoizedState;l!==h||p!==x||nt.current||wr?(typeof f=="function"&&(Oc(t,r,f,n),x=t.memoizedState),(u=wr||Xh(t,r,u,n,p,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return zc(e,t,r,n,a,i)}function zc(e,t,r,n,i,a){Kg(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Uh(t,r,!1),ur(e,t,a);n=t.stateNode,ob.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=as(t,e.child,null,a),t.child=as(t,null,l,a)):Ye(e,t,l,a),t.memoizedState=n.state,i&&Uh(t,r,!0),t.child}function Qg(e){var t=e.stateNode;t.pendingContext?$h(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$h(e,t.context,!1),rd(e,t.containerInfo)}function ip(e,t,r,n,i){return is(),Qu(i),t.flags|=256,Ye(e,t,r,n),t.child}var Bc={dehydrated:null,treeContext:null,retryLane:0};function Ic(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xg(e,t,r){var n=t.pendingProps,i=ge.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),de(ge,i&1),e===null)return Mc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ro(o,n,0,null),e=ln(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ic(r),t.memoizedState=Bc,e):ud(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return lb(e,t,o,n,l,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=_r(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=_r(l,a):(a=ln(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Ic(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Bc,n}return a=e.child,e=a.sibling,n=_r(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ud(e,t){return t=Ro({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ra(e,t,r,n){return n!==null&&Qu(n),as(t,e.child,null,r),e=ud(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lb(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Tl(Error(F(422))),ra(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Ro({mode:"visible",children:n.children},i,0,null),a=ln(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&as(t,e.child,null,o),t.child.memoizedState=Ic(o),t.memoizedState=Bc,a);if(!(t.mode&1))return ra(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(F(419)),n=Tl(a,n,void 0),ra(e,t,o,n)}if(l=(o&e.childLanes)!==0,rt||l){if(n=Oe,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,cr(e,i),Lt(n,e,i,-1))}return gd(),n=Tl(Error(F(421))),ra(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=bb.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,dt=Ar(i.nextSibling),pt=t,me=!0,Ot=null,e!==null&&(wt[bt++]=tr,wt[bt++]=rr,wt[bt++]=hn,tr=e.id,rr=e.overflow,hn=t),t=ud(t,n.children),t.flags|=4096,t)}function ap(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Rc(e.return,t,r)}function Dl(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Jg(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Ye(e,t,n.children,r),n=ge.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ap(e,r,t);else if(e.tag===19)ap(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(de(ge,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Xa(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Dl(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Xa(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Dl(t,!0,r,null,a);break;case"together":Dl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ur(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),fn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,r=_r(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=_r(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function cb(e,t,r){switch(t.tag){case 3:Qg(t),is();break;case 5:Sg(t);break;case 1:st(t.type)&&Ha(t);break;case 4:rd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;de(Ga,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(de(ge,ge.current&1),t.flags|=128,null):r&t.child.childLanes?Xg(e,t,r):(de(ge,ge.current&1),e=ur(e,t,r),e!==null?e.sibling:null);de(ge,ge.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Jg(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),de(ge,ge.current),n)break;return null;case 22:case 23:return t.lanes=0,Gg(e,t,r)}return ur(e,t,r)}var Zg,Vc,ex,tx;Zg=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Vc=function(){};ex=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,nn(Ht.current);var a=null;switch(r){case"input":i=cc(e,i),n=cc(e,n),a=[];break;case"select":i=ve({},i,{value:void 0}),n=ve({},n,{value:void 0}),a=[];break;case"textarea":i=hc(e,i),n=hc(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ua)}fc(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(si.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(si.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&pe("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};tx=function(e,t,r,n){r!==n&&(t.flags|=4)};function As(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ub(e,t,r){var n=t.pendingProps;switch(Ku(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return st(t.type)&&Wa(),Be(t),null;case 3:return n=t.stateNode,os(),fe(nt),fe(He),sd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ea(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ot!==null&&(Kc(Ot),Ot=null))),Vc(e,t),Be(t),null;case 5:nd(t);var i=nn(gi.current);if(r=t.type,e!==null&&t.stateNode!=null)ex(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(F(166));return Be(t),null}if(e=nn(Ht.current),ea(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Ut]=t,n[fi]=a,e=(t.mode&1)!==0,r){case"dialog":pe("cancel",n),pe("close",n);break;case"iframe":case"object":case"embed":pe("load",n);break;case"video":case"audio":for(i=0;i<$s.length;i++)pe($s[i],n);break;case"source":pe("error",n);break;case"img":case"image":case"link":pe("error",n),pe("load",n);break;case"details":pe("toggle",n);break;case"input":mh(n,a),pe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},pe("invalid",n);break;case"textarea":xh(n,a),pe("invalid",n)}fc(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Zi(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Zi(n.textContent,l,e),i=["children",""+l]):si.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&pe("scroll",n)}switch(r){case"input":Hi(n),gh(n,a,!0);break;case"textarea":Hi(n),yh(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ua)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Tm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ut]=t,e[fi]=n,Zg(e,t,!1,!1),t.stateNode=e;e:{switch(o=mc(r,n),r){case"dialog":pe("cancel",e),pe("close",e),i=n;break;case"iframe":case"object":case"embed":pe("load",e),i=n;break;case"video":case"audio":for(i=0;i<$s.length;i++)pe($s[i],e);i=n;break;case"source":pe("error",e),i=n;break;case"img":case"image":case"link":pe("error",e),pe("load",e),i=n;break;case"details":pe("toggle",e),i=n;break;case"input":mh(e,n),i=cc(e,n),pe("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ve({},n,{value:void 0}),pe("invalid",e);break;case"textarea":xh(e,n),i=hc(e,n),pe("invalid",e);break;default:i=n}fc(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Mm(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Dm(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ii(e,c):typeof c=="number"&&ii(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(si.hasOwnProperty(a)?c!=null&&a==="onScroll"&&pe("scroll",e):c!=null&&Ou(e,a,c,o))}switch(r){case"input":Hi(e),gh(e,n,!1);break;case"textarea":Hi(e),yh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Br(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Qn(e,!!n.multiple,a,!1):n.defaultValue!=null&&Qn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ua)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Be(t),null;case 6:if(e&&t.stateNode!=null)tx(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(F(166));if(r=nn(gi.current),nn(Ht.current),ea(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ut]=t,(a=n.nodeValue!==r)&&(e=pt,e!==null))switch(e.tag){case 3:Zi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zi(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ut]=t,t.stateNode=n}return Be(t),null;case 13:if(fe(ge),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&dt!==null&&t.mode&1&&!(t.flags&128))vg(),is(),t.flags|=98560,a=!1;else if(a=ea(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(F(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(F(317));a[Ut]=t}else is(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Be(t),a=!1}else Ot!==null&&(Kc(Ot),Ot=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?Me===0&&(Me=3):gd())),t.updateQueue!==null&&(t.flags|=4),Be(t),null);case 4:return os(),Vc(e,t),e===null&&hi(t.stateNode.containerInfo),Be(t),null;case 10:return Zu(t.type._context),Be(t),null;case 17:return st(t.type)&&Wa(),Be(t),null;case 19:if(fe(ge),a=t.memoizedState,a===null)return Be(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)As(a,!1);else{if(Me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Xa(e),o!==null){for(t.flags|=128,As(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return de(ge,ge.current&1|2),t.child}e=e.sibling}a.tail!==null&&je()>cs&&(t.flags|=128,n=!0,As(a,!1),t.lanes=4194304)}else{if(!n)if(e=Xa(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),As(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!me)return Be(t),null}else 2*je()-a.renderingStartTime>cs&&r!==1073741824&&(t.flags|=128,n=!0,As(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=je(),t.sibling=null,r=ge.current,de(ge,n?r&1|2:r&1),t):(Be(t),null);case 22:case 23:return md(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ut&1073741824&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function db(e,t){switch(Ku(t),t.tag){case 1:return st(t.type)&&Wa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return os(),fe(nt),fe(He),sd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return nd(t),null;case 13:if(fe(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));is()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(ge),null;case 4:return os(),null;case 10:return Zu(t.type._context),null;case 22:case 23:return md(),null;case 24:return null;default:return null}}var na=!1,$e=!1,hb=typeof WeakSet=="function"?WeakSet:Set,q=null;function $n(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){we(e,t,n)}else r.current=null}function $c(e,t,r){try{r()}catch(n){we(e,t,n)}}var op=!1;function pb(e,t){if(kc=Ia,e=ag(),Yu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==r||i!==0&&h.nodeType!==3||(l=o+i),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===e)break t;if(p===r&&++u===i&&(l=o),p===a&&++d===n&&(c=o),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cc={focusedElem:e,selectionRange:r},Ia=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,j=x.memoizedState,w=t.stateNode,g=w.getSnapshotBeforeUpdate(t.elementType===t.type?b:At(t.type,b),j);w.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(v){we(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return x=op,op=!1,x}function Xs(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&$c(t,r,a)}i=i.next}while(i!==n)}}function Ao(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Uc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function rx(e){var t=e.alternate;t!==null&&(e.alternate=null,rx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ut],delete t[fi],delete t[Tc],delete t[Kw],delete t[Qw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nx(e){return e.tag===5||e.tag===3||e.tag===4}function lp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ua));else if(n!==4&&(e=e.child,e!==null))for(Wc(e,t,r),e=e.sibling;e!==null;)Wc(e,t,r),e=e.sibling}function Hc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Hc(e,t,r),e=e.sibling;e!==null;)Hc(e,t,r),e=e.sibling}var _e=null,Mt=!1;function gr(e,t,r){for(r=r.child;r!==null;)sx(e,t,r),r=r.sibling}function sx(e,t,r){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(No,r)}catch{}switch(r.tag){case 5:$e||$n(r,t);case 6:var n=_e,i=Mt;_e=null,gr(e,t,r),_e=n,Mt=i,_e!==null&&(Mt?(e=_e,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_e.removeChild(r.stateNode));break;case 18:_e!==null&&(Mt?(e=_e,r=r.stateNode,e.nodeType===8?Nl(e.parentNode,r):e.nodeType===1&&Nl(e,r),ci(e)):Nl(_e,r.stateNode));break;case 4:n=_e,i=Mt,_e=r.stateNode.containerInfo,Mt=!0,gr(e,t,r),_e=n,Mt=i;break;case 0:case 11:case 14:case 15:if(!$e&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&$c(r,t,o),i=i.next}while(i!==n)}gr(e,t,r);break;case 1:if(!$e&&($n(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){we(r,t,l)}gr(e,t,r);break;case 21:gr(e,t,r);break;case 22:r.mode&1?($e=(n=$e)||r.memoizedState!==null,gr(e,t,r),$e=n):gr(e,t,r);break;default:gr(e,t,r)}}function cp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new hb),t.forEach(function(n){var i=jb.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Tt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:_e=l.stateNode,Mt=!1;break e;case 3:_e=l.stateNode.containerInfo,Mt=!0;break e;case 4:_e=l.stateNode.containerInfo,Mt=!0;break e}l=l.return}if(_e===null)throw Error(F(160));sx(a,o,i),_e=null,Mt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){we(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ix(t,e),t=t.sibling}function ix(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Bt(e),n&4){try{Xs(3,e,e.return),Ao(3,e)}catch(b){we(e,e.return,b)}try{Xs(5,e,e.return)}catch(b){we(e,e.return,b)}}break;case 1:Tt(t,e),Bt(e),n&512&&r!==null&&$n(r,r.return);break;case 5:if(Tt(t,e),Bt(e),n&512&&r!==null&&$n(r,r.return),e.flags&32){var i=e.stateNode;try{ii(i,"")}catch(b){we(e,e.return,b)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Em(i,a),mc(l,o);var u=mc(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Mm(i,h):d==="dangerouslySetInnerHTML"?Dm(i,h):d==="children"?ii(i,h):Ou(i,d,h,u)}switch(l){case"input":uc(i,a);break;case"textarea":Pm(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Qn(i,!!a.multiple,f,!1):p!==!!a.multiple&&(a.defaultValue!=null?Qn(i,!!a.multiple,a.defaultValue,!0):Qn(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(b){we(e,e.return,b)}}break;case 6:if(Tt(t,e),Bt(e),n&4){if(e.stateNode===null)throw Error(F(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(b){we(e,e.return,b)}}break;case 3:if(Tt(t,e),Bt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ci(t.containerInfo)}catch(b){we(e,e.return,b)}break;case 4:Tt(t,e),Bt(e);break;case 13:Tt(t,e),Bt(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(pd=je())),n&4&&cp(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?($e=(u=$e)||d,Tt(t,e),$e=u):Tt(t,e),Bt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(q=e,d=e.child;d!==null;){for(h=q=d;q!==null;){switch(p=q,f=p.child,p.tag){case 0:case 11:case 14:case 15:Xs(4,p,p.return);break;case 1:$n(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(b){we(n,r,b)}}break;case 5:$n(p,p.return);break;case 22:if(p.memoizedState!==null){dp(h);continue}}f!==null?(f.return=p,q=f):dp(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Am("display",o))}catch(b){we(e,e.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){we(e,e.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Tt(t,e),Bt(e),n&4&&cp(e);break;case 21:break;default:Tt(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(nx(r)){var n=r;break e}r=r.return}throw Error(F(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ii(i,""),n.flags&=-33);var a=lp(e);Hc(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=lp(e);Wc(e,l,o);break;default:throw Error(F(161))}}catch(c){we(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fb(e,t,r){q=e,ax(e)}function ax(e,t,r){for(var n=(e.mode&1)!==0;q!==null;){var i=q,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||na;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||$e;l=na;var u=$e;if(na=o,($e=c)&&!u)for(q=i;q!==null;)o=q,c=o.child,o.tag===22&&o.memoizedState!==null?hp(i):c!==null?(c.return=o,q=c):hp(i);for(;a!==null;)q=a,ax(a),a=a.sibling;q=i,na=l,$e=u}up(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,q=a):up(e)}}function up(e){for(;q!==null;){var t=q;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$e||Ao(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!$e)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:At(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Gh(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Gh(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ci(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}$e||t.flags&512&&Uc(t)}catch(p){we(t,t.return,p)}}if(t===e){q=null;break}if(r=t.sibling,r!==null){r.return=t.return,q=r;break}q=t.return}}function dp(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,q=r;break}q=t.return}}function hp(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ao(4,t)}catch(c){we(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){we(t,i,c)}}var a=t.return;try{Uc(t)}catch(c){we(t,a,c)}break;case 5:var o=t.return;try{Uc(t)}catch(c){we(t,o,c)}}}catch(c){we(t,t.return,c)}if(t===e){q=null;break}var l=t.sibling;if(l!==null){l.return=t.return,q=l;break}q=t.return}}var mb=Math.ceil,eo=pr.ReactCurrentDispatcher,dd=pr.ReactCurrentOwner,St=pr.ReactCurrentBatchConfig,ie=0,Oe=null,Pe=null,Le=0,ut=0,Un=Wr(0),Me=0,wi=null,fn=0,Mo=0,hd=0,Js=null,tt=null,pd=0,cs=1/0,Jt=null,to=!1,qc=null,Rr=null,sa=!1,kr=null,ro=0,Zs=0,Yc=null,ba=-1,ja=0;function Ke(){return ie&6?je():ba!==-1?ba:ba=je()}function Or(e){return e.mode&1?ie&2&&Le!==0?Le&-Le:Jw.transition!==null?(ja===0&&(ja=Wm()),ja):(e=ce,e!==0||(e=window.event,e=e===void 0?16:Xm(e.type)),e):1}function Lt(e,t,r,n){if(50<Zs)throw Zs=0,Yc=null,Error(F(185));Pi(e,r,n),(!(ie&2)||e!==Oe)&&(e===Oe&&(!(ie&2)&&(Mo|=r),Me===4&&Nr(e,Le)),it(e,n),r===1&&ie===0&&!(t.mode&1)&&(cs=je()+500,Po&&Hr()))}function it(e,t){var r=e.callbackNode;Jv(e,t);var n=Ba(e,e===Oe?Le:0);if(n===0)r!==null&&bh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&bh(r),t===1)e.tag===0?Xw(pp.bind(null,e)):gg(pp.bind(null,e)),Yw(function(){!(ie&6)&&Hr()}),r=null;else{switch(Hm(n)){case 1:r=Bu;break;case 4:r=$m;break;case 16:r=za;break;case 536870912:r=Um;break;default:r=za}r=fx(r,ox.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ox(e,t){if(ba=-1,ja=0,ie&6)throw Error(F(327));var r=e.callbackNode;if(ts()&&e.callbackNode!==r)return null;var n=Ba(e,e===Oe?Le:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=no(e,n);else{t=n;var i=ie;ie|=2;var a=cx();(Oe!==e||Le!==t)&&(Jt=null,cs=je()+500,on(e,t));do try{yb();break}catch(l){lx(e,l)}while(!0);Ju(),eo.current=a,ie=i,Pe!==null?t=0:(Oe=null,Le=0,t=Me)}if(t!==0){if(t===2&&(i=wc(e),i!==0&&(n=i,t=Gc(e,i))),t===1)throw r=wi,on(e,0),Nr(e,n),it(e,je()),r;if(t===6)Nr(e,n);else{if(i=e.current.alternate,!(n&30)&&!gb(i)&&(t=no(e,n),t===2&&(a=wc(e),a!==0&&(n=a,t=Gc(e,a))),t===1))throw r=wi,on(e,0),Nr(e,n),it(e,je()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(F(345));case 2:Qr(e,tt,Jt);break;case 3:if(Nr(e,n),(n&130023424)===n&&(t=pd+500-je(),10<t)){if(Ba(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ke(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Pc(Qr.bind(null,e,tt,Jt),t);break}Qr(e,tt,Jt);break;case 4:if(Nr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-_t(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=je()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*mb(n/1960))-n,10<n){e.timeoutHandle=Pc(Qr.bind(null,e,tt,Jt),n);break}Qr(e,tt,Jt);break;case 5:Qr(e,tt,Jt);break;default:throw Error(F(329))}}}return it(e,je()),e.callbackNode===r?ox.bind(null,e):null}function Gc(e,t){var r=Js;return e.current.memoizedState.isDehydrated&&(on(e,t).flags|=256),e=no(e,t),e!==2&&(t=tt,tt=r,t!==null&&Kc(t)),e}function Kc(e){tt===null?tt=e:tt.push.apply(tt,e)}function gb(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Ft(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nr(e,t){for(t&=~hd,t&=~Mo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-_t(t),n=1<<r;e[r]=-1,t&=~n}}function pp(e){if(ie&6)throw Error(F(327));ts();var t=Ba(e,0);if(!(t&1))return it(e,je()),null;var r=no(e,t);if(e.tag!==0&&r===2){var n=wc(e);n!==0&&(t=n,r=Gc(e,n))}if(r===1)throw r=wi,on(e,0),Nr(e,t),it(e,je()),r;if(r===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qr(e,tt,Jt),it(e,je()),null}function fd(e,t){var r=ie;ie|=1;try{return e(t)}finally{ie=r,ie===0&&(cs=je()+500,Po&&Hr())}}function mn(e){kr!==null&&kr.tag===0&&!(ie&6)&&ts();var t=ie;ie|=1;var r=St.transition,n=ce;try{if(St.transition=null,ce=1,e)return e()}finally{ce=n,St.transition=r,ie=t,!(ie&6)&&Hr()}}function md(){ut=Un.current,fe(Un)}function on(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,qw(r)),Pe!==null)for(r=Pe.return;r!==null;){var n=r;switch(Ku(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Wa();break;case 3:os(),fe(nt),fe(He),sd();break;case 5:nd(n);break;case 4:os();break;case 13:fe(ge);break;case 19:fe(ge);break;case 10:Zu(n.type._context);break;case 22:case 23:md()}r=r.return}if(Oe=e,Pe=e=_r(e.current,null),Le=ut=t,Me=0,wi=null,hd=Mo=fn=0,tt=Js=null,rn!==null){for(t=0;t<rn.length;t++)if(r=rn[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}rn=null}return e}function lx(e,t){do{var r=Pe;try{if(Ju(),ya.current=Za,Ja){for(var n=ye.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ja=!1}if(pn=0,Re=Ae=ye=null,Qs=!1,xi=0,dd.current=null,r===null||r.return===null){Me=1,wi=t,Pe=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=Le,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ep(o);if(f!==null){f.flags&=-257,tp(f,o,l,a,t),f.mode&1&&Zh(a,u,t),t=f,c=u;var x=t.updateQueue;if(x===null){var b=new Set;b.add(c),t.updateQueue=b}else x.add(c);break e}else{if(!(t&1)){Zh(a,u,t),gd();break e}c=Error(F(426))}}else if(me&&l.mode&1){var j=ep(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),tp(j,o,l,a,t),Qu(ls(c,l));break e}}a=c=ls(c,l),Me!==4&&(Me=2),Js===null?Js=[a]:Js.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var w=Hg(a,c,t);Yh(a,w);break e;case 1:l=c;var g=a.type,m=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Rr===null||!Rr.has(m)))){a.flags|=65536,t&=-t,a.lanes|=t;var v=qg(a,l,t);Yh(a,v);break e}}a=a.return}while(a!==null)}dx(r)}catch(S){t=S,Pe===r&&r!==null&&(Pe=r=r.return);continue}break}while(!0)}function cx(){var e=eo.current;return eo.current=Za,e===null?Za:e}function gd(){(Me===0||Me===3||Me===2)&&(Me=4),Oe===null||!(fn&268435455)&&!(Mo&268435455)||Nr(Oe,Le)}function no(e,t){var r=ie;ie|=2;var n=cx();(Oe!==e||Le!==t)&&(Jt=null,on(e,t));do try{xb();break}catch(i){lx(e,i)}while(!0);if(Ju(),ie=r,eo.current=n,Pe!==null)throw Error(F(261));return Oe=null,Le=0,Me}function xb(){for(;Pe!==null;)ux(Pe)}function yb(){for(;Pe!==null&&!Uv();)ux(Pe)}function ux(e){var t=px(e.alternate,e,ut);e.memoizedProps=e.pendingProps,t===null?dx(e):Pe=t,dd.current=null}function dx(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=db(r,t),r!==null){r.flags&=32767,Pe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,Pe=null;return}}else if(r=ub(r,t,ut),r!==null){Pe=r;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Me===0&&(Me=5)}function Qr(e,t,r){var n=ce,i=St.transition;try{St.transition=null,ce=1,vb(e,t,r,n)}finally{St.transition=i,ce=n}return null}function vb(e,t,r,n){do ts();while(kr!==null);if(ie&6)throw Error(F(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Zv(e,a),e===Oe&&(Pe=Oe=null,Le=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||sa||(sa=!0,fx(za,function(){return ts(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=St.transition,St.transition=null;var o=ce;ce=1;var l=ie;ie|=4,dd.current=null,pb(e,r),ix(r,e),Bw(Cc),Ia=!!kc,Cc=kc=null,e.current=r,fb(r),Wv(),ie=l,ce=o,St.transition=a}else e.current=r;if(sa&&(sa=!1,kr=e,ro=i),a=e.pendingLanes,a===0&&(Rr=null),Yv(r.stateNode),it(e,je()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(to)throw to=!1,e=qc,qc=null,e;return ro&1&&e.tag!==0&&ts(),a=e.pendingLanes,a&1?e===Yc?Zs++:(Zs=0,Yc=e):Zs=0,Hr(),null}function ts(){if(kr!==null){var e=Hm(ro),t=St.transition,r=ce;try{if(St.transition=null,ce=16>e?16:e,kr===null)var n=!1;else{if(e=kr,kr=null,ro=0,ie&6)throw Error(F(331));var i=ie;for(ie|=4,q=e.current;q!==null;){var a=q,o=a.child;if(q.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(q=u;q!==null;){var d=q;switch(d.tag){case 0:case 11:case 15:Xs(8,d,a)}var h=d.child;if(h!==null)h.return=d,q=h;else for(;q!==null;){d=q;var p=d.sibling,f=d.return;if(rx(d),d===u){q=null;break}if(p!==null){p.return=f,q=p;break}q=f}}}var x=a.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var j=b.sibling;b.sibling=null,b=j}while(b!==null)}}q=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,q=o;else e:for(;q!==null;){if(a=q,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Xs(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,q=w;break e}q=a.return}}var g=e.current;for(q=g;q!==null;){o=q;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,q=m;else e:for(o=g;q!==null;){if(l=q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ao(9,l)}}catch(S){we(l,l.return,S)}if(l===o){q=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,q=v;break e}q=l.return}}if(ie=i,Hr(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(No,e)}catch{}n=!0}return n}finally{ce=r,St.transition=t}}return!1}function fp(e,t,r){t=ls(r,t),t=Hg(e,t,1),e=Mr(e,t,1),t=Ke(),e!==null&&(Pi(e,1,t),it(e,t))}function we(e,t,r){if(e.tag===3)fp(e,e,r);else for(;t!==null;){if(t.tag===3){fp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Rr===null||!Rr.has(n))){e=ls(r,e),e=qg(t,e,1),t=Mr(t,e,1),e=Ke(),t!==null&&(Pi(t,1,e),it(t,e));break}}t=t.return}}function wb(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ke(),e.pingedLanes|=e.suspendedLanes&r,Oe===e&&(Le&r)===r&&(Me===4||Me===3&&(Le&130023424)===Le&&500>je()-pd?on(e,0):hd|=r),it(e,t)}function hx(e,t){t===0&&(e.mode&1?(t=Gi,Gi<<=1,!(Gi&130023424)&&(Gi=4194304)):t=1);var r=Ke();e=cr(e,t),e!==null&&(Pi(e,t,r),it(e,r))}function bb(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),hx(e,r)}function jb(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(F(314))}n!==null&&n.delete(t),hx(e,r)}var px;px=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||nt.current)rt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return rt=!1,cb(e,t,r);rt=!!(e.flags&131072)}else rt=!1,me&&t.flags&1048576&&xg(t,Ya,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;wa(e,t),e=t.pendingProps;var i=ss(t,He.current);es(t,r),i=ad(null,t,n,e,i,r);var a=od();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,st(n)?(a=!0,Ha(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,td(t),i.updater=Do,t.stateNode=i,i._reactInternals=t,_c(t,n,e,r),t=zc(null,t,n,!0,a,r)):(t.tag=0,me&&a&&Gu(t),Ye(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(wa(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Sb(n),e=At(n,e),i){case 0:t=Fc(null,t,n,e,r);break e;case 1:t=sp(null,t,n,e,r);break e;case 11:t=rp(null,t,n,e,r);break e;case 14:t=np(null,t,n,At(n.type,e),r);break e}throw Error(F(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:At(n,i),Fc(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:At(n,i),sp(e,t,n,i,r);case 3:e:{if(Qg(t),e===null)throw Error(F(387));n=t.pendingProps,a=t.memoizedState,i=a.element,Ng(e,t),Qa(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=ls(Error(F(423)),t),t=ip(e,t,n,r,i);break e}else if(n!==i){i=ls(Error(F(424)),t),t=ip(e,t,n,r,i);break e}else for(dt=Ar(t.stateNode.containerInfo.firstChild),pt=t,me=!0,Ot=null,r=bg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(is(),n===i){t=ur(e,t,r);break e}Ye(e,t,n,r)}t=t.child}return t;case 5:return Sg(t),e===null&&Mc(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Ec(n,i)?o=null:a!==null&&Ec(n,a)&&(t.flags|=32),Kg(e,t),Ye(e,t,o,r),t.child;case 6:return e===null&&Mc(t),null;case 13:return Xg(e,t,r);case 4:return rd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=as(t,null,n,r):Ye(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:At(n,i),rp(e,t,n,i,r);case 7:return Ye(e,t,t.pendingProps,r),t.child;case 8:return Ye(e,t,t.pendingProps.children,r),t.child;case 12:return Ye(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,de(Ga,n._currentValue),n._currentValue=o,a!==null)if(Ft(a.value,o)){if(a.children===i.children&&!nt.current){t=ur(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=sr(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Rc(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(F(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Rc(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ye(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,es(t,r),i=kt(i),n=n(i),t.flags|=1,Ye(e,t,n,r),t.child;case 14:return n=t.type,i=At(n,t.pendingProps),i=At(n.type,i),np(e,t,n,i,r);case 15:return Yg(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:At(n,i),wa(e,t),t.tag=1,st(n)?(e=!0,Ha(t)):e=!1,es(t,r),Wg(t,n,i),_c(t,n,i,r),zc(null,t,n,!0,e,r);case 19:return Jg(e,t,r);case 22:return Gg(e,t,r)}throw Error(F(156,t.tag))};function fx(e,t){return Vm(e,t)}function Nb(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,r,n){return new Nb(e,t,r,n)}function xd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sb(e){if(typeof e=="function")return xd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lu)return 11;if(e===Fu)return 14}return 2}function _r(e,t){var r=e.alternate;return r===null?(r=Nt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Na(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")xd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Rn:return ln(r.children,i,a,t);case _u:o=8,i|=8;break;case ic:return e=Nt(12,r,t,i|2),e.elementType=ic,e.lanes=a,e;case ac:return e=Nt(13,r,t,i),e.elementType=ac,e.lanes=a,e;case oc:return e=Nt(19,r,t,i),e.elementType=oc,e.lanes=a,e;case Sm:return Ro(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jm:o=10;break e;case Nm:o=9;break e;case Lu:o=11;break e;case Fu:o=14;break e;case vr:o=16,n=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Nt(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function ln(e,t,r,n){return e=Nt(7,e,n,t),e.lanes=r,e}function Ro(e,t,r,n){return e=Nt(22,e,n,t),e.elementType=Sm,e.lanes=r,e.stateNode={isHidden:!1},e}function Al(e,t,r){return e=Nt(6,e,null,t),e.lanes=r,e}function Ml(e,t,r){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kb(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hl(0),this.expirationTimes=hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hl(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function yd(e,t,r,n,i,a,o,l,c){return e=new kb(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Nt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},td(a),e}function Cb(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function mx(e){if(!e)return Ir;e=e._reactInternals;e:{if(kn(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(st(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var r=e.type;if(st(r))return mg(e,r,t)}return t}function gx(e,t,r,n,i,a,o,l,c){return e=yd(r,n,!0,e,i,a,o,l,c),e.context=mx(null),r=e.current,n=Ke(),i=Or(r),a=sr(n,i),a.callback=t??null,Mr(r,a,i),e.current.lanes=i,Pi(e,i,n),it(e,n),e}function Oo(e,t,r,n){var i=t.current,a=Ke(),o=Or(i);return r=mx(r),t.context===null?t.context=r:t.pendingContext=r,t=sr(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Mr(i,t,o),e!==null&&(Lt(e,i,o,a),xa(e,i,o)),o}function so(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function vd(e,t){mp(e,t),(e=e.alternate)&&mp(e,t)}function Eb(){return null}var xx=typeof reportError=="function"?reportError:function(e){console.error(e)};function wd(e){this._internalRoot=e}_o.prototype.render=wd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Oo(e,t,null,null)};_o.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mn(function(){Oo(null,e,null,null)}),t[lr]=null}};function _o(e){this._internalRoot=e}_o.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gm();e={blockedOn:null,target:e,priority:t};for(var r=0;r<jr.length&&t!==0&&t<jr[r].priority;r++);jr.splice(r,0,e),r===0&&Qm(e)}};function bd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Lo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gp(){}function Pb(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=so(o);a.call(u)}}var o=gx(t,n,e,0,null,!1,!1,"",gp);return e._reactRootContainer=o,e[lr]=o.current,hi(e.nodeType===8?e.parentNode:e),mn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=so(c);l.call(u)}}var c=yd(e,0,!1,null,null,!1,!1,"",gp);return e._reactRootContainer=c,e[lr]=c.current,hi(e.nodeType===8?e.parentNode:e),mn(function(){Oo(t,c,r,n)}),c}function Fo(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=so(o);l.call(c)}}Oo(t,o,e,i)}else o=Pb(r,t,e,i,n);return so(o)}qm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Vs(t.pendingLanes);r!==0&&(Iu(t,r|1),it(t,je()),!(ie&6)&&(cs=je()+500,Hr()))}break;case 13:mn(function(){var n=cr(e,1);if(n!==null){var i=Ke();Lt(n,e,1,i)}}),vd(e,1)}};Vu=function(e){if(e.tag===13){var t=cr(e,134217728);if(t!==null){var r=Ke();Lt(t,e,134217728,r)}vd(e,134217728)}};Ym=function(e){if(e.tag===13){var t=Or(e),r=cr(e,t);if(r!==null){var n=Ke();Lt(r,e,t,n)}vd(e,t)}};Gm=function(){return ce};Km=function(e,t){var r=ce;try{return ce=e,t()}finally{ce=r}};xc=function(e,t,r){switch(t){case"input":if(uc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Eo(n);if(!i)throw Error(F(90));Cm(n),uc(n,i)}}}break;case"textarea":Pm(e,r);break;case"select":t=r.value,t!=null&&Qn(e,!!r.multiple,t,!1)}};_m=fd;Lm=mn;var Tb={usingClientEntryPoint:!1,Events:[Di,Fn,Eo,Rm,Om,fd]},Ms={findFiberByHostInstance:tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Db={bundleType:Ms.bundleType,version:Ms.version,rendererPackageName:Ms.rendererPackageName,rendererConfig:Ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bm(e),e===null?null:e.stateNode},findFiberByHostInstance:Ms.findFiberByHostInstance||Eb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ia.isDisabled&&ia.supportsFiber)try{No=ia.inject(Db),Wt=ia}catch{}}gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tb;gt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bd(t))throw Error(F(200));return Cb(e,t,null,r)};gt.createRoot=function(e,t){if(!bd(e))throw Error(F(299));var r=!1,n="",i=xx;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=yd(e,1,!1,null,null,r,!1,n,i),e[lr]=t.current,hi(e.nodeType===8?e.parentNode:e),new wd(t)};gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Bm(t),e=e===null?null:e.stateNode,e};gt.flushSync=function(e){return mn(e)};gt.hydrate=function(e,t,r){if(!Lo(t))throw Error(F(200));return Fo(null,e,t,!0,r)};gt.hydrateRoot=function(e,t,r){if(!bd(e))throw Error(F(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=xx;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=gx(t,null,e,1,r??null,i,!1,a,o),e[lr]=t.current,hi(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new _o(t)};gt.render=function(e,t,r){if(!Lo(t))throw Error(F(200));return Fo(null,e,t,!1,r)};gt.unmountComponentAtNode=function(e){if(!Lo(e))throw Error(F(40));return e._reactRootContainer?(mn(function(){Fo(null,null,e,!1,function(){e._reactRootContainer=null,e[lr]=null})}),!0):!1};gt.unstable_batchedUpdates=fd;gt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Lo(r))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Fo(e,t,r,!1,n)};gt.version="18.3.1-next-f1338f8080-20240426";function yx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yx)}catch(e){console.error(e)}}yx(),ym.exports=gt;var Ab=ym.exports,xp=Ab;nc.createRoot=xp.createRoot,nc.hydrateRoot=xp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bi.apply(this,arguments)}var Cr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Cr||(Cr={}));const yp="popstate";function Mb(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:l}=n.location;return Qc("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:io(i)}return Ob(t,r,null,e)}function Se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vx(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Rb(){return Math.random().toString(36).substr(2,8)}function vp(e,t){return{usr:e.state,key:e.key,idx:t}}function Qc(e,t,r,n){return r===void 0&&(r=null),bi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?vs(t):t,{state:r,key:t&&t.key||n||Rb()})}function io(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function vs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Ob(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=Cr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(bi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Cr.Pop;let j=d(),w=j==null?null:j-u;u=j,c&&c({action:l,location:b.location,delta:w})}function p(j,w){l=Cr.Push;let g=Qc(b.location,j,w);u=d()+1;let m=vp(g,u),v=b.createHref(g);try{o.pushState(m,"",v)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(v)}a&&c&&c({action:l,location:b.location,delta:1})}function f(j,w){l=Cr.Replace;let g=Qc(b.location,j,w);u=d();let m=vp(g,u),v=b.createHref(g);o.replaceState(m,"",v),a&&c&&c({action:l,location:b.location,delta:0})}function x(j){let w=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof j=="string"?j:io(j);return g=g.replace(/ $/,"%20"),Se(w,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,w)}let b={get action(){return l},get location(){return e(i,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(yp,h),c=j,()=>{i.removeEventListener(yp,h),c=null}},createHref(j){return t(i,j)},createURL:x,encodeLocation(j){let w=x(j);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:f,go(j){return o.go(j)}};return b}var wp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(wp||(wp={}));function _b(e,t,r){return r===void 0&&(r="/"),Lb(e,t,r)}function Lb(e,t,r,n){let i=typeof t=="string"?vs(t):t,a=jd(i.pathname||"/",r);if(a==null)return null;let o=wx(e);Fb(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Kb(a);l=qb(o[c],u)}return l}function wx(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Se(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Lr([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(Se(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wx(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Wb(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of bx(a.path))i(a,o,c)}),t}function bx(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=bx(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Fb(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Hb(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const zb=/^:[\w-]+$/,Bb=3,Ib=2,Vb=1,$b=10,Ub=-2,bp=e=>e==="*";function Wb(e,t){let r=e.split("/"),n=r.length;return r.some(bp)&&(n+=Ub),t&&(n+=Ib),r.filter(i=>!bp(i)).reduce((i,a)=>i+(zb.test(a)?Bb:a===""?Vb:$b),n)}function Hb(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function qb(e,t,r){let{routesMeta:n}=e,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=Yb({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Lr([a,h.pathname]),pathnameBase:Zb(Lr([a,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(a=Lr([a,h.pathnameBase]))}return o}function Yb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Gb(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:p,isOptional:f}=d;if(p==="*"){let b=l[h]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const x=l[h];return f&&!x?u[p]=void 0:u[p]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function Gb(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),vx(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Kb(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function jd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Qb(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?vs(e):e;return{pathname:r?r.startsWith("/")?r:Xb(r,t):t,search:e1(n),hash:t1(i)}}function Xb(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Rl(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Jb(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Nd(e,t){let r=Jb(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Sd(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=vs(e):(i=bi({},e),Se(!i.pathname||!i.pathname.includes("?"),Rl("?","pathname","search",i)),Se(!i.pathname||!i.pathname.includes("#"),Rl("#","pathname","hash",i)),Se(!i.search||!i.search.includes("#"),Rl("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}l=h>=0?t[h]:"/"}let c=Qb(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Lr=e=>e.join("/").replace(/\/\/+/g,"/"),Zb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),e1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,t1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function r1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const jx=["post","put","patch","delete"];new Set(jx);const n1=["get",...jx];new Set(n1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ji(){return ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ji.apply(this,arguments)}const kd=y.createContext(null),s1=y.createContext(null),qr=y.createContext(null),zo=y.createContext(null),fr=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Nx=y.createContext(null);function i1(e,t){let{relative:r}=t===void 0?{}:t;ws()||Se(!1);let{basename:n,navigator:i}=y.useContext(qr),{hash:a,pathname:o,search:l}=Cx(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Lr([n,o])),i.createHref({pathname:c,search:l,hash:a})}function ws(){return y.useContext(zo)!=null}function Cn(){return ws()||Se(!1),y.useContext(zo).location}function Sx(e){y.useContext(qr).static||y.useLayoutEffect(e)}function Bo(){let{isDataRoute:e}=y.useContext(fr);return e?y1():a1()}function a1(){ws()||Se(!1);let e=y.useContext(kd),{basename:t,future:r,navigator:n}=y.useContext(qr),{matches:i}=y.useContext(fr),{pathname:a}=Cn(),o=JSON.stringify(Nd(i,r.v7_relativeSplatPath)),l=y.useRef(!1);return Sx(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Sd(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Lr([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,a,e])}function kx(){let{matches:e}=y.useContext(fr),t=e[e.length-1];return t?t.params:{}}function Cx(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext(qr),{matches:i}=y.useContext(fr),{pathname:a}=Cn(),o=JSON.stringify(Nd(i,n.v7_relativeSplatPath));return y.useMemo(()=>Sd(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function o1(e,t){return l1(e,t)}function l1(e,t,r,n){ws()||Se(!1);let{navigator:i}=y.useContext(qr),{matches:a}=y.useContext(fr),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Cn(),d;if(t){var h;let j=typeof t=="string"?vs(t):t;c==="/"||(h=j.pathname)!=null&&h.startsWith(c)||Se(!1),d=j}else d=u;let p=d.pathname||"/",f=p;if(c!=="/"){let j=c.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(j.length).join("/")}let x=_b(e,{pathname:f}),b=p1(x&&x.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:Lr([c,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Lr([c,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),a,r,n);return t&&b?y.createElement(zo.Provider,{value:{location:ji({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Cr.Pop}},b):b}function c1(){let e=x1(),t=r1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:i},r):null,null)}const u1=y.createElement(c1,null);class d1 extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(fr.Provider,{value:this.props.routeContext},y.createElement(Nx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function h1(e){let{routeContext:t,match:r,children:n}=e,i=y.useContext(kd);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(fr.Provider,{value:t},n)}function p1(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Se(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:f}=r,x=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let f,x=!1,b=null,j=null;r&&(f=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||u1,c&&(u<0&&p===0?(v1("route-fallback"),x=!0,j=null):u===p&&(x=!0,j=h.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,p+1)),g=()=>{let m;return f?m=b:x?m=j:h.route.Component?m=y.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=d,y.createElement(h1,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:m})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?y.createElement(d1,{location:r.location,revalidation:r.revalidation,component:b,error:f,children:g(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):g()},null)}var Ex=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ex||{}),Px=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Px||{});function f1(e){let t=y.useContext(kd);return t||Se(!1),t}function m1(e){let t=y.useContext(s1);return t||Se(!1),t}function g1(e){let t=y.useContext(fr);return t||Se(!1),t}function Tx(e){let t=g1(),r=t.matches[t.matches.length-1];return r.route.id||Se(!1),r.route.id}function x1(){var e;let t=y.useContext(Nx),r=m1(),n=Tx();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function y1(){let{router:e}=f1(Ex.UseNavigateStable),t=Tx(Px.UseNavigateStable),r=y.useRef(!1);return Sx(()=>{r.current=!0}),y.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ji({fromRouteId:t},a)))},[e,t])}const jp={};function v1(e,t,r){jp[e]||(jp[e]=!0)}function w1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ct(e){let{to:t,replace:r,state:n,relative:i}=e;ws()||Se(!1);let{future:a,static:o}=y.useContext(qr),{matches:l}=y.useContext(fr),{pathname:c}=Cn(),u=Bo(),d=Sd(t,Nd(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:i}),[u,h,i,r,n]),null}function Ie(e){Se(!1)}function b1(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Cr.Pop,navigator:a,static:o=!1,future:l}=e;ws()&&Se(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:a,static:o,future:ji({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=vs(n));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:x="default"}=n,b=y.useMemo(()=>{let j=jd(d,c);return j==null?null:{location:{pathname:j,search:h,hash:p,state:f,key:x},navigationType:i}},[c,d,h,p,f,x,i]);return b==null?null:y.createElement(qr.Provider,{value:u},y.createElement(zo.Provider,{children:r,value:b}))}function j1(e){let{children:t,location:r}=e;return o1(Xc(t),r)}new Promise(()=>{});function Xc(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,i)=>{if(!y.isValidElement(n))return;let a=[...t,i];if(n.type===y.Fragment){r.push.apply(r,Xc(n.props.children,a));return}n.type!==Ie&&Se(!1),!n.props.index||!n.props.children||Se(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Xc(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jc(){return Jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jc.apply(this,arguments)}function N1(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function S1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function k1(e,t){return e.button===0&&(!t||t==="_self")&&!S1(e)}function Zc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function C1(e,t){let r=Zc(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}const E1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],P1="6";try{window.__reactRouterVersion=P1}catch{}const T1="startTransition",Np=wv[T1];function D1(e){let{basename:t,children:r,future:n,window:i}=e,a=y.useRef();a.current==null&&(a.current=Mb({window:i,v5Compat:!0}));let o=a.current,[l,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=y.useCallback(h=>{u&&Np?Np(()=>c(h)):c(h)},[c,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>w1(n),[n]),y.createElement(b1,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const A1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ue=y.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,p=N1(t,E1),{basename:f}=y.useContext(qr),x,b=!1;if(typeof u=="string"&&M1.test(u)&&(x=u,A1))try{let m=new URL(window.location.href),v=u.startsWith("//")?new URL(m.protocol+u):new URL(u),S=jd(v.pathname,f);v.origin===m.origin&&S!=null?u=S+v.search+v.hash:b=!0}catch{}let j=i1(u,{relative:i}),w=R1(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});function g(m){n&&n(m),m.defaultPrevented||w(m)}return y.createElement("a",Jc({},p,{href:x||j,onClick:b||a?n:g,ref:r,target:c}))});var Sp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Sp||(Sp={}));var kp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(kp||(kp={}));function R1(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=Bo(),u=Cn(),d=Cx(e,{relative:o});return y.useCallback(h=>{if(k1(h,r)){h.preventDefault();let p=n!==void 0?n:io(u)===io(d);c(e,{replace:p,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,i,r,e,a,o,l])}function Dx(e){let t=y.useRef(Zc(e)),r=y.useRef(!1),n=Cn(),i=y.useMemo(()=>C1(n.search,r.current?null:t.current),[n.search]),a=Bo(),o=y.useCallback((l,c)=>{const u=Zc(typeof l=="function"?l(i):l);r.current=!0,a("?"+u,c)},[a,i]);return[i,o]}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var O1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),K=(e,t)=>{const r=y.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>y.createElement("svg",{ref:d,...O1,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${_1(e)}`,l].join(" "),...u},[...t.map(([h,p])=>y.createElement(h,p)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=K("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=K("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=K("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=K("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=K("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=K("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=K("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=K("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=K("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=K("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=K("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=K("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=K("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=K("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=K("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=K("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=K("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=K("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=K("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=K("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=K("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=K("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=K("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=K("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=K("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=K("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=K("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=K("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=K("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=K("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=K("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=K("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=K("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=K("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=K("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=K("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=K("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=K("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=K("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=K("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=K("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=K("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=K("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=K("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=K("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=K("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=K("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=K("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=K("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=K("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=K("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=K("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=K("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=K("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=K("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=K("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=K("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=K("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Bx(e,t){return function(){return e.apply(t,arguments)}}const{toString:ej}=Object.prototype,{getPrototypeOf:Pd}=Object,{iterator:Vo,toStringTag:Ix}=Symbol,$o=(e=>t=>{const r=ej.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),zt=e=>(e=e.toLowerCase(),t=>$o(t)===e),Uo=e=>t=>typeof t===e,{isArray:bs}=Array,Ni=Uo("undefined");function Ri(e){return e!==null&&!Ni(e)&&e.constructor!==null&&!Ni(e.constructor)&&at(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Vx=zt("ArrayBuffer");function tj(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Vx(e.buffer),t}const rj=Uo("string"),at=Uo("function"),$x=Uo("number"),Oi=e=>e!==null&&typeof e=="object",nj=e=>e===!0||e===!1,ka=e=>{if($o(e)!=="object")return!1;const t=Pd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Ix in e)&&!(Vo in e)},sj=e=>{if(!Oi(e)||Ri(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ij=zt("Date"),aj=zt("File"),oj=zt("Blob"),lj=zt("FileList"),cj=e=>Oi(e)&&at(e.pipe),uj=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||at(e.append)&&((t=$o(e))==="formdata"||t==="object"&&at(e.toString)&&e.toString()==="[object FormData]"))},dj=zt("URLSearchParams"),[hj,pj,fj,mj]=["ReadableStream","Request","Response","Headers"].map(zt),gj=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _i(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),bs(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(Ri(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(n=0;n<o;n++)l=a[n],t.call(null,e[l],l,e)}}function Ux(e,t){if(Ri(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const sn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Wx=e=>!Ni(e)&&e!==sn;function nu(){const{caseless:e}=Wx(this)&&this||{},t={},r=(n,i)=>{const a=e&&Ux(t,i)||i;ka(t[a])&&ka(n)?t[a]=nu(t[a],n):ka(n)?t[a]=nu({},n):bs(n)?t[a]=n.slice():t[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&_i(arguments[n],r);return t}const xj=(e,t,r,{allOwnKeys:n}={})=>(_i(t,(i,a)=>{r&&at(i)?e[a]=Bx(i,r):e[a]=i},{allOwnKeys:n}),e),yj=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),vj=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},wj=(e,t,r,n)=>{let i,a,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&Pd(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},bj=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},jj=e=>{if(!e)return null;if(bs(e))return e;let t=e.length;if(!$x(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Nj=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Pd(Uint8Array)),Sj=(e,t)=>{const n=(e&&e[Vo]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},kj=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Cj=zt("HTMLFormElement"),Ej=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),Tp=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Pj=zt("RegExp"),Hx=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};_i(r,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(n[a]=o||i)}),Object.defineProperties(e,n)},Tj=e=>{Hx(e,(t,r)=>{if(at(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(at(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Dj=(e,t)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return bs(e)?n(e):n(String(e).split(t)),r},Aj=()=>{},Mj=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Rj(e){return!!(e&&at(e.append)&&e[Ix]==="FormData"&&e[Vo])}const Oj=e=>{const t=new Array(10),r=(n,i)=>{if(Oi(n)){if(t.indexOf(n)>=0)return;if(Ri(n))return n;if(!("toJSON"in n)){t[i]=n;const a=bs(n)?[]:{};return _i(n,(o,l)=>{const c=r(o,i+1);!Ni(c)&&(a[l]=c)}),t[i]=void 0,a}}return n};return r(e,0)},_j=zt("AsyncFunction"),Lj=e=>e&&(Oi(e)||at(e))&&at(e.then)&&at(e.catch),qx=((e,t)=>e?setImmediate:t?((r,n)=>(sn.addEventListener("message",({source:i,data:a})=>{i===sn&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),sn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",at(sn.postMessage)),Fj=typeof queueMicrotask<"u"?queueMicrotask.bind(sn):typeof process<"u"&&process.nextTick||qx,zj=e=>e!=null&&at(e[Vo]),R={isArray:bs,isArrayBuffer:Vx,isBuffer:Ri,isFormData:uj,isArrayBufferView:tj,isString:rj,isNumber:$x,isBoolean:nj,isObject:Oi,isPlainObject:ka,isEmptyObject:sj,isReadableStream:hj,isRequest:pj,isResponse:fj,isHeaders:mj,isUndefined:Ni,isDate:ij,isFile:aj,isBlob:oj,isRegExp:Pj,isFunction:at,isStream:cj,isURLSearchParams:dj,isTypedArray:Nj,isFileList:lj,forEach:_i,merge:nu,extend:xj,trim:gj,stripBOM:yj,inherits:vj,toFlatObject:wj,kindOf:$o,kindOfTest:zt,endsWith:bj,toArray:jj,forEachEntry:Sj,matchAll:kj,isHTMLForm:Cj,hasOwnProperty:Tp,hasOwnProp:Tp,reduceDescriptors:Hx,freezeMethods:Tj,toObjectSet:Dj,toCamelCase:Ej,noop:Aj,toFiniteNumber:Mj,findKey:Ux,global:sn,isContextDefined:Wx,isSpecCompliantForm:Rj,toJSONObject:Oj,isAsyncFn:_j,isThenable:Lj,setImmediate:qx,asap:Fj,isIterable:zj};function J(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}R.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:R.toJSONObject(this.config),code:this.code,status:this.status}}});const Yx=J.prototype,Gx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Gx[e]={value:e}});Object.defineProperties(J,Gx);Object.defineProperty(Yx,"isAxiosError",{value:!0});J.from=(e,t,r,n,i,a)=>{const o=Object.create(Yx);return R.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),J.call(o,e.message,t,r,n,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const Bj=null;function su(e){return R.isPlainObject(e)||R.isArray(e)}function Kx(e){return R.endsWith(e,"[]")?e.slice(0,-2):e}function Dp(e,t,r){return e?e.concat(t).map(function(i,a){return i=Kx(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function Ij(e){return R.isArray(e)&&!e.some(su)}const Vj=R.toFlatObject(R,{},null,function(t){return/^is[A-Z]/.test(t)});function Wo(e,t,r){if(!R.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=R.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,j){return!R.isUndefined(j[b])});const n=r.metaTokens,i=r.visitor||d,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&R.isSpecCompliantForm(t);if(!R.isFunction(i))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(R.isDate(x))return x.toISOString();if(R.isBoolean(x))return x.toString();if(!c&&R.isBlob(x))throw new J("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(x)||R.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,b,j){let w=x;if(x&&!j&&typeof x=="object"){if(R.endsWith(b,"{}"))b=n?b:b.slice(0,-2),x=JSON.stringify(x);else if(R.isArray(x)&&Ij(x)||(R.isFileList(x)||R.endsWith(b,"[]"))&&(w=R.toArray(x)))return b=Kx(b),w.forEach(function(m,v){!(R.isUndefined(m)||m===null)&&t.append(o===!0?Dp([b],v,a):o===null?b:b+"[]",u(m))}),!1}return su(x)?!0:(t.append(Dp(j,b,a),u(x)),!1)}const h=[],p=Object.assign(Vj,{defaultVisitor:d,convertValue:u,isVisitable:su});function f(x,b){if(!R.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(x),R.forEach(x,function(w,g){(!(R.isUndefined(w)||w===null)&&i.call(t,w,R.isString(g)?g.trim():g,b,p))===!0&&f(w,b?b.concat(g):[g])}),h.pop()}}if(!R.isObject(e))throw new TypeError("data must be an object");return f(e),t}function Ap(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Td(e,t){this._pairs=[],e&&Wo(e,this,t)}const Qx=Td.prototype;Qx.append=function(t,r){this._pairs.push([t,r])};Qx.toString=function(t){const r=t?function(n){return t.call(this,n,Ap)}:Ap;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function $j(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Xx(e,t,r){if(!t)return e;const n=r&&r.encode||$j;R.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(t,r):a=R.isURLSearchParams(t)?t.toString():new Td(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Mp{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){R.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Jx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Uj=typeof URLSearchParams<"u"?URLSearchParams:Td,Wj=typeof FormData<"u"?FormData:null,Hj=typeof Blob<"u"?Blob:null,qj={isBrowser:!0,classes:{URLSearchParams:Uj,FormData:Wj,Blob:Hj},protocols:["http","https","file","blob","url","data"]},Dd=typeof window<"u"&&typeof document<"u",iu=typeof navigator=="object"&&navigator||void 0,Yj=Dd&&(!iu||["ReactNative","NativeScript","NS"].indexOf(iu.product)<0),Gj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Kj=Dd&&window.location.href||"http://localhost",Qj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Dd,hasStandardBrowserEnv:Yj,hasStandardBrowserWebWorkerEnv:Gj,navigator:iu,origin:Kj},Symbol.toStringTag,{value:"Module"})),Ue={...Qj,...qj};function Xj(e,t){return Wo(e,new Ue.classes.URLSearchParams,{visitor:function(r,n,i,a){return Ue.isNode&&R.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Jj(e){return R.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Zj(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}function Zx(e){function t(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=r.length;return o=!o&&R.isArray(i)?i.length:o,c?(R.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!l):((!i[o]||!R.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],a)&&R.isArray(i[o])&&(i[o]=Zj(i[o])),!l)}if(R.isFormData(e)&&R.isFunction(e.entries)){const r={};return R.forEachEntry(e,(n,i)=>{t(Jj(n),i,r,0)}),r}return null}function eN(e,t,r){if(R.isString(e))try{return(t||JSON.parse)(e),R.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Li={transitional:Jx,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=R.isObject(t);if(a&&R.isHTMLForm(t)&&(t=new FormData(t)),R.isFormData(t))return i?JSON.stringify(Zx(t)):t;if(R.isArrayBuffer(t)||R.isBuffer(t)||R.isStream(t)||R.isFile(t)||R.isBlob(t)||R.isReadableStream(t))return t;if(R.isArrayBufferView(t))return t.buffer;if(R.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Xj(t,this.formSerializer).toString();if((l=R.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Wo(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),eN(t)):t}],transformResponse:[function(t){const r=this.transitional||Li.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(R.isResponse(t)||R.isReadableStream(t))return t;if(t&&R.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?J.from(l,J.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ue.classes.FormData,Blob:Ue.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};R.forEach(["delete","get","head","post","put","patch"],e=>{Li.headers[e]={}});const tN=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rN=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&tN[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Rp=Symbol("internals");function Rs(e){return e&&String(e).trim().toLowerCase()}function Ca(e){return e===!1||e==null?e:R.isArray(e)?e.map(Ca):String(e)}function nN(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const sN=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function _l(e,t,r,n,i){if(R.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!R.isString(t)){if(R.isString(n))return t.indexOf(n)!==-1;if(R.isRegExp(n))return n.test(t)}}function iN(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function aN(e,t){const r=R.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,a,o){return this[n].call(this,t,i,a,o)},configurable:!0})})}let ot=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function a(l,c,u){const d=Rs(c);if(!d)throw new Error("header name must be a non-empty string");const h=R.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||c]=Ca(l))}const o=(l,c)=>R.forEach(l,(u,d)=>a(u,d,c));if(R.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(R.isString(t)&&(t=t.trim())&&!sN(t))o(rN(t),r);else if(R.isObject(t)&&R.isIterable(t)){let l={},c,u;for(const d of t){if(!R.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?R.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=Rs(t),t){const n=R.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return nN(i);if(R.isFunction(r))return r.call(this,i,n);if(R.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Rs(t),t){const n=R.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||_l(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function a(o){if(o=Rs(o),o){const l=R.findKey(n,o);l&&(!r||_l(n,n[l],l,r))&&(delete n[l],i=!0)}}return R.isArray(t)?t.forEach(a):a(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!t||_l(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const r=this,n={};return R.forEach(this,(i,a)=>{const o=R.findKey(n,a);if(o){r[o]=Ca(i),delete r[a];return}const l=t?iN(a):String(a).trim();l!==a&&delete r[a],r[l]=Ca(i),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return R.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&R.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[Rp]=this[Rp]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=Rs(o);n[l]||(aN(i,o),n[l]=!0)}return R.isArray(t)?t.forEach(a):a(t),this}};ot.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);R.reduceDescriptors(ot.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});R.freezeMethods(ot);function Ll(e,t){const r=this||Li,n=t||r,i=ot.from(n.headers);let a=n.data;return R.forEach(e,function(l){a=l.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function e0(e){return!!(e&&e.__CANCEL__)}function js(e,t,r){J.call(this,e??"canceled",J.ERR_CANCELED,t,r),this.name="CanceledError"}R.inherits(js,J,{__CANCEL__:!0});function t0(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new J("Request failed with status code "+r.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function oN(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function lN(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[a];o||(o=u),r[i]=c,n[i]=u;let h=a,p=0;for(;h!==i;)p+=r[h++],h=h%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),u-o<t)return;const f=d&&u-d;return f?Math.round(p*1e3/f):void 0}}function cN(e,t){let r=0,n=1e3/t,i,a;const o=(u,d=Date.now())=>{r=d,i=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),h=d-r;h>=n?o(u,d):(i=u,a||(a=setTimeout(()=>{a=null,o(i)},n-h)))},()=>i&&o(i)]}const lo=(e,t,r=3)=>{let n=0;const i=lN(50,250);return cN(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-n,u=i(c),d=o<=l;n=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},r)},Op=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},_p=e=>(...t)=>R.asap(()=>e(...t)),uN=Ue.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ue.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ue.origin),Ue.navigator&&/(msie|trident)/i.test(Ue.navigator.userAgent)):()=>!0,dN=Ue.hasStandardBrowserEnv?{write(e,t,r,n,i,a){const o=[e+"="+encodeURIComponent(t)];R.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),R.isString(n)&&o.push("path="+n),R.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function hN(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function pN(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function r0(e,t,r){let n=!hN(t);return e&&(n||r==!1)?pN(e,t):t}const Lp=e=>e instanceof ot?{...e}:e;function wn(e,t){t=t||{};const r={};function n(u,d,h,p){return R.isPlainObject(u)&&R.isPlainObject(d)?R.merge.call({caseless:p},u,d):R.isPlainObject(d)?R.merge({},d):R.isArray(d)?d.slice():d}function i(u,d,h,p){if(R.isUndefined(d)){if(!R.isUndefined(u))return n(void 0,u,h,p)}else return n(u,d,h,p)}function a(u,d){if(!R.isUndefined(d))return n(void 0,d)}function o(u,d){if(R.isUndefined(d)){if(!R.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,h){if(h in t)return n(u,d);if(h in e)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,h)=>i(Lp(u),Lp(d),h,!0)};return R.forEach(Object.keys({...e,...t}),function(d){const h=c[d]||i,p=h(e[d],t[d],d);R.isUndefined(p)&&h!==l||(r[d]=p)}),r}const n0=e=>{const t=wn({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=t;t.headers=o=ot.from(o),t.url=Xx(r0(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(R.isFormData(r)){if(Ue.hasStandardBrowserEnv||Ue.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...d]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Ue.hasStandardBrowserEnv&&(n&&R.isFunction(n)&&(n=n(t)),n||n!==!1&&uN(t.url))){const u=i&&a&&dN.read(a);u&&o.set(i,u)}return t},fN=typeof XMLHttpRequest<"u",mN=fN&&function(e){return new Promise(function(r,n){const i=n0(e);let a=i.data;const o=ot.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,d,h,p,f,x;function b(){f&&f(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let j=new XMLHttpRequest;j.open(i.method.toUpperCase(),i.url,!0),j.timeout=i.timeout;function w(){if(!j)return;const m=ot.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:m,config:e,request:j};t0(function(E){r(E),b()},function(E){n(E),b()},S),j=null}"onloadend"in j?j.onloadend=w:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(w)},j.onabort=function(){j&&(n(new J("Request aborted",J.ECONNABORTED,e,j)),j=null)},j.onerror=function(){n(new J("Network Error",J.ERR_NETWORK,e,j)),j=null},j.ontimeout=function(){let v=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||Jx;i.timeoutErrorMessage&&(v=i.timeoutErrorMessage),n(new J(v,S.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,e,j)),j=null},a===void 0&&o.setContentType(null),"setRequestHeader"in j&&R.forEach(o.toJSON(),function(v,S){j.setRequestHeader(S,v)}),R.isUndefined(i.withCredentials)||(j.withCredentials=!!i.withCredentials),l&&l!=="json"&&(j.responseType=i.responseType),u&&([p,x]=lo(u,!0),j.addEventListener("progress",p)),c&&j.upload&&([h,f]=lo(c),j.upload.addEventListener("progress",h),j.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(d=m=>{j&&(n(!m||m.type?new js(null,e,j):m),j.abort(),j=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const g=oN(i.url);if(g&&Ue.protocols.indexOf(g)===-1){n(new J("Unsupported protocol "+g+":",J.ERR_BAD_REQUEST,e));return}j.send(a||null)})},gN=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const a=function(u){if(!i){i=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof J?d:new js(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,a(new J(`timeout ${t} of ms exceeded`,J.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>R.asap(l),c}},xN=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},yN=async function*(e,t){for await(const r of vN(e))yield*xN(r,t)},vN=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Fp=(e,t,r,n)=>{const i=yN(e,t);let a=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){l(),c.close();return}let h=d.byteLength;if(r){let p=a+=h;r(p)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},Ho=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",s0=Ho&&typeof ReadableStream=="function",wN=Ho&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),i0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},bN=s0&&i0(()=>{let e=!1;const t=new Request(Ue.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),zp=64*1024,au=s0&&i0(()=>R.isReadableStream(new Response("").body)),co={stream:au&&(e=>e.body)};Ho&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!co[t]&&(co[t]=R.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new J(`Response type '${t}' is not supported`,J.ERR_NOT_SUPPORT,n)})})})(new Response);const jN=async e=>{if(e==null)return 0;if(R.isBlob(e))return e.size;if(R.isSpecCompliantForm(e))return(await new Request(Ue.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(R.isArrayBufferView(e)||R.isArrayBuffer(e))return e.byteLength;if(R.isURLSearchParams(e)&&(e=e+""),R.isString(e))return(await wN(e)).byteLength},NN=async(e,t)=>{const r=R.toFiniteNumber(e.getContentLength());return r??jN(t)},SN=Ho&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:p}=n0(e);u=u?(u+"").toLowerCase():"text";let f=gN([i,a&&a.toAbortSignal()],o),x;const b=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let j;try{if(c&&bN&&r!=="get"&&r!=="head"&&(j=await NN(d,n))!==0){let S=new Request(t,{method:"POST",body:n,duplex:"half"}),k;if(R.isFormData(n)&&(k=S.headers.get("content-type"))&&d.setContentType(k),S.body){const[E,C]=Op(j,lo(_p(c)));n=Fp(S.body,zp,E,C)}}R.isString(h)||(h=h?"include":"omit");const w="credentials"in Request.prototype;x=new Request(t,{...p,signal:f,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:w?h:void 0});let g=await fetch(x,p);const m=au&&(u==="stream"||u==="response");if(au&&(l||m&&b)){const S={};["status","statusText","headers"].forEach(A=>{S[A]=g[A]});const k=R.toFiniteNumber(g.headers.get("content-length")),[E,C]=l&&Op(k,lo(_p(l),!0))||[];g=new Response(Fp(g.body,zp,E,()=>{C&&C(),b&&b()}),S)}u=u||"text";let v=await co[R.findKey(co,u)||"text"](g,e);return!m&&b&&b(),await new Promise((S,k)=>{t0(S,k,{data:v,headers:ot.from(g.headers),status:g.status,statusText:g.statusText,config:e,request:x})})}catch(w){throw b&&b(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new J("Network Error",J.ERR_NETWORK,e,x),{cause:w.cause||w}):J.from(w,w&&w.code,e,x)}}),ou={http:Bj,xhr:mN,fetch:SN};R.forEach(ou,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Bp=e=>`- ${e}`,kN=e=>R.isFunction(e)||e===null||e===!1,a0={getAdapter:e=>{e=R.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let a=0;a<t;a++){r=e[a];let o;if(n=r,!kN(r)&&(n=ou[(o=String(r)).toLowerCase()],n===void 0))throw new J(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+a]=n}if(!n){const a=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?a.length>1?`since :
`+a.map(Bp).join(`
`):" "+Bp(a[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:ou};function Fl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new js(null,e)}function Ip(e){return Fl(e),e.headers=ot.from(e.headers),e.data=Ll.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),a0.getAdapter(e.adapter||Li.adapter)(e).then(function(n){return Fl(e),n.data=Ll.call(e,e.transformResponse,n),n.headers=ot.from(n.headers),n},function(n){return e0(n)||(Fl(e),n&&n.response&&(n.response.data=Ll.call(e,e.transformResponse,n.response),n.response.headers=ot.from(n.response.headers))),Promise.reject(n)})}const o0="1.11.0",qo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{qo[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Vp={};qo.transitional=function(t,r,n){function i(a,o){return"[Axios v"+o0+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(t===!1)throw new J(i(o," has been removed"+(r?" in "+r:"")),J.ERR_DEPRECATED);return r&&!Vp[o]&&(Vp[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,l):!0}};qo.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function CN(e,t,r){if(typeof e!="object")throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new J("option "+a+" must be "+c,J.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new J("Unknown option "+a,J.ERR_BAD_OPTION)}}const Ea={assertOptions:CN,validators:qo},It=Ea.validators;let cn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Mp,response:new Mp}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=wn(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&Ea.assertOptions(n,{silentJSONParsing:It.transitional(It.boolean),forcedJSONParsing:It.transitional(It.boolean),clarifyTimeoutError:It.transitional(It.boolean)},!1),i!=null&&(R.isFunction(i)?r.paramsSerializer={serialize:i}:Ea.assertOptions(i,{encode:It.function,serialize:It.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ea.assertOptions(r,{baseUrl:It.spelling("baseURL"),withXsrfToken:It.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&R.merge(a.common,a[r.method]);a&&R.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),r.headers=ot.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(c=c&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let d,h=0,p;if(!c){const x=[Ip.bind(this),void 0];for(x.unshift(...l),x.push(...u),p=x.length,d=Promise.resolve(r);h<p;)d=d.then(x[h++],x[h++]);return d}p=l.length;let f=r;for(h=0;h<p;){const x=l[h++],b=l[h++];try{f=x(f)}catch(j){b.call(this,j);break}}try{d=Ip.call(this,f)}catch(x){return Promise.reject(x)}for(h=0,p=u.length;h<p;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=wn(this.defaults,t);const r=r0(t.baseURL,t.url,t.allowAbsoluteUrls);return Xx(r,t.params,t.paramsSerializer)}};R.forEach(["delete","get","head","options"],function(t){cn.prototype[t]=function(r,n){return this.request(wn(n||{},{method:t,url:r,data:(n||{}).data}))}});R.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,l){return this.request(wn(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}cn.prototype[t]=r(),cn.prototype[t+"Form"]=r(!0)});let EN=class l0{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,l){n.reason||(n.reason=new js(a,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new l0(function(i){t=i}),cancel:t}}};function PN(e){return function(r){return e.apply(null,r)}}function TN(e){return R.isObject(e)&&e.isAxiosError===!0}const lu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lu).forEach(([e,t])=>{lu[t]=e});function c0(e){const t=new cn(e),r=Bx(cn.prototype.request,t);return R.extend(r,cn.prototype,t,{allOwnKeys:!0}),R.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return c0(wn(e,i))},r}const ae=c0(Li);ae.Axios=cn;ae.CanceledError=js;ae.CancelToken=EN;ae.isCancel=e0;ae.VERSION=o0;ae.toFormData=Wo;ae.AxiosError=J;ae.Cancel=ae.CanceledError;ae.all=function(t){return Promise.all(t)};ae.spread=PN;ae.isAxiosError=TN;ae.mergeConfig=wn;ae.AxiosHeaders=ot;ae.formToJSON=e=>Zx(R.isHTMLForm(e)?new FormData(e):e);ae.getAdapter=a0.getAdapter;ae.HttpStatusCode=lu;ae.default=ae;const{Axios:X5,AxiosError:J5,CanceledError:Z5,isCancel:eP,CancelToken:tP,VERSION:rP,all:nP,Cancel:sP,isAxiosError:iP,spread:aP,toFormData:oP,AxiosHeaders:lP,HttpStatusCode:cP,formToJSON:uP,getAdapter:dP,mergeConfig:hP}=ae;console.log("VITE_API_URL:","http://localhost:8080");console.log("Window location:",window.location.origin);const DN=()=>"http://localhost:8080",Ad=DN();console.log("Using API URL:",Ad);const $=ae.create({baseURL:Ad,timeout:1e4,headers:{"Content-Type":"application/json"}});$.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));$.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});const bn=Ad,u0=y.createContext(void 0);function AN({children:e}){const[t,r]=y.useState(!1),[n,i]=y.useState(null),[a,o]=y.useState(!0);y.useEffect(()=>{const d=localStorage.getItem("token");d?($.defaults.headers.common.Authorization=`Bearer ${d}`,r(!0),l()):o(!1)},[]);const l=async()=>{try{const d=await $.get("/api/auth/profile");i(d.data)}catch(d){console.error("Failed to fetch user data:",d),d.response&&d.response.status===401&&u()}finally{o(!1)}},c=async(d,h)=>{try{const p=await $.post("/api/auth/login",{username:d,password:h}),{token:f,user:x}=p.data;return localStorage.setItem("token",f),$.defaults.headers.common.Authorization=`Bearer ${f}`,r(!0),i(x),!0}catch(p){return console.error("Login failed:",p),!1}},u=()=>{localStorage.removeItem("token"),delete $.defaults.headers.common.Authorization,r(!1),i(null)};return s.jsx(u0.Provider,{value:{isAuthenticated:t,user:n,login:c,logout:u,loading:a},children:e})}function Ns(){const e=y.useContext(u0);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function MN(){const[e,t]=y.useState(""),[r,n]=y.useState(""),[i,a]=y.useState(""),[o,l]=y.useState(!1),{login:c}=Ns(),u=async d=>{d.preventDefault(),a(""),l(!0);try{if(await c(e,r)){n(""),l(!1);return}else a("Invalid credentials. Please try again.")}catch{a("Connection failed. Please try again.")}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-6",children:s.jsxs("div",{className:"w-full max-w-sm mx-auto",children:[s.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-12 scale-in",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(ke,{className:"h-16 w-16 text-red-500 heart-beat",fill:"currentColor"}),s.jsx("div",{className:"absolute inset-0 h-16 w-16 bg-red-500/20 rounded-full blur-xl"})]})}),s.jsx("h1",{className:"font-heading text-4xl font-bold text-gray-900 mb-3 tracking-tight",children:"Scott & Zoe"}),s.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Welcome to our sanctuary"})]}),s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-800 text-center",children:"Choose your identity"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{type:"button",onClick:()=>t("scott"),className:`relative p-4 rounded-2xl border-2 transition-all duration-300 group ${e==="scott"?"border-purple-400 bg-purple-50/80 shadow-lg shadow-purple-400/20":"border-gray-200 bg-gray-50/50 hover:border-gray-300 hover:bg-gray-50/80"}`,children:[s.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg transition-all duration-300 ${e==="scott"?"bg-gradient-to-br from-purple-400 to-purple-500 scale-110":"bg-gradient-to-br from-gray-400 to-gray-500 group-hover:from-purple-300 group-hover:to-purple-400"}`,children:"S"}),s.jsx("span",{className:`font-medium transition-colors ${e==="scott"?"text-purple-700":"text-gray-700"}`,children:"Scott"})]}),e==="scott"&&s.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-purple-400 rounded-full flex items-center justify-center",children:s.jsx(xn,{className:"w-3 h-3 text-white"})})]}),s.jsxs("button",{type:"button",onClick:()=>t("zoe"),className:`relative p-4 rounded-2xl border-2 transition-all duration-300 group ${e==="zoe"?"border-pink-500 bg-pink-50/80 shadow-lg shadow-pink-500/20":"border-gray-200 bg-gray-50/50 hover:border-gray-300 hover:bg-gray-50/80"}`,children:[s.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg transition-all duration-300 ${e==="zoe"?"bg-gradient-to-br from-pink-500 to-pink-600 scale-110":"bg-gradient-to-br from-gray-400 to-gray-500 group-hover:from-pink-400 group-hover:to-pink-500"}`,children:"Z"}),s.jsx("span",{className:`font-medium transition-colors ${e==="zoe"?"text-pink-700":"text-gray-700"}`,children:"Zoe"})]}),e==="zoe"&&s.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-pink-500 rounded-full flex items-center justify-center",children:s.jsx(xn,{className:"w-3 h-3 text-white"})})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-800 text-center",children:"Enter our secret password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ox,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"password",id:"password",value:r,onChange:d=>n(d.target.value),className:"w-full pl-12 pr-12 py-4 bg-gray-50/80 border border-gray-200 rounded-2xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-400/30 focus:border-purple-400 transition-all duration-300 text-center font-medium backdrop-blur-sm",placeholder:"Enter password",required:!0})]})]}),i&&s.jsx("div",{className:"bg-red-50/80 border border-red-200 text-red-700 text-sm text-center py-4 px-4 rounded-2xl backdrop-blur-sm font-medium",children:i}),s.jsx("button",{type:"submit",disabled:o||!e,className:`w-full py-4 px-6 rounded-2xl font-semibold text-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98] transform ${e==="scott"?"bg-gradient-to-r from-purple-400 to-purple-500 hover:from-purple-500 hover:to-purple-600 text-white hover:shadow-xl hover:shadow-purple-400/25":e==="zoe"?"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white hover:shadow-xl hover:shadow-pink-500/25":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:o?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"}),"Signing in..."]}):s.jsxs("span",{className:"flex items-center justify-center",children:["Enter Our World",s.jsx(ke,{className:"h-5 w-5 ml-2",fill:"currentColor"})]})})]}),s.jsx("div",{className:"mt-10 text-center",children:s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"A private space for our precious memories ✨"})})]}),s.jsx("div",{className:"text-center mt-8",children:s.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Made with ❤️ for Scott & Zoe"})})]})})}const d0=({onClose:e,level:t,onPrizeWon:r})=>{const[n,i]=y.useState(!1),[a,o]=y.useState(null),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[h,p]=y.useState(0),[f,x]=y.useState([]),[b,j]=y.useState(!0),[w,g]=y.useState(0),m=y.useRef(null),v=(N,D)=>{const M="w-5 h-5";return N==="MONEY"?D>=500?s.jsx(Hn,{className:`${M} text-yellow-300 drop-shadow-lg`}):D>=100?s.jsx(Hn,{className:`${M} text-yellow-200 drop-shadow-lg`}):D>=50?s.jsx(yn,{className:`${M} text-yellow-200 drop-shadow-lg`}):D>=25?s.jsx(er,{className:`${M} text-green-200 drop-shadow-lg`}):D>=10?s.jsx(er,{className:`${M} text-green-600 drop-shadow-sm`}):s.jsx(er,{className:`${M} text-green-700 drop-shadow-sm`}):N==="GIFT"?s.jsx(be,{className:`${M} text-purple-200 drop-shadow-lg`}):N==="EXPERIENCE"?s.jsx(yn,{className:`${M} text-purple-200 drop-shadow-lg`}):s.jsx(be,{className:`${M} text-white drop-shadow-lg`})},S=()=>[{id:1,amount:1,color:"#F3F4F6",probability:45,prizeName:"$1",prizeDescription:"Win $1 love points",prizeType:"MONEY",icon:v("MONEY",1)},{id:2,amount:5,color:"#E5E7EB",probability:25,prizeName:"$5",prizeDescription:"Win $5 love points",prizeType:"MONEY",icon:v("MONEY",5)},{id:3,amount:10,color:"#D1D5DB",probability:15,prizeName:"$10",prizeDescription:"Win $10 love points",prizeType:"MONEY",icon:v("MONEY",10)},{id:4,amount:25,color:"#9CA3AF",probability:10,prizeName:"$25",prizeDescription:"Win $25 love points",prizeType:"MONEY",icon:v("MONEY",25)},{id:5,amount:77,color:"#6B7280",probability:2.5,prizeName:"$77",prizeDescription:"Win $77 love points",prizeType:"MONEY",icon:v("MONEY",77)},{id:6,amount:100,color:"#4B5563",probability:1.5,prizeName:"$100",prizeDescription:"Win $100 love points",prizeType:"MONEY",icon:v("MONEY",100)},{id:7,amount:500,color:"#374151",probability:.5,prizeName:"$500",prizeDescription:"Win $500 love points",prizeType:"MONEY",icon:v("MONEY",500)},{id:8,amount:1e3,color:"#1F2937",probability:.5,prizeName:"$1000",prizeDescription:"Win $1000 love points",prizeType:"MONEY",icon:v("MONEY",1e3)}];y.useEffect(()=>{(async()=>{var D;try{const[M,_,L]=await Promise.all([$.get("/api/wheel/stats"),$.get("/api/opportunities/stats"),$.get("/api/wheel-config/my-wheel")]);if(d(!M.data.canUseThisWeek),p(_.data.unused||0),L.data.hasConfiguration&&L.data.prizes){const B=L.data.prizes.map((z,O)=>({id:z.id||O+1,amount:z.prizeValue,color:z.color,probability:parseFloat(z.probability),prizeName:z.prizeName,prizeDescription:z.prizeDescription,prizeType:z.prizeType,icon:v(z.prizeType,z.prizeValue)}));x(B)}else x(S());console.log("✅ Wheel data loaded:",{canUseThisWeek:M.data.canUseThisWeek,savedOpportunities:_.data.unused,prizesCount:((D=L.data.prizes)==null?void 0:D.length)||0})}catch(M){console.error("❌ Error loading wheel data from backend:",M);const _=new Date,B=new Date(_.setDate(_.getDate()-_.getDay())).toDateString(),z=localStorage.getItem("wheelLastUsedWeek"),O=parseInt(localStorage.getItem("wheelOpportunities")||"0");z===B&&d(!0),p(O),x(S())}finally{j(!1)}})()},[]);const k=()=>{const N=Math.random()*100;let D=0;for(const M of f)if(D+=M.probability,N<=D)return M;return f[0]},E=()=>{if(n)return;if(u&&h===0){alert("You can only use the wheel once per week! Come back next week or reach 520 love again for another opportunity.");return}i(!0);const N=k(),D=f.findIndex(I=>I.id===N.id),M=360/f.length,_=D*M+M/2,L=5,B=Math.floor(Math.random()*3)+2,O=(L+B)*360+(360-_);g(O),setTimeout(async()=>{i(!1),o(N),c(!0);try{const I=h>0?"saved_opportunity":"weekly";await $.post("/api/wheel/use",{prizeAmount:N.amount,source:I}),console.log("✅ Wheel usage recorded in backend successfully")}catch(I){console.error("❌ Error recording wheel usage in backend:",I);const V=new Date,H=new Date(V.setDate(V.getDate()-V.getDay())).toDateString();localStorage.setItem("wheelLastUsedWeek",H)}if(d(!0),h>0)try{await $.post("/api/opportunities/use");const I=await $.get("/api/opportunities/stats");p(I.data.unused||0)}catch(I){console.error("Error using saved opportunity in backend:",I);const V=h-1;localStorage.setItem("wheelOpportunities",V.toString()),p(V)}},3200)},C=async N=>{if(!n&&a){try{await $.post("/api/wheel-prizes",{prizeType:a.prizeType,prizeValue:a.amount,prizeDescription:a.prizeDescription}),console.log("✅ Prize claimed and recorded:",a.amount),r&&await r(a.amount)}catch(D){console.error("❌ Error recording prize:",D)}e()}},A=async N=>{if(N&&(N.preventDefault(),N.stopPropagation()),!n){if(!u&&!l)try{await $.post("/api/opportunities/create",{source:"wheel_close_without_spin"}),console.log("✅ Opportunity saved for later use")}catch(D){console.error("❌ Error saving opportunity:",D);const M=parseInt(localStorage.getItem("wheelOpportunities")||"0");localStorage.setItem("wheelOpportunities",(M+1).toString())}e()}},P=N=>{switch(N){case 1:return"#F3F4F6";case 5:return"#E5E7EB";case 10:return"#D1D5DB";case 25:return"#9CA3AF";case 77:return"#6B7280";case 100:return"#4B5563";case 500:return"#374151";case 1e3:return"#1F2937";default:return"#F3F4F6"}};return b?s.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:s.jsxs("div",{className:"bg-white rounded-3xl max-w-md w-full p-8 apple-shadow-lg relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-50 via-pink-50 to-purple-50 opacity-50"}),s.jsxs("div",{className:"relative z-10 text-center",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-8 h-8"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(be,{className:"w-6 h-6 text-yellow-500"}),s.jsx("h2",{className:"text-2xl font-bold text-apple-label",children:"Prize Wheel"}),s.jsx(Hn,{className:"w-6 h-6 text-yellow-500"})]}),s.jsx("button",{onClick:e,className:"w-8 h-8 rounded-full bg-apple-gray-6/10 hover:bg-apple-gray-6/20 flex items-center justify-center transition-colors",children:s.jsx(Qe,{className:"w-4 h-4 text-apple-secondary-label"})})]}),s.jsxs("div",{className:"py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-500 mx-auto mb-4"}),s.jsx("p",{className:"text-apple-secondary-label",children:"Loading wheel configuration..."})]})]})]})}):s.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[9999] p-4",onClick:N=>{N.preventDefault(),N.stopPropagation(),N.target===N.currentTarget&&!n&&A()},children:s.jsxs("div",{className:"bg-white rounded-3xl max-w-md w-full p-8 apple-shadow-lg relative overflow-hidden pointer-events-auto",onClick:N=>{N.preventDefault(),N.stopPropagation()},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-50 via-pink-50 to-purple-50 opacity-50"}),s.jsxs("div",{className:"relative z-10 text-center mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-8 h-8"})," ",s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(be,{className:"w-6 h-6 text-yellow-500"}),s.jsx("h2",{className:"text-2xl font-bold text-apple-label",children:"Prize Wheel"}),s.jsx(Hn,{className:"w-6 h-6 text-yellow-500"})]}),h>0&&s.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[h," saved opportunity",h>1?"ies":"y"," available"]}),u&&h===0&&s.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Used this week - come back next week!"})]}),s.jsx("button",{onClick:N=>{N.preventDefault(),N.stopPropagation(),A(N)},disabled:n,className:"w-8 h-8 rounded-full bg-apple-gray-6/10 hover:bg-apple-gray-6/20 flex items-center justify-center transition-colors disabled:opacity-50 pointer-events-auto z-[10000]",children:s.jsx(Qe,{className:"w-4 h-4 text-apple-secondary-label"})})]}),s.jsxs("p",{className:"text-apple-secondary-label",children:["Congratulations! You've reached level ",t,"!"]})]}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[s.jsxs("div",{className:"relative w-64 h-64 mb-6",children:[n&&s.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent bg-gradient-to-r from-yellow-400 via-red-500 to-pink-500 animate-pulse opacity-20 z-10"}),s.jsx("div",{ref:m,className:`w-full h-full rounded-full border-4 border-white apple-shadow-lg transition-transform duration-[3000ms] ${n?"ease-out":"hover:scale-105 ease-in-out duration-200"}`,style:{transform:`rotate(${w}deg)`,background:`conic-gradient(${f.map((N,D)=>{const M=D/f.length*360,_=(D+1)/f.length*360;return`${N.color} ${M}deg ${_}deg`}).join(", ")})`},children:f.map((N,D)=>{const M=360/f.length,_=D*M+M/2,L=f.length>6?50:65,B=Math.cos((_-90)*Math.PI/180)*L,z=Math.sin((_-90)*Math.PI/180)*L;return N.color==="#F3F4F6"||N.color==="#E5E7EB"||N.color,s.jsx("div",{className:"absolute flex flex-col items-center justify-center font-bold pointer-events-none text-white",style:{left:`calc(50% + ${B}px)`,top:`calc(50% + ${z}px)`,transform:`translate(-50%, -50%) rotate(${_}deg)`,transformOrigin:"center",textShadow:"2px 2px 4px rgba(0,0,0,0.8)",fontSize:f.length>8?"9px":"11px"},children:s.jsxs("div",{className:"flex flex-col items-center space-y-0.5",style:{transform:`rotate(-${_}deg)`},children:[s.jsx("div",{className:"flex items-center justify-center mb-0.5",children:s.jsx("span",{className:"text-base",children:N.prizeType==="MONEY"?"💰":N.prizeType==="GIFT"?"🎁":"✨"})}),s.jsx("span",{className:"text-center leading-tight font-bold max-w-16 truncate block",style:{fontSize:f.length>8?"8px":"10px"},title:N.prizeName,children:N.prizeName})]})},N.id)})}),s.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-2 z-10",children:s.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-b-8 border-l-transparent border-r-transparent border-b-red-500"})})]}),!l&&s.jsx("button",{onClick:N=>{N.preventDefault(),N.stopPropagation(),E()},disabled:n||u&&h===0,className:`px-8 py-4 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white rounded-xl font-semibold transition-all duration-200 shadow-lg pointer-events-auto z-[10000] relative ${n||u&&h===0?"opacity-50 cursor-not-allowed":"hover:shadow-xl hover:scale-105"}`,children:n?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Spinning... 🎰"})]}):u&&h===0?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{children:"Used This Week"}),s.jsx("span",{className:"text-xl",children:"⏰"})]}):s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{children:"Spin the Wheel!"}),s.jsx("span",{className:"text-xl",children:"🎰"})]})}),l&&a&&s.jsxs("div",{className:"text-center space-y-4 animate-bounce-in",children:[s.jsx("div",{className:`w-20 h-20 rounded-full bg-gradient-to-br ${P(a.amount)} flex items-center justify-center mx-auto apple-shadow-lg`,children:s.jsxs("div",{className:"text-white text-2xl font-bold",children:["$",a.amount]})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-apple-label mb-2",children:"Congratulations! 🎉"}),s.jsxs("p",{className:"text-apple-secondary-label mb-2",children:["You won ",a.prizeName,"!"]}),s.jsx("p",{className:"text-sm text-apple-secondary-label mb-4",children:a.prizeDescription}),s.jsxs("button",{onClick:N=>{N.preventDefault(),N.stopPropagation(),C()},className:"px-8 py-4 bg-gradient-to-r from-purple-400 to-purple-500 hover:from-purple-500 hover:to-purple-600 text-white rounded-xl font-bold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:["💰 Claim $",a.amount," Prize"]})]})]})]})]})})},RN=({message:e,type:t="general",onClose:r,duration:n=3e3})=>{const[i,a]=y.useState(!1);y.useEffect(()=>{a(!0);const c=setTimeout(()=>{a(!1),setTimeout(r,300)},n);return()=>clearTimeout(c)},[n,r]);const o=()=>{switch(t){case"photo":return s.jsx(dr,{className:"w-5 h-5 text-white"});case"love":return s.jsx(ke,{className:"w-5 h-5 text-white fill-current"});default:return s.jsx(tu,{className:"w-5 h-5 text-white"})}},l=()=>{switch(t){case"photo":return"from-purple-400 to-purple-500";case"love":return"from-pink-500 to-red-500";default:return"from-green-500 to-green-600"}};return s.jsx("div",{className:`transform transition-all duration-300 ${i?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"}`,children:s.jsxs("div",{className:`bg-gradient-to-r ${l()} rounded-2xl p-4 apple-shadow-lg max-w-sm`,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:o()}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-white font-medium text-sm",children:e})}),s.jsx("button",{onClick:()=>{a(!1),setTimeout(r,300)},className:"flex-shrink-0 text-white/80 hover:text-white transition-colors",children:s.jsx(Qe,{className:"w-4 h-4"})})]}),t==="love"&&s.jsx("div",{className:"absolute -top-1 -right-1",children:s.jsx("div",{className:"flex space-x-1",children:[...Array(3)].map((c,u)=>s.jsx(ke,{className:"w-3 h-3 text-pink-300 fill-current animate-float-up",style:{animationDelay:`${u*.2}s`}},u))})}),t==="photo"&&s.jsx("div",{className:"absolute -top-1 -right-1",children:s.jsx("div",{className:"flex space-x-1",children:[...Array(2)].map((c,u)=>s.jsx("div",{className:"w-2 h-2 bg-blue-300 rounded-full animate-sparkle",style:{animationDelay:`${u*.3}s`}},u))})})]})})},h0=y.createContext(void 0),Yo=()=>{const e=y.useContext(h0);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},ON=({children:e})=>{const[t,r]=y.useState([]),n=(l,c="general",u=3e3)=>{const h={id:Math.random().toString(36).substr(2,9),message:l,type:c,duration:u};r(p=>[...p,h])},i=l=>{const c=l===1?"📸 Photo uploaded successfully!":`📸 ${l} photos uploaded successfully!`;n(c,"photo",4e3)},a=()=>{const l=["💕 Love shared!","❤️ Sending love!","💖 Love you more!","💝 Sweet love!","💗 Love grows!"],c=l[Math.floor(Math.random()*l.length)];n(c,"love",2e3)},o=l=>{r(c=>c.filter(u=>u.id!==l))};return s.jsxs(h0.Provider,{value:{showToast:n,showPhotoSuccess:i,showLoveSuccess:a},children:[e,s.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map((l,c)=>s.jsx("div",{style:{transform:`translateY(${c*80}px)`,zIndex:50-c},children:s.jsx(RN,{message:l.message,type:l.type,duration:l.duration,onClose:()=>o(l.id)})},l.id))})]})},_N=({onLoveClick:e})=>{const{user:t}=Ns(),[r,n]=y.useState({count:0,totalCount:0,nextMilestone:520,remainingToMilestone:520,currentLevel:1,progressPercent:0,isMilestoneReached:!1}),[i,a]=y.useState(!1),[o,l]=y.useState(!1),[c,u]=y.useState(!1),[d,h]=y.useState(!0),[p,f]=y.useState(0),[x,b]=y.useState(!0),{showLoveSuccess:j,showToast:w}=Yo();y.useEffect(()=>{S(),g(),m()},[]);const g=async()=>{try{const H=await $.get("/api/opportunities/stats");f(H.data.unused||0)}catch(H){console.error("Error loading saved opportunities from backend:",H);const Z=parseInt(localStorage.getItem("wheelOpportunities")||"0");f(Z)}},m=async()=>{try{const H=await $.get("/api/wheel/stats");b(H.data.canUseThisWeek)}catch(H){console.error("Error fetching wheel usage status:",H);const Z=new Date,W=new Date(Z.setDate(Z.getDate()-Z.getDay())).toDateString(),Y=localStorage.getItem("wheelLastUsedWeek");b(Y!==W)}},v=async H=>{if(H&&(H.preventDefault(),H.stopPropagation()),p>0)try{if(!(await $.get("/api/wheel/stats")).data.canUseThisWeek){alert("🚫 Saved opportunities can only be used next week! Come back after the week resets.");return}a(!0)}catch(Z){console.error("Error checking wheel usage status:",Z);const oe=new Date,Y=new Date(oe.setDate(oe.getDate()-oe.getDay())).toDateString();if(localStorage.getItem("wheelLastUsedWeek")===Y){alert("🚫 Saved opportunities can only be used next week! Come back after the week resets.");return}a(!0)}},S=async()=>{try{h(!0);const H=await $.get("/api/love");n(H.data)}catch(H){console.error("Error fetching love stats:",H)}finally{h(!1)}},k=async H=>{console.log("Prize won:",H)},[E,C]=y.useState(0),[A,P]=y.useState(!1),[N,D]=y.useState([]),[M,_]=y.useState(0),[L,B]=y.useState(!1),[z,O]=y.useState(null);y.useEffect(()=>{if(E>0&&!A){P(!0);const H=E;C(0),I(H)}},[E,A]),y.useEffect(()=>()=>{z&&clearTimeout(z)},[z]);const I=async H=>{try{const Z=[];for(let Y=0;Y<H;Y++)Z.push($.post("/api/love/increment"));const W=(await Promise.allSettled(Z)).filter(Y=>Y.status==="fulfilled").map(Y=>Y.value);if(W.length>0){const ee=W[W.length-1].data;n({count:ee.count,totalCount:ee.totalCount,nextMilestone:ee.nextMilestone,remainingToMilestone:ee.remainingToMilestone,currentLevel:ee.currentLevel,progressPercent:ee.progressPercent,isMilestoneReached:ee.isMilestoneReached}),Math.random()<.2&&j(),ee.justReachedMilestone&&await V()}}catch(Z){console.error("Error processing love clicks:",Z),w("Failed to share love. Please try again.","general")}finally{P(!1)}},V=async()=>{try{if((await $.get("/api/wheel/stats")).data.canUseThisWeek)setTimeout(()=>{a(!0)},500);else try{await $.post("/api/opportunities/create",{source:"milestone_520"}),await g(),w("🎉 You reached 520 love! Opportunity saved for next week!","general")}catch(oe){console.error("Error saving opportunity to backend:",oe);const W=parseInt(localStorage.getItem("wheelOpportunities")||"0");localStorage.setItem("wheelOpportunities",(W+1).toString()),await g(),w("🎉 You reached 520 love! Opportunity saved for next week!","general")}}catch(H){console.error("Error checking wheel usage status for milestone:",H);const Z=new Date,W=new Date(Z.setDate(Z.getDate()-Z.getDay())).toDateString();if(localStorage.getItem("wheelLastUsedWeek")===W)try{await $.post("/api/opportunities/create",{source:"milestone_520"}),await g(),w("🎉 You reached 520 love! Opportunity saved for next week!","general")}catch(ee){console.error("Error saving opportunity to backend:",ee);const Kt=parseInt(localStorage.getItem("wheelOpportunities")||"0");localStorage.setItem("wheelOpportunities",(Kt+1).toString()),await g(),w("🎉 You reached 520 love! Opportunity saved for next week!","general")}else setTimeout(()=>{a(!0)},500)}},G=async H=>{H&&(H.preventDefault(),H.stopPropagation());const Z=Date.now();D(oe=>{const W=[...oe,Z].filter(Y=>Z-Y<2e3);if(W.length>=5){_(ee=>ee+1),B(!0),z&&clearTimeout(z);const Y=setTimeout(()=>{B(!1),O(null)},2e3);O(Y)}return W}),l(!0),u(!0),setTimeout(()=>{l(!1),u(!1)},300),C(oe=>oe+1),e==null||e()};return d?s.jsx("div",{className:"apple-card apple-card-hover p-6 text-center apple-shadow relative overflow-hidden",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"w-12 h-12 bg-apple-gray-6/20 rounded-full mx-auto mb-4"}),s.jsx("div",{className:"w-16 h-8 bg-apple-gray-6/20 rounded mx-auto mb-2"}),s.jsx("div",{className:"w-20 h-4 bg-apple-gray-6/20 rounded mx-auto"})]})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative pointer-events-auto touch-manipulation",children:[s.jsxs("div",{className:"apple-card apple-card-hover p-6 text-center apple-shadow relative overflow-hidden transition-all duration-500",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-50 to-red-50 opacity-50"}),c&&s.jsx("div",{className:"absolute inset-4 pointer-events-none",children:[...Array(4)].map((H,Z)=>s.jsx(ke,{className:"absolute w-3 h-3 fill-current animate-float-up text-red-400",style:{left:`${20+Z*15}%`,top:"80%",animationDelay:`${Z*.2}s`,animationDuration:"1.5s"}},Z))}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("button",{onClick:H=>G(H),className:`group relative z-30 pointer-events-auto transition-all duration-500 touch-manipulation hover-bounce focus:outline-none ${o?"animate-cute-squish":""} ${L?"animate-heart-bounce":""}`,style:{WebkitTapHighlightColor:"transparent",filter:o?"drop-shadow(0 0 8px rgba(239, 68, 68, 0.6))":"drop-shadow(0 2px 6px rgba(239, 68, 68, 0.2))"},children:[s.jsx(ke,{className:`h-12 w-12 mx-auto mb-4 transition-all duration-500 ${L||o?"text-red-500 fill-current animate-heart-bounce":"text-gradient fill-current group-hover:text-red-500 hover-glow"}`,style:{filter:o||L?"drop-shadow(0 0 8px rgba(239, 68, 68, 0.6))":"drop-shadow(0 0 4px rgba(239, 68, 68, 0.3))"}}),s.jsx("div",{className:"absolute -inset-2 rounded-full opacity-0 group-hover:opacity-30 transition-all duration-300 pointer-events-none bg-gradient-to-r from-red-400/8 to-pink-400/8"})]}),s.jsx("div",{className:"text-3xl font-semibold text-apple-label mb-2",children:r.count.toLocaleString()}),s.jsx("div",{className:"text-apple-secondary-label mb-2",children:"Love Shared"}),p>0&&(()=>{const H=x;return s.jsx("div",{className:"mb-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm text-purple-700 font-medium",children:["🎰 ",p," Saved Spin",p>1?"s":""]}),s.jsx("div",{className:"text-xs text-purple-500 mt-1",children:H?"Ready to use this week!":"Available next week!"})]}),s.jsx("button",{onClick:Z=>v(Z),disabled:!H,className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-colors relative z-30 pointer-events-auto touch-manipulation ${H?"bg-purple-500 text-white hover:bg-purple-600 active:scale-95":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,style:{WebkitTapHighlightColor:"transparent"},children:H?"Use Now":"Next Week"})]})})})(),r.count>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-apple-secondary-label",children:[s.jsxs("span",{children:["Level ",r.currentLevel]}),s.jsxs("span",{children:[r.remainingToMilestone," to next prize"]})]}),s.jsx("div",{className:"w-full bg-apple-gray-6/20 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-red-500 h-2 rounded-full transition-all duration-500",style:{width:`${r.progressPercent}%`}})}),r.remainingToMilestone<=50&&s.jsxs("div",{className:"flex items-center justify-center space-x-1 text-xs text-red-500 animate-pulse",children:[s.jsx(be,{className:"w-3 h-3"}),s.jsx("span",{children:"Prize wheel coming soon!"}),s.jsx(Hn,{className:"w-3 h-3"})]})]})]})]}),r.count>=520&&s.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl border border-yellow-200",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm",children:[s.jsx(yn,{className:"w-4 h-4 text-yellow-500 fill-current"}),s.jsxs("span",{className:"text-yellow-700 font-medium",children:["Milestone Level ",r.currentLevel," Achieved!"]}),s.jsx(yn,{className:"w-4 h-4 text-yellow-500 fill-current"})]}),s.jsxs("div",{className:"text-center text-xs text-yellow-600 mt-1",children:["You've unlocked ",Math.floor(r.count/520)," prize wheel",Math.floor(r.count/520)>1?"s":"","!"]})]})]}),i&&s.jsx(d0,{onClose:()=>{a(!1),g(),m()},level:r.currentLevel,onPrizeWon:k})]})},LN=()=>{const{user:e,isAuthenticated:t}=Ns(),[r,n]=y.useState(null),[i,a]=y.useState(!0),[o,l]=y.useState(null),c=y.useRef(null);if(!t||!e)return null;const u=async()=>{try{a(!0),l(null);const x=await $.get("/api/love/partner");n(x.data)}catch(x){console.error("Error fetching partner love count:",x),l("Failed to load partner's love count")}finally{a(!1)}},d=()=>{try{c.current&&c.current.close();const x=localStorage.getItem("token");if(!x){console.error("No authentication token found for SSE"),u();return}const b=new EventSource(`/api/love-updates/subscribe?token=${encodeURIComponent(x)}`,{withCredentials:!0});b.addEventListener("partner-love-update",j=>{try{const w=JSON.parse(j.data);n(w),l(null)}catch(w){console.error("Error parsing SSE data:",w)}}),b.onerror=j=>{console.error("SSE connection error:",j),l("Real-time connection lost"),c.current&&(c.current.close(),c.current=null),setTimeout(()=>{console.log("Attempting to reconnect SSE..."),d()},3e3),setTimeout(()=>{u()},1e3)},b.onopen=()=>{console.log("SSE connection established"),l(null)},c.current=b}catch(x){console.error("Error setting up SSE:",x),u(),setTimeout(()=>{d()},5e3)}};if(y.useEffect(()=>{if(!(!t||!e))return u(),d(),()=>{c.current&&c.current.close()}},[t,e]),i&&!r)return s.jsxs("div",{className:"apple-card apple-shadow p-6 text-center animate-pulse",children:[s.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded-full mx-auto mb-4"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded"})]});if(o)return s.jsxs("div",{className:"apple-card apple-shadow p-6 text-center",children:[s.jsx("div",{className:"text-red-500 mb-2",children:"❌"}),s.jsx("div",{className:"text-sm text-red-600",children:o})]});if(!r)return null;e==null||e.username,r.partnerUsername;const h=r.partnerUsername==="scott"?"text-purple-400":"text-pink-500",p=r.partnerUsername==="scott"?"bg-purple-50":"bg-pink-50",f=r.partnerUsername==="scott"?"border-purple-200":"border-pink-200";return s.jsxs("div",{className:`apple-card apple-shadow p-6 text-center transition-all duration-300 cursor-pointer group pointer-events-auto relative ${p} ${f} border group-hover:shadow-lg`,children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:`p-3 rounded-full ${r.partnerUsername==="scott"?"bg-purple-100":"bg-pink-100"} transition-all duration-300 group-hover:scale-105`,children:s.jsx(ke,{className:`h-8 w-8 ${h} transition-all duration-300 group-hover:scale-110`,fill:"currentColor"})})}),s.jsx("div",{className:"text-3xl font-semibold text-apple-label mb-2 transition-all duration-300 group-hover:scale-105",children:r.partnerLoveCount.toLocaleString()}),s.jsxs("div",{className:"text-apple-secondary-label transition-colors duration-300 group-hover:text-apple-blue-light mb-3",children:[r.partnerDisplayName,"'s Love"]}),s.jsxs("div",{className:"text-xs text-apple-tertiary-label mb-2",children:["💕 Love shared by ",r.partnerDisplayName]}),i&&s.jsx("div",{className:"text-xs text-apple-blue-light opacity-70",children:"Updating..."}),s.jsx("div",{className:"mt-2 text-xs text-apple-blue-light font-medium opacity-0 group-hover:opacity-100 transition-all duration-300",children:"Real-time sync ✨"})]})},FN={},$p=e=>{let t;const r=new Set,n=(d,h)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const f=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),r.forEach(x=>x(t,f))}},i=()=>t,c={setState:n,getState:i,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(FN?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,i,c);return c},zN=e=>e?$p(e):$p;var p0={exports:{}},f0={},m0={exports:{}},g0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ps=y;function BN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var IN=typeof Object.is=="function"?Object.is:BN,VN=ps.useState,$N=ps.useEffect,UN=ps.useLayoutEffect,WN=ps.useDebugValue;function HN(e,t){var r=t(),n=VN({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return UN(function(){i.value=r,i.getSnapshot=t,zl(i)&&a({inst:i})},[e,r,t]),$N(function(){return zl(i)&&a({inst:i}),e(function(){zl(i)&&a({inst:i})})},[e]),WN(r),r}function zl(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!IN(e,r)}catch{return!0}}function qN(e,t){return t()}var YN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?qN:HN;g0.useSyncExternalStore=ps.useSyncExternalStore!==void 0?ps.useSyncExternalStore:YN;m0.exports=g0;var GN=m0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Go=y,KN=GN;function QN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var XN=typeof Object.is=="function"?Object.is:QN,JN=KN.useSyncExternalStore,ZN=Go.useRef,e2=Go.useEffect,t2=Go.useMemo,r2=Go.useDebugValue;f0.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=ZN(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=t2(function(){function c(f){if(!u){if(u=!0,d=f,f=n(f),i!==void 0&&o.hasValue){var x=o.value;if(i(x,f))return h=x}return h=f}if(x=h,XN(d,f))return x;var b=n(f);return i!==void 0&&i(x,b)?(d=f,x):(d=f,h=b)}var u=!1,d,h,p=r===void 0?null:r;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,r,n,i]);var l=JN(e,a[0],a[1]);return e2(function(){o.hasValue=!0,o.value=l},[l]),r2(l),l};p0.exports=f0;var n2=p0.exports;const s2=am(n2),x0={},{useDebugValue:i2}=Nn,{useSyncExternalStoreWithSelector:a2}=s2;let Up=!1;const o2=e=>e;function l2(e,t=o2,r){(x0?"production":void 0)!=="production"&&r&&!Up&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Up=!0);const n=a2(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return i2(n),n}const Wp=e=>{(x0?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?zN(e):e,r=(n,i)=>l2(t,n,i);return Object.assign(r,t),r},c2=e=>e?Wp(e):Wp,Yt=Object.create(null);Yt.open="0";Yt.close="1";Yt.ping="2";Yt.pong="3";Yt.message="4";Yt.upgrade="5";Yt.noop="6";const Pa=Object.create(null);Object.keys(Yt).forEach(e=>{Pa[Yt[e]]=e});const cu={type:"error",data:"parser error"},y0=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",v0=typeof ArrayBuffer=="function",w0=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Md=({type:e,data:t},r,n)=>y0&&t instanceof Blob?r?n(t):Hp(t,n):v0&&(t instanceof ArrayBuffer||w0(t))?r?n(t):Hp(new Blob([t]),n):n(Yt[e]+(t||"")),Hp=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function qp(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Bl;function u2(e,t){if(y0&&e.data instanceof Blob)return e.data.arrayBuffer().then(qp).then(t);if(v0&&(e.data instanceof ArrayBuffer||w0(e.data)))return t(qp(e.data));Md(e,!1,r=>{Bl||(Bl=new TextEncoder),t(Bl.encode(r))})}const Yp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Us=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Yp.length;e++)Us[Yp.charCodeAt(e)]=e;const d2=e=>{let t=e.length*.75,r=e.length,n,i=0,a,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(n=0;n<r;n+=4)a=Us[e.charCodeAt(n)],o=Us[e.charCodeAt(n+1)],l=Us[e.charCodeAt(n+2)],c=Us[e.charCodeAt(n+3)],d[i++]=a<<2|o>>4,d[i++]=(o&15)<<4|l>>2,d[i++]=(l&3)<<6|c&63;return u},h2=typeof ArrayBuffer=="function",Rd=(e,t)=>{if(typeof e!="string")return{type:"message",data:b0(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:p2(e.substring(1),t)}:Pa[r]?e.length>1?{type:Pa[r],data:e.substring(1)}:{type:Pa[r]}:cu},p2=(e,t)=>{if(h2){const r=d2(e);return b0(r,t)}else return{base64:!0,data:e}},b0=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},j0="",f2=(e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach((a,o)=>{Md(a,!1,l=>{n[o]=l,++i===r&&t(n.join(j0))})})},m2=(e,t)=>{const r=e.split(j0),n=[];for(let i=0;i<r.length;i++){const a=Rd(r[i],t);if(n.push(a),a.type==="error")break}return n};function g2(){return new TransformStream({transform(e,t){u2(e,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}let Il;function aa(e){return e.reduce((t,r)=>t+r.length,0)}function oa(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function x2(e,t){Il||(Il=new TextDecoder);const r=[];let n=0,i=-1,a=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(aa(r)<1)break;const c=oa(r,1);a=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(aa(r)<2)break;const c=oa(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(aa(r)<8)break;const c=oa(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(cu);break}i=d*Math.pow(2,32)+u.getUint32(4),n=3}else{if(aa(r)<i)break;const c=oa(r,i);l.enqueue(Rd(a?c:Il.decode(c),t)),n=0}if(i===0||i>e){l.enqueue(cu);break}}}})}const N0=4;function Te(e){if(e)return y2(e)}function y2(e){for(var t in Te.prototype)e[t]=Te.prototype[t];return e}Te.prototype.on=Te.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Te.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Te.prototype.off=Te.prototype.removeListener=Te.prototype.removeAllListeners=Te.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Te.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this};Te.prototype.emitReserved=Te.prototype.emit;Te.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Te.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Ko=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),jt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),v2="arraybuffer";function S0(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const w2=jt.setTimeout,b2=jt.clearTimeout;function Qo(e,t){t.useNativeTimers?(e.setTimeoutFn=w2.bind(jt),e.clearTimeoutFn=b2.bind(jt)):(e.setTimeoutFn=jt.setTimeout.bind(jt),e.clearTimeoutFn=jt.clearTimeout.bind(jt))}const j2=1.33;function N2(e){return typeof e=="string"?S2(e):Math.ceil((e.byteLength||e.size)*j2)}function S2(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function k0(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function k2(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function C2(e){let t={},r=e.split("&");for(let n=0,i=r.length;n<i;n++){let a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class E2 extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class Od extends Te{constructor(t){super(),this.writable=!1,Qo(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new E2(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Rd(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=k2(t);return r.length?"?"+r:""}}class P2 extends Od{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};m2(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,f2(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=k0()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let C0=!1;try{C0=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const T2=C0;function D2(){}class A2 extends P2{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}let rs=class Ta extends Te{constructor(t,r,n){super(),this.createRequest=t,Qo(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=S0(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Ta.requestsCount++,Ta.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=D2,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ta.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};rs.requestsCount=0;rs.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Gp);else if(typeof addEventListener=="function"){const e="onpagehide"in jt?"pagehide":"unload";addEventListener(e,Gp,!1)}}function Gp(){for(let e in rs.requests)rs.requests.hasOwnProperty(e)&&rs.requests[e].abort()}const M2=function(){const e=E0({xdomain:!1});return e&&e.responseType!==null}();class R2 extends A2{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=M2&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new rs(E0,this.uri(),t)}}function E0(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||T2))return new XMLHttpRequest}catch{}if(!t)try{return new jt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const P0=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class O2 extends Od{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=P0?{}:S0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;Md(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}i&&Ko(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=k0()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const Vl=jt.WebSocket||jt.MozWebSocket;class _2 extends O2{createSocket(t,r,n){return P0?new Vl(t,r,n):r?new Vl(t,r):new Vl(t)}doWrite(t,r){this.ws.send(r)}}class L2 extends Od{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=x2(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),i=g2();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const a=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;this._writer.write(n).then(()=>{i&&Ko(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const F2={websocket:_2,webtransport:L2,polling:R2},z2=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,B2=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function uu(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=z2.exec(e||""),a={},o=14;for(;o--;)a[B2[o]]=i[o]||"";return r!=-1&&n!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=I2(a,a.path),a.queryKey=V2(a,a.query),a}function I2(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function V2(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(r[i]=a)}),r}const du=typeof addEventListener=="function"&&typeof removeEventListener=="function",Da=[];du&&addEventListener("offline",()=>{Da.forEach(e=>e())},!1);class Fr extends Te{constructor(t,r){if(super(),this.binaryType=v2,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=uu(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=uu(r.host).host);Qo(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=C2(this.opts.query)),du&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Da.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=N0,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Fr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Fr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=N2(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Ko(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:t,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Fr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),du&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Da.indexOf(this._offlineEventListener);n!==-1&&Da.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Fr.protocol=N0;class $2 extends Fr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;Fr.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Fr.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=r.name,this.emitReserved("upgradeError",p)}}))};function a(){n||(n=!0,d(),r.close(),r=null)}const o=h=>{const p=new Error("probe error: "+h);p.transport=r.name,a(),this.emitReserved("upgradeError",p)};function l(){o("transport closed")}function c(){o("socket closed")}function u(h){r&&h.name!==r.name&&a()}const d=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",i),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let U2=class extends $2{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>F2[i]).filter(i=>!!i)),super(t,n)}};function W2(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=uu(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const H2=typeof ArrayBuffer=="function",q2=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,T0=Object.prototype.toString,Y2=typeof Blob=="function"||typeof Blob<"u"&&T0.call(Blob)==="[object BlobConstructor]",G2=typeof File=="function"||typeof File<"u"&&T0.call(File)==="[object FileConstructor]";function _d(e){return H2&&(e instanceof ArrayBuffer||q2(e))||Y2&&e instanceof Blob||G2&&e instanceof File}function Aa(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Aa(e[r]))return!0;return!1}if(_d(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Aa(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Aa(e[r]))return!0;return!1}function K2(e){const t=[],r=e.data,n=e;return n.data=hu(r,t),n.attachments=t.length,{packet:n,buffers:t}}function hu(e,t){if(!e)return e;if(_d(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=hu(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=hu(e[n],t));return r}return e}function Q2(e,t){return e.data=pu(e.data,t),delete e.attachments,e}function pu(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=pu(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=pu(e[r],t));return e}const X2=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],J2=5;var se;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(se||(se={}));class Z2{constructor(t){this.replacer=t}encode(t){return(t.type===se.EVENT||t.type===se.ACK)&&Aa(t)?this.encodeAsBinary({type:t.type===se.EVENT?se.BINARY_EVENT:se.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===se.BINARY_EVENT||t.type===se.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=K2(t),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function Kp(e){return Object.prototype.toString.call(e)==="[object Object]"}class Ld extends Te{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===se.BINARY_EVENT;n||r.type===se.BINARY_ACK?(r.type=n?se.EVENT:se.ACK,this.reconstructor=new eS(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(_d(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(se[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===se.BINARY_EVENT||n.type===se.BINARY_ACK){const a=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(a,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(a,r)}else n.nsp="/";const i=t.charAt(r+1);if(i!==""&&Number(i)==i){const a=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}n.id=Number(t.substring(a,r+1))}if(t.charAt(++r)){const a=this.tryParse(t.substr(r));if(Ld.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case se.CONNECT:return Kp(r);case se.DISCONNECT:return r===void 0;case se.CONNECT_ERROR:return typeof r=="string"||Kp(r);case se.EVENT:case se.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&X2.indexOf(r[0])===-1);case se.ACK:case se.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class eS{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=Q2(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const tS=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ld,Encoder:Z2,get PacketType(){return se},protocol:J2},Symbol.toStringTag,{value:"Module"}));function Rt(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const rS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class D0 extends Te{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Rt(t,"open",this.onopen.bind(this)),Rt(t,"packet",this.onpacket.bind(this)),Rt(t,"error",this.onerror.bind(this)),Rt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,i,a;if(rS.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:se.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,h=r.pop();this._registerAckCallback(d,h),o.id=d}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(a),r.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((n,i)=>{const a=(o,l)=>o?i(o):n(l);a.withError=!0,r.push(a),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:se.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case se.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case se.EVENT:case se.BINARY_EVENT:this.onevent(t);break;case se.ACK:case se.BINARY_ACK:this.onack(t);break;case se.DISCONNECT:this.ondisconnect();break;case se.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:se.ACK,id:t,data:i}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:se.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Ss(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ss.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Ss.prototype.reset=function(){this.attempts=0};Ss.prototype.setMin=function(e){this.ms=e};Ss.prototype.setMax=function(e){this.max=e};Ss.prototype.setJitter=function(e){this.jitter=e};class fu extends Te{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Qo(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Ss({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||tS;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new U2(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Rt(r,"open",function(){n.onopen(),t&&t()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=Rt(r,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Rt(t,"ping",this.onping.bind(this)),Rt(t,"data",this.ondata.bind(this)),Rt(t,"error",this.onerror.bind(this)),Rt(t,"close",this.onclose.bind(this)),Rt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Ko(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new D0(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Os={};function Ma(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=W2(e,t.path||"/socket.io"),n=r.source,i=r.id,a=r.path,o=Os[i]&&a in Os[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new fu(n,t):(Os[i]||(Os[i]=new fu(n,t)),c=Os[i]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(Ma,{Manager:fu,Socket:D0,io:Ma,connect:Ma});const A0=()=>"http://localhost:8080",Vt=A0(),nS=A0().replace("https://","wss://").replace("http://","ws://"),Fi=c2((e,t)=>({ownedBoxes:[],receivedBoxes:[],activeBox:null,prizeHistory:[],prizeStats:null,isLoading:!1,error:null,showCreateForm:!1,showPrizeHistory:!1,notifications:[],socket:null,isConnected:!1,setLoading:r=>e({isLoading:r}),setError:r=>e({error:r}),setShowCreateForm:r=>e({showCreateForm:r}),setShowPrizeHistory:r=>e({showPrizeHistory:r}),createBox:async r=>{var n,i;e({isLoading:!0,error:null});try{const a=localStorage.getItem("token"),o=await ae.post(`${Vt}/surprise-boxes`,r,{headers:{Authorization:`Bearer ${a}`}});await t().loadOwnedBoxes(),e({showCreateForm:!1})}catch(a){e({error:((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to create surprise box"})}finally{e({isLoading:!1})}},loadOwnedBoxes:async()=>{var r,n;try{const i=localStorage.getItem("token"),a=await ae.get(`${Vt}/surprise-boxes/owned`,{headers:{Authorization:`Bearer ${i}`}});e({ownedBoxes:a.data})}catch(i){e({error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to load owned boxes"})}},loadReceivedBoxes:async()=>{var r,n;try{const i=localStorage.getItem("token"),a=await ae.get(`${Vt}/surprise-boxes/received`,{headers:{Authorization:`Bearer ${i}`}});e({receivedBoxes:a.data})}catch(i){e({error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to load received boxes"})}},loadActiveBox:async()=>{var r,n,i;try{const a=localStorage.getItem("token"),o=await ae.get(`${Vt}/surprise-boxes/active`,{headers:{Authorization:`Bearer ${a}`}});e({activeBox:o.data})}catch(a){((r=a.response)==null?void 0:r.status)!==404&&e({error:((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to load active box"})}},openBox:async(r,n)=>{var i,a;e({isLoading:!0,error:null});try{const o=localStorage.getItem("token");await ae.post(`${Vt}/surprise-boxes/${r}/open`,{completionData:n},{headers:{Authorization:`Bearer ${o}`}}),await Promise.all([t().loadReceivedBoxes(),t().loadActiveBox()])}catch(o){e({error:((a=(i=o.response)==null?void 0:i.data)==null?void 0:a.message)||"Failed to open box"})}finally{e({isLoading:!1})}},approveCompletion:async r=>{var n,i;e({isLoading:!0,error:null});try{const a=localStorage.getItem("token");await ae.post(`${Vt}/surprise-boxes/${r}/approve`,{},{headers:{Authorization:`Bearer ${a}`}}),await Promise.all([t().loadOwnedBoxes(),t().loadPrizeHistory(),t().loadPrizeStats()])}catch(a){e({error:((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to approve completion"})}finally{e({isLoading:!1})}},rejectCompletion:async(r,n)=>{var i,a;e({isLoading:!0,error:null});try{const o=localStorage.getItem("token");await ae.post(`${Vt}/surprise-boxes/${r}/reject`,{reason:n},{headers:{Authorization:`Bearer ${o}`}}),await t().loadOwnedBoxes()}catch(o){e({error:((a=(i=o.response)==null?void 0:i.data)==null?void 0:a.message)||"Failed to reject completion"})}finally{e({isLoading:!1})}},cancelBox:async r=>{var n,i;e({isLoading:!0,error:null});try{const a=localStorage.getItem("token");await ae.delete(`${Vt}/surprise-boxes/${r}`,{headers:{Authorization:`Bearer ${a}`}}),await t().loadOwnedBoxes()}catch(a){e({error:((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to cancel box"})}finally{e({isLoading:!1})}},loadPrizeHistory:async()=>{var r,n;try{const i=localStorage.getItem("token"),a=await ae.get(`${Vt}/prize-history`,{headers:{Authorization:`Bearer ${i}`}});e({prizeHistory:a.data})}catch(i){e({error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to load prize history"})}},loadPrizeStats:async()=>{var r,n;try{const i=localStorage.getItem("token"),a=await ae.get(`${Vt}/prize-history/stats`,{headers:{Authorization:`Bearer ${i}`}});e({prizeStats:a.data})}catch(i){e({error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to load prize stats"})}},connectWebSocket:r=>{const n=Ma(nS,{auth:{token:r},transports:["websocket","polling"]});n.on("connect",()=>{console.log("Connected to surprise box WebSocket"),e({isConnected:!0}),n.emit("/surprise-box/subscribe",{})}),n.on("disconnect",()=>{console.log("Disconnected from surprise box WebSocket"),e({isConnected:!1})}),n.on("/queue/surprise-box/updates",a=>{switch(console.log("Received surprise box notification:",a),t().addNotification(a),a.type){case"BOX_DROPPED":t().loadReceivedBoxes(),t().loadActiveBox();break;case"BOX_OPENED":t().loadOwnedBoxes();break;case"BOX_APPROVED":t().loadPrizeHistory(),t().loadPrizeStats();break;case"BOX_REJECTED":case"BOX_EXPIRED":case"BOX_CANCELLED":t().loadOwnedBoxes(),t().loadReceivedBoxes(),t().loadActiveBox();break}}),n.on("/queue/surprise-box/pong",a=>{console.log("WebSocket pong received:",a)});const i=setInterval(()=>{n.connected&&n.emit("/surprise-box/ping",{timestamp:new Date().toISOString()})},3e4);n.on("disconnect",()=>{clearInterval(i)}),e({socket:n})},disconnectWebSocket:()=>{const{socket:r}=t();r&&(r.disconnect(),e({socket:null,isConnected:!1}))},addNotification:r=>{e(n=>({notifications:[r,...n.notifications].slice(0,10)}))},clearNotifications:()=>e({notifications:[]}),getBoxById:r=>{const{ownedBoxes:n,receivedBoxes:i}=t();return[...n,...i].find(a=>a.id===r)||null},getBoxesWaitingApproval:()=>{const{ownedBoxes:r}=t();return r.filter(n=>n.status==="WAITING_APPROVAL")},getActiveBoxesCount:()=>{const{ownedBoxes:r,receivedBoxes:n}=t();return[...r,...n].filter(i=>!["CLAIMED","EXPIRED"].includes(i.status)).length}}));function Qp(){const e=Bo(),[t,r]=y.useState([]),[n,i]=y.useState([]),[a,o]=y.useState({photos:0,memories:0,totalLove:0}),[l,c]=y.useState([]),[u,d]=y.useState(!1),{ownedBoxes:h,receivedBoxes:p,activeBox:f,loadOwnedBoxes:x,loadReceivedBoxes:b}=Fi(),j=(v=[])=>{let S=0,k;do{const E=Math.random()*70+15,C=Math.random()*70+15;if(k={top:`${E}%`,left:`${C}%`},v.every(P=>{const N=parseFloat(P.top),D=parseFloat(P.left);return Math.sqrt(Math.pow(E-N,2)+Math.pow(C-D,2))>15})||S>20)break;S++}while(S<=20);return k};y.useEffect(()=>{const v=[{emoji:"🐱",title:"Meow! 🐱"},{emoji:"😸",title:"Happy kitty! 😸"},{emoji:"😻",title:"Love you! 😻"},{emoji:"🐾",title:"Paw prints! 🐾"},{emoji:"😺",title:"Cute cat! 😺"},{emoji:"💕",title:"Love! 💕"}],S=[];v.forEach((k,E)=>{const C=j(S);S.push({id:`cat-${E}`,...C,emoji:k.emoji,title:k.title,isJumping:!1})}),c(S)},[]);const w=v=>{c(S=>S.map(k=>k.id===v?{...k,isJumping:!0}:k)),setTimeout(()=>{c(S=>{const k=S.filter(C=>C.id!==v),E=j(k);return S.map(C=>C.id===v?{...C,...E,isJumping:!1}:C)})},1e3)},g=v=>{sessionStorage.setItem("openMemoryId",v.toString()),e(`/memories?openMemory=${v}`)};y.useEffect(()=>{m(),x(),b()},[x,b]);const m=async()=>{var v;try{const S=await $.get("/api/photos?page=0&limit=50");console.log("Dashboard photos response:",S.data);const k=S.data.photos||S.data,E=((v=S.data.pagination)==null?void 0:v.total)||k.length;r(k.slice(0,6)),o(C=>({...C,photos:E}));try{const C=await $.get("/api/memories/dashboard/upcoming?limit=3");i(C.data)}catch{console.log("No upcoming memories endpoint, skipping"),i([])}try{const C=await $.get("/api/memories");o(A=>({...A,memories:C.data.length}))}catch{console.log("No memories endpoint, setting count to 0"),o(A=>({...A,memories:0}))}try{const C=await $.get("/api/love");o(A=>({...A,totalLove:C.data.totalCount||0}))}catch{console.log("No love stats endpoint, setting count to 0"),o(A=>({...A,totalLove:0}))}}catch(S){console.error("Error fetching dashboard data:",S)}};return s.jsxs("div",{className:"relative space-y-8 fade-in min-h-screen overflow-hidden bg-white",children:[s.jsx("div",{className:`fixed inset-0 z-0 pointer-events-auto ${u?"opacity-20":""}`,children:l.map((v,S)=>{const k=["animate-float hover-bounce","animate-float-slow hover-wiggle","animate-pulse-glow hover-glow","animate-wiggle hover-bounce","animate-playful-spin hover-glow","animate-heart-bounce hover-wiggle"],E=k[S%k.length],C=["text-3xl","text-4xl","text-5xl","text-6xl","text-2xl","text-xl","text-lg"],A=C[S%C.length];return s.jsx("div",{className:`absolute ${A} ${v.isJumping?"animate-jump-bounce":E} cursor-pointer select-none transition-all duration-500 ease-out`,style:{top:v.top,left:v.left,animationDelay:`${S*.8}s`,zIndex:v.isJumping?10:1,filter:"drop-shadow(0 2px 8px rgba(0, 0, 0, 0.1))"},title:v.title,onClick:()=>w(v.id),onMouseEnter:P=>{P.currentTarget.style.transform="scale(1.3) rotate(10deg)",P.currentTarget.style.filter="drop-shadow(0 4px 16px rgba(255, 182, 193, 0.6))"},onMouseLeave:P=>{P.currentTarget.style.transform="",P.currentTarget.style.filter="drop-shadow(0 2px 8px rgba(0, 0, 0, 0.1))"},children:v.emoji},v.id)})}),s.jsxs("div",{className:`relative max-w-6xl mx-auto px-6 py-8 z-20 pointer-events-none ${u?"opacity-30 pointer-events-none":""}`,children:[s.jsxs("div",{className:"text-center slide-up mb-12",children:[s.jsx("h1",{className:"font-heading text-5xl font-semibold text-apple-label mb-6",children:"Welcome to Our Love Story"}),s.jsx("p",{className:"text-xl text-apple-secondary-label max-w-3xl mx-auto leading-relaxed",children:"A private sanctuary where we celebrate our precious moments, memories, and the beautiful journey of our love ✨"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[s.jsx(_N,{}),s.jsx(LN,{})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[s.jsxs(ue,{to:"/gallery",className:"apple-card apple-card-hover p-6 apple-shadow transition-all duration-300 hover:scale-105 cursor-pointer group relative overflow-hidden bg-gradient-to-br from-pink-50 to-purple-50 border border-pink-100/50 pointer-events-auto",children:[s.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-pink-200/20 to-purple-200/20 rounded-full -translate-y-10 translate-x-10 group-hover:scale-150 transition-transform duration-500"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-gradient-to-tr from-pink-100/30 to-purple-100/30 rounded-full translate-y-8 -translate-x-8 group-hover:scale-125 transition-transform duration-700"}),s.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-purple-400 p-2 rounded-xl group-hover:scale-110 transition-transform duration-200",children:s.jsx(dr,{className:"h-6 w-6 text-white"})}),s.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-pink-600 to-purple-500 bg-clip-text text-transparent",children:a.photos})]}),s.jsx("div",{className:"text-lg font-semibold text-gray-800 group-hover:text-pink-600 transition-colors duration-200 mb-4 text-left flex items-center",children:"💕 Photos Shared"}),t.length>0&&s.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:t.slice(0,4).map((v,S)=>s.jsx("div",{className:"aspect-square rounded-xl overflow-hidden bg-white shadow-sm border-2 border-pink-100 group-hover:border-pink-200 transition-all duration-300",style:{animationDelay:`${S*100}ms`},children:s.jsx("img",{src:`${bn}/api/photos/image/${v.filename}`,alt:v.caption||"Recent photo",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"})},v.id))}),s.jsx("div",{className:"text-sm text-gray-600 text-left mb-3",children:t.length>0?"✨ Latest memories captured with love":"🌟 Ready to capture beautiful moments together"}),s.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[s.jsx("div",{className:"text-xs text-pink-500 font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"View Gallery →"}),s.jsx("div",{className:"text-xs text-gray-400",children:"💖 Made with love"})]})]})]}),s.jsxs(ue,{to:"/memories",className:"apple-card apple-card-hover apple-shadow transition-all duration-200 hover:scale-105 cursor-pointer group pointer-events-auto relative z-10 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-apple-blue/5 to-apple-purple/5 opacity-60"}),s.jsx("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-apple-blue/10 rounded-full blur-xl"}),s.jsx("div",{className:"absolute -bottom-4 -left-4 w-20 h-20 bg-apple-purple/10 rounded-full blur-xl"}),s.jsxs("div",{className:"relative p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"bg-apple-blue/10 p-3 rounded-xl group-hover:bg-apple-blue/20 transition-colors duration-200",children:s.jsx(Ge,{className:"h-6 w-6 text-apple-blue"})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-apple-label",children:a.memories}),s.jsx("div",{className:"text-xs text-apple-tertiary-label",children:"Total"})]})]}),s.jsx("h3",{className:"text-lg font-semibold text-apple-label mb-3 group-hover:text-apple-blue transition-colors duration-200",children:"Memories Created"}),n.length>0?s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-xs text-apple-tertiary-label font-medium",children:"Upcoming:"}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:n.slice(0,3).map((v,S)=>s.jsx("div",{className:"bg-apple-gray-6/20 backdrop-blur-sm rounded-lg p-2.5 transform transition-all duration-300 hover:bg-apple-blue/10 hover:scale-105 cursor-pointer",style:{animationDelay:`${S*.1}s`},onClick:()=>g(v.id),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm font-medium text-apple-label truncate flex-1 mr-2",children:v.title}),s.jsx("div",{className:"text-xs text-apple-tertiary-label whitespace-nowrap",children:(()=>{try{let k,E,C;if(Array.isArray(v.date))[k,E,C]=v.date;else if(typeof v.date=="string")[k,E,C]=(v.date.includes("T")?v.date.split("T")[0]:v.date).split("-").map(Number);else return"Invalid Date";const A=new Date(k,E-1,C);return isNaN(A.getTime())?"Invalid Date":A.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return"Invalid Date"}})()})]})},v.id))})]}):s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"text-sm text-apple-tertiary-label mb-2",children:"No upcoming memories"}),s.jsx("div",{className:"text-xs text-apple-quaternary-label",children:"Create your first memory"})]}),s.jsxs("div",{className:"mt-4 pt-3 border-t border-apple-separator/30",children:[s.jsx("div",{className:"text-xs text-apple-tertiary-label text-center",children:"Special moments we'll never forget"}),s.jsx("div",{className:"mt-1 text-xs text-apple-blue font-medium text-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Browse All Memories →"})]})]})]})]}),s.jsxs("div",{className:"apple-card apple-shadow p-6 mb-8 pointer-events-auto relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-50/50 to-orange-50/50 opacity-60"}),s.jsx("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-yellow-200/20 rounded-full blur-xl"}),s.jsx("div",{className:"absolute -bottom-4 -left-4 w-20 h-20 bg-orange-200/20 rounded-full blur-xl"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 p-2 rounded-xl",children:s.jsx(be,{className:"h-6 w-6 text-white"})}),s.jsx("h2",{className:"text-2xl font-semibold text-apple-label",children:"Surprise Boxes"})]}),s.jsx(ue,{to:"/surprise-boxes",className:"text-sm text-orange-500 hover:text-orange-600 font-medium transition-colors duration-200",children:"View All →"})]}),f?s.jsx("div",{className:"bg-gradient-to-r from-yellow-100/80 to-orange-100/80 rounded-xl p-4 mb-4 border border-yellow-200/50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-apple-label mb-1",children:f.prizeName}),s.jsx("p",{className:"text-sm text-apple-secondary-label",children:f.status==="PENDING_APPROVAL"?"Waiting for approval":f.status==="ACTIVE"?"Ready to open!":f.status==="SCHEDULED"?"Scheduled to drop":f.status})]}),s.jsx("div",{className:"text-2xl animate-bounce",children:"🎁"})]})}):null,s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:h.length}),s.jsx("div",{className:"text-xs text-apple-tertiary-label",children:"Created"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:p.length}),s.jsx("div",{className:"text-xs text-apple-tertiary-label",children:"Received"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:[...h,...p].filter(v=>v.status==="COMPLETED").length}),s.jsx("div",{className:"text-xs text-apple-tertiary-label",children:"Completed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:[...h,...p].filter(v=>v.status==="ACTIVE").length}),s.jsx("div",{className:"text-xs text-apple-tertiary-label",children:"Active"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-medium text-apple-secondary-label mb-2",children:"Recent Activity:"}),[...h,...p].sort((v,S)=>new Date(S.updatedAt).getTime()-new Date(v.updatedAt).getTime()).slice(0,3).map((v,S)=>s.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-white/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"text-lg",children:v.status==="COMPLETED"?"✅":v.status==="ACTIVE"?"🎁":v.status==="PENDING_APPROVAL"?"⏳":"📦"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-apple-label truncate max-w-32",children:v.prizeName}),s.jsx("div",{className:"text-xs text-apple-tertiary-label",children:v.status==="COMPLETED"?"Completed":v.status==="ACTIVE"?"Ready to open":v.status==="PENDING_APPROVAL"?"Pending approval":v.status})]})]}),s.jsx("div",{className:"text-xs text-apple-quaternary-label",children:new Date(v.updatedAt).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},v.id)),[...h,...p].length===0&&s.jsxs("div",{className:"text-center py-6",children:[s.jsx("div",{className:"text-4xl mb-2",children:"🎁"}),s.jsx("div",{className:"text-sm text-apple-tertiary-label mb-1",children:"No surprise boxes yet"}),s.jsx("div",{className:"text-xs text-apple-quaternary-label",children:"Create your first surprise box!"})]})]})]})]}),s.jsxs("div",{className:"apple-card apple-shadow p-8 mb-8 pointer-events-auto",children:[s.jsx("h2",{className:"text-2xl font-semibold text-apple-label mb-6 text-center",children:"Create New Memories"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(ue,{to:"/gallery",className:"bg-apple-blue/5 border border-apple-blue/20 rounded-xl p-6 hover:bg-apple-blue/10 transition-all duration-300 group pointer-events-auto",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"bg-apple-blue/10 p-3 rounded-xl group-hover:bg-apple-blue/20 transition-colors",children:s.jsx(dr,{className:"h-6 w-6 text-apple-blue"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-apple-label",children:"Upload Photos"}),s.jsx("p",{className:"text-sm text-apple-secondary-label",children:"Add new memories to your gallery"})]})]})}),s.jsx(ue,{to:"/memories",className:"bg-apple-blue/5 border border-apple-blue/20 rounded-xl p-6 hover:bg-apple-blue/10 transition-all duration-300 group pointer-events-auto",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"bg-apple-blue/10 p-3 rounded-xl group-hover:bg-apple-blue/20 transition-colors",children:s.jsx(Ge,{className:"h-6 w-6 text-apple-blue"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-apple-label",children:"Add Memory"}),s.jsx("p",{className:"text-sm text-apple-secondary-label",children:"Create a special moment"})]})]})}),s.jsx(ue,{to:"/surprise-boxes",className:"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200/50 rounded-xl p-6 hover:from-yellow-100 hover:to-orange-100 transition-all duration-300 group pointer-events-auto",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 p-3 rounded-xl group-hover:from-yellow-500 group-hover:to-orange-500 transition-all duration-200",children:s.jsx(be,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-apple-label",children:"Create Surprise"}),s.jsx("p",{className:"text-sm text-apple-secondary-label",children:"Send a surprise box"})]})]})})]})]}),t.length===0&&n.length===0&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx(ke,{className:"h-16 w-16 text-apple-blue/30 mx-auto mb-6"}),s.jsx("h3",{className:"text-2xl font-semibold text-apple-label mb-4",children:"Start Your Love Story"}),s.jsx("p",{className:"text-apple-secondary-label mb-8 max-w-md mx-auto",children:"Your beautiful journey together begins here. Use the quick actions above to upload your first photos and create special memories."})]})]}),u&&s.jsx(d0,{onClose:()=>d(!1),level:1,onPrizeWon:async v=>{console.log("Prize won:",v)}})]})}const Fd=({photo:e,onClose:t,onPhotoUpdate:r,onPhotoDelete:n})=>{var v;const[i,a]=y.useState(!1),[o,l]=y.useState(e.caption||""),[c,u]=y.useState(((v=e.categories)==null?void 0:v.map(S=>S.id))||[]),[d,h]=y.useState([]),[p,f]=y.useState(!1);console.log("PhotoDetailModal rendered with photo:",e),y.useEffect(()=>{x()},[]);const x=async()=>{try{const S=await $.get("/api/categories");h(S.data)}catch(S){console.error("Error fetching categories:",S)}},b=async()=>{try{if(f(!0),console.log("Saving photo with categories:",c),console.log("Available categories:",d),o!==e.caption)try{await $.put(`/api/photos/${e.id}/caption`,{caption:o}),console.log("Caption updated successfully")}catch(E){console.error("Error updating caption:",E)}try{await $.put(`/api/photos/${e.id}/categories`,{categoryIds:c}),console.log("Categories updated successfully")}catch(E){console.error("Error updating categories:",E)}const S=d.filter(E=>c.includes(E.id)),k={...e,caption:o,categories:S};console.log("Calling onPhotoUpdate with:",k),r(k),a(!1),alert("Photo details updated successfully!")}catch(S){console.error("Error updating photo:",S),alert("Failed to update photo. Please try again.")}finally{f(!1)}},j=async()=>{try{const S=!e.isFavorite;await $.post(`/api/photos/${e.id}/favorite`,{favorite:S});const k={...e,isFavorite:S};r(k)}catch(S){console.error("Error toggling favorite:",S),alert("Failed to update favorite status. Please try again.")}},w=async()=>{if(window.confirm("Are you sure you want to delete this photo?"))try{f(!0),await $.delete(`/api/photos/${e.id}`),n(e.id),t(),alert("Photo deleted successfully!")}catch(S){console.error("Error deleting photo:",S),alert("Failed to delete photo. Please try again.")}finally{f(!1)}},g=async S=>{console.log("Toggling category:",S,"Current selected:",c);const k=c.includes(S)?c.filter(E=>E!==S):[...c,S];console.log("New selected categories:",k),u(k);try{console.log("Saving categories to backend:",k);const E=await $.put(`/api/photos/${e.id}/categories`,{categoryIds:k});console.log("Backend response:",E.data),r(E.data),console.log("Categories saved successfully")}catch(E){console.error("Error saving categories to backend:",E),u(c)}},m=S=>{try{let k;if(Array.isArray(S)){const[E,C,A,P=0,N=0,D=0]=S;k=new Date(E,C-1,A,P,N,D)}else{const E=S.includes("T")?S.split("T")[0]:S;k=new Date(E)}return isNaN(k.getTime())?"Invalid Date":k.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}};return s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-2 sm:p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl sm:rounded-3xl max-w-6xl w-full h-full sm:max-h-[95vh] overflow-hidden shadow-2xl flex flex-col sm:flex-row",children:[s.jsxs("div",{className:"sm:hidden flex items-center justify-between p-4 border-b border-gray-200 bg-white",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Photo Details"}),s.jsx("button",{onClick:t,className:"w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 active:bg-gray-300 flex items-center justify-center transition-all duration-200",children:s.jsx(Qe,{className:"w-5 h-5 text-gray-600"})})]}),s.jsx("div",{className:"flex-1 bg-black flex items-center justify-center min-h-0 order-1 sm:order-none",children:s.jsx("img",{src:`${bn}/api/photos/image/${e.filename}`,alt:e.originalName,className:"max-w-full max-h-full object-contain w-full h-full sm:w-auto sm:h-auto"})}),s.jsxs("div",{className:"w-full sm:w-96 bg-white flex flex-col order-2 sm:order-none max-h-[40vh] sm:max-h-none",children:[s.jsxs("div",{className:"hidden sm:flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Photo Details"}),s.jsx("button",{onClick:t,className:"w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 active:bg-gray-300 flex items-center justify-center transition-all duration-200",children:s.jsx(Qe,{className:"w-5 h-5 text-gray-600"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 space-y-4 sm:space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3 text-base sm:text-lg",children:"Information"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[s.jsx(Ge,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:m(e.createdAt)})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[s.jsx(Ed,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),s.jsxs("span",{className:"text-gray-700",children:["Uploaded by ",e.uploader.name]})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-base sm:text-lg",children:"Caption"}),s.jsx("button",{onClick:()=>a(!i),className:"p-2 rounded-full bg-blue-50 hover:bg-blue-100 active:bg-blue-200 text-blue-600 transition-all duration-200",children:s.jsx(K1,{className:"w-4 h-4"})})]}),i?s.jsx("textarea",{value:o,onChange:S=>l(S.target.value),placeholder:"Add a caption...",className:"w-full p-4 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 resize-none bg-white shadow-sm text-gray-900 placeholder-gray-500",rows:3}):s.jsx("div",{className:"max-h-24 overflow-y-auto",children:s.jsx("p",{className:"text-gray-700 text-sm p-4 bg-gray-50 rounded-xl break-words",children:o||"No caption added yet"})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-base sm:text-lg",children:"Categories"}),s.jsx(vn,{className:"w-4 h-4 text-gray-500"})]}),s.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:d.filter(S=>S.name.toLowerCase()!=="favorites").map(S=>s.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl hover:bg-gray-50 active:bg-gray-100 cursor-pointer transition-all duration-200 border border-transparent hover:border-gray-200",children:[s.jsx("input",{type:"checkbox",checked:c.includes(S.id),onChange:()=>g(S.id),className:"w-4 h-4 text-blue-500 bg-white border-gray-300 rounded focus:ring-blue-500 focus:ring-2 transition-colors"}),s.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0 shadow-sm",style:{backgroundColor:S.color}}),s.jsx("span",{className:"text-sm text-gray-700 truncate font-medium",children:S.name})]},S.id))})]})]}),s.jsx("div",{className:"p-4 sm:p-6 border-t border-gray-200 bg-white/80 backdrop-blur-sm",children:i?s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{var S;a(!1),l(e.caption||""),u(((S=e.categories)==null?void 0:S.map(k=>k.id))||[])},className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 text-gray-700 rounded-xl font-semibold transition-all duration-200 min-h-[44px] flex items-center justify-center",children:"Cancel"}),s.jsxs("button",{onClick:b,disabled:p,className:"flex-1 px-4 py-3 bg-blue-500 hover:bg-blue-600 active:bg-blue-700 text-white rounded-xl font-semibold flex items-center justify-center gap-2 disabled:opacity-50 transition-all duration-200 min-h-[44px] shadow-sm",children:[s.jsx(Lx,{className:"w-4 h-4"}),p?"Saving...":"Save"]})]}):s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:j,className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 text-gray-700 rounded-xl font-semibold flex items-center justify-center gap-2 transition-all duration-200 min-h-[44px]",children:[s.jsx(ke,{className:`w-4 h-4 ${e.isFavorite?"text-red-500 fill-current":""}`}),s.jsx("span",{className:"hidden sm:inline",children:e.isFavorite?"Favorited":"Add to Favorites"}),s.jsx("span",{className:"sm:hidden",children:e.isFavorite?"Favorited":"Favorite"})]}),s.jsxs("button",{onClick:w,disabled:p,className:"px-4 py-3 bg-red-50 hover:bg-red-100 active:bg-red-200 text-red-600 rounded-xl font-semibold flex items-center justify-center gap-2 transition-all duration-200 disabled:opacity-50 min-h-[44px]",children:[s.jsx(Et,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})})]})]})})},M0=({onUploadComplete:e,onClose:t})=>{const[r,n]=y.useState([]),[i,a]=y.useState(!1),[o,l]=y.useState(!1),[c,u]=y.useState({success:0,total:0}),d=y.useRef(null),{showPhotoSuccess:h}=Yo();console.log("PhotoUpload rendered",{files:r.length,isUploading:o,uploadStats:c});const p=v=>({file:v,id:Math.random().toString(36).substr(2,9),preview:URL.createObjectURL(v),status:"pending",progress:0}),f=y.useCallback(v=>{if(!v)return;const S=Array.from(v).filter(k=>k.type.startsWith("image/")).map(p);n(k=>[...k,...S])},[]),x=y.useCallback(v=>{v.preventDefault(),a(!1),f(v.dataTransfer.files)},[f]),b=y.useCallback(v=>{v.preventDefault(),a(!0)},[]),j=y.useCallback(v=>{v.preventDefault(),a(!1)},[]),w=v=>{n(S=>{const k=S.find(E=>E.id===v);return k&&URL.revokeObjectURL(k.preview),S.filter(E=>E.id!==v)})},g=async()=>{if(r.length!==0){console.log("Starting upload for",r.length,"files"),l(!0),u({success:0,total:r.length}),n(v=>v.map(S=>({...S,status:"uploading"})));try{const v=new FormData;r.forEach(({file:E})=>{v.append("photos",E),console.log("Added file to FormData:",E.name,E.size)});const S=setInterval(()=>{n(E=>E.map(C=>({...C,progress:C.status==="uploading"?Math.min(C.progress+Math.random()*20,90):C.progress})))},200);console.log("Sending upload request...");const k=await $.post("/api/photos/upload-multiple",v,{headers:{"Content-Type":void 0}});if(clearInterval(S),console.log("Upload response:",k.status,k.data),k.status===200)n(E=>E.map(C=>({...C,status:"success",progress:100}))),u({success:r.length,total:r.length}),h(r.length),setTimeout(()=>{e(),setTimeout(()=>{t()},2e3)},1e3);else throw new Error(`Upload failed with status: ${k.status}`)}catch(v){console.error("Upload error:",v),n(S=>S.map(k=>({...k,status:"error"}))),alert(`Upload failed: ${v instanceof Error?v.message:"Unknown error"}`)}finally{l(!1)}}},m=v=>{switch(v){case"success":return s.jsx(tu,{className:"w-5 h-5 text-green-500"});case"error":return s.jsx(us,{className:"w-5 h-5 text-red-500"});case"uploading":return s.jsx("div",{className:"w-5 h-5 border-2 border-apple-blue-light border-t-transparent rounded-full animate-spin"});default:return s.jsx(H1,{className:"w-5 h-5 text-apple-secondary-label"})}};return s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl apple-shadow max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-apple-separator",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-apple-blue-light/10 rounded-full flex items-center justify-center",children:s.jsx(dr,{className:"w-5 h-5 text-apple-blue-light"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-apple-label",children:"Upload Photos"}),s.jsx("p",{className:"text-sm text-apple-secondary-label",children:"Share your beautiful memories"})]})]}),s.jsx("button",{onClick:t,className:"w-8 h-8 rounded-full bg-apple-gray-6/10 hover:bg-apple-gray-6/20 flex items-center justify-center transition-colors",children:s.jsx(Qe,{className:"w-4 h-4 text-apple-secondary-label"})})]}),s.jsx("div",{className:"p-6",children:r.length===0?s.jsxs("div",{className:`border-2 border-dashed rounded-2xl p-12 text-center transition-all duration-200 ${i?"border-apple-blue-light bg-apple-blue-light/5":"border-apple-separator hover:border-apple-blue-light/50 hover:bg-apple-gray-6/5"}`,onDrop:x,onDragOver:b,onDragLeave:j,children:[s.jsx("div",{className:"w-16 h-16 bg-apple-blue-light/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(zx,{className:"w-8 h-8 text-apple-blue-light"})}),s.jsx("h3",{className:"text-lg font-medium text-apple-label mb-2",children:"Drop photos here or click to browse"}),s.jsx("p",{className:"text-apple-secondary-label mb-6",children:"Support for JPEG, PNG, HEIC and more. Upload as many as you want!"}),s.jsx("button",{onClick:()=>{var v;return(v=d.current)==null?void 0:v.click()},className:"px-8 py-4 bg-apple-blue hover:bg-apple-blue-dark text-white rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:"Choose Photos"}),s.jsx("input",{ref:d,type:"file",multiple:!0,accept:"image/*",onChange:v=>f(v.target.files),className:"hidden"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:r.map(v=>s.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-apple-gray-6/5 rounded-xl",children:[s.jsx("img",{src:v.preview,alt:v.file.name,className:"w-12 h-12 object-cover rounded-lg"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-apple-label truncate",children:v.file.name}),s.jsxs("p",{className:"text-xs text-apple-secondary-label",children:[(v.file.size/1024/1024).toFixed(1)," MB"]}),v.status==="uploading"&&s.jsx("div",{className:"w-full bg-apple-gray-6/20 rounded-full h-1.5 mt-1",children:s.jsx("div",{className:"bg-apple-blue-light h-1.5 rounded-full transition-all duration-300",style:{width:`${v.progress}%`}})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[m(v.status),v.status==="pending"&&s.jsx("button",{onClick:()=>w(v.id),className:"w-6 h-6 rounded-full bg-apple-gray-6/10 hover:bg-red-500/10 flex items-center justify-center transition-colors",children:s.jsx(Qe,{className:"w-3 h-3 text-apple-secondary-label hover:text-red-500"})})]})]},v.id))}),!o&&s.jsxs("button",{onClick:()=>{var v;return(v=d.current)==null?void 0:v.click()},className:"w-full p-3 border border-dashed border-apple-separator rounded-xl text-apple-blue-light hover:bg-apple-blue-light/5 transition-colors flex items-center justify-center space-x-2",children:[s.jsx(We,{className:"w-4 h-4"}),s.jsx("span",{children:"Add More Photos"})]}),s.jsx("input",{ref:d,type:"file",multiple:!0,accept:"image/*",onChange:v=>f(v.target.files),className:"hidden"})]})}),c.success>0&&c.success===c.total&&!o&&s.jsx("div",{className:"p-6 border-t border-apple-separator bg-gradient-to-r from-green-50 to-emerald-50",children:s.jsxs("div",{className:"text-center animate-bounce-in",children:[s.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(tu,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"text-xl font-semibold text-green-700 mb-2",children:"Upload Successful! 🎉"}),s.jsxs("p",{className:"text-green-600 mb-4",children:[c.success," photo",c.success!==1?"s":""," uploaded successfully"]}),s.jsx("div",{className:"flex justify-center space-x-2",children:[...Array(3)].map((v,S)=>s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-sparkle",style:{animationDelay:`${S*.2}s`}},S))})]})}),r.length>0&&!o&&c.success===0&&s.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-apple-separator bg-apple-gray-6/5",children:[s.jsx("div",{className:"text-sm text-apple-secondary-label",children:o?s.jsxs("span",{children:["Uploading ",c.success,"/",c.total," photos..."]}):s.jsxs("span",{children:[r.length," photo",r.length!==1?"s":""," selected"]})}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:t,disabled:o,className:"px-4 py-2 text-apple-secondary-label hover:text-apple-label transition-colors disabled:opacity-50",children:"Cancel"}),s.jsx("button",{onClick:g,disabled:o||r.length===0,className:"apple-button-primary px-6 py-2 rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Uploading...":`Upload ${r.length} Photo${r.length!==1?"s":""}`})]})]})]})})};function sS(){const[e,t]=y.useState([]),[r,n]=y.useState([]),[i,a]=y.useState(!0),[o,l]=y.useState(!1),[c,u]=y.useState("medium"),[d,h]=y.useState(null),[p,f]=y.useState(!1),[x,b]=y.useState(0),[j,w]=y.useState(0),[g,m]=y.useState(!0);y.useEffect(()=>{v()},[]),y.useEffect(()=>{e.length>=0&&k()},[e]);const v=async(L=0,B=!1)=>{try{B||a(!0);const z=await $.get(`/api/photos?page=${L}&limit=20`);t(B?O=>[...O,...z.data.photos]:z.data.photos),w(z.data.pagination.total),m(z.data.pagination.hasNext),b(L)}catch(z){console.error("Error fetching photos:",z)}finally{a(!1)}},S=async()=>{g&&!i&&await v(x+1,!0)},k=async()=>{try{const B=(await $.get("/api/categories")).data,z={id:-1,name:"Favorites",color:"#ef4444",photos:e.filter(O=>O.isFavorite),photoCount:e.filter(O=>O.isFavorite).length};n([z,...B])}catch(L){console.error("Error fetching categories:",L)}},E=async()=>{l(!1),await v(),await k()},C=async L=>{try{const B=e.find(O=>O.id===L),z=!(B!=null&&B.isFavorite);await $.post(`/api/photos/${L}/favorite`,{favorite:z}),t(O=>O.map(I=>I.id===L?{...I,isFavorite:z}:I)),await k()}catch(B){console.error("Error toggling favorite:",B)}},A=L=>{h(L),f(!0)},P=L=>{t(B=>B.map(z=>z.id===L.id?L:z)),h(L)},N=L=>{t(B=>B.filter(z=>z.id!==L)),f(!1),h(null)},D=()=>{switch(c){case"small":return"w-32 h-32";case"medium":return"w-48 h-48";case"large":return"w-64 h-64";default:return"w-48 h-48"}},M=()=>{switch(c){case"small":return"grid-cols-2 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8";case"medium":return"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4";case"large":return"grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3";default:return"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"}},_=(L,B=!1)=>{const z=()=>{if(B)return L.length;switch(c){case"small":return Math.min(12,L.length);case"medium":return Math.min(8,L.length);case"large":return Math.min(6,L.length);default:return Math.min(8,L.length)}},O=L.slice(0,z());return s.jsx("div",{className:`grid ${M()} gap-4`,children:O.map(I=>s.jsx("div",{className:"relative group",children:s.jsxs("div",{className:`${D()} relative overflow-hidden rounded-lg cursor-pointer transition-transform hover:scale-105`,onClick:()=>A(I),children:[s.jsx("img",{src:`${bn}/api/photos/image/${I.filename}`,alt:I.originalName,className:"w-full h-full object-cover",loading:"lazy"}),s.jsx("button",{onClick:V=>{V.stopPropagation(),C(I.id)},className:"absolute top-3 right-3 p-2 bg-white/90 backdrop-blur-sm rounded-full hover:bg-white active:scale-95 transition-all duration-200 opacity-0 group-hover:opacity-100 shadow-sm hover:shadow-md",children:s.jsx(ke,{className:`h-4 w-4 transition-all duration-200 ${I.isFavorite?"text-red-500 fill-current scale-110":"text-gray-600 hover:text-red-400"}`})})]})},I.id))})};return i?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})}):s.jsxs("div",{className:"space-y-6 fade-in",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Photo Gallery"}),s.jsx("p",{className:"text-gray-600",children:"Your beautiful memories organized by categories"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-2",children:[s.jsxs(ue,{to:"/recycle-bin",className:"group bg-white/80 backdrop-blur-sm hover:bg-white/90 active:bg-gray-50 text-gray-700 px-4 py-3 sm:px-5 sm:py-2.5 rounded-2xl sm:rounded-xl transition-all duration-200 flex items-center justify-center gap-2.5 sm:gap-2 shadow-sm hover:shadow-md border border-gray-200/60 font-medium text-sm sm:text-base min-h-[44px] sm:min-h-[40px]",children:[s.jsx(Et,{className:"w-4 h-4 text-gray-600 group-hover:text-gray-700 transition-colors"}),s.jsx("span",{className:"hidden sm:inline",children:"Recycle Bin"}),s.jsx("span",{className:"sm:hidden",children:"Recycle"})]}),s.jsxs(ue,{to:"/categories",className:"group bg-white/80 backdrop-blur-sm hover:bg-white/90 active:bg-gray-50 text-gray-700 px-4 py-3 sm:px-5 sm:py-2.5 rounded-2xl sm:rounded-xl transition-all duration-200 flex items-center justify-center gap-2.5 sm:gap-2 shadow-sm hover:shadow-md border border-gray-200/60 font-medium text-sm sm:text-base min-h-[44px] sm:min-h-[40px]",children:[s.jsx(hs,{className:"w-4 h-4 text-gray-600 group-hover:text-gray-700 transition-colors"}),s.jsx("span",{className:"hidden sm:inline",children:"Manage Categories"}),s.jsx("span",{className:"sm:hidden",children:"Categories"})]}),s.jsxs("button",{onClick:()=>l(!0),className:"group bg-blue-500 hover:bg-blue-600 active:bg-blue-700 text-white px-4 py-3 sm:px-5 sm:py-2.5 rounded-2xl sm:rounded-xl transition-all duration-200 flex items-center justify-center gap-2.5 sm:gap-2 shadow-sm hover:shadow-md font-medium text-sm sm:text-base min-h-[44px] sm:min-h-[40px]",children:[s.jsx(We,{className:"w-4 h-4 transition-transform group-hover:scale-110"}),s.jsx("span",{className:"hidden sm:inline",children:"Add Photos"}),s.jsx("span",{className:"sm:hidden",children:"Add"})]})]})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(hs,{className:"h-4 w-4 text-gray-500"}),s.jsxs("select",{value:c,onChange:L=>u(L.target.value),className:"px-3 py-2 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 bg-white/80 backdrop-blur-sm transition-all duration-200 font-medium text-gray-700 shadow-sm hover:shadow-md",children:[s.jsx("option",{value:"small",children:"Small"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"large",children:"Large"})]})]})}),s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-apple-label",children:"All Photos"}),s.jsxs(ue,{to:"/photos",className:"text-apple-blue hover:text-apple-blue-dark font-medium transition-colors",children:["View All (",j,")"]})]}),e.length>0?s.jsxs("div",{children:[_(e,!1),g&&s.jsx("div",{className:"mt-8 text-center",children:s.jsx("button",{onClick:S,disabled:i,className:"group bg-blue-500 hover:bg-blue-600 active:bg-blue-700 disabled:bg-gray-300 text-white px-8 py-3.5 rounded-2xl transition-all duration-200 font-medium text-base shadow-sm hover:shadow-md disabled:opacity-60 disabled:cursor-not-allowed disabled:shadow-none min-h-[48px] flex items-center justify-center gap-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),s.jsx("span",{children:"Loading..."})]}):s.jsx("span",{children:"Load More Photos"})})})]}):s.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl p-12 text-center",children:[s.jsx(dr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No photos yet"}),s.jsx("p",{className:"text-gray-500",children:"Start uploading to create your gallery!"})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Categories"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(L=>{const B=L.id===-1?e.filter(z=>z.isFavorite):e.filter(z=>z.categories.some(O=>O.id===L.id));return s.jsxs("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden border border-apple-separator",children:[s.jsx("div",{className:"p-4 border-b border-apple-separator",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:L.color}}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:L.name})]}),s.jsxs("span",{className:"text-sm text-gray-500",children:["(",B.length,")"]})]})}),s.jsxs("div",{className:"p-4",children:[B.length>0?s.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[B.slice(0,3).map(z=>s.jsx("div",{className:"aspect-square relative overflow-hidden rounded-lg",children:s.jsx("img",{src:`${bn}/api/photos/image/${z.filename}`,alt:z.originalName,className:"w-full h-full object-cover hover:scale-110 transition-transform duration-300 cursor-pointer",onClick:()=>A(z)})},z.id)),B.length>3&&s.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg flex items-center justify-center",children:s.jsxs("span",{className:"text-sm text-gray-500 font-medium",children:["+",B.length-3]})})]}):s.jsx("div",{className:"h-24 bg-gray-50 rounded-lg flex items-center justify-center mb-3",children:s.jsx("p",{className:"text-gray-400 text-sm",children:"No photos yet"})}),L.id===-1?s.jsx(ue,{to:"/photos?filter=favorites",className:"block w-full text-center bg-white/80 backdrop-blur-sm hover:bg-white/90 active:bg-gray-50 text-gray-700 py-3 px-4 rounded-xl transition-all duration-200 text-sm font-medium border border-gray-200/60 shadow-sm hover:shadow-md",children:"View All Favorites"}):s.jsx(ue,{to:`/category/${L.id}`,className:"block w-full text-center bg-white/80 backdrop-blur-sm hover:bg-white/90 active:bg-gray-50 text-gray-700 py-3 px-4 rounded-xl transition-all duration-200 text-sm font-medium border border-gray-200/60 shadow-sm hover:shadow-md",children:"View All Photos"})]})]},L.id)})})]}),e.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(zx,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No photos yet"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Start building your gallery by uploading your first photos!"}),s.jsxs("button",{onClick:()=>l(!0),className:"group inline-flex items-center px-8 py-4 bg-blue-500 hover:bg-blue-600 active:bg-blue-700 text-white rounded-2xl transition-all duration-200 font-medium shadow-sm hover:shadow-md gap-3",children:[s.jsx(We,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),"Add Your First Photo"]})]}),o&&s.jsx(M0,{onClose:()=>l(!1),onUploadComplete:E}),p&&d&&s.jsx(Fd,{photo:d,onClose:()=>{f(!1),h(null)},onPhotoUpdate:P,onPhotoDelete:N})]})}function iS(){const{id:e}=kx(),[t,r]=y.useState(null),[n,i]=y.useState([]),[a,o]=y.useState([]),[l,c]=y.useState(!0),[u,d]=y.useState(!1),[h,p]=y.useState(""),[f,x]=y.useState(!1),[b,j]=y.useState(!1),[w,g]=y.useState([]),m=N=>{try{let D;if(Array.isArray(N)){const[M,_,L,B=0,z=0,O=0]=N;D=new Date(M,_-1,L,B,z,O)}else{const M=N.includes("T")?N.split("T")[0]:N;D=new Date(M)}return isNaN(D.getTime())?"Invalid Date":D.toLocaleDateString()}catch{return"Invalid Date"}};y.useEffect(()=>{e&&(v(),S(),k())},[e]);const v=async()=>{try{const N=await $.get(`/api/photos/${e}`);r(N.data),g(N.data.categories.map(D=>D.id))}catch(N){console.error("Error fetching photo:",N)}finally{c(!1)}},S=async()=>{try{const N=await $.get(`/api/photos/${e}/notes`);i(N.data)}catch(N){console.error("Error fetching notes:",N)}},k=async()=>{try{const N=await $.get("/api/categories");o(N.data)}catch(N){console.error("Error fetching categories:",N)}},E=async()=>{try{await $.post(`/api/photos/${e}/favorite`),d(!u)}catch(N){console.error("Error toggling favorite:",N)}},C=async N=>{if(N.preventDefault(),!!h.trim()){x(!0);try{await $.post(`/api/photos/${e}/notes`,{content:h.trim()}),p(""),await S()}catch(D){console.error("Error adding note:",D),alert("Error adding note. Please try again.")}finally{x(!1)}}},A=async()=>{try{await $.put(`/api/photos/${e}/categories`,{categoryIds:w}),j(!1),await v()}catch(N){console.error("Error updating categories:",N),alert("Error updating categories. Please try again.")}},P=N=>{g(D=>D.includes(N)?D.filter(M=>M!==N):[...D,N])};return l?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})}):t?s.jsxs("div",{className:"space-y-6 fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ue,{to:"/gallery",className:"inline-flex items-center text-gray-500 hover:text-gray-700 transition-colors",children:[s.jsx(gn,{className:"h-5 w-5 mr-2"}),"Back to Gallery"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:E,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(ke,{className:`h-5 w-5 ${u?"text-red-500 fill-current":"text-gray-600"}`})}),s.jsx("button",{onClick:()=>j(!0),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(vn,{className:"h-5 w-5 text-gray-600"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx("div",{className:"glass-effect rounded-xl overflow-hidden love-shadow",children:s.jsx("img",{src:`${bn}/api/photos/image/${t.filename}`,alt:t.originalName,className:"w-full h-auto max-h-96 object-contain bg-gray-50"})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:t.originalName}),t.caption&&s.jsx("p",{className:"text-gray-600 mb-4",children:t.caption}),s.jsxs("div",{className:"space-y-3 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ed,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{children:["Uploaded by ",t.uploader.name]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ge,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:m(t.createdAt)})]})]})]}),s.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Categories"}),s.jsx("button",{onClick:()=>j(!0),className:"text-gray-500 hover:text-gray-700 transition-colors",children:s.jsx(ds,{className:"h-4 w-4"})})]}),t.categories.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:t.categories.map(N=>s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium text-white",style:{backgroundColor:N.color},children:N.name},N.id))}):s.jsx("p",{className:"text-gray-500 text-sm",children:"No categories assigned"})]}),s.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notes"}),s.jsx(G1,{className:"h-5 w-5 text-gray-500"})]}),s.jsx("form",{onSubmit:C,className:"mb-6",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:h,onChange:N=>p(N.target.value),placeholder:"Add a note...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent"}),s.jsx("button",{type:"submit",disabled:f||!h.trim(),className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?"...":s.jsx(We,{className:"h-4 w-4"})})]})}),s.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:n.length>0?n.map(N=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-gray-800 mb-2",children:N.content}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("span",{children:["By ",N.author.name]}),s.jsx("span",{children:m(N.createdAt)})]})]},N.id)):s.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No notes yet. Be the first to add one!"})})]})]})]}),b&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Manage Categories"}),s.jsx("button",{onClick:()=>j(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:s.jsx(Qe,{className:"h-5 w-5"})})]}),s.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto mb-6",children:a.map(N=>s.jsxs("label",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:w.includes(N.id),onChange:()=>P(N.id),className:"rounded border-gray-300 text-gray-600 focus:ring-gray-400"}),s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:N.color}}),s.jsx("span",{className:"text-gray-800",children:N.name})]},N.id))}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>j(!1),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:A,className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors",children:"Update"})]})]})})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-600 mb-4",children:"Photo not found"}),s.jsxs(ue,{to:"/gallery",className:"inline-flex items-center text-gray-500 hover:text-gray-700 transition-colors",children:[s.jsx(gn,{className:"h-5 w-5 mr-2"}),"Back to Gallery"]})]})}const aS=({onDayClick:e})=>{const[t,r]=y.useState(new Date),[n,i]=y.useState([]),[a,o]=y.useState(!1),l=new Date,c=t.getFullYear(),u=t.getMonth();y.useEffect(()=>{d()},[c,u]);const d=async()=>{o(!0);try{const C=await $.get("/api/memories");i(C.data)}catch(C){console.error("Error fetching memories:",C),i([])}finally{o(!1)}},h=new Date(c,u,1),p=new Date(c,u+1,0),f=h.getDay(),x=p.getDate(),b=n.filter(C=>{let A;if(Array.isArray(C.date))A=C.date[1];else{const P=C.date.toString(),[N,D,M]=P.split("-").map(Number);A=D}return A-1===u}),j={},w=(C,A)=>{j[C]||(j[C]=[]),j[C].push(A)};b.forEach(C=>{let A;if(Array.isArray(C.date))A=C.date[2];else{const P=C.date.toString(),[N,D,M]=P.split("-").map(Number);A=M}if(C.type==="event"&&C.endDate){let P,N,D;if(Array.isArray(C.endDate)?(P=C.endDate[2],N=C.endDate[1],D=C.endDate[0]):[D,N,P]=C.endDate.toString().split("-").map(Number),N===u+1&&D===c)for(let M=A;M<=Math.min(P,x);M++)w(M,C);else if(N>u+1||D>c)for(let M=A;M<=x;M++)w(M,C);else w(A,C)}else w(A,C)});const g=C=>{r(A=>{const P=new Date(A);return C==="prev"?P.setMonth(A.getMonth()-1):P.setMonth(A.getMonth()+1),P})},m=C=>{const A=`${c}-${String(u+1).padStart(2,"0")}-${String(C).padStart(2,"0")}`,P=j[C]||[];e(A,P)},v=C=>{switch(C){case"anniversary":return"❤️";case"milestone":return"⭐";case"event":return"📅";default:return"🎁"}},S=()=>{const C=[];for(let A=0;A<f;A++)C.push(s.jsx("div",{className:"h-16"},`empty-${A}`));for(let A=1;A<=x;A++){const P=l.getFullYear()===c&&l.getMonth()===u&&l.getDate()===A,N=j[A]||[],D=N.length>0;C.push(s.jsxs("div",{onClick:()=>m(A),className:`h-10 md:h-16 flex flex-col items-center justify-center cursor-pointer rounded-lg transition-all duration-200 relative overflow-hidden ${P?"bg-gradient-to-br from-blue-500 to-blue-600 text-white font-semibold shadow-md":D?"bg-blue-50 text-blue-900 hover:bg-blue-100 border border-blue-200":"hover:bg-gray-50 text-gray-700 border border-transparent hover:border-gray-200"}`,children:[s.jsx("span",{className:`text-sm md:text-base font-medium ${P?"text-white":D?"text-blue-900":"text-gray-700"}`,children:A}),D&&s.jsxs("div",{className:"md:hidden flex items-center justify-center space-x-0.5 mt-1",children:[N.slice(0,3).map((M,_)=>s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${P?"bg-white":"bg-blue-500"}`,title:M.title},M.id)),N.length>3&&s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${P?"bg-white opacity-60":"bg-blue-300"}`})]}),D&&s.jsxs("div",{className:"hidden md:flex flex-col items-center space-y-0.5 mt-1 w-full px-1",children:[N.slice(0,2).map((M,_)=>s.jsxs("div",{className:"flex items-center justify-center w-full",children:[s.jsx("span",{className:"text-xs mr-1",children:v(M.type)}),s.jsx("span",{className:`text-xs truncate max-w-12 ${P?"text-white":"text-blue-700"}`,children:M.title})]},M.id)),N.length>2&&s.jsxs("span",{className:`text-xs ${P?"text-white opacity-90":"text-blue-500"}`,children:["+",N.length-2]})]})]},A))}return C},k=["January","February","March","April","May","June","July","August","September","October","November","December"],E=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return s.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:[k[u]," ",c]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>g("prev"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(B1,{className:"h-5 w-5 text-gray-600"})}),s.jsx("button",{onClick:()=>g("next"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(Wn,{className:"h-5 w-5 text-gray-600"})})]})]}),s.jsx("div",{className:"grid grid-cols-7 gap-1 md:gap-2 mb-2",children:E.map(C=>s.jsxs("div",{className:"h-8 flex items-center justify-center text-xs md:text-sm font-semibold text-gray-600 bg-gray-50 rounded-md",children:[s.jsx("span",{className:"hidden sm:inline",children:C}),s.jsx("span",{className:"sm:hidden",children:C.charAt(0)})]},C))}),s.jsx("div",{className:"grid grid-cols-7 gap-1 md:gap-2",children:S()}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 md:gap-6 mt-6 text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx("span",{className:"text-sm",children:"❤️"}),s.jsx("span",{className:"hidden sm:inline",children:"Anniversary"})]}),s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx("span",{className:"text-sm",children:"⭐"}),s.jsx("span",{className:"hidden sm:inline",children:"Milestone"})]}),s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx("span",{className:"text-sm",children:"🎁"}),s.jsx("span",{className:"hidden sm:inline",children:"Special Moment"})]}),s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx("span",{className:"text-sm",children:"📅"}),s.jsx("span",{className:"hidden sm:inline",children:"Event"})]}),s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsx("span",{className:"hidden sm:inline",children:"Today"})]}),s.jsxs("div",{className:"flex items-center space-x-1.5 md:hidden",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),s.jsx("span",{children:"Has memories"})]})]})]})},oS=({isOpen:e,onClose:t,date:r,memories:n,onEdit:i,onDelete:a})=>{if(!e)return null;const o=c=>{switch(c){case"anniversary":return s.jsx(ke,{className:"h-5 w-5 text-red-500"});case"milestone":return s.jsx(yn,{className:"h-5 w-5 text-yellow-500"});case"event":return s.jsx(Ge,{className:"h-5 w-5 text-blue-500"});case"special_moment":return s.jsx(be,{className:"h-5 w-5 text-purple-400"});default:return s.jsx(be,{className:"h-5 w-5 text-purple-400"})}},l=c=>{try{const u=c.includes("T")?c.split("T")[0]:c,[d,h,p]=u.split("-").map(Number),f=new Date(d,h-1,p);return isNaN(f.getTime())?"Invalid Date":f.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return"Invalid Date"}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Memories for ",l(r)]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n.length," ",n.length===1?"memory":"memories"," found"]})]}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Qe,{className:"h-5 w-5"})})]}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:n.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ge,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No memories found for this date"})]}):s.jsx("div",{className:"space-y-4",children:n.map(c=>s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 hover:border-gray-300 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o(c.type),s.jsx("h3",{className:"font-semibold text-gray-800",children:c.title})]}),s.jsx("p",{className:"text-gray-600 mb-3",children:c.description}),s.jsx("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:s.jsxs("span",{children:["Added by ",c.creator.name]})})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:()=>i(c),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Edit memory",children:s.jsx(ds,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>a(c.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Delete memory",children:s.jsx(Et,{className:"h-4 w-4"})})]})]})},c.id))})})]})})};function lS(){var lh;const[e,t]=Dx(),[r,n]=y.useState([]),[i,a]=y.useState(!1);y.useEffect(()=>{console.log("🔄 showForm state changed:",i)},[i]);const[o,l]=y.useState(null),[c,u]=y.useState({title:"",description:"",date:"",type:"special_moment",selectedPhotos:[]}),[d,h]=y.useState(!1),[p,f]=y.useState("all"),[x,b]=y.useState("all"),[j,w]=y.useState("asc"),[g,m]=y.useState(""),[v,S]=y.useState([]),[k,E]=y.useState(!1),[C,A]=y.useState([]),[P,N]=y.useState(null),[D,M]=y.useState(!1),[_,L]=y.useState(null),[B,z]=y.useState(!1);y.useEffect(()=>{O(),G()},[]),y.useEffect(()=>{V()},[p,x,j]);const O=async()=>{try{const T=await $.get("/api/memories");n(T.data)}catch(T){console.error("Error fetching memories:",T)}},I=()=>{let T=e.get("openMemory");if(T||(T=sessionStorage.getItem("openMemoryId")),console.log("Current URL:",window.location.href),console.log("SearchParams toString:",e.toString()),console.log("SessionStorage openMemoryId:",sessionStorage.getItem("openMemoryId")),console.log("Final openMemoryId:",T),console.log("Available memories:",r.length),T&&r.length>0){const U=r.find(te=>te.id===parseInt(T));console.log("Found memory to open:",U),U&&(console.log("Opening memory detail modal"),N(U),M(!0),sessionStorage.removeItem("openMemoryId"),setTimeout(()=>{t({})},100))}};y.useEffect(()=>{r.length>0&&I()},[r,e]);const V=async()=>{try{const T=new URLSearchParams;p!=="all"&&T.append("type",p),x!=="all"&&T.append("timeFilter",x),j&&T.append("sortOrder",j);const U=T.toString()?`/api/memories/filter?${T.toString()}`:"/api/memories",te=await fetch(U);if(te.ok){const ne=await te.json();n(ne)}}catch(T){console.error("Error fetching filtered memories:",T)}},G=async()=>{try{const T=await $.get("/api/photos?limit=100");A(T.data.photos||[])}catch(T){console.error("Error fetching photos:",T)}},H=async T=>{if(console.log("🚀 handleSubmit called",{event:T,formData:c,submitting:d}),T.preventDefault(),d){console.log("⚠️ Already submitting, returning early");return}if(!c.description.trim()){console.log("❌ Validation failed: empty description"),alert("Please enter a description for this memory.");return}console.log("✅ Starting memory submission..."),h(!0);try{const U={...c,selectedPhotos:(c.selectedPhotos||[]).map(ne=>ne.toString())};console.log("📤 Prepared memory data for backend:",U);let te;if(o?(console.log("📝 Updating existing memory:",o.id),te=await $.put(`/api/memories/${o.id}`,U)):(console.log("➕ Creating new memory with data:",U),te=await $.post("/api/memories",U)),console.log("✅ Memory API response:",te),c.type==="event"&&c.selectedPhotos&&c.selectedPhotos.length>0){const ne=o?o.id:te.data.memory.id,Ce=(c.selectedPhotos||[]).map(De=>Number(De));console.log("📸 Associating photos with memory:",{memoryId:ne,photoIds:Ce});try{await $.post(`/api/memories/${ne}/photos`,Ce),console.log("✅ Photos associated successfully")}catch(De){console.error("❌ Error associating photos:",De),alert("Memory created but failed to associate photos. You can edit the memory to add photos later.")}}console.log("🔄 Refreshing memories list..."),await O(),console.log("✅ Memory created/updated successfully!"),W()}catch(U){console.error("❌ Error saving memory:",U),U.response&&(console.error("❌ Error response data:",U.response.data),console.error("❌ Error response status:",U.response.status)),alert("Error saving memory. Please try again.")}finally{h(!1),console.log("🏁 Form submission completed")}},Z=T=>{l(T),u({title:T.title,description:T.description,date:(()=>{if(Array.isArray(T.date)){const[U,te,ne]=T.date;return`${U}-${te.toString().padStart(2,"0")}-${ne.toString().padStart(2,"0")}`}else if(typeof T.date=="string")return T.date.includes("T")?T.date.split("T")[0]:T.date;return""})(),endDate:(()=>{if(Array.isArray(T.endDate)){const[U,te,ne]=T.endDate;return`${U}-${te.toString().padStart(2,"0")}-${ne.toString().padStart(2,"0")}`}else if(typeof T.endDate=="string")return T.endDate.includes("T")?T.endDate.split("T")[0]:T.endDate})(),type:T.type,selectedPhotos:T.photos?T.photos.map(U=>U.id):[]}),a(!0)},oe=async T=>{if(confirm("Are you sure you want to delete this memory?"))try{await $.delete(`/api/memories/${T}`),await O()}catch(U){console.error("Error deleting memory:",U),alert("Error deleting memory. Please try again.")}},W=()=>{u({title:"",description:"",date:"",endDate:void 0,type:"special_moment",selectedPhotos:[]}),l(null),a(!1)},Y=T=>{N(T),M(!0)},ee=()=>{N(null),M(!1)},Kt=T=>{L(T),z(!0)},Qt=()=>{L(null),z(!1)},Tn=(T,U)=>{m(T),S(U),E(!0)},Pt=T=>{switch(T){case"anniversary":return s.jsx(ke,{className:"h-5 w-5 text-red-500",fill:"currentColor"});case"milestone":return s.jsx(yn,{className:"h-5 w-5 text-yellow-500",fill:"currentColor"});case"event":return s.jsx(Ge,{className:"h-5 w-5 text-blue-500"});default:return s.jsx(be,{className:"h-5 w-5 text-purple-400"})}},$i=T=>{switch(T){case"anniversary":return"Anniversary";case"milestone":return"Milestone";case"event":return"Event";default:return"Special Moment"}},ah=r,oh=r.filter(T=>T.type!=="event").map(T=>{let U;if(Array.isArray(T.date)){const[et,Xt,mr]=T.date;U=new Date(et,Xt-1,mr)}else if(typeof T.date=="string"){const et=T.date.includes("T")?T.date.split("T")[0]:T.date,[Xt,mr,al]=et.split("-").map(Number);U=new Date(Xt,mr-1,al)}else U=new Date(T.date);if(isNaN(U.getTime()))return null;const te=new Date,ne=te.getFullYear(),Ce=new Date(ne,U.getMonth(),U.getDate()),De=Ce>=te?Ce:new Date(ne+1,U.getMonth(),U.getDate());return{...T,nextAnniversaryDate:De,daysUntil:Math.ceil((De.getTime()-te.getTime())/(1e3*60*60*24))}}).filter(T=>T!==null).sort((T,U)=>T.daysUntil-U.daysUntil).slice(0,3);return s.jsxs("div",{className:"space-y-6 fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"font-heading text-4xl text-gray-800 mb-2",children:"Our Memories"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Special moments and milestones in our journey together"})]}),s.jsxs("button",{onClick:()=>{console.log('🔘 "Add Memory" button clicked'),a(!0)},className:"flex items-center space-x-2 romantic-gradient text-white px-6 py-3 rounded-lg hover:opacity-90 transition-opacity",children:[s.jsx(We,{className:"h-5 w-5"}),s.jsx("span",{children:"Add Memory"})]})]}),oh.length>0&&s.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(Io,{className:"h-5 w-5 mr-2 text-purple-400"}),"Upcoming Anniversaries"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:oh.map(T=>{let U;try{if(T.date&&typeof T.date=="string"){const ne=T.date.includes("T")?T.date.split("T")[0]:T.date,[Ce,De,et]=ne.split("-").map(Number);U=new Date(Ce,De-1,et)}else U=new Date(T.date)}catch{U=new Date}const te=T.nextAnniversaryDate&&!isNaN(T.nextAnniversaryDate.getTime())?T.nextAnniversaryDate.getFullYear()-U.getFullYear():0;return s.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-purple-50 rounded-lg p-4 border border-pink-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[Pt(T.type),s.jsx("span",{className:"text-xs text-gray-500",children:T.nextAnniversaryDate&&!isNaN(T.nextAnniversaryDate.getTime())?T.nextAnniversaryDate.toLocaleDateString():"Invalid Date"})]}),s.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:T.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:T.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[te>0&&s.jsxs("p",{className:"text-xs text-purple-500 font-medium",children:[te," year",te!==1?"s":""," anniversary"]}),s.jsx("p",{className:"text-xs text-gray-500",children:T.daysUntil===0?"Today!":`${T.daysUntil} days`})]})]},T.id)})})]}),s.jsx(aS,{onDayClick:Tn}),s.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(Ge,{className:"h-5 w-5 mr-2 text-purple-400"}),"All Memories"]}),s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap items-stretch sm:items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1 sm:flex-none sm:min-w-[140px]",children:[s.jsx("label",{className:"block text-gray-500 text-sm font-medium mb-1",children:"Type"}),s.jsxs("select",{value:p,onChange:T=>f(T.target.value),className:"w-full appearance-none bg-white border border-gray-300 rounded-lg px-4 py-3 pr-8 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 transition-colors touch-manipulation",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"anniversary",children:"Anniversary"}),s.jsx("option",{value:"milestone",children:"Milestone"}),s.jsx("option",{value:"special_moment",children:"Special Moment"}),s.jsx("option",{value:"event",children:"Event"})]}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none mt-6",children:s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),s.jsxs("div",{className:"relative flex-1 sm:flex-none sm:min-w-[140px]",children:[s.jsx("label",{className:"block text-gray-500 text-sm font-medium mb-1",children:"Time Period"}),s.jsxs("select",{value:x,onChange:T=>b(T.target.value),className:"w-full appearance-none bg-white border border-gray-300 rounded-lg px-4 py-3 pr-8 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 transition-colors touch-manipulation",children:[s.jsx("option",{value:"all",children:"All Time"}),s.jsx("option",{value:"thisMonth",children:"This Month"}),s.jsx("option",{value:"last6Months",children:"Last 6 Months"}),s.jsx("option",{value:"thisYear",children:"This Year"}),s.jsx("option",{value:"lastYear",children:"Last Year"}),s.jsx("option",{value:"older",children:"2+ Years Ago"})]}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none mt-6",children:s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),s.jsxs("div",{className:"relative flex-1 sm:flex-none sm:min-w-[140px]",children:[s.jsx("label",{className:"block text-gray-500 text-sm font-medium mb-1",children:"Sort Order"}),s.jsxs("select",{value:j,onChange:T=>w(T.target.value),className:"w-full appearance-none bg-white border border-gray-300 rounded-lg px-4 py-3 pr-8 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 transition-colors touch-manipulation",children:[s.jsx("option",{value:"desc",children:"Newest First"}),s.jsx("option",{value:"asc",children:"Oldest First"})]}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none mt-6",children:s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})}),ah.length>0?s.jsx("div",{className:"space-y-4",children:ah.map(T=>s.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:shadow-md transition-all cursor-pointer group",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",onClick:()=>Y(T),children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[Pt(T.type),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 group-hover:text-blue-600 transition-colors",children:T.title}),s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:$i(T.type)})]}),s.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:T.description}),T.type==="event"&&T.photos&&T.photos.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[T.photos.slice(0,4).map(U=>s.jsx("div",{className:"relative",children:s.jsx("img",{src:`/api/photos/image/${U.filename}`,alt:U.originalName,className:"w-16 h-16 object-cover rounded-lg border border-gray-200",title:U.caption||U.originalName})},U.id)),T.photos.length>4&&s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg border border-gray-200 flex items-center justify-center",children:s.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:["+",T.photos.length-4]})})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[T.photos.length," photo",T.photos.length!==1?"s":""," attached"]})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Ge,{className:"h-4 w-4"}),s.jsx("span",{children:T.type==="event"&&T.endDate?(()=>{try{let U,te,ne;if(Array.isArray(T.date))[U,te,ne]=T.date;else if(typeof T.date=="string")[U,te,ne]=(T.date.includes("T")?T.date.split("T")[0]:T.date).split("-").map(Number);else return"Invalid Date";let Ce,De,et;if(Array.isArray(T.endDate))[Ce,De,et]=T.endDate;else if(typeof T.endDate=="string")[Ce,De,et]=(T.endDate.includes("T")?T.endDate.split("T")[0]:T.endDate).split("-").map(Number);else return"Invalid Date";const Xt=new Date(U,te-1,ne),mr=new Date(Ce,De-1,et);return`${isNaN(Xt.getTime())?"Invalid Date":Xt.toLocaleDateString()} - ${isNaN(mr.getTime())?"Invalid Date":mr.toLocaleDateString()}`}catch{return"Invalid Date"}})():(()=>{try{let U,te,ne;if(Array.isArray(T.date))[U,te,ne]=T.date;else if(typeof T.date=="string")[U,te,ne]=(T.date.includes("T")?T.date.split("T")[0]:T.date).split("-").map(Number);else return"Invalid Date";const Ce=new Date(U,te-1,ne);return isNaN(Ce.getTime())?"Invalid Date":Ce.toLocaleDateString()}catch{return"Invalid Date"}})()})]}),s.jsx("span",{children:"•"}),s.jsxs("span",{children:["Added by ",T.creator.name]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:U=>{U.stopPropagation(),Z(T)},className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ds,{className:"h-4 w-4"})}),s.jsx("button",{onClick:U=>{U.stopPropagation(),oe(T.id)},className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:s.jsx(Et,{className:"h-4 w-4"})})]})]})},T.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ge,{className:"h-16 w-16 text-pink-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:p==="all"?"No memories yet":`No ${$i(p).toLowerCase()}s yet`}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Start documenting your special moments and milestones!"}),s.jsxs("button",{onClick:()=>{console.log('🔘 "Add First Memory" button clicked'),a(!0)},className:"inline-flex items-center px-6 py-3 romantic-gradient text-white rounded-lg hover:opacity-90 transition-opacity",children:[s.jsx(We,{className:"h-5 w-5 mr-2"}),"Add First Memory"]})]})]}),s.jsx(oS,{isOpen:k,onClose:()=>E(!1),date:g,memories:v,onEdit:Z,onDelete:oe}),D&&P&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[85vh] overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:P.title}),s.jsx("button",{onClick:ee,className:"w-8 h-8 flex items-center justify-center rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors",children:"✕"})]}),s.jsx("div",{className:"overflow-y-auto max-h-[calc(85vh-140px)] p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[Pt(P.type),s.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 text-sm rounded-full",children:$i(P.type)})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:P.description})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Date"}),s.jsx("p",{className:"text-gray-600",children:P.type==="event"&&P.endDate?(()=>{try{let T,U,te;if(Array.isArray(P.date))[T,U,te]=P.date;else if(typeof P.date=="string")[T,U,te]=(P.date.includes("T")?P.date.split("T")[0]:P.date).split("-").map(Number);else return"Invalid Date";let ne,Ce,De;if(Array.isArray(P.endDate))[ne,Ce,De]=P.endDate;else if(typeof P.endDate=="string")[ne,Ce,De]=(P.endDate.includes("T")?P.endDate.split("T")[0]:P.endDate).split("-").map(Number);else return"Invalid Date";const et=new Date(T,U-1,te),Xt=new Date(ne,Ce-1,De);return`${isNaN(et.getTime())?"Invalid Date":et.toLocaleDateString()} - ${isNaN(Xt.getTime())?"Invalid Date":Xt.toLocaleDateString()}`}catch{return"Invalid Date"}})():(()=>{try{let T,U,te;if(Array.isArray(P.date))[T,U,te]=P.date;else if(typeof P.date=="string")[T,U,te]=(P.date.includes("T")?P.date.split("T")[0]:P.date).split("-").map(Number);else return"Invalid Date";const ne=new Date(T,U-1,te);return isNaN(ne.getTime())?"Invalid Date":ne.toLocaleDateString()}catch{return"Invalid Date"}})()})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Added by"}),s.jsx("p",{className:"text-gray-600",children:P.creator.name})]})]}),P.type==="event"&&P.photos&&P.photos.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:["Photos (",P.photos.length,")"]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:P.photos.map(T=>s.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>Kt(T),children:[s.jsx("img",{src:`/api/photos/image/${T.filename}`,alt:T.originalName,className:"w-full h-24 object-cover rounded-lg border border-gray-200 group-hover:shadow-lg group-hover:scale-105 transition-all duration-200"}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 rounded-lg transition-all flex items-center justify-center",children:s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity bg-white bg-opacity-90 rounded-full p-2",children:s.jsx("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})}),T.caption&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-60 text-white text-xs p-2 rounded-b-lg",children:s.jsx("p",{className:"truncate",children:T.caption})})]},T.id))})]})]})}),s.jsxs("div",{className:"flex space-x-3 p-6 border-t border-gray-100 bg-gray-50",children:[s.jsxs("button",{onClick:()=>{ee(),Z(P)},className:"flex-1 px-6 py-3 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium flex items-center justify-center space-x-2",children:[s.jsx(ds,{className:"h-4 w-4"}),s.jsx("span",{children:"Edit Memory"})]}),s.jsx("button",{onClick:ee,className:"flex-1 px-6 py-3 romantic-gradient text-white rounded-lg hover:opacity-90 transition-colors font-medium",children:"Close"})]})]})}),B&&_&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"relative max-w-4xl max-h-full w-full h-full flex items-center justify-center",children:[s.jsx("button",{onClick:Qt,className:"absolute top-4 right-4 w-10 h-10 flex items-center justify-center rounded-full bg-black bg-opacity-50 text-white hover:bg-opacity-70 transition-colors z-10",children:"✕"}),s.jsxs("div",{className:"relative max-w-full max-h-full",children:[s.jsx("img",{src:`/api/photos/image/${_.filename}`,alt:_.originalName,className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl"}),_.caption&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 text-white p-4 rounded-b-lg",children:s.jsx("p",{className:"text-center text-sm",children:_.caption})})]}),s.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-50 text-white px-4 py-2 rounded-full text-sm",children:_.originalName})]})}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-2 md:p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[95vh] md:max-h-[85vh] overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 md:p-6 border-b border-gray-100",children:[s.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-800",children:o?"Edit Memory":"Create Memory"}),s.jsx("button",{onClick:W,className:"w-8 h-8 flex items-center justify-center rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors",children:"✕"})]}),s.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-140px)] md:max-h-[calc(85vh-140px)]",children:s.jsxs("form",{onSubmit:H,className:"p-4 md:p-6 space-y-4 md:space-y-5",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),s.jsx("input",{type:"text",value:c.title,onChange:T=>u({...c,title:T.target.value}),className:"w-full px-3 md:px-4 py-2 md:py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all text-sm md:text-base",placeholder:"Enter memory title",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["📅 ",c.type==="event"?"Start Date":"Date"]}),s.jsx("input",{type:"date",value:c.date,onChange:T=>u({...c,date:T.target.value}),className:"w-full px-3 md:px-4 py-2 md:py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all text-sm md:text-base",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),s.jsxs("select",{value:c.type,onChange:T=>u({...c,type:T.target.value}),className:"w-full px-3 md:px-4 py-2 md:py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all text-sm md:text-base",children:[s.jsx("option",{value:"special_moment",children:"Special Moment"}),s.jsx("option",{value:"anniversary",children:"Anniversary"}),s.jsx("option",{value:"milestone",children:"Milestone"}),s.jsx("option",{value:"event",children:"Event"})]})]})]}),c.type==="event"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"📅 End Date (Optional)"}),s.jsx("input",{type:"date",value:c.endDate||"",onChange:T=>u({...c,endDate:T.target.value||void 0}),min:c.date,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty for single-day events"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:c.description,onChange:T=>u({...c,description:T.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all resize-none",rows:3,placeholder:"Share the story behind this memory...",required:!0})]}),c.type==="event"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Select Photos (",((lh=c.selectedPhotos)==null?void 0:lh.length)||0," selected)"]}),s.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:s.jsx("div",{className:"max-h-64 overflow-y-auto p-3",children:s.jsx("div",{className:"grid grid-cols-3 gap-3",children:C.map(T=>{var U,te;return s.jsxs("div",{className:`relative cursor-pointer rounded-lg border-2 transition-all ${(U=c.selectedPhotos)!=null&&U.includes(T.id)?"border-pink-500 bg-pink-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{const ne=c.selectedPhotos||[],De=ne.includes(T.id)?ne.filter(et=>et!==T.id):[...ne,T.id];u({...c,selectedPhotos:De})},children:[s.jsx("img",{src:`/api/photos/image/${T.filename}`,alt:T.originalName,className:"w-full h-20 object-cover rounded-md"}),((te=c.selectedPhotos)==null?void 0:te.includes(T.id))&&s.jsx("div",{className:"absolute top-1 right-1 w-5 h-5 bg-pink-500 text-white rounded-full flex items-center justify-center text-xs",children:"✓"}),T.caption&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-60 text-white text-xs p-1 rounded-b-md",children:s.jsx("p",{className:"truncate",children:T.caption})})]},T.id)})})})})]})]}),s.jsxs("div",{className:"flex space-x-3 pt-4 md:pt-6 border-t border-gray-100 bg-gray-50",children:[s.jsx("button",{type:"button",onClick:W,className:"flex-1 px-4 md:px-6 py-2 md:py-3 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm md:text-base",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:d,onClick:T=>{console.log("🔘 Submit button clicked"),console.log("📝 Form data at submit:",c)},className:"flex-1 px-4 md:px-6 py-2 md:py-3 romantic-gradient text-white rounded-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium text-sm md:text-base",children:d?o?"Updating...":"Creating...":o?"Update Memory":"Create Memory"})]})]})})]})})]})}const cS=({prizes:e,size:t=300})=>{const r=(d,h)=>d==="MONEY"?h>=500?s.jsx(er,{className:"w-4 h-4 text-yellow-400"}):h>=100?s.jsx(er,{className:"w-4 h-4 text-white"}):h>=50?s.jsx(er,{className:"w-4 h-4 text-white"}):h>=25?s.jsx(er,{className:"w-4 h-4 text-white"}):h>=10?s.jsx(er,{className:"w-4 h-4 text-gray-800"}):s.jsx(er,{className:"w-4 h-4 text-gray-600"}):s.jsx(be,{className:"w-4 h-4 text-white"}),n=d=>{const h=d.replace("#",""),p=parseInt(h.substr(0,2),16),f=parseInt(h.substr(2,2),16),x=parseInt(h.substr(4,2),16);return(.299*p+.587*f+.114*x)/255>.5?"#000000":"#FFFFFF"},i=t/2,a=i,o=i,l=e.map((d,h)=>{const p=360/e.length,f=h*p,x=(h+1)*p;return{...d,startAngle:f,endAngle:x,segmentAngle:p}}),c=(d,h)=>{const p=d*Math.PI/180,f=h*Math.PI/180,x=a+(i-20)*Math.cos(p),b=o+(i-20)*Math.sin(p),j=a+(i-20)*Math.cos(f),w=o+(i-20)*Math.sin(f),g=h-d<=180?"0":"1";return[`M ${a} ${o}`,`L ${x} ${b}`,`A ${i-20} ${i-20} 0 ${g} 1 ${j} ${w}`,"Z"].join(" ")},u=(d,h)=>{const p=(d+h)/2,f=h-d,x=i-20,b=.45,j=.8,w=Math.min(f/180,1),g=b+(j-b)*Math.sqrt(w),m=x*g,S=(p-90)*Math.PI/180;return{x:a+m*Math.cos(S),y:o+m*Math.sin(S)}};return e.length===0?s.jsx("div",{className:"flex items-center justify-center bg-gray-100 rounded-full border-4 border-gray-300",style:{width:t,height:t},children:s.jsx("p",{className:"text-gray-500 text-center px-4",children:"No prizes configured"})}):s.jsxs("div",{className:"relative",children:[s.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",children:[l.map((d,h)=>s.jsx("g",{children:s.jsx("path",{d:c(d.startAngle,d.endAngle),fill:d.color,stroke:"#ffffff",strokeWidth:"2"})},h)),s.jsx("circle",{cx:a,cy:o,r:"20",fill:"#ffffff",stroke:"#e5e7eb",strokeWidth:"2"})]}),s.jsx("div",{className:"absolute inset-0",children:l.map((d,h)=>{const p=u(d.startAngle,d.endAngle),f=n(d.color);return s.jsx("div",{className:"absolute flex flex-col items-center justify-center text-center pointer-events-none",style:{left:p.x,top:p.y,transform:"translate(-50%, -50%)",color:f,minWidth:"max-content"},children:s.jsxs("div",{className:"flex flex-col items-center space-y-1 px-1",children:[r(d.prizeType,d.prizeValue),s.jsx("div",{className:"text-xs font-medium max-w-16 truncate",title:d.prizeName,children:d.prizeName})]})},h)})}),s.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1",style:{marginTop:"10px"},children:s.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-b-8 border-l-transparent border-r-transparent border-b-red-500"})})]})},uS=`
  .slider {
    -webkit-appearance: none;
    appearance: none;
    height: 12px;
    border-radius: 6px;
    outline: none;
    transition: all 0.2s ease;
  }
  
  .slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: #3B82F6;
    cursor: pointer;
    border: 3px solid white;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    transition: all 0.2s ease;
  }
  
  .slider::-webkit-slider-thumb:hover {
    background: #2563EB;
    transform: scale(1.1);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  }
  
  .slider::-moz-range-thumb {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: #3B82F6;
    cursor: pointer;
    border: 3px solid white;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    transition: all 0.2s ease;
  }
  
  .slider::-moz-range-thumb:hover {
    background: #2563EB;
    transform: scale(1.1);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  }
`,dS=({targetUserId:e,targetUserName:t,onPrizesChange:r})=>{const[n,i]=y.useState([]),[a,o]=y.useState(!0),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[h,p]=y.useState(new Set),{showToast:f}=Yo(),x=[{value:"#F3F4F6",name:"Light Gray"},{value:"#E5E7EB",name:"Gray"},{value:"#D1D5DB",name:"Medium Gray"},{value:"#9CA3AF",name:"Dark Gray"},{value:"#6B7280",name:"Slate Gray"},{value:"#4B5563",name:"Charcoal"},{value:"#374151",name:"Dark Charcoal"},{value:"#1F2937",name:"Black"},{value:"#FEF3C7",name:"Light Yellow"},{value:"#FDE68A",name:"Pale Yellow"},{value:"#FCD34D",name:"Yellow"},{value:"#F59E0B",name:"Orange Yellow"},{value:"#D97706",name:"Orange"},{value:"#92400E",name:"Dark Orange"},{value:"#78350F",name:"Brown"},{value:"#FEE2E2",name:"Light Pink"},{value:"#FECACA",name:"Pale Pink"},{value:"#FCA5A5",name:"Pink"},{value:"#F87171",name:"Rose"},{value:"#EF4444",name:"Red"},{value:"#DC2626",name:"Dark Red"},{value:"#B91C1C",name:"Crimson"},{value:"#991B1B",name:"Maroon"},{value:"#7F1D1D",name:"Dark Maroon"},{value:"#DBEAFE",name:"Light Blue"},{value:"#BFDBFE",name:"Pale Blue"},{value:"#93C5FD",name:"Sky Blue"},{value:"#60A5FA",name:"Blue"},{value:"#3B82F6",name:"Royal Blue"},{value:"#2563EB",name:"Dark Blue"},{value:"#1D4ED8",name:"Navy Blue"},{value:"#1E40AF",name:"Deep Blue"},{value:"#1E3A8A",name:"Midnight Blue"},{value:"#D1FAE5",name:"Light Green"},{value:"#A7F3D0",name:"Pale Green"},{value:"#6EE7B7",name:"Mint Green"},{value:"#34D399",name:"Green"},{value:"#10B981",name:"Emerald"},{value:"#059669",name:"Dark Green"},{value:"#047857",name:"Forest Green"}];y.useEffect(()=>{b()},[e]);const b=async()=>{try{o(!0);const P=e?`/api/wheel-config/other-user-wheel/${e}`:"/api/wheel-config/my-wheel",N=await $.get(P);if(N.data.hasConfiguration&&N.data.prizes)i(N.data.prizes.map((D,M)=>({id:D.id,prizeName:D.prizeName,prizeDescription:D.prizeDescription,prizeType:D.prizeType,prizeValue:D.prizeValue,probability:parseFloat(D.probability),color:D.color,displayOrder:D.displayOrder||M}))),d(!0),r&&r(N.data.prizes.map((D,M)=>({id:D.id,prizeName:D.prizeName,prizeDescription:D.prizeDescription,prizeType:D.prizeType,prizeValue:D.prizeValue,probability:parseFloat(D.probability),color:D.color,displayOrder:D.displayOrder||M})));else{const D=j();i(D),d(!1),r&&r(D)}}catch(P){console.error("Error loading wheel configuration:",P),f("Failed to load wheel configuration","general"),i(j()),d(!1)}finally{o(!1)}},j=()=>[{prizeName:"$1",prizeDescription:"Win $1 love points",prizeType:"MONEY",prizeValue:1,probability:45,color:"#F3F4F6",displayOrder:0},{prizeName:"$5",prizeDescription:"Win $5 love points",prizeType:"MONEY",prizeValue:5,probability:25,color:"#E5E7EB",displayOrder:1},{prizeName:"$10",prizeDescription:"Win $10 love points",prizeType:"MONEY",prizeValue:10,probability:15,color:"#D1D5DB",displayOrder:2},{prizeName:"$25",prizeDescription:"Win $25 love points",prizeType:"MONEY",prizeValue:25,probability:10,color:"#9CA3AF",displayOrder:3},{prizeName:"$77",prizeDescription:"Win $77 love points",prizeType:"MONEY",prizeValue:77,probability:2.5,color:"#6B7280",displayOrder:4},{prizeName:"$100",prizeDescription:"Win $100 love points",prizeType:"MONEY",prizeValue:100,probability:1.5,color:"#4B5563",displayOrder:5},{prizeName:"$500",prizeDescription:"Win $500 love points",prizeType:"MONEY",prizeValue:500,probability:.5,color:"#374151",displayOrder:6},{prizeName:"$1000",prizeDescription:"Win $1000 love points",prizeType:"MONEY",prizeValue:1e3,probability:.5,color:"#1F2937",displayOrder:7}],w=P=>{const N=new Set(h);N.has(P)?N.delete(P):N.add(P),p(N)},g=()=>{const P={prizeName:"New Prize",prizeDescription:"Description for new prize",prizeType:"MONEY",prizeValue:1,probability:1,color:x[Math.floor(Math.random()*x.length)].value,displayOrder:n.length},N=[...n,P];i(N),p(D=>new Set([...D,n.length])),r&&r(N)},m=P=>{if(n.length<=2){f("You must have at least 2 prizes","general");return}const N=n.filter((D,M)=>M!==P);i(N),r&&r(N)},v=(P,N,D)=>{const M=[...n];M[P]={...M[P],[N]:D},i(M),r&&r(M)},S=(P,N)=>{const D=[...n];D[P].probability=N,i(D),r&&r(D)},k=P=>{const N=[...n];N[P].locked=!N[P].locked,i(N),r&&r(N)},E=()=>{const P=j();i(P),f("Reset to default configuration","general"),r&&r(P)},C=async()=>{var P,N;try{c(!0);const D=n.reduce((V,G)=>V+G.probability,0);if(Math.abs(D-100)>.1){f("Total probability must equal 100%","general");return}for(const V of n)if(!V.prizeName.trim()||!V.prizeDescription.trim()||V.prizeValue<=0){f("All prize fields must be filled with valid values","general");return}const M=e?`/api/wheel-config/save-for-user/${e}`:"/api/wheel-config/save",_=[...n],L=_.reduce((V,G)=>V+G.probability,0);console.log("Original total probability:",L);const B=100/L;_.forEach(V=>{V.probability=V.probability*B});let z=0;for(let V=0;V<_.length-1;V++)_[V].probability=Math.round(_[V].probability*1e8)/1e8,z+=_[V].probability;_[_.length-1].probability=Math.round((100-z)*1e8)/1e8;const O=_.reduce((V,G)=>V+G.probability,0);console.log("Normalized total probability:",O);const I={prizes:_.map(V=>({prizeName:V.prizeName,prizeDescription:V.prizeDescription,prizeType:V.prizeType,prizeValue:V.prizeValue,probability:V.probability,color:V.color}))};await $.post(M,I),f(e?`Successfully saved wheel configuration for ${t}`:"Successfully saved wheel configuration","general"),d(!0)}catch(D){console.error("Error saving wheel configuration:",D),f(((N=(P=D.response)==null?void 0:P.data)==null?void 0:N.message)||"Failed to save wheel configuration","general")}finally{c(!1)}},A=n.reduce((P,N)=>P+N.probability,0);return a?s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),s.jsx("div",{className:"space-y-3",children:[1,2,3].map(P=>s.jsx("div",{className:"h-20 bg-gray-200 rounded"},P))})]})}):s.jsxs(s.Fragment,{children:[s.jsx("style",{children:uS}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-violet-50 p-6 border-b border-gray-100",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:s.jsx(hs,{className:"w-5 h-5 text-purple-500"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?`${t}'s Wheel Configuration`:"My Wheel Configuration"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Configure prizes and probabilities"})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Math.abs(A-100)<.1?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:["Total: ",A.toFixed(1),"%"]})})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Live Preview"}),s.jsx("div",{className:"flex justify-center",children:s.jsx(cS,{prizes:n,size:280})})]}),s.jsxs("div",{className:"space-y-6 mb-8",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Prize Configuration"}),n.map((P,N)=>{var M;const D=h.has(N);return s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl overflow-hidden hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>w(N),children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:P.color}}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium text-gray-900",children:P.prizeName}),s.jsxs("span",{className:"text-sm text-gray-500",children:[P.probability.toFixed(1),"% chance"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:_=>{_.stopPropagation(),m(N)},disabled:n.length<=2,className:`p-2 rounded-lg transition-colors ${n.length<=2?"text-gray-400 cursor-not-allowed":"text-red-500 hover:text-red-700 hover:bg-red-50"}`,title:n.length<=2?"Minimum 2 prizes required":"Remove prize",children:s.jsx(Et,{className:"w-4 h-4"})}),D?s.jsx(Er,{className:"w-5 h-5 text-gray-400"}):s.jsx(Wn,{className:"w-5 h-5 text-gray-400"})]})]}),D&&s.jsx("div",{className:"px-4 pb-4 border-t border-gray-200",children:s.jsxs("div",{className:"pt-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prize Name"}),s.jsx("input",{type:"text",value:P.prizeName,onChange:_=>v(N,"prizeName",_.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent",placeholder:"e.g., $10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("input",{type:"text",value:P.prizeDescription,onChange:_=>v(N,"prizeDescription",_.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent",placeholder:"Prize description"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),s.jsxs("select",{value:P.prizeType,onChange:_=>v(N,"prizeType",_.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent",children:[s.jsx("option",{value:"MONEY",children:"💰 Money"}),s.jsx("option",{value:"GIFT",children:"🎁 Gift"}),s.jsx("option",{value:"EXPERIENCE",children:"✨ Experience"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Value"}),s.jsx("input",{type:"number",value:P.prizeValue,onChange:_=>v(N,"prizeValue",parseFloat(_.target.value)||0),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent",placeholder:"Value",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center space-x-2 p-2 border border-gray-300 rounded-lg cursor-pointer hover:border-purple-400 transition-colors",onClick:()=>{const _=document.getElementById(`color-select-${N}`);_&&_.focus()},children:[s.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:P.color}}),s.jsx("span",{className:"text-sm text-gray-700",children:((M=x.find(_=>_.value===P.color))==null?void 0:M.name)||"Custom Color"}),s.jsx("svg",{className:"w-4 h-4 text-gray-400 ml-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx("select",{id:`color-select-${N}`,value:P.color,onChange:_=>v(N,"color",_.target.value),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",children:x.map(_=>s.jsx("option",{value:_.value,children:_.name},_.value))})]}),s.jsx("div",{className:"mt-2 grid grid-cols-8 gap-1",children:x.map(_=>s.jsx("button",{type:"button",onClick:()=>v(N,"color",_.value),className:`w-6 h-6 rounded-full border-2 hover:scale-110 transition-transform ${P.color===_.value?"border-purple-400 ring-2 ring-purple-200":"border-white shadow-sm"}`,style:{backgroundColor:_.value},title:_.name},_.value))})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Probability"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>k(N),className:`p-1 rounded transition-colors ${P.locked?"text-yellow-600 hover:text-yellow-700 bg-yellow-50 hover:bg-yellow-100":"text-gray-400 hover:text-gray-600 hover:bg-gray-50"}`,title:P.locked?"Unlock probability":"Lock probability",children:P.locked?s.jsx(Ox,{className:"w-4 h-4"}):s.jsx(Z1,{className:"w-4 h-4"})}),s.jsxs("span",{className:"text-sm font-semibold text-purple-500",children:[P.probability.toFixed(1),"%"]})]})]}),s.jsx("input",{type:"range",min:"0.1",max:"95",step:"0.1",value:P.probability,onChange:_=>S(N,parseFloat(_.target.value)),disabled:P.locked,className:`w-full h-3 bg-gray-200 rounded-lg appearance-none slider ${P.locked?"cursor-not-allowed opacity-50":"cursor-pointer"}`,style:{background:`linear-gradient(to right, ${P.color} 0%, ${P.color} ${P.probability}%, #e5e7eb ${P.probability}%, #e5e7eb 100%)`}}),"                    "]})]})})]},N)})]}),s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[s.jsxs("button",{onClick:g,className:"flex items-center justify-center space-x-2 px-4 py-2.5 bg-gradient-to-r from-purple-400 to-purple-500 text-white rounded-lg hover:from-purple-500 hover:to-purple-600 transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 text-sm",children:[s.jsx(We,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:"Add Prize"})]}),s.jsxs("button",{onClick:E,className:"flex items-center justify-center space-x-2 px-4 py-2.5 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-lg hover:from-gray-600 hover:to-gray-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 text-sm",children:[s.jsx(ru,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:"Reset"})]}),s.jsxs("button",{onClick:()=>{const P=[...n],N=P.filter(B=>B.locked),D=P.filter(B=>!B.locked);if(D.length===0){f("Cannot normalize: all probabilities are locked","general");return}const _=100-N.reduce((B,z)=>B+z.probability,0);if(_<=0){f("Cannot normalize: locked probabilities exceed 100%","general");return}const L=D.reduce((B,z)=>B+z.probability,0);if(L>0){const B=_/L;D.forEach(z=>{z.probability=z.probability*B})}i(P),r&&r(P),f("Probabilities normalized to 100%","general")},disabled:Math.abs(A-100)<.1,className:`flex items-center justify-center space-x-2 px-4 py-2.5 rounded-lg font-medium transition-all duration-200 shadow-md transform text-sm ${Math.abs(A-100)<.1?"bg-gray-400 cursor-not-allowed text-white":"bg-gradient-to-r from-purple-400 to-purple-500 text-white hover:from-purple-500 hover:to-purple-600 hover:shadow-lg hover:-translate-y-0.5"}`,children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),s.jsx("span",{className:"font-medium",children:"Normalize"})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{onClick:C,disabled:l||Math.abs(A-100)>.1,className:`flex items-center justify-center space-x-2 px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-md transform ${l||Math.abs(A-100)>.1?"bg-gray-400 cursor-not-allowed text-white":"bg-gradient-to-r from-green-500 to-green-600 text-white hover:from-green-600 hover:to-green-700 hover:shadow-lg hover:-translate-y-0.5"}`,children:[s.jsx(Lx,{className:"w-5 h-5"}),s.jsx("span",{children:l?"Saving...":"Save Configuration"})]})})]}),Math.abs(A-100)>.1&&s.jsx("div",{className:"mt-6 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"text-amber-500",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),s.jsxs("p",{className:"text-sm font-medium text-amber-800",children:["Total probability must equal 100% to save the configuration. Current total: ",A.toFixed(1),"%"]})]})})]})]})]})};function hS(){const{user:e}=Ns(),[t,r]=y.useState(null),[n,i]=y.useState([]),[a,o]=y.useState({totalPrizes:0,totalValue:0}),[l,c]=y.useState(!0),[u,d]=y.useState(0),[h,p]=y.useState(!0),[f,x]=y.useState(null),[b,j]=y.useState([]),[w,g]=y.useState([]),[m,v]=y.useState({relationship:!0,stats:!1,prizeHistory:!1,wheelConfig:!1}),S=E=>{v(C=>({...C,[E]:!C[E]}))};y.useEffect(()=>{const E=async()=>{try{const N=await $.get("/api/auth/relationship-info");r(N.data)}catch(N){console.error("Error fetching relationship info:",N)}},C=async()=>{try{c(!0);const[N,D]=await Promise.all([$.get("/api/wheel-prizes"),$.get("/api/wheel-prizes/stats")]);i(N.data.prizes||[]),o(D.data)}catch(N){console.error("Error fetching wheel prizes:",N)}finally{c(!1)}},A=async()=>{try{p(!0);const N=await $.get("/api/opportunities/stats");d(N.data.unused||0)}catch(N){console.error("Error fetching user data:",N)}finally{p(!1)}},P=async()=>{try{const N=await $.get("/api/auth/other-user");x(N.data)}catch(N){console.error("Error fetching other user:",N)}};E(),C(),A(),P()},[]),y.useEffect(()=>{f&&(async()=>{try{const C=await $.get("/api/wheel-config/my-wheel");C.data.hasConfiguration&&C.data.prizes&&j(C.data.prizes);const A=await $.get(`/api/wheel-config/other-user-wheel/${f.id}`);A.data.hasConfiguration&&A.data.prizes&&g(A.data.prizes)}catch(C){console.error("Error fetching wheel configurations:",C)}})()},[f]);const k=E=>{try{const C=E.includes("T")?E.split("T")[0]:E,[A,P,N]=C.split("-").map(Number),D=new Date(A,P-1,N);return isNaN(D.getTime())?"Invalid Date":D.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return"Invalid Date"}};return s.jsx("div",{className:"min-h-screen bg-apple-secondary-background",children:s.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(ue,{to:"/dashboard",className:"inline-flex items-center text-apple-purple hover:text-apple-purple/80 mb-6 transition-colors",children:[s.jsx(gn,{className:"h-5 w-5 mr-2"}),"Back to Dashboard"]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"bg-apple-purple/10 p-4 rounded-2xl",children:s.jsx(ke,{className:"h-8 w-8 text-apple-purple",fill:"currentColor"})})}),s.jsx("h1",{className:"font-heading text-4xl font-semibold text-apple-label mb-3",children:"Relationship Settings"}),s.jsx("p",{className:"text-apple-secondary-label text-lg",children:"Customize your love story timeline"})]})]}),s.jsxs("div",{className:"apple-card apple-shadow overflow-hidden",children:[s.jsxs("button",{onClick:()=>S("relationship"),className:"w-full p-6 flex items-center justify-between hover:bg-apple-gray-6/5 transition-colors duration-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-apple-purple/10 p-3 rounded-xl mr-4",children:s.jsx(Ge,{className:"h-6 w-6 text-apple-purple"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h2",{className:"font-heading text-xl font-semibold text-apple-label",children:"Relationship Timeline"}),s.jsx("p",{className:"text-sm text-apple-secondary-label",children:"Your love story details"})]})]}),s.jsx("div",{className:"transition-transform duration-200",children:m.relationship?s.jsx(Er,{className:"h-5 w-5 text-apple-secondary-label"}):s.jsx(Wn,{className:"h-5 w-5 text-apple-secondary-label"})})]}),s.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${m.relationship?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:s.jsx("div",{className:"px-6 pb-6",children:s.jsx("div",{className:"bg-apple-purple/5 border border-apple-purple/20 rounded-xl p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-apple-purple mb-3",children:"💕"}),s.jsx("div",{className:"text-lg font-semibold text-apple-label mb-2",children:"Your Love Story"}),s.jsxs("div",{className:"text-apple-secondary-label mb-3",children:["Started on ",t?k(t.startDate):"June 8th, 2020"]}),s.jsx("div",{className:"text-sm text-apple-tertiary-label",children:"Watch your days together count up in real-time in the header!"})]})})})})]}),s.jsx("div",{className:"mt-6",children:s.jsxs("div",{className:"apple-card apple-shadow overflow-hidden",children:[s.jsxs("button",{onClick:()=>S("stats"),className:"w-full p-6 flex items-center justify-between hover:bg-apple-gray-6/5 transition-colors duration-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`p-3 rounded-xl mr-4 ${(e==null?void 0:e.username)==="scott"?"bg-purple-100":"bg-pink-100"}`,children:s.jsx(F1,{className:`h-6 w-6 ${(e==null?void 0:e.username)==="scott"?"text-purple-400":"text-pink-600"}`})}),s.jsxs("div",{className:"text-left",children:[s.jsxs("h2",{className:"font-heading text-xl font-semibold text-apple-label",children:[(e==null?void 0:e.name)||(e==null?void 0:e.username)||"Your"," Stats"]}),s.jsx("p",{className:"text-sm text-apple-secondary-label",children:"Personal statistics and opportunities"})]})]}),s.jsx("div",{className:"transition-transform duration-200",children:m.stats?s.jsx(Er,{className:"h-5 w-5 text-apple-secondary-label"}):s.jsx(Wn,{className:"h-5 w-5 text-apple-secondary-label"})})]}),s.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${m.stats?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:s.jsx("div",{className:"px-6 pb-6",children:h?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-400 mx-auto mb-2"}),s.jsx("div",{className:"text-sm text-apple-secondary-label",children:"Loading your stats..."})]}):s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:u}),s.jsx("div",{className:"text-yellow-700 font-medium mb-1",children:"Saved Opportunities"}),s.jsx("div",{className:"text-sm text-yellow-600",children:"Ready to use on prize wheel"})]})})})]})}),s.jsx("div",{className:"mt-6",children:s.jsxs("div",{className:"apple-card apple-shadow overflow-hidden",children:[s.jsxs("button",{onClick:()=>S("prizeHistory"),className:"w-full p-6 flex items-center justify-between hover:bg-apple-gray-6/5 transition-colors duration-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-purple-100 p-3 rounded-xl mr-4",children:s.jsx(oo,{className:"h-6 w-6 text-purple-400"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h2",{className:"font-heading text-xl font-semibold text-apple-label",children:"Prize Wheel History"}),s.jsxs("p",{className:"text-sm text-apple-secondary-label",children:[a.totalPrizes," prizes won • Total value: ",a.totalValue]})]})]}),s.jsx("div",{className:"transition-transform duration-200",children:m.prizeHistory?s.jsx(Er,{className:"h-5 w-5 text-apple-secondary-label"}):s.jsx(Wn,{className:"h-5 w-5 text-apple-secondary-label"})})]}),s.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${m.prizeHistory?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:s.jsxs("div",{className:"px-6 pb-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-400 mb-1",children:a.totalPrizes}),s.jsx("div",{className:"text-sm text-purple-700",children:"Total Prizes Won"})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:a.totalValue}),s.jsx("div",{className:"text-sm text-green-700",children:"Total Value"})]})]}),l?s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"text-apple-secondary-label",children:"Loading prize history..."})}):n.length>0?s.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:n.map(E=>s.jsx("div",{className:"bg-apple-secondary-background border border-apple-separator rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-yellow-100 p-2 rounded-lg mr-3",children:s.jsx(be,{className:"h-4 w-4 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-apple-label",children:E.prizeDescription}),s.jsx("div",{className:"text-sm text-apple-secondary-label",children:new Date(E.wonAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-semibold text-green-600",children:["+",E.prizeValue]}),s.jsx("div",{className:"text-xs text-apple-tertiary-label",children:E.prizeType})]})]})},E.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"bg-gray-100 p-4 rounded-2xl mb-4 inline-block",children:s.jsx(oo,{className:"h-8 w-8 text-gray-400"})}),s.jsx("div",{className:"text-apple-secondary-label mb-2",children:"No prizes won yet"}),s.jsx("div",{className:"text-sm text-apple-tertiary-label",children:"Start spinning the wheel to win prizes!"})]})]})})]})}),s.jsx("div",{className:"mt-6",children:s.jsxs("div",{className:"apple-card apple-shadow overflow-hidden",children:[s.jsxs("button",{onClick:()=>S("wheelConfig"),className:"w-full p-6 flex items-center justify-between hover:bg-apple-gray-6/5 transition-colors duration-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-purple-100 p-3 rounded-xl mr-4",children:s.jsx(V1,{className:"h-6 w-6 text-purple-400"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h2",{className:"font-heading text-xl font-semibold text-apple-label",children:"Wheel Configuration"}),s.jsxs("p",{className:"text-sm text-apple-secondary-label",children:["Customize ",(f==null?void 0:f.displayName)||(f==null?void 0:f.username)||"your partner","'s prize wheel"]})]})]}),s.jsx("div",{className:"transition-transform duration-200",children:m.wheelConfig?s.jsx(Er,{className:"h-5 w-5 text-apple-secondary-label"}):s.jsx(Wn,{className:"h-5 w-5 text-apple-secondary-label"})})]}),s.jsx("div",{className:`transition-all duration-300 ease-in-out ${m.wheelConfig?"max-h-96 opacity-100 overflow-y-auto":"max-h-0 opacity-0 overflow-hidden"}`,children:s.jsxs("div",{className:"px-6 pb-6",children:[s.jsx("div",{className:"text-center mb-6",children:s.jsx("p",{className:"text-apple-secondary-label",children:"Customize prize wheel settings and adjust winning probabilities"})}),s.jsx(dS,{targetUserId:f==null?void 0:f.id,targetUserName:(f==null?void 0:f.displayName)||(f==null?void 0:f.username),onPrizesChange:g})]})})]})})]})})}function pS({category:e,onClose:t,onCategoryUpdated:r}={}){const[n,i]=y.useState([]),[a,o]=y.useState(!0),[l,c]=y.useState(!1),[u,d]=y.useState(null),[h,p]=y.useState({name:"",description:"",color:"#3B82F6"}),f=[{value:"#EF4444",name:"Red"},{value:"#F59E0B",name:"Orange"},{value:"#10B981",name:"Green"},{value:"#3B82F6",name:"Blue"},{value:"#8B5CF6",name:"Purple"},{value:"#EC4899",name:"Pink"},{value:"#6B7280",name:"Gray"}];y.useEffect(()=>{x(),e&&(d(e),p({name:e.name,description:e.description||"",color:e.color})),t&&c(!0)},[e,t]);const x=async()=>{try{const m=await $.get("/api/categories");i(m.data)}catch(m){console.error("Error fetching categories:",m)}finally{o(!1)}},b=async m=>{var v,S;m.preventDefault();try{u?await $.put(`/api/categories/${u.id}`,h):await $.post("/api/categories",h),await x(),r==null||r(),g()}catch(k){console.error("Error saving category:",k),alert(((S=(v=k.response)==null?void 0:v.data)==null?void 0:S.message)||"Error saving category")}},j=async m=>{if(confirm("Are you sure you want to delete this category? This will remove it from all photos."))try{await $.delete(`/api/categories/${m}`),await x()}catch(v){console.error("Error deleting category:",v),alert("Error deleting category")}},w=m=>{d(m),p({name:m.name,description:m.description||"",color:m.color}),c(!0)},g=()=>{p({name:"",description:"",color:"#3B82F6"}),d(null),c(!1),t==null||t()};return a?s.jsx("div",{className:"flex items-center justify-center min-h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})}):s.jsxs("div",{className:"space-y-6 fade-in",children:[!t&&s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"font-heading text-4xl text-gray-800 mb-4",children:"Photo Categories"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Organize your memories into meaningful collections"})]}),!t&&s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{onClick:()=>c(!0),className:"flex items-center space-x-2 bg-gray-800 hover:bg-gray-900 text-white px-6 py-3 rounded-lg transition-colors font-medium",children:[s.jsx(We,{className:"h-5 w-5"}),s.jsx("span",{children:"Create New Category"})]})}),l&&s.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:u?"Edit Category":"Create New Category"}),s.jsx("button",{onClick:g,className:"text-gray-500 hover:text-gray-700 transition-colors",children:s.jsx(Qe,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name"}),s.jsx("input",{type:"text",value:h.name,onChange:m=>p({...h,name:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent",placeholder:"Enter category name",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),s.jsx("textarea",{value:h.description,onChange:m=>p({...h,description:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent",placeholder:"Describe this category",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(m=>s.jsx("button",{type:"button",onClick:()=>p({...h,color:m.value}),className:`w-8 h-8 rounded-full border-2 transition-all ${h.color===m.value?"border-gray-800 scale-110":"border-gray-300 hover:border-gray-500"}`,style:{backgroundColor:m.value},title:m.name,children:h.color===m.value&&s.jsx(xn,{className:"h-4 w-4 text-white mx-auto"})},m.value))})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"submit",className:"flex-1 bg-gray-800 hover:bg-gray-900 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:u?"Update Category":"Create Category"}),s.jsx("button",{type:"button",onClick:g,className:"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"})]})]})]}),!t&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(m=>s.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:m.color}}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:m.name})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>w(m),className:"text-gray-500 hover:text-purple-500 transition-colors",children:s.jsx(ds,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>j(m.id),className:"text-gray-500 hover:text-red-600 transition-colors",children:s.jsx(Et,{className:"h-4 w-4"})})]})]}),m.description&&s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:m.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[s.jsx(vn,{className:"h-4 w-4"}),s.jsxs("span",{children:[m.photoCount," photos"]})]}),s.jsx("button",{onClick:()=>window.location.href=`/photos/category/${m.id}`,className:"text-gray-600 hover:text-gray-700 text-sm font-medium transition-colors",children:"View Photos"})]})]},m.id))}),n.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(vn,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No categories yet"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Create your first category to start organizing your photos!"}),s.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center px-6 py-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg transition-colors",children:[s.jsx(We,{className:"h-5 w-5 mr-2"}),"Create First Category"]})]})]})}function fS(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),[i,a]=y.useState(!1),[o,l]=y.useState(null);y.useEffect(()=>{c()},[]);const c=async()=>{try{const f=await $.get("/api/categories");t(f.data)}catch(f){console.error("Error fetching categories:",f)}finally{n(!1)}},u=async f=>{if(confirm("Are you sure you want to delete this category? This will not delete the photos, only remove them from this category."))try{await $.delete(`/api/categories/${f}`),await c()}catch(x){console.error("Error deleting category:",x),alert("Error deleting category")}},d=()=>{c(),a(!1),l(null)},h=f=>{l(f),a(!0)},p=()=>{l(null),a(!0)};return r?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})}):s.jsxs("div",{className:"space-y-6 fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ue,{to:"/gallery",className:"inline-flex items-center text-gray-500 hover:text-gray-700 transition-colors p-2 hover:bg-gray-100 rounded-full",children:s.jsx(gn,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Photo Categories"}),s.jsx("p",{className:"text-gray-600",children:"Organize your memories by themes and moments"})]})]}),s.jsxs("button",{onClick:p,className:"flex items-center space-x-2 bg-gray-800 hover:bg-gray-900 text-white px-6 py-3 rounded-lg transition-colors font-medium",children:[s.jsx(We,{className:"h-5 w-5"}),s.jsx("span",{children:"New Category"})]})]}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-xl max-w-md w-full",children:s.jsx(pS,{category:o,onClose:()=>{a(!1),l(null)},onCategoryUpdated:d})})}),e.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(f=>s.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow hover:scale-105 transition-transform group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:f.color}}),s.jsx("h3",{className:"font-semibold text-gray-800 truncate",children:f.name})]}),s.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>h(f),className:"p-1 text-gray-500 hover:text-blue-600 transition-colors",title:"Edit category",children:s.jsx(ds,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>u(f.id),className:"p-1 text-gray-500 hover:text-red-600 transition-colors",title:"Delete category",children:s.jsx(Et,{className:"h-4 w-4"})})]})]}),f.description&&s.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:f.description}),s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[s.jsx(vn,{className:"h-4 w-4"}),s.jsxs("span",{children:[f.photoCount," ",f.photoCount===1?"photo":"photos"]})]})}),s.jsxs(ue,{to:`/photos/category/${f.id}`,className:"flex items-center justify-center space-x-2 w-full py-2 px-4 bg-gray-800 hover:bg-gray-900 text-white rounded-lg transition-colors font-medium",children:[s.jsx(Mx,{className:"h-4 w-4"}),s.jsx("span",{children:"View Photos"})]})]},f.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(vn,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No categories yet"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Create your first category to start organizing your photos!"}),s.jsxs("button",{onClick:p,className:"inline-flex items-center px-6 py-3 bg-purple-400 hover:bg-purple-500 text-white rounded-lg transition-colors",children:[s.jsx(We,{className:"h-5 w-5 mr-2"}),"Create First Category"]})]}),e.length>0&&s.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Category Overview"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-700",children:e.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Categories"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-700",children:e.reduce((f,x)=>f+x.photoCount,0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Categorized Photos"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:Math.round(e.reduce((f,x)=>f+x.photoCount,0)/e.length)||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Avg Photos/Category"})]})]})]})]})}function mS(){const{id:e}=kx(),[t,r]=y.useState([]),[n,i]=y.useState(null),[a,o]=y.useState(!0),[l,c]=y.useState(null),[u,d]=y.useState("medium"),[h,p]=y.useState(!1),[f,x]=y.useState(new Set),[b,j]=y.useState(null),[w,g]=y.useState(!1);y.useEffect(()=>{console.log("CategoryPhotos useEffect triggered with categoryId:",e),e?(console.log("Fetching data for categoryId:",e),m(),v()):console.log("No categoryId provided")},[e]);const m=async()=>{var M,_,L,B,z;console.log("fetchCategoryPhotos called for categoryId:",e);try{if(console.log("Setting loading to true"),o(!0),c(null),e==="-1"){console.log("Fetching favorite photos from /api/photos/favorites");const O=await $.get("/api/photos/favorites");console.log("Favorite photos response:",O.data),r(O.data)}else{const O=`/api/categories/${e}/photos`;console.log("Fetching category photos from:",O);const I=await $.get(O);console.log("Category photos response:",I.data),r(I.data)}console.log("Photos fetched successfully")}catch(O){console.error("Error fetching category photos:",O),console.error("Error details:",{status:(M=O.response)==null?void 0:M.status,statusText:(_=O.response)==null?void 0:_.statusText,data:(L=O.response)==null?void 0:L.data,message:O.message}),((B=O.response)==null?void 0:B.status)===401||((z=O.response)==null?void 0:z.status)===403?c("Authentication required. Please log in."):c("Failed to load photos. Please try again."),r([])}finally{console.log("Setting loading to false"),o(!1)}},v=async()=>{var M,_,L,B,z;console.log("fetchCategoryInfo called for categoryId:",e);try{if(e==="-1")console.log("Setting favorites category info"),i({id:-1,name:"Favorites",color:"#ef4444"});else{const O=`/api/categories/${e}`;console.log("Fetching category info from:",O);const I=await $.get(O);console.log("Category info response:",I.data),i(I.data)}console.log("Category info fetched successfully")}catch(O){console.error("Error fetching category info:",O),console.error("Category info error details:",{status:(M=O.response)==null?void 0:M.status,statusText:(_=O.response)==null?void 0:_.statusText,data:(L=O.response)==null?void 0:L.data,message:O.message}),(((B=O.response)==null?void 0:B.status)===401||((z=O.response)==null?void 0:z.status)===403)&&console.error("Authentication required. Please log in."),i(null)}},S=async M=>{try{const _=t.find(B=>B.id===M),L=!(_!=null&&_.isFavorite);await $.post(`/api/photos/${M}/favorite`,{favorite:L}),r(B=>B.map(z=>z.id===M?{...z,isFavorite:L}:z)),e==="-1"&&!L&&r(B=>B.filter(z=>z.id!==M))}catch(_){console.error("Error toggling favorite:",_)}},k=M=>{x(_=>{const L=new Set(_);return L.has(M)?L.delete(M):L.add(M),L})},E=async()=>{if(f.size!==0&&confirm(`Are you sure you want to delete ${f.size} photo(s)?`))try{await $.delete("/api/photos/bulk",{data:{photoIds:Array.from(f)}}),x(new Set),p(!1),await m()}catch(M){console.error("Error deleting photos:",M),alert("Error deleting photos. Please try again.")}},C=M=>{j(M),g(!0)},A=M=>{r(_=>_.map(L=>L.id===M.id?M:L)),j(M)},P=M=>{r(_=>_.filter(L=>L.id!==M)),g(!1),j(null)},N=()=>{switch(u){case"small":return"w-32 h-32";case"medium":return"w-48 h-48";case"large":return"w-64 h-64";default:return"w-48 h-48"}},D=()=>{switch(u){case"small":return"grid-cols-2 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8";case"medium":return"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4";case"large":return"grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3";default:return"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"}};return console.log("CategoryPhotos render - loading:",a,"error:",l,"photos.length:",t.length,"category:",n),a?(console.log("Rendering loading spinner"),s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})})):l?s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen space-y-4",children:[s.jsx("div",{className:"text-red-500 text-lg font-medium",children:l}),s.jsx("button",{onClick:()=>{c(null),m(),v()},className:"px-4 py-2 bg-purple-400 text-white rounded-lg hover:bg-purple-500 transition-colors",children:"Try Again"}),s.jsx(ue,{to:"/photos",className:"text-purple-400 hover:text-purple-500 underline",children:"Back to Photos"})]}):s.jsxs("div",{className:"space-y-6 fade-in",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ue,{to:"/photos",className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(gn,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[n&&s.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:n.color}}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:(n==null?void 0:n.name)||"Category"}),s.jsxs("p",{className:"text-gray-600",children:[t.length," photos"]})]})]})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hs,{className:"h-4 w-4 text-gray-600"}),s.jsxs("select",{value:u,onChange:M=>d(M.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-purple-400",children:[s.jsx("option",{value:"small",children:"Small"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"large",children:"Large"})]})]}),s.jsx("button",{onClick:()=>{p(!h),x(new Set)},className:`px-3 py-1 rounded-md text-sm transition-colors ${h?"bg-purple-400 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:h?"Cancel Selection":"Select Photos"})]}),h&&f.size>0&&s.jsxs("button",{onClick:E,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(Et,{className:"w-4 h-4"}),s.jsxs("span",{children:["Delete Selected (",f.size,")"]})]})]}),t.length>0?s.jsx("div",{className:`grid ${D()} gap-4`,children:t.map(M=>s.jsxs("div",{className:"relative group",children:[s.jsxs("div",{className:`${N()} relative overflow-hidden rounded-lg cursor-pointer transition-transform hover:scale-105 ${h&&f.has(M.id)?"ring-4 ring-purple-400":""}`,onClick:()=>h?k(M.id):C(M),children:[s.jsx("img",{src:`${bn}/api/photos/image/${M.filename}`,alt:M.originalName,className:"w-full h-full object-cover",loading:"lazy"}),h&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:f.has(M.id)&&s.jsx("div",{className:"bg-purple-400 text-white rounded-full p-1",children:s.jsx(xn,{className:"h-4 w-4"})})}),!h&&s.jsx("button",{onClick:_=>{_.stopPropagation(),S(M.id)},className:"absolute top-2 right-2 p-1 bg-white/80 rounded-full hover:bg-white transition-colors opacity-0 group-hover:opacity-100",children:s.jsx(ke,{className:`h-4 w-4 ${M.isFavorite?"text-red-500 fill-current":"text-gray-600"}`})})]}),M.caption&&s.jsx("div",{className:"mt-2",children:s.jsx("p",{className:"text-xs text-gray-600 truncate",children:M.caption})})]},M.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:n&&s.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center text-white text-2xl font-bold",style:{backgroundColor:n.color},children:n.name.charAt(0).toUpperCase()})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No photos in this category"}),s.jsx("p",{className:"text-gray-500",children:"Photos assigned to this category will appear here."})]}),w&&b&&s.jsx(Fd,{photo:b,onClose:()=>{g(!1),j(null)},onPhotoUpdate:A,onPhotoDelete:P})]})}function gS(){const[e]=Dx(),r=e.get("filter")==="favorites",[n,i]=y.useState([]),[a,o]=y.useState(!0),[l,c]=y.useState("medium"),[u,d]=y.useState(!1),[h,p]=y.useState(null),[f,x]=y.useState(!1),[b,j]=y.useState(0),[w,g]=y.useState(0),[m,v]=y.useState(0),[S,k]=y.useState(!1),[E,C]=y.useState(new Set),[A,P]=y.useState([]),[N,D]=y.useState(!1);y.useEffect(()=>{M()},[b,r]),y.useEffect(()=>{_()},[]);const M=async()=>{try{o(!0);const W=r?`/api/photos/favorites?page=${b}&limit=20`:`/api/photos?page=${b}&limit=20`,Y=await $.get(W);r?Y.data.photos?(i(Y.data.photos),g(Y.data.pagination.totalPages),v(Y.data.pagination.total)):(i(Y.data),v(Y.data.length),g(1)):(i(Y.data.photos),g(Y.data.pagination.totalPages),v(Y.data.pagination.total))}catch(W){console.error("Error fetching photos:",W)}finally{o(!1)}},_=async()=>{try{const W=await $.get("/api/categories");P(W.data)}catch(W){console.error("Error fetching categories:",W)}},L=async W=>{try{const Y=n.find(Kt=>Kt.id===W),ee=!(Y!=null&&Y.isFavorite);await $.post(`/api/photos/${W}/favorite`,{favorite:ee}),i(Kt=>Kt.map(Qt=>Qt.id===W?{...Qt,isFavorite:ee}:Qt))}catch(Y){console.error("Error toggling favorite:",Y)}},B=W=>{C(Y=>{const ee=new Set(Y);return ee.has(W)?ee.delete(W):ee.add(W),ee})},z=async()=>{if(E.size!==0&&confirm(`Are you sure you want to delete ${E.size} photo(s)?`))try{await $.delete("/api/photos/bulk",{data:{photoIds:Array.from(E)}}),C(new Set),k(!1),await M()}catch(W){console.error("Error deleting photos:",W),alert("Error deleting photos. Please try again.")}},O=async W=>{if(E.size!==0)try{await $.put("/api/photos/bulk/categories",{photoIds:Array.from(E),categoryIds:W}),C(new Set),k(!1),D(!1),await M()}catch(Y){console.error("Error assigning categories:",Y),alert("Error assigning categories. Please try again.")}},I=W=>{p(W),d(!0)},V=W=>{i(Y=>Y.map(ee=>ee.id===W.id?W:ee)),p(W)},G=W=>{i(Y=>Y.filter(ee=>ee.id!==W)),d(!1),p(null)},H=()=>{x(!1),M()},Z=()=>{switch(l){case"small":return"grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 xl:grid-cols-10";case"medium":return"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8";case"large":return"grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6";default:return"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8"}},oe=()=>{switch(l){case"small":return"aspect-square";case"medium":return"aspect-square";case"large":return"aspect-square";default:return"aspect-square"}};return a&&b===0?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-200 border-t-blue-500"})}):s.jsxs("div",{className:"space-y-6 fade-in",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ue,{to:"/gallery",className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(gn,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-apple-label",children:r?"Favorites":"All Photos"}),s.jsxs("p",{className:"text-apple-secondary-label",children:[m," photos"]})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:S?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-sm text-apple-secondary-label",children:[E.size," selected"]}),E.size>0&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:z,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(Et,{className:"w-4 h-4"}),s.jsx("span",{children:"Delete"})]}),s.jsxs("button",{onClick:()=>D(!0),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(vn,{className:"w-4 h-4"}),s.jsx("span",{children:"Assign Categories"})]})]}),s.jsx("button",{onClick:()=>{k(!1),C(new Set)},className:"bg-apple-gray-6 hover:bg-apple-gray-5 text-apple-label px-4 py-2 rounded-lg transition-colors border border-apple-separator",children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>k(!0),className:"bg-apple-gray-6 hover:bg-apple-gray-5 text-apple-label px-6 py-3 rounded-xl transition-all duration-300 flex items-center space-x-2 shadow-lg hover:shadow-xl transform hover:scale-105 font-medium border border-apple-separator",children:[s.jsx(xn,{className:"w-5 h-5"}),s.jsx("span",{children:"Select"})]}),s.jsxs("button",{onClick:()=>x(!0),className:"bg-apple-gray-6 hover:bg-apple-gray-5 text-apple-label px-6 py-3 rounded-xl transition-all duration-300 flex items-center space-x-2 shadow-lg hover:shadow-xl transform hover:scale-105 font-medium border border-apple-separator",children:[s.jsx(We,{className:"w-5 h-5"}),s.jsx("span",{children:"Add Photos"})]})]})})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hs,{className:"h-4 w-4 text-gray-600"}),s.jsxs("select",{value:l,onChange:W=>c(W.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-purple-400",children:[s.jsx("option",{value:"small",children:"Small"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"large",children:"Large"})]})]})}),n.length>0?s.jsx("div",{className:`grid ${Z()} gap-2 sm:gap-3 md:gap-4 px-2 sm:px-0`,children:n.map(W=>s.jsx("div",{className:"relative group",children:s.jsxs("div",{className:`${oe()} relative overflow-hidden rounded-xl cursor-pointer transition-all duration-300 hover:scale-[1.02] hover:shadow-lg shadow-sm bg-white`,onClick:()=>S?B(W.id):I(W),children:[s.jsx("img",{src:`${bn}/api/photos/image/${W.filename}`,alt:W.originalName,className:"w-full h-full object-cover rounded-xl",loading:"lazy"}),S&&s.jsx("div",{className:"absolute top-2 left-2 p-1.5 bg-white/95 backdrop-blur-sm rounded-full shadow-sm",children:s.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${E.has(W.id)?"bg-blue-500 border-blue-500 scale-110":"border-gray-300 bg-white hover:border-blue-400"}`,children:E.has(W.id)&&s.jsx(xn,{className:"w-3.5 h-3.5 text-white"})})}),!S&&s.jsx("button",{onClick:Y=>{Y.stopPropagation(),L(W.id)},className:"absolute top-2 right-2 p-2 bg-white/95 backdrop-blur-sm rounded-full shadow-sm hover:bg-white transition-all duration-200 opacity-0 group-hover:opacity-100 hover:scale-110",children:s.jsx(ke,{className:`h-4 w-4 transition-colors duration-200 ${W.isFavorite?"text-red-500 fill-current":"text-gray-600 hover:text-red-400"}`})})]})},W.id))}):s.jsxs("div",{className:"text-center py-16 px-4",children:[s.jsx("div",{className:"text-gray-300 mb-6",children:s.jsx(We,{className:"w-20 h-20 mx-auto mb-6 stroke-1"})}),s.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-3",children:"No photos yet"}),s.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto leading-relaxed",children:"Start building your gallery by uploading your first photos!"}),s.jsxs("button",{onClick:()=>x(!0),className:"inline-flex items-center px-8 py-4 bg-blue-500 hover:bg-blue-600 text-white rounded-xl transition-all duration-200 font-medium shadow-lg hover:shadow-xl hover:scale-105",children:[s.jsx(We,{className:"w-5 h-5 mr-2"}),"Add Your First Photo"]})]}),w>1&&s.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[s.jsx("button",{onClick:()=>j(Math.max(0,b-1)),disabled:b===0,className:"px-4 py-2 bg-apple-gray-6 hover:bg-apple-gray-5 disabled:opacity-50 disabled:cursor-not-allowed text-apple-label rounded-lg transition-colors border border-apple-separator",children:"Previous"}),s.jsxs("span",{className:"text-apple-secondary-label",children:["Page ",b+1," of ",w]}),s.jsx("button",{onClick:()=>j(Math.min(w-1,b+1)),disabled:b>=w-1,className:"px-4 py-2 bg-apple-gray-6 hover:bg-apple-gray-5 disabled:opacity-50 disabled:cursor-not-allowed text-apple-label rounded-lg transition-colors border border-apple-separator",children:"Next"})]}),f&&s.jsx(M0,{onClose:()=>x(!1),onUploadComplete:H}),u&&h&&s.jsx(Fd,{photo:h,onClose:()=>{d(!1),p(null)},onPhotoUpdate:V,onPhotoDelete:G}),N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Assign Categories"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Select categories to assign to ",E.size," photo(s):"]}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto mb-4",children:A.map(W=>s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",value:W.id}),s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:W.color}}),s.jsx("span",{className:"text-sm",children:W.name})]},W.id))}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),s.jsx("button",{onClick:()=>{const W=document.querySelectorAll('input[type="checkbox"]:checked'),Y=Array.from(W).map(ee=>parseInt(ee.value));O(Y)},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Assign"})]})]})})]})}function xS(){const{showToast:e}=Yo(),[t,r]=y.useState([]),[n,i]=y.useState(!0),[a,o]=y.useState(new Set),[l,c]=y.useState(0),[u,d]=y.useState(0),[h,p]=y.useState(0);y.useEffect(()=>{f()},[l]);const f=async()=>{try{i(!0);const k=await fetch(`/api/photos/recycle-bin?page=${l}&size=20`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(k.ok){const E=await k.json();r(E.photos),d(E.totalPages),p(E.totalElements)}else e("Failed to fetch deleted photos","general")}catch(k){console.error("Error fetching deleted photos:",k),e("Error loading recycle bin","general")}finally{i(!1)}},x=k=>{const E=new Set(a);E.has(k)?E.delete(k):E.add(k),o(E)},b=()=>{a.size===t.length?o(new Set):o(new Set(t.map(k=>k.id)))},j=async k=>{try{(await fetch(`/api/photos/${k}/recover`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok?(e("Photo recovered successfully","general"),f(),o(C=>{const A=new Set(C);return A.delete(k),A})):e("Failed to recover photo","general")}catch(E){console.error("Error recovering photo:",E),e("Error recovering photo","general")}},w=async k=>{if(confirm("Are you sure you want to permanently delete this photo? This action cannot be undone."))try{(await fetch(`/api/photos/${k}/permanent`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok?(e("Photo permanently deleted","general"),f(),o(C=>{const A=new Set(C);return A.delete(k),A})):e("Failed to delete photo","general")}catch(E){console.error("Error deleting photo:",E),e("Error deleting photo","general")}},g=async()=>{if(a.size===0){e("Please select photos to recover","general");return}try{const k=await fetch("/api/photos/bulk/recover",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({photoIds:Array.from(a)})});if(k.ok){const E=await k.json();e(E.message,"general"),f(),o(new Set)}else e("Failed to recover photos","general")}catch(k){console.error("Error recovering photos:",k),e("Error recovering photos","general")}},m=async()=>{if(a.size===0){e("Please select photos to delete","general");return}if(confirm(`Are you sure you want to permanently delete ${a.size} photo(s)? This action cannot be undone.`))try{const k=await fetch("/api/photos/bulk/permanent",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({photoIds:Array.from(a)})});if(k.ok){const E=await k.json();e(E.message,"general"),f(),o(new Set)}else e("Failed to delete photos","general")}catch(k){console.error("Error deleting photos:",k),e("Error deleting photos","general")}},v=k=>{if(k===0)return"0 Bytes";const E=1024,C=["Bytes","KB","MB","GB"],A=Math.floor(Math.log(k)/Math.log(E));return parseFloat((k/Math.pow(E,A)).toFixed(2))+" "+C[A]},S=k=>new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return n?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500"})}):s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsx(ue,{to:"/gallery",className:"inline-flex items-center text-gray-500 hover:text-gray-700 transition-colors p-2 hover:bg-gray-100 rounded-full",children:s.jsx(gn,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Recycle Bin"}),s.jsxs("p",{className:"text-gray-600",children:[h," deleted photo",h!==1?"s":""," • Photos will be permanently deleted after 7 days"]})]})]})}),t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Et,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Recycle bin is empty"}),s.jsx("p",{className:"text-gray-500",children:"Deleted photos will appear here"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6 flex flex-wrap gap-4 items-center",children:[s.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[a.size===t.length?s.jsx(Cp,{className:"h-4 w-4"}):s.jsx(Pp,{className:"h-4 w-4"}),"Select All"]}),a.size>0&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[s.jsx(ru,{className:"h-4 w-4"}),"Recover Selected (",a.size,")"]}),s.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[s.jsx(L1,{className:"h-4 w-4"}),"Permanently Delete (",a.size,")"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(k=>s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:`/api/photos/image/${k.filename}`,alt:k.originalName,className:"w-full h-48 object-cover"}),s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx("button",{onClick:()=>x(k.id),className:"p-1 bg-white bg-opacity-80 rounded hover:bg-opacity-100",children:a.has(k.id)?s.jsx(Cp,{className:"h-4 w-4 text-blue-600"}):s.jsx(Pp,{className:"h-4 w-4 text-gray-600"})})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-1 truncate",children:k.originalName}),k.caption&&s.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:k.caption}),s.jsxs("div",{className:"text-xs text-gray-500 mb-3",children:[s.jsxs("p",{children:["Deleted: ",S(k.deletedAt)]}),s.jsxs("p",{children:["Size: ",v(k.size)]}),s.jsxs("p",{children:["By: ",k.uploader.name]})]}),k.categories.length>0&&s.jsx("div",{className:"mb-3",children:s.jsx("div",{className:"flex flex-wrap gap-1",children:k.categories.map(E=>s.jsx("span",{className:"inline-block px-2 py-1 text-xs rounded-full text-white",style:{backgroundColor:E.color},children:E.name},E.id))})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>j(k.id),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:[s.jsx(ru,{className:"h-3 w-3"}),"Recover"]}),s.jsxs("button",{onClick:()=>w(k.id),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700",children:[s.jsx(Et,{className:"h-3 w-3"}),"Delete"]})]})]})]},k.id))}),u>1&&s.jsxs("div",{className:"mt-8 flex justify-center gap-2",children:[s.jsx("button",{onClick:()=>c(k=>Math.max(0,k-1)),disabled:l===0,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),s.jsxs("span",{className:"px-4 py-2 text-gray-600",children:["Page ",l+1," of ",u]}),s.jsx("button",{onClick:()=>c(k=>Math.min(u-1,k+1)),disabled:l>=u-1,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})}function Dt(){const{logout:e}=Ns(),t=Cn(),[r,n]=y.useState(null),[i,a]=y.useState(!1),[o,l]=y.useState({days:0,hours:0,minutes:0,seconds:0}),c=y.useCallback(()=>{if(!(r!=null&&r.startDate)){const g=new Date("2020-06-08T00:00:00"),v=new Date().getTime()-g.getTime(),S=Math.floor(v/(1e3*60*60*24)),k=Math.floor(v%(1e3*60*60*24)/(1e3*60*60)),E=Math.floor(v%(1e3*60*60)/(1e3*60)),C=Math.floor(v%(1e3*60)/1e3);l({days:S,hours:k,minutes:E,seconds:C});return}const h=new Date(r.startDate),f=new Date().getTime()-h.getTime(),x=Math.floor(f/(1e3*60*60*24)),b=Math.floor(f%(1e3*60*60*24)/(1e3*60*60)),j=Math.floor(f%(1e3*60*60)/(1e3*60)),w=Math.floor(f%(1e3*60)/1e3);l({days:x,hours:b,minutes:j,seconds:w})},[r]),u=y.useCallback(async()=>{try{const h=await $.get("/api/auth/relationship-info");n(h.data)}catch(h){console.error("Error fetching relationship info:",h)}},[]);y.useEffect(()=>{u()},[u]),y.useEffect(()=>{c();const h=setInterval(c,1e3);return window.refreshRelationshipInfo=u,()=>{clearInterval(h),delete window.refreshRelationshipInfo}},[u,c]),y.useEffect(()=>{const h=p=>{i&&!p.target.closest(".relationship-dropdown")&&a(!1)};return i&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[i]);const d=h=>t.pathname===h;return s.jsx("header",{className:"apple-glass-effect border-b border-apple-separator sticky top-0 z-40 backdrop-blur-xl",children:s.jsxs("div",{className:"container mx-auto px-6",children:[s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs(ue,{to:"/",className:"flex items-center space-x-3 group",children:[s.jsx(ke,{className:"h-7 w-7 text-apple-purple animate-heart-bounce hover-glow transition-all duration-500",fill:"currentColor",style:{filter:"drop-shadow(0 0 12px rgba(168, 85, 247, 0.4))"}}),s.jsx("span",{className:"font-semibold text-xl text-apple-label group-hover:text-apple-purple transition-colors duration-300",children:"Scott & Zoe"})]}),r&&s.jsxs("div",{className:"relative hidden md:block relationship-dropdown",children:[s.jsxs("button",{onClick:()=>a(!i),className:"flex items-center space-x-2 apple-glass-background rounded-xl px-4 py-2 apple-shadow hover:bg-apple-gray-6/10 transition-all duration-200",children:[s.jsx(ke,{className:"h-4 w-4 text-apple-purple",fill:"currentColor"}),s.jsx("span",{className:"text-sm font-medium text-apple-label",children:"Days Together"}),s.jsx(Er,{className:`h-4 w-4 text-apple-secondary-label transition-transform duration-200 ${i?"rotate-180":""}`})]}),i&&s.jsx("div",{className:"absolute top-full right-0 mt-2 bg-white/95 backdrop-blur-xl rounded-xl p-6 apple-shadow border border-apple-separator min-w-[280px] z-40",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-3",children:[s.jsx("div",{className:"text-2xl font-bold text-apple-purple",children:o.days}),s.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Days"})]}),s.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-3",children:[s.jsx("div",{className:"text-2xl font-bold text-apple-purple",children:o.hours}),s.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Hours"})]}),s.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-3",children:[s.jsx("div",{className:"text-2xl font-bold text-apple-purple",children:o.minutes}),s.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Minutes"})]}),s.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-3",children:[s.jsx("div",{className:"text-2xl font-bold text-apple-purple",children:o.seconds}),s.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Seconds"})]})]}),s.jsxs("div",{className:"text-apple-secondary-label border-t border-apple-separator pt-3",children:[s.jsx("div",{className:"text-xs",children:"Since June 8th, 2020"}),s.jsx("div",{className:"font-medium text-apple-label text-sm mt-1",children:"💕 Every second counts! 💕"})]})]})})]}),s.jsxs("nav",{className:"flex items-center space-x-2",children:[s.jsxs(ue,{to:"/",className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 ${d("/")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[s.jsx(W1,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Home"})]}),s.jsxs(ue,{to:"/gallery",className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 ${d("/gallery")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[s.jsx(dr,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Gallery"})]}),s.jsxs(ue,{to:"/memories",className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 ${d("/memories")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[s.jsx(Ge,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Memories"})]}),s.jsxs(ue,{to:"/surprise-boxes",className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 ${d("/surprise-boxes")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[s.jsx(be,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Surprises"})]}),s.jsxs(ue,{to:"/settings",className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 ${d("/settings")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[s.jsx(hs,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Settings"})]}),s.jsxs("button",{onClick:e,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-apple-secondary-label hover:bg-red-500/10 hover:text-red-500 transition-all duration-200",children:[s.jsx(Y1,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Logout"})]})]})]}),r&&s.jsx("div",{className:"md:hidden pb-4 text-center",children:s.jsxs("div",{className:"relative inline-block relationship-dropdown",children:[s.jsxs("button",{onClick:()=>a(!i),className:"flex items-center space-x-2 apple-glass-background rounded-xl px-4 py-2 apple-shadow hover:bg-apple-gray-6/10 transition-all duration-200",children:[s.jsx(ke,{className:"h-4 w-4 text-apple-purple",fill:"currentColor"}),s.jsx("span",{className:"text-sm font-medium text-apple-label",children:"Days Together"}),s.jsx(Er,{className:`h-4 w-4 text-apple-secondary-label transition-transform duration-200 ${i?"rotate-180":""}`})]}),i&&s.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 bg-white/95 backdrop-blur-xl rounded-xl p-4 apple-shadow border border-apple-separator min-w-[200px] z-50",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[s.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-2",children:[s.jsx("div",{className:"text-lg font-bold text-apple-purple",children:o.days}),s.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Days"})]}),s.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-2",children:[s.jsx("div",{className:"text-lg font-bold text-apple-purple",children:o.hours}),s.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Hours"})]}),s.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-2",children:[s.jsx("div",{className:"text-lg font-bold text-apple-purple",children:o.minutes}),s.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Minutes"})]}),s.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-2",children:[s.jsx("div",{className:"text-lg font-bold text-apple-purple",children:o.seconds}),s.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Seconds"})]})]}),s.jsxs("div",{className:"text-apple-secondary-label border-t border-apple-separator pt-3",children:[s.jsx("div",{className:"text-xs",children:"Since June 8th, 2020"}),s.jsx("div",{className:"font-medium text-apple-label text-sm mt-1",children:"💕 Every second counts! 💕"})]})]})})]})})]})})}function yS(){return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 to-purple-600/5"}),s.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[s.jsx("div",{className:"flex justify-center lg:justify-start",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-80 h-80 rounded-2xl overflow-hidden shadow-2xl bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsx("img",{src:"https://github.com/miaoti/Test/blob/main/ResumeICON.png?raw=true",alt:"Tingshuo Miao",className:"w-full h-full object-cover"})}),s.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl opacity-20"})]})}),s.jsxs("div",{className:"text-center lg:text-left space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h1",{className:"text-5xl lg:text-6xl font-bold text-gray-900 leading-tight",children:["Tingshuo ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"Miao"})]}),s.jsx("p",{className:"text-2xl text-gray-600 font-light",children:"PhD Student in Computer Science"}),s.jsx("p",{className:"text-lg text-gray-500 max-w-2xl leading-relaxed",children:"Passionate researcher specializing in microservice architecture, software engineering, and system quality assurance. Dedicated to advancing the field through innovative testing methodologies and robust system design."})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 justify-center lg:justify-start",children:[s.jsxs("a",{href:"mailto:tingshuo_miao2@baylor.edu",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:[s.jsx(_x,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Email"})]}),s.jsxs("a",{href:"https://www.linkedin.com/in/tingshuo-miao-823912232",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-white text-gray-700 rounded-xl hover:bg-gray-50 transition-all duration-300 shadow-lg hover:shadow-xl border border-gray-200",children:[s.jsx(q1,{className:"h-5 w-5 text-blue-600"}),s.jsx("span",{className:"font-medium",children:"LinkedIn"})]}),s.jsxs("a",{href:"https://github.com/miaoti/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-white text-gray-700 rounded-xl hover:bg-gray-50 transition-all duration-300 shadow-lg hover:shadow-xl border border-gray-200",children:[s.jsx(Ep,{className:"h-5 w-5 text-gray-700"}),s.jsx("span",{className:"font-medium",children:"GitHub"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-6 border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[s.jsx(Mi,{className:"h-5 w-5 text-blue-500 flex-shrink-0"}),s.jsx("span",{children:"Waco/Dallas, TX (Open to Relocation)"})]}),s.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[s.jsx(Sa,{className:"h-5 w-5 text-blue-500 flex-shrink-0"}),s.jsx("span",{children:"F1 Visa (English & Native Mandarin)"})]})]})]})]})})]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 space-y-20",children:[s.jsxs("section",{className:"relative",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Research & Expertise"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Advancing software engineering through innovative research in microservice architectures and quality assurance"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"group relative bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mb-6",children:s.jsx(Ol,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Microservice Testing"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Developing comprehensive testing methodologies for distributed microservice architectures to ensure system reliability and performance."})]})]}),s.jsxs("div",{className:"group relative bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mb-6",children:s.jsx(ao,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quality Assurance"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Researching innovative approaches to software quality metrics and system availability measurement in distributed environments."})]})]}),s.jsxs("div",{className:"group relative bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-50 to-teal-50 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mb-6",children:s.jsx(eu,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Academic Research"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Contributing to the academic community through peer-reviewed publications and collaborative research initiatives."})]})]})]})]}),s.jsxs("section",{className:"relative",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Education"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Academic foundation in computer science and mathematics"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"group relative bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center",children:s.jsx(Rx,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Baylor University"}),s.jsx("p",{className:"text-blue-600 font-medium",children:"Waco, TX"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"PhD in Computer Science"}),s.jsx("p",{className:"text-gray-500 font-medium",children:"Aug 2022 - Present"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Research Focus:"})," Software Engineering, Microservice Testing & Quality Assurance"]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Coursework:"})," Advanced Algorithms, Distributed Systems, Software Engineering Research Methods, Microservice Testing"]})]})]})]})]})]}),s.jsxs("div",{className:"group relative bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center",children:s.jsx(ao,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"UMass Amherst"}),s.jsx("p",{className:"text-purple-600 font-medium",children:"Amherst, MA"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"BS in Applied Mathematics"}),s.jsx("p",{className:"text-gray-500 font-medium",children:"Sep 2018 - Jan 2022"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Honors:"})," Dean's List (Fall 2019, Spring 2019, Fall 2020)"]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Foundation:"})," Mathematical modeling and statistical analysis"]})]})]})]})]})]})]})]}),s.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[s.jsx(Ol,{className:"h-6 w-6 text-blue-500"}),"Technical Skills"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Programming Languages"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["Java (8+)","Python","JavaScript/TypeScript","C++","HTML/CSS","Bash"].map(e=>s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:e},e))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Frameworks & Libraries"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["Spring Boot","React","Node.js","Express","JUnit","Mockito","jQuery","NumPy","Pandas","TensorFlow"].map(e=>s.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:e},e))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Databases & Tools"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["PostgreSQL","MySQL","MongoDB","Git","Docker","AWS","Postman","IntelliJ","VS Code"].map(e=>s.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium",children:e},e))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Concepts & Methodologies"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["Microservice Architecture","REST APIs","System Availability","Metrics","Test Automation","Agile","CI/CD"].map(e=>s.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium",children:e},e))})]})]})]}),s.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[s.jsx(Ax,{className:"h-6 w-6 text-blue-500"}),"Professional Experience"]}),s.jsx("div",{className:"space-y-8",children:s.jsxs("div",{className:"border-l-4 border-blue-500 pl-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-2",children:[s.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"Graduate Teaching & Research Assistant"}),s.jsx("span",{className:"text-blue-600 font-medium",children:"Aug 2022 - Present"})]}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[s.jsx("p",{className:"text-gray-600 font-medium",children:"Baylor University"}),s.jsx("span",{className:"text-gray-500",children:"Waco, TX"})]}),s.jsxs("ul",{className:"text-gray-700 space-y-2",children:[s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Teaching Responsibilities:"})," Taught undergraduate CS courses, led discussion sections, held office hours, graded assignments, developed instructional materials"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Research Activities:"})," Supported faculty research, conducted literature reviews, collected/analyzed experimental data, co-authored publications on microservice testing"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Student Mentoring:"})," Mentored 50+ students in programming fundamentals, data structures, algorithms, and software development best practices"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Academic Contributions:"})," Contributed to research projects focusing on software engineering and microservice architecture quality assurance"]})]})]})})]}),s.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[s.jsx(Ol,{className:"h-6 w-6 text-blue-500"}),"Featured Projects"]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("a",{href:"https://qimiao.life",target:"_blank",rel:"noopener noreferrer",className:"block border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow hover:border-blue-300",children:[s.jsxs("h4",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:["Scott & Zoe Couple Website",s.jsx(Sa,{className:"h-4 w-4 text-blue-500"})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Full-stack web application for couples to share memories, photos, and special moments with beautiful UI/UX design."}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["React","TypeScript","Spring Boot","PostgreSQL","Railway","Docker"].map(e=>s.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-sm",children:e},e))}),s.jsxs("ul",{className:"text-gray-700 text-sm space-y-1",children:[s.jsx("li",{children:"• Responsive design with modern UI components and animations"}),s.jsx("li",{children:"• RESTful API with comprehensive error handling and validation"}),s.jsx("li",{children:"• Deployed on Railway with CI/CD pipeline and custom domain"})]})]}),s.jsxs("a",{href:"https://khoemanh.info/",target:"_blank",rel:"noopener noreferrer",className:"block border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow hover:border-green-300",children:[s.jsxs("h4",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:["WellnessPathway v2 — Health Management Platform",s.jsx(Sa,{className:"h-4 w-4 text-green-500"})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Microservice-based health monitoring system with real-time metrics and automated alerting capabilities."}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Spring Boot","Microservices","Grafana","Prometheus","Docker","GitLab CI"].map(e=>s.jsx("span",{className:"px-2 py-1 bg-green-50 text-green-700 rounded text-sm",children:e},e))}),s.jsxs("ul",{className:"text-gray-700 text-sm space-y-1",children:[s.jsx("li",{children:"• Implemented health check endpoints with Spring Boot Actuator"}),s.jsx("li",{children:"• Integrated monitoring dashboards with real-time alerting"}),s.jsx("li",{children:"• Monitored system health via Grafana/Prometheus; participated in release cycles, backup strategies, and incident response"})]})]}),s.jsxs("a",{href:"https://github.com/miaoti/inventoryPro",target:"_blank",rel:"noopener noreferrer",className:"block border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow hover:border-purple-300",children:[s.jsxs("h4",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:["InventoryPro — Internal Inventory Management System",s.jsx(Ep,{className:"h-4 w-4 text-purple-500"})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Jun 2025 – Sep 2025"}),s.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs font-medium",children:"Full-Stack Developer (Solo Project)"})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Designed and delivered a secure, scalable inventory system for internal company use, featuring role-based access, barcode scanning, audit logs, and low-stock alerts."}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Spring Boot","Next.js","TypeScript","MySQL","Docker","GCP","Flyway"].map(e=>s.jsx("span",{className:"px-2 py-1 bg-purple-50 text-purple-700 rounded text-sm",children:e},e))}),s.jsxs("ul",{className:"text-gray-700 text-sm space-y-1",children:[s.jsx("li",{children:"• Implemented backend with Spring Security + JWT for authentication; used Flyway for version-controlled, repeatable database migrations"}),s.jsx("li",{children:"• Developed responsive frontend with Next.js App Router + Redux; integrated real-time notifications and exportable reporting dashboards"}),s.jsx("li",{children:"• Containerized deployment via Docker + Nginx reverse proxy with HTTPS; configured CI/CD on GitHub Actions for automated testing & deployment to GCP"}),s.jsx("li",{children:"• Delivered audit trails, email alerts, and scheduled tasks to support operational compliance and decision-making"})]})]})]})]}),s.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[s.jsx(eu,{className:"h-6 w-6 text-blue-500"}),"Publications"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border-l-4 border-blue-500 pl-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:'"Systematic Mapping Study of Test Generation for Microservices: Approaches, Challenges, and Impact on System Quality"'}),s.jsxs("p",{className:"text-gray-600 mb-2",children:[s.jsx("strong",{children:"Miao, T."}),", Shaafi, A. I., & Song, E. (2025). ",s.jsx("em",{children:"Electronics"}),", 14(7), 1397."]}),s.jsx("p",{className:"text-gray-700 text-sm mb-2",children:"Comprehensive analysis of microservice testing methodologies and their impact on system reliability and performance."}),s.jsx("a",{href:"https://doi.org/10.3390/electronics14071397",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"https://doi.org/10.3390/electronics14071397"})]}),s.jsxs("div",{className:"border-l-4 border-green-500 pl-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:'"Service Availability Ratio (SAR): An Availability Metric for Microservices"'}),s.jsxs("p",{className:"text-gray-600 mb-2",children:[s.jsx("strong",{children:"Miao, T."}),", & Shaafi, A. I. (2025). In ",s.jsx("em",{children:"Lecture Notes in Computer Science"})," (Vol. 14678, pp. 112–127). Springer."]}),s.jsx("p",{className:"text-gray-700 text-sm mb-2",children:"Novel availability metric for microservice architectures that considers end-to-end service dependencies and system reliability."}),s.jsx("a",{href:"https://doi.org/10.1007/978-3-031-86644-9_8",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"https://doi.org/10.1007/978-3-031-86644-9_8"})]})]})]})]})]})}function vS(){return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-purple-50",children:[s.jsx("div",{className:"bg-white shadow-lg",children:s.jsx("div",{className:"max-w-6xl mx-auto px-6 py-12",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-8",children:[s.jsx("div",{className:"w-48 h-48 bg-gradient-to-br from-pink-500 to-purple-600 rounded-full flex items-center justify-center text-white text-6xl font-bold shadow-xl",children:"Z"}),s.jsxs("div",{className:"flex-1 text-center md:text-left",children:[s.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"Zoe"}),s.jsx("h2",{className:"text-2xl text-pink-600 font-semibold mb-6",children:"Professional & Creative Specialist"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-600",children:[s.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[s.jsx(Mi,{className:"h-5 w-5 text-pink-500"}),s.jsx("span",{children:"Location Available Upon Request"})]}),s.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[s.jsx(_x,{className:"h-5 w-5 text-pink-500"}),s.jsx("a",{href:"mailto:zoe@example.com",className:"hover:text-pink-600 transition-colors",children:"zoe@example.com"})]}),s.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[s.jsx(Q1,{className:"h-5 w-5 text-pink-500"}),s.jsx("span",{children:"Contact Available Upon Request"})]}),s.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[s.jsx(Sa,{className:"h-5 w-5 text-pink-500"}),s.jsx("span",{children:"Multilingual Professional"})]})]})]})]})})}),s.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12 space-y-12",children:[s.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[s.jsx(ke,{className:"h-6 w-6 text-pink-500"}),"About Me"]}),s.jsx("p",{className:"text-gray-700 leading-relaxed text-lg",children:"A dedicated professional with a passion for excellence and innovation. I bring creativity, analytical thinking, and strong communication skills to every project. Currently expanding my expertise and looking forward to new opportunities and challenges."})]}),s.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[s.jsx(Rx,{className:"h-6 w-6 text-pink-500"}),"Education"]}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"border-l-4 border-pink-500 pl-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-2",children:[s.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"Bachelor's Degree"}),s.jsx("span",{className:"text-pink-600 font-medium",children:"Location"})]}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-3",children:[s.jsx("p",{className:"text-gray-600",children:"University Name"}),s.jsx("span",{className:"text-gray-500",children:"Year - Year"})]}),s.jsxs("ul",{className:"text-gray-700 space-y-1",children:[s.jsx("li",{children:"• Major: [To be updated]"}),s.jsx("li",{children:"• Relevant coursework and achievements"}),s.jsx("li",{children:"• Academic honors and distinctions"})]})]})})]}),s.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[s.jsx(ao,{className:"h-6 w-6 text-pink-500"}),"Core Competencies"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Professional Skills"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["Communication","Project Management","Problem Solving","Leadership","Teamwork","Analysis"].map(e=>s.jsx("span",{className:"px-3 py-1 bg-pink-100 text-pink-800 rounded-full text-sm font-medium",children:e},e))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Technical Skills"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["Microsoft Office","Data Analysis","Research","Presentation","Documentation","Planning"].map(e=>s.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium",children:e},e))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Creative Skills"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["Design Thinking","Creative Writing","Visual Arts","Innovation","Brainstorming","Conceptualization"].map(e=>s.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm font-medium",children:e},e))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Languages"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["English (Fluent)","Additional Languages","Cross-Cultural Communication"].map(e=>s.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:e},e))})]})]})]}),s.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[s.jsx(Ax,{className:"h-6 w-6 text-pink-500"}),"Professional Experience"]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"border-l-4 border-pink-500 pl-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-2",children:[s.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"Position Title"}),s.jsx("span",{className:"text-pink-600 font-medium",children:"Date - Date"})]}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[s.jsx("p",{className:"text-gray-600 font-medium",children:"Company/Organization Name"}),s.jsx("span",{className:"text-gray-500",children:"Location"})]}),s.jsxs("ul",{className:"text-gray-700 space-y-2",children:[s.jsx("li",{children:"• Key responsibility and achievement"}),s.jsx("li",{children:"• Major project or initiative led"}),s.jsx("li",{children:"• Quantifiable results and impact"}),s.jsx("li",{children:"• Skills developed and applied"})]})]}),s.jsxs("div",{className:"border-l-4 border-purple-500 pl-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-2",children:[s.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"Previous Position"}),s.jsx("span",{className:"text-purple-600 font-medium",children:"Date - Date"})]}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[s.jsx("p",{className:"text-gray-600 font-medium",children:"Previous Company/Organization"}),s.jsx("span",{className:"text-gray-500",children:"Location"})]}),s.jsxs("ul",{className:"text-gray-700 space-y-2",children:[s.jsx("li",{children:"• Notable accomplishment or project"}),s.jsx("li",{children:"• Leadership or collaborative experience"}),s.jsx("li",{children:"• Process improvement or innovation"}),s.jsx("li",{children:"• Professional growth and learning"})]})]})]})]}),s.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[s.jsx(ao,{className:"h-6 w-6 text-pink-500"}),"Projects & Achievements"]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[s.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Featured Project"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Description of a significant project, initiative, or accomplishment that demonstrates skills, creativity, and impact."}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Skill 1","Skill 2","Skill 3","Tool/Method"].map(e=>s.jsx("span",{className:"px-2 py-1 bg-pink-50 text-pink-700 rounded text-sm",children:e},e))}),s.jsxs("ul",{className:"text-gray-700 text-sm space-y-1",children:[s.jsx("li",{children:"• Key outcome or result achieved"}),s.jsx("li",{children:"• Methodology or approach used"}),s.jsx("li",{children:"• Impact on organization or community"})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[s.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Creative Initiative"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"A creative project or innovative solution that showcases problem-solving abilities and unique perspective."}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Creativity","Innovation","Design","Implementation"].map(e=>s.jsx("span",{className:"px-2 py-1 bg-purple-50 text-purple-700 rounded text-sm",children:e},e))}),s.jsxs("ul",{className:"text-gray-700 text-sm space-y-1",children:[s.jsx("li",{children:"• Creative approach or unique solution"}),s.jsx("li",{children:"• Collaboration and teamwork involved"}),s.jsx("li",{children:"• Positive feedback or recognition received"})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[s.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Leadership Experience"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Leadership role or initiative that demonstrates ability to guide, motivate, and achieve results through others."}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Leadership","Team Management","Strategy","Communication"].map(e=>s.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 rounded text-sm",children:e},e))}),s.jsxs("ul",{className:"text-gray-700 text-sm space-y-1",children:[s.jsx("li",{children:"• Team size and scope of responsibility"}),s.jsx("li",{children:"• Challenges overcome and solutions implemented"}),s.jsx("li",{children:"• Measurable outcomes and team development"})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[s.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Community Involvement"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Volunteer work, community service, or social impact initiative that demonstrates commitment to making a positive difference."}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Volunteer Work","Community Service","Social Impact","Organizing"].map(e=>s.jsx("span",{className:"px-2 py-1 bg-green-50 text-green-700 rounded text-sm",children:e},e))}),s.jsxs("ul",{className:"text-gray-700 text-sm space-y-1",children:[s.jsx("li",{children:"• Organization or cause supported"}),s.jsx("li",{children:"• Role and responsibilities undertaken"}),s.jsx("li",{children:"• Impact on community or beneficiaries"})]})]})]})]}),s.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[s.jsx(eu,{className:"h-6 w-6 text-pink-500"}),"Interests & Professional Goals"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Professional Interests"}),s.jsxs("ul",{className:"text-gray-700 space-y-2",children:[s.jsx("li",{children:"• Continuous learning and professional development"}),s.jsx("li",{children:"• Innovation and creative problem-solving"}),s.jsx("li",{children:"• Collaborative team environments"}),s.jsx("li",{children:"• Making meaningful contributions to projects"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Career Goals"}),s.jsxs("ul",{className:"text-gray-700 space-y-2",children:[s.jsx("li",{children:"• Expanding expertise in chosen field"}),s.jsx("li",{children:"• Taking on leadership responsibilities"}),s.jsx("li",{children:"• Contributing to impactful projects"}),s.jsx("li",{children:"• Building lasting professional relationships"})]})]})]})]}),s.jsxs("section",{className:"bg-gradient-to-r from-pink-500 to-purple-600 rounded-xl shadow-lg p-8 text-center text-white",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Let's Connect"}),s.jsx("p",{className:"text-lg mb-6 opacity-90",children:"I'm always interested in new opportunities and meaningful connections. Feel free to reach out to discuss potential collaborations or just to say hello!"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx("a",{href:"mailto:zoe@example.com",className:"bg-white text-pink-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Send Email"}),s.jsx("a",{href:"#",className:"border-2 border-white text-white px-6 py-3 rounded-lg font-semibold hover:bg-white hover:text-pink-600 transition-colors",children:"View LinkedIn"})]})]})]})]})}const R0=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Xo=y.createContext({}),Jo=y.createContext(null),Zo=typeof document<"u",zd=Zo?y.useLayoutEffect:y.useEffect,O0=y.createContext({strict:!1}),Bd=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),wS="framerAppearId",_0="data-"+Bd(wS);function bS(e,t,r,n){const{visualElement:i}=y.useContext(Xo),a=y.useContext(O0),o=y.useContext(Jo),l=y.useContext(R0).reducedMotion,c=y.useRef();n=n||a.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;y.useInsertionEffect(()=>{u&&u.update(r,o)});const d=y.useRef(!!(r[_0]&&!window.HandoffComplete));return zd(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),y.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function qn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function jS(e,t,r){return y.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):qn(r)&&(r.current=n))},[t])}function Si(e){return typeof e=="string"||Array.isArray(e)}function el(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Id=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vd=["initial",...Id];function tl(e){return el(e.animate)||Vd.some(t=>Si(e[t]))}function L0(e){return!!(tl(e)||e.variants)}function NS(e,t){if(tl(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Si(r)?r:void 0,animate:Si(n)?n:void 0}}return e.inherit!==!1?t:{}}function SS(e){const{initial:t,animate:r}=NS(e,y.useContext(Xo));return y.useMemo(()=>({initial:t,animate:r}),[Xp(t),Xp(r)])}function Xp(e){return Array.isArray(e)?e.join(" "):e}const Jp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ki={};for(const e in Jp)ki[e]={isEnabled:t=>Jp[e].some(r=>!!t[r])};function kS(e){for(const t in e)ki[t]={...ki[t],...e[t]}}const $d=y.createContext({}),F0=y.createContext({}),CS=Symbol.for("motionComponentSymbol");function ES({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){e&&kS(e);function a(l,c){let u;const d={...y.useContext(R0),...l,layoutId:PS(l)},{isStatic:h}=d,p=SS(l),f=n(l,h);if(!h&&Zo){p.visualElement=bS(i,f,d,t);const x=y.useContext(F0),b=y.useContext(O0).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,b,e,x))}return y.createElement(Xo.Provider,{value:p},u&&p.visualElement?y.createElement(u,{visualElement:p.visualElement,...d}):null,r(i,l,jS(f,p.visualElement,c),f,h,p.visualElement))}const o=y.forwardRef(a);return o[CS]=i,o}function PS({layoutId:e}){const t=y.useContext($d).id;return t&&e!==void 0?t+"-"+e:e}function TS(e){function t(n,i={}){return ES(e(n,i))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,i)=>(r.has(i)||r.set(i,t(i)),r.get(i))})}const DS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ud(e){return typeof e!="string"||e.includes("-")?!1:!!(DS.indexOf(e)>-1||/[A-Z]/.test(e))}const uo={};function AS(e){Object.assign(uo,e)}const zi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],En=new Set(zi);function z0(e,{layout:t,layoutId:r}){return En.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!uo[e]||e==="opacity")}const lt=e=>!!(e&&e.getVelocity),MS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RS=zi.length;function OS(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,i){let a="";for(let o=0;o<RS;o++){const l=zi[o];if(e[l]!==void 0){const c=MS[l]||l;a+=`${c}(${e[l]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,n?"":a):r&&n&&(a="none"),a}const B0=e=>t=>typeof t=="string"&&t.startsWith(e),I0=B0("--"),mu=B0("var(--"),_S=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,LS=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Vr=(e,t,r)=>Math.min(Math.max(r,e),t),Pn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ei={...Pn,transform:e=>Vr(0,1,e)},la={...Pn,default:1},ti=e=>Math.round(e*1e5)/1e5,rl=/(-)?([\d]*\.?[\d])+/g,V0=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,FS=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Bi(e){return typeof e=="string"}const Ii=e=>({test:t=>Bi(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),yr=Ii("deg"),qt=Ii("%"),Q=Ii("px"),zS=Ii("vh"),BS=Ii("vw"),Zp={...qt,parse:e=>qt.parse(e)/100,transform:e=>qt.transform(e*100)},ef={...Pn,transform:Math.round},$0={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,radius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,size:Q,top:Q,right:Q,bottom:Q,left:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,rotate:yr,rotateX:yr,rotateY:yr,rotateZ:yr,scale:la,scaleX:la,scaleY:la,scaleZ:la,skew:yr,skewX:yr,skewY:yr,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:ei,originX:Zp,originY:Zp,originZ:Q,zIndex:ef,fillOpacity:ei,strokeOpacity:ei,numOctaves:ef};function Wd(e,t,r,n){const{style:i,vars:a,transform:o,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const h in t){const p=t[h];if(I0(h)){a[h]=p;continue}const f=$0[h],x=LS(p,f);if(En.has(h)){if(c=!0,o[h]=x,!d)continue;p!==(f.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,l[h]=x):i[h]=x}if(t.transform||(c||n?i.transform=OS(e.transform,r,d,n):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:f=0}=l;i.transformOrigin=`${h} ${p} ${f}`}}const Hd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function U0(e,t,r){for(const n in t)!lt(t[n])&&!z0(n,r)&&(e[n]=t[n])}function IS({transformTemplate:e},t,r){return y.useMemo(()=>{const n=Hd();return Wd(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function VS(e,t,r){const n=e.style||{},i={};return U0(i,n,e),Object.assign(i,IS(e,t,r)),e.transformValues?e.transformValues(i):i}function $S(e,t,r){const n={},i=VS(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const US=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ho(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||US.has(e)}let W0=e=>!ho(e);function WS(e){e&&(W0=t=>t.startsWith("on")?!ho(t):e(t))}try{WS(require("@emotion/is-prop-valid").default)}catch{}function HS(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(W0(i)||r===!0&&ho(i)||!t&&!ho(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function tf(e,t,r){return typeof e=="string"?e:Q.transform(t+r*e)}function qS(e,t,r){const n=tf(t,e.x,e.width),i=tf(r,e.y,e.height);return`${n} ${i}`}const YS={offset:"stroke-dashoffset",array:"stroke-dasharray"},GS={offset:"strokeDashoffset",array:"strokeDasharray"};function KS(e,t,r=1,n=0,i=!0){e.pathLength=1;const a=i?YS:GS;e[a.offset]=Q.transform(-n);const o=Q.transform(t),l=Q.transform(r);e[a.array]=`${o} ${l}`}function qd(e,{attrX:t,attrY:r,attrScale:n,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,h,p){if(Wd(e,u,d,p),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:x,dimensions:b}=e;f.transform&&(b&&(x.transform=f.transform),delete f.transform),b&&(i!==void 0||a!==void 0||x.transform)&&(x.transformOrigin=qS(b,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),o!==void 0&&KS(f,o,l,c,!1)}const H0=()=>({...Hd(),attrs:{}}),Yd=e=>typeof e=="string"&&e.toLowerCase()==="svg";function QS(e,t,r,n){const i=y.useMemo(()=>{const a=H0();return qd(a,t,{enableHardwareAcceleration:!1},Yd(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};U0(a,e.style,e),i.style={...a,...i.style}}return i}function XS(e=!1){return(r,n,i,{latestValues:a},o)=>{const c=(Ud(r)?QS:$S)(n,a,o,r),d={...HS(n,typeof r=="string",e),...c,ref:i},{children:h}=n,p=y.useMemo(()=>lt(h)?h.get():h,[h]);return y.createElement(r,{...d,children:p})}}function q0(e,{style:t,vars:r},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const a in r)e.style.setProperty(a,r[a])}const Y0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function G0(e,t,r,n){q0(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(Y0.has(i)?i:Bd(i),t.attrs[i])}function Gd(e,t){const{style:r}=e,n={};for(const i in r)(lt(r[i])||t.style&&lt(t.style[i])||z0(i,e))&&(n[i]=r[i]);return n}function K0(e,t){const r=Gd(e,t);for(const n in e)if(lt(e[n])||lt(t[n])){const i=zi.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=e[n]}return r}function Kd(e,t,r,n={},i={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,i)),t}function Q0(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const po=e=>Array.isArray(e),JS=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),ZS=e=>po(e)?e[e.length-1]||0:e;function Ra(e){const t=lt(e)?e.get():e;return JS(t)?t.toValue():t}function ek({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,i,a){const o={latestValues:tk(n,i,a,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const X0=e=>(t,r)=>{const n=y.useContext(Xo),i=y.useContext(Jo),a=()=>ek(e,t,n,i);return r?a():Q0(a)};function tk(e,t,r,n){const i={},a=n(e,{});for(const p in a)i[p]=Ra(a[p]);let{initial:o,animate:l}=e;const c=tl(e),u=L0(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const h=d?l:o;return h&&typeof h!="boolean"&&!el(h)&&(Array.isArray(h)?h:[h]).forEach(f=>{const x=Kd(e,f);if(!x)return;const{transitionEnd:b,transition:j,...w}=x;for(const g in w){let m=w[g];if(Array.isArray(m)){const v=d?m.length-1:0;m=m[v]}m!==null&&(i[g]=m)}for(const g in b)i[g]=b[g]}),i}const Ne=e=>e;class rf{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function rk(e){let t=new rf,r=new rf,n=0,i=!1,a=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const h=d&&i,p=h?t:r;return u&&o.add(c),p.add(c)&&h&&i&&(n=t.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(i){a=!0;return}if(i=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const d=t.order[u];d(c),o.has(d)&&(l.schedule(d),e())}i=!1,a&&(a=!1,l.process(c))}};return l}const ca=["prepare","read","update","preRender","render","postRender"],nk=40;function sk(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=ca.reduce((h,p)=>(h[p]=rk(()=>r=!0),h),{}),o=h=>a[h].process(i),l=()=>{const h=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(h-i.timestamp,nk),1),i.timestamp=h,i.isProcessing=!0,ca.forEach(o),i.isProcessing=!1,r&&t&&(n=!1,e(l))},c=()=>{r=!0,n=!0,i.isProcessing||e(l)};return{schedule:ca.reduce((h,p)=>{const f=a[p];return h[p]=(x,b=!1,j=!1)=>(r||c(),f.schedule(x,b,j)),h},{}),cancel:h=>ca.forEach(p=>a[p].cancel(h)),state:i,steps:a}}const{schedule:he,cancel:hr,state:Ve,steps:$l}=sk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ne,!0),ik={useVisualState:X0({scrapeMotionValuesFromProps:K0,createRenderState:H0,onMount:(e,t,{renderState:r,latestValues:n})=>{he.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),he.render(()=>{qd(r,n,{enableHardwareAcceleration:!1},Yd(t.tagName),e.transformTemplate),G0(t,r)})}})},ak={useVisualState:X0({scrapeMotionValuesFromProps:Gd,createRenderState:Hd})};function ok(e,{forwardMotionProps:t=!1},r,n){return{...Ud(e)?ik:ak,preloadedFeatures:r,useRender:XS(t),createVisualElement:n,Component:e}}function nr(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const J0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function nl(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const lk=e=>t=>J0(t)&&e(t,nl(t));function ir(e,t,r,n){return nr(e,t,lk(r),n)}const ck=(e,t)=>r=>t(e(r)),zr=(...e)=>e.reduce(ck);function Z0(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const nf=Z0("dragHorizontal"),sf=Z0("dragVertical");function ey(e){let t=!1;if(e==="y")t=sf();else if(e==="x")t=nf();else{const r=nf(),n=sf();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function ty(){const e=ey(!0);return e?(e(),!1):!0}class Yr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function af(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),i=(a,o)=>{if(a.pointerType==="touch"||ty())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&he.update(()=>l[n](a,o))};return ir(e.current,r,i,{passive:!e.getProps()[n]})}class uk extends Yr{mount(){this.unmount=zr(af(this.node,!0),af(this.node,!1))}unmount(){}}class dk extends Yr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zr(nr(this.node.current,"focus",()=>this.onFocus()),nr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const ry=(e,t)=>t?e===t?!0:ry(e,t.parentElement):!1;function Ul(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,nl(r))}class hk extends Yr{constructor(){super(...arguments),this.removeStartListeners=Ne,this.removeEndListeners=Ne,this.removeAccessibleListeners=Ne,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),a=ir(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();he.update(()=>{!h&&!ry(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=ir(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=zr(a,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Ul("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&he.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=nr(this.node.current,"keyup",o),Ul("down",(l,c)=>{this.startPress(l,c)})},r=nr(this.node.current,"keydown",t),n=()=>{this.isPressing&&Ul("cancel",(a,o)=>this.cancelPress(a,o))},i=nr(this.node.current,"blur",n);this.removeAccessibleListeners=zr(r,i)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&he.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ty()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&he.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=ir(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=nr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=zr(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const gu=new WeakMap,Wl=new WeakMap,pk=e=>{const t=gu.get(e.target);t&&t(e)},fk=e=>{e.forEach(pk)};function mk({root:e,...t}){const r=e||document;Wl.has(r)||Wl.set(r,{});const n=Wl.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(fk,{root:e,...t})),n[i]}function gk(e,t,r){const n=mk(t);return gu.set(e,r),n.observe(e),()=>{gu.delete(e),n.unobserve(e)}}const xk={some:0,all:1};class yk extends Yr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:xk[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=u?d:h;p&&p(c)};return gk(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(vk(t,r))&&this.startObserver()}unmount(){}}function vk({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const wk={inView:{Feature:yk},tap:{Feature:hk},focus:{Feature:dk},hover:{Feature:uk}};function ny(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function bk(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function jk(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function sl(e,t,r){const n=e.getProps();return Kd(n,t,r!==void 0?r:n.custom,bk(e),jk(e))}let Qd=Ne;const un=e=>e*1e3,ar=e=>e/1e3,Nk={current:!1},sy=e=>Array.isArray(e)&&typeof e[0]=="number";function iy(e){return!!(!e||typeof e=="string"&&ay[e]||sy(e)||Array.isArray(e)&&e.every(iy))}const Ws=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,ay={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ws([0,.65,.55,1]),circOut:Ws([.55,0,1,.45]),backIn:Ws([.31,.01,.66,-.59]),backOut:Ws([.33,1.53,.69,.99])};function oy(e){if(e)return sy(e)?Ws(e):Array.isArray(e)?e.map(oy):ay[e]}function Sk(e,t,r,{delay:n=0,duration:i,repeat:a=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=oy(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function kk(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const ly=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Ck=1e-7,Ek=12;function Pk(e,t,r,n,i){let a,o,l=0;do o=t+(r-t)/2,a=ly(o,n,i)-e,a>0?r=o:t=o;while(Math.abs(a)>Ck&&++l<Ek);return o}function Vi(e,t,r,n){if(e===t&&r===n)return Ne;const i=a=>Pk(a,0,1,e,r);return a=>a===0||a===1?a:ly(i(a),t,n)}const Tk=Vi(.42,0,1,1),Dk=Vi(0,0,.58,1),cy=Vi(.42,0,.58,1),Ak=e=>Array.isArray(e)&&typeof e[0]!="number",uy=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,dy=e=>t=>1-e(1-t),Xd=e=>1-Math.sin(Math.acos(e)),hy=dy(Xd),Mk=uy(Xd),py=Vi(.33,1.53,.69,.99),Jd=dy(py),Rk=uy(Jd),Ok=e=>(e*=2)<1?.5*Jd(e):.5*(2-Math.pow(2,-10*(e-1))),_k={linear:Ne,easeIn:Tk,easeInOut:cy,easeOut:Dk,circIn:Xd,circInOut:Mk,circOut:hy,backIn:Jd,backInOut:Rk,backOut:py,anticipate:Ok},of=e=>{if(Array.isArray(e)){Qd(e.length===4);const[t,r,n,i]=e;return Vi(t,r,n,i)}else if(typeof e=="string")return _k[e];return e},Zd=(e,t)=>r=>!!(Bi(r)&&FS.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),fy=(e,t,r)=>n=>{if(!Bi(n))return n;const[i,a,o,l]=n.match(rl);return{[e]:parseFloat(i),[t]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Lk=e=>Vr(0,255,e),Hl={...Pn,transform:e=>Math.round(Lk(e))},an={test:Zd("rgb","red"),parse:fy("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Hl.transform(e)+", "+Hl.transform(t)+", "+Hl.transform(r)+", "+ti(ei.transform(n))+")"};function Fk(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const xu={test:Zd("#"),parse:Fk,transform:an.transform},Yn={test:Zd("hsl","hue"),parse:fy("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+qt.transform(ti(t))+", "+qt.transform(ti(r))+", "+ti(ei.transform(n))+")"},qe={test:e=>an.test(e)||xu.test(e)||Yn.test(e),parse:e=>an.test(e)?an.parse(e):Yn.test(e)?Yn.parse(e):xu.parse(e),transform:e=>Bi(e)?e:e.hasOwnProperty("red")?an.transform(e):Yn.transform(e)},xe=(e,t,r)=>-r*e+r*t+e;function ql(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function zk({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,a=0,o=0;if(!t)i=a=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=ql(c,l,e+1/3),a=ql(c,l,e),o=ql(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}const Yl=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},Bk=[xu,an,Yn],Ik=e=>Bk.find(t=>t.test(e));function lf(e){const t=Ik(e);let r=t.parse(e);return t===Yn&&(r=zk(r)),r}const my=(e,t)=>{const r=lf(e),n=lf(t),i={...r};return a=>(i.red=Yl(r.red,n.red,a),i.green=Yl(r.green,n.green,a),i.blue=Yl(r.blue,n.blue,a),i.alpha=xe(r.alpha,n.alpha,a),an.transform(i))};function Vk(e){var t,r;return isNaN(e)&&Bi(e)&&(((t=e.match(rl))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(V0))===null||r===void 0?void 0:r.length)||0)>0}const gy={regex:_S,countKey:"Vars",token:"${v}",parse:Ne},xy={regex:V0,countKey:"Colors",token:"${c}",parse:qe.parse},yy={regex:rl,countKey:"Numbers",token:"${n}",parse:Pn.parse};function Gl(e,{regex:t,countKey:r,token:n,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...a.map(i)))}function fo(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Gl(r,gy),Gl(r,xy),Gl(r,yy),r}function vy(e){return fo(e).values}function wy(e){const{values:t,numColors:r,numVars:n,tokenised:i}=fo(e),a=t.length;return o=>{let l=i;for(let c=0;c<a;c++)c<n?l=l.replace(gy.token,o[c]):c<n+r?l=l.replace(xy.token,qe.transform(o[c])):l=l.replace(yy.token,ti(o[c]));return l}}const $k=e=>typeof e=="number"?0:e;function Uk(e){const t=vy(e);return wy(e)(t.map($k))}const $r={test:Vk,parse:vy,createTransformer:wy,getAnimatableNone:Uk},by=(e,t)=>r=>`${r>0?t:e}`;function jy(e,t){return typeof e=="number"?r=>xe(e,t,r):qe.test(e)?my(e,t):e.startsWith("var(")?by(e,t):Sy(e,t)}const Ny=(e,t)=>{const r=[...e],n=r.length,i=e.map((a,o)=>jy(a,t[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}},Wk=(e,t)=>{const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=jy(e[i],t[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}},Sy=(e,t)=>{const r=$r.createTransformer(t),n=fo(e),i=fo(t);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?zr(Ny(n.values,i.values),r):by(e,t)},Ci=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},cf=(e,t)=>r=>xe(e,t,r);function Hk(e){return typeof e=="number"?cf:typeof e=="string"?qe.test(e)?my:Sy:Array.isArray(e)?Ny:typeof e=="object"?Wk:cf}function qk(e,t,r){const n=[],i=r||Hk(e[0]),a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ne:t;l=zr(c,l)}n.push(l)}return n}function ky(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const a=e.length;if(Qd(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=qk(t,n,i),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=Ci(e[d],e[d+1],u);return o[d](h)};return r?u=>c(Vr(e[0],e[a-1],u)):c}function Yk(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Ci(0,t,n);e.push(xe(r,1,i))}}function Gk(e){const t=[0];return Yk(t,e.length-1),t}function Kk(e,t){return e.map(r=>r*t)}function Qk(e,t){return e.map(()=>t||cy).splice(0,e.length-1)}function mo({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=Ak(n)?n.map(of):of(n),a={done:!1,value:t[0]},o=Kk(r&&r.length===t.length?r:Gk(t),e),l=ky(o,t,{ease:Array.isArray(i)?i:Qk(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}function Cy(e,t){return t?e*(1e3/t):0}const Xk=5;function Ey(e,t,r){const n=Math.max(t-Xk,0);return Cy(r-e(n),t-n)}const Kl=.001,Jk=.01,Zk=10,eC=.05,tC=1;function rC({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let i,a,o=1-t;o=Vr(eC,tC,o),e=Vr(Jk,Zk,ar(e)),o<1?(i=u=>{const d=u*o,h=d*e,p=d-r,f=yu(u,o),x=Math.exp(-h);return Kl-p/f*x},a=u=>{const h=u*o*e,p=h*r+r,f=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-h),b=yu(Math.pow(u,2),o);return(-i(u)+Kl>0?-1:1)*((p-f)*x)/b}):(i=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-Kl+d*h},a=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const l=5/e,c=sC(i,a,l);if(e=un(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const nC=12;function sC(e,t,r){let n=r;for(let i=1;i<nC;i++)n=n-e(n)/t(n);return n}function yu(e,t){return e*Math.sqrt(1-t*t)}const iC=["duration","bounce"],aC=["stiffness","damping","mass"];function uf(e,t){return t.some(r=>e[r]!==void 0)}function oC(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!uf(e,aC)&&uf(e,iC)){const r=rC(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function Py({keyframes:e,restDelta:t,restSpeed:r,...n}){const i=e[0],a=e[e.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:p}=oC({...n,velocity:-ar(n.velocity||0)}),f=h||0,x=c/(2*Math.sqrt(l*u)),b=a-i,j=ar(Math.sqrt(l/u)),w=Math.abs(b)<5;r||(r=w?.01:2),t||(t=w?.005:.5);let g;if(x<1){const m=yu(j,x);g=v=>{const S=Math.exp(-x*j*v);return a-S*((f+x*j*b)/m*Math.sin(m*v)+b*Math.cos(m*v))}}else if(x===1)g=m=>a-Math.exp(-j*m)*(b+(f+j*b)*m);else{const m=j*Math.sqrt(x*x-1);g=v=>{const S=Math.exp(-x*j*v),k=Math.min(m*v,300);return a-S*((f+x*j*b)*Math.sinh(k)+m*b*Math.cosh(k))/m}}return{calculatedDuration:p&&d||null,next:m=>{const v=g(m);if(p)o.done=m>=d;else{let S=f;m!==0&&(x<1?S=Ey(g,m,v):S=0);const k=Math.abs(S)<=r,E=Math.abs(a-v)<=t;o.done=k&&E}return o.value=o.done?a:v,o}}}function df({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],p={done:!1,value:h},f=C=>l!==void 0&&C<l||c!==void 0&&C>c,x=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let b=r*t;const j=h+b,w=o===void 0?j:o(j);w!==j&&(b=w-h);const g=C=>-b*Math.exp(-C/n),m=C=>w+g(C),v=C=>{const A=g(C),P=m(C);p.done=Math.abs(A)<=u,p.value=p.done?w:P};let S,k;const E=C=>{f(p.value)&&(S=C,k=Py({keyframes:[p.value,x(p.value)],velocity:Ey(m,C,p.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:C=>{let A=!1;return!k&&S===void 0&&(A=!0,v(C),E(C)),S!==void 0&&C>S?k.next(C-S):(!A&&v(C),p)}}}const lC=e=>{const t=({timestamp:r})=>e(r);return{start:()=>he.update(t,!0),stop:()=>hr(t),now:()=>Ve.isProcessing?Ve.timestamp:performance.now()}},hf=2e4;function pf(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<hf;)t+=r,n=e.next(t);return t>=hf?1/0:t}const cC={decay:df,inertia:df,tween:mo,keyframes:mo,spring:Py};function go({autoplay:e=!0,delay:t=0,driver:r=lC,keyframes:n,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:h,...p}){let f=1,x=!1,b,j;const w=()=>{j=new Promise(G=>{b=G})};w();let g;const m=cC[i]||mo;let v;m!==mo&&typeof n[0]!="number"&&(v=ky([0,100],n,{clamp:!1}),n=[0,100]);const S=m({...p,keyframes:n});let k;l==="mirror"&&(k=m({...p,keyframes:[...n].reverse(),velocity:-(p.velocity||0)}));let E="idle",C=null,A=null,P=null;S.calculatedDuration===null&&a&&(S.calculatedDuration=pf(S));const{calculatedDuration:N}=S;let D=1/0,M=1/0;N!==null&&(D=N+o,M=D*(a+1)-o);let _=0;const L=G=>{if(A===null)return;f>0&&(A=Math.min(A,G)),f<0&&(A=Math.min(G-M/f,A)),C!==null?_=C:_=Math.round(G-A)*f;const H=_-t*(f>=0?1:-1),Z=f>=0?H<0:H>M;_=Math.max(H,0),E==="finished"&&C===null&&(_=M);let oe=_,W=S;if(a){const Qt=Math.min(_,M)/D;let Tn=Math.floor(Qt),Pt=Qt%1;!Pt&&Qt>=1&&(Pt=1),Pt===1&&Tn--,Tn=Math.min(Tn,a+1),!!(Tn%2)&&(l==="reverse"?(Pt=1-Pt,o&&(Pt-=o/D)):l==="mirror"&&(W=k)),oe=Vr(0,1,Pt)*D}const Y=Z?{done:!1,value:n[0]}:W.next(oe);v&&(Y.value=v(Y.value));let{done:ee}=Y;!Z&&N!==null&&(ee=f>=0?_>=M:_<=0);const Kt=C===null&&(E==="finished"||E==="running"&&ee);return h&&h(Y.value),Kt&&O(),Y},B=()=>{g&&g.stop(),g=void 0},z=()=>{E="idle",B(),b(),w(),A=P=null},O=()=>{E="finished",d&&d(),B(),b()},I=()=>{if(x)return;g||(g=r(L));const G=g.now();c&&c(),C!==null?A=G-C:(!A||E==="finished")&&(A=G),E==="finished"&&w(),P=A,C=null,E="running",g.start()};e&&I();const V={then(G,H){return j.then(G,H)},get time(){return ar(_)},set time(G){G=un(G),_=G,C!==null||!g||f===0?C=G:A=g.now()-G/f},get duration(){const G=S.calculatedDuration===null?pf(S):S.calculatedDuration;return ar(G)},get speed(){return f},set speed(G){G===f||!g||(f=G,V.time=ar(_))},get state(){return E},play:I,pause:()=>{E="paused",C=_},stop:()=>{x=!0,E!=="idle"&&(E="idle",u&&u(),z())},cancel:()=>{P!==null&&L(P),z()},complete:()=>{E="finished"},sample:G=>(A=0,L(G))};return V}function uC(e){let t;return()=>(t===void 0&&(t=e()),t)}const dC=uC(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hC=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ua=10,pC=2e4,fC=(e,t)=>t.type==="spring"||e==="backgroundColor"||!iy(t.ease);function mC(e,t,{onUpdate:r,onComplete:n,...i}){if(!(dC()&&hC.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(m=>{l=m})};d();let{keyframes:h,duration:p=300,ease:f,times:x}=i;if(fC(t,i)){const m=go({...i,repeat:0,delay:0});let v={done:!1,value:h[0]};const S=[];let k=0;for(;!v.done&&k<pC;)v=m.sample(k),S.push(v.value),k+=ua;x=void 0,h=S,p=k-ua,f="linear"}const b=Sk(e.owner.current,t,h,{...i,duration:p,ease:f,times:x}),j=()=>{u=!1,b.cancel()},w=()=>{u=!0,he.update(j),l(),d()};return b.onfinish=()=>{u||(e.set(kk(h,i)),n&&n(),w())},{then(m,v){return c.then(m,v)},attachTimeline(m){return b.timeline=m,b.onfinish=null,Ne},get time(){return ar(b.currentTime||0)},set time(m){b.currentTime=un(m)},get speed(){return b.playbackRate},set speed(m){b.playbackRate=m},get duration(){return ar(p)},play:()=>{o||(b.play(),hr(j))},pause:()=>b.pause(),stop:()=>{if(o=!0,b.playState==="idle")return;const{currentTime:m}=b;if(m){const v=go({...i,autoplay:!1});e.setWithVelocity(v.sample(m-ua).value,v.sample(m).value,ua)}w()},complete:()=>{u||b.finish()},cancel:w}}function gC({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const i=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Ne,pause:Ne,stop:Ne,then:a=>(a(),Promise.resolve()),cancel:Ne,complete:Ne});return t?go({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const xC={type:"spring",stiffness:500,damping:25,restSpeed:10},yC=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),vC={type:"keyframes",duration:.8},wC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bC=(e,{keyframes:t})=>t.length>2?vC:En.has(e)?e.startsWith("scale")?yC(t[1]):xC:wC,vu=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&($r.test(t)||t==="0")&&!t.startsWith("url(")),jC=new Set(["brightness","contrast","saturate","opacity"]);function NC(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(rl)||[];if(!n)return e;const i=r.replace(n,"");let a=jC.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+i+")"}const SC=/([a-z-]*)\(.*?\)/g,wu={...$r,getAnimatableNone:e=>{const t=e.match(SC);return t?t.map(NC).join(" "):e}},kC={...$0,color:qe,backgroundColor:qe,outlineColor:qe,fill:qe,stroke:qe,borderColor:qe,borderTopColor:qe,borderRightColor:qe,borderBottomColor:qe,borderLeftColor:qe,filter:wu,WebkitFilter:wu},eh=e=>kC[e];function Ty(e,t){let r=eh(e);return r!==wu&&(r=$r),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Dy=e=>/^0[^.\s]+$/.test(e);function CC(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Dy(e)}function EC(e,t,r,n){const i=vu(t,r);let a;Array.isArray(r)?a=[...r]:a=[null,r];const o=n.from!==void 0?n.from:e.get();let l;const c=[];for(let u=0;u<a.length;u++)a[u]===null&&(a[u]=u===0?o:a[u-1]),CC(a[u])&&c.push(u),typeof a[u]=="string"&&a[u]!=="none"&&a[u]!=="0"&&(l=a[u]);if(i&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];a[d]=Ty(t,l)}return a}function PC({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function th(e,t){return e[t]||e.default||e}const TC={skipAnimations:!1},rh=(e,t,r,n={})=>i=>{const a=th(n,e)||{},o=a.delay||n.delay||0;let{elapsed:l=0}=n;l=l-un(o);const c=EC(t,e,r,a),u=c[0],d=c[c.length-1],h=vu(e,u),p=vu(e,d);let f={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:x=>{t.set(x),a.onUpdate&&a.onUpdate(x)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(PC(a)||(f={...f,...bC(e,f)}),f.duration&&(f.duration=un(f.duration)),f.repeatDelay&&(f.repeatDelay=un(f.repeatDelay)),!h||!p||Nk.current||a.type===!1||TC.skipAnimations)return gC(f);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const x=mC(t,e,f);if(x)return x}return go(f)};function xo(e){return!!(lt(e)&&e.add)}const Ay=e=>/^\-?\d*\.?\d+$/.test(e);function nh(e,t){e.indexOf(t)===-1&&e.push(t)}function sh(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class ih{constructor(){this.subscriptions=[]}add(t){return nh(this.subscriptions,t),()=>sh(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const DC=e=>!isNaN(parseFloat(e));class AC{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:a,timestamp:o}=Ve;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,he.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>he.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=DC(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new ih);const n=this.events[t].add(r);return t==="change"?()=>{n(),he.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Cy(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fs(e,t){return new AC(e,t)}const My=e=>t=>t.test(e),MC={test:e=>e==="auto",parse:e=>e},Ry=[Pn,Q,qt,yr,BS,zS,MC],_s=e=>Ry.find(My(e)),RC=[...Ry,qe,$r],OC=e=>RC.find(My(e));function _C(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,fs(r))}function LC(e,t){const r=sl(e,t);let{transitionEnd:n={},transition:i={},...a}=r?e.makeTargetAnimatable(r,!1):{};a={...a,...n};for(const o in a){const l=ZS(a[o]);_C(e,o,l)}}function FC(e,t,r){var n,i;const a=Object.keys(t).filter(l=>!e.hasValue(l)),o=a.length;if(o)for(let l=0;l<o;l++){const c=a[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(n=r[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&i!==void 0?i:t[c]),d!=null&&(typeof d=="string"&&(Ay(d)||Dy(d))?d=parseFloat(d):!OC(d)&&$r.test(u)&&(d=Ty(c,u)),e.addValue(c,fs(d,{owner:e})),r[c]===void 0&&(r[c]=d),d!==null&&e.setBaseTarget(c,d))}}function zC(e,t){return t?(t[e]||t.default||t).from:void 0}function BC(e,t,r){const n={};for(const i in e){const a=zC(i,t);if(a!==void 0)n[i]=a;else{const o=r.getValue(i);o&&(n[i]=o.get())}}return n}function IC({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function VC(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function Oy(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(a=n);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const p=e.getValue(h),f=l[h];if(!p||f===void 0||d&&IC(d,h))continue;const x={delay:r,elapsed:0,...th(a||{},h)};if(window.HandoffAppearAnimations){const w=e.getProps()[_0];if(w){const g=window.HandoffAppearAnimations(w,h,p,he);g!==null&&(x.elapsed=g,x.isHandoff=!0)}}let b=!x.isHandoff&&!VC(p,f);if(x.type==="spring"&&(p.getVelocity()||x.velocity)&&(b=!1),p.animation&&(b=!1),b)continue;p.start(rh(h,p,f,e.shouldReduceMotion&&En.has(h)?{type:!1}:x));const j=p.animation;xo(c)&&(c.add(h),j.then(()=>c.remove(h))),u.push(j)}return o&&Promise.all(u).then(()=>{o&&LC(e,o)}),u}function bu(e,t,r={}){const n=sl(e,t,r.custom);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const a=n?()=>Promise.all(Oy(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=i;return $C(e,t,u+c,d,h,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>u())}else return Promise.all([a(),o(r.delay)])}function $C(e,t,r=0,n=0,i=1,a){const o=[],l=(e.variantChildren.size-1)*n,c=i===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(UC).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(bu(u,t,{...a,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function UC(e,t){return e.sortNodePosition(t)}function WC(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>bu(e,a,r));n=Promise.all(i)}else if(typeof t=="string")n=bu(e,t,r);else{const i=typeof t=="function"?sl(e,t,r.custom):t;n=Promise.all(Oy(e,i,r))}return n.then(()=>e.notify("AnimationComplete",t))}const HC=[...Id].reverse(),qC=Id.length;function YC(e){return t=>Promise.all(t.map(({animation:r,options:n})=>WC(e,r,n)))}function GC(e){let t=YC(e);const r=QC();let n=!0;const i=(c,u)=>{const d=sl(e,u);if(d){const{transition:h,transitionEnd:p,...f}=d;c={...c,...f,...p}}return c};function a(c){t=c(e)}function o(c,u){const d=e.getProps(),h=e.getVariantContext(!0)||{},p=[],f=new Set;let x={},b=1/0;for(let w=0;w<qC;w++){const g=HC[w],m=r[g],v=d[g]!==void 0?d[g]:h[g],S=Si(v),k=g===u?m.isActive:null;k===!1&&(b=w);let E=v===h[g]&&v!==d[g]&&S;if(E&&n&&e.manuallyAnimateOnMount&&(E=!1),m.protectedKeys={...x},!m.isActive&&k===null||!v&&!m.prevProp||el(v)||typeof v=="boolean")continue;let A=KC(m.prevProp,v)||g===u&&m.isActive&&!E&&S||w>b&&S,P=!1;const N=Array.isArray(v)?v:[v];let D=N.reduce(i,{});k===!1&&(D={});const{prevResolvedValues:M={}}=m,_={...M,...D},L=B=>{A=!0,f.has(B)&&(P=!0,f.delete(B)),m.needsAnimating[B]=!0};for(const B in _){const z=D[B],O=M[B];if(x.hasOwnProperty(B))continue;let I=!1;po(z)&&po(O)?I=!ny(z,O):I=z!==O,I?z!==void 0?L(B):f.add(B):z!==void 0&&f.has(B)?L(B):m.protectedKeys[B]=!0}m.prevProp=v,m.prevResolvedValues=D,m.isActive&&(x={...x,...D}),n&&e.blockInitialAnimation&&(A=!1),A&&(!E||P)&&p.push(...N.map(B=>({animation:B,options:{type:g,...c}})))}if(f.size){const w={};f.forEach(g=>{const m=e.getBaseTarget(g);m!==void 0&&(w[g]=m)}),p.push({animation:w})}let j=!!p.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(j=!1),n=!1,j?t(p):Promise.resolve()}function l(c,u,d){var h;if(r[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(f=>{var x;return(x=f.animationState)===null||x===void 0?void 0:x.setActive(c,u)}),r[c].isActive=u;const p=o(d,c);for(const f in r)r[f].protectedKeys={};return p}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r}}function KC(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ny(t,e):!1}function Gr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function QC(){return{animate:Gr(!0),whileInView:Gr(),whileHover:Gr(),whileTap:Gr(),whileDrag:Gr(),whileFocus:Gr(),exit:Gr()}}class XC extends Yr{constructor(t){super(t),t.animationState||(t.animationState=GC(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),el(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let JC=0;class ZC extends Yr{constructor(){super(...arguments),this.id=JC++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&a.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const e4={animation:{Feature:XC},exit:{Feature:ZC}},ff=(e,t)=>Math.abs(e-t);function t4(e,t){const r=ff(e.x,t.x),n=ff(e.y,t.y);return Math.sqrt(r**2+n**2)}class _y{constructor(t,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Xl(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,f=t4(h.offset,{x:0,y:0})>=3;if(!p&&!f)return;const{point:x}=h,{timestamp:b}=Ve;this.history.push({...x,timestamp:b});const{onStart:j,onMove:w}=this.handlers;p||(j&&j(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Ql(p,this.transformPagePoint),he.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:f,onSessionEnd:x,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Xl(h.type==="pointercancel"?this.lastMoveEventInfo:Ql(p,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,j),x&&x(h,j)},!J0(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=nl(t),l=Ql(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ve;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,Xl(l,this.history)),this.removeListeners=zr(ir(this.contextWindow,"pointermove",this.handlePointerMove),ir(this.contextWindow,"pointerup",this.handlePointerUp),ir(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),hr(this.updatePoint)}}function Ql(e,t){return t?{point:t(e.point)}:e}function mf(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Xl({point:e},t){return{point:e,delta:mf(e,Ly(t)),offset:mf(e,r4(t)),velocity:n4(t,.1)}}function r4(e){return e[0]}function Ly(e){return e[e.length-1]}function n4(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=Ly(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>un(t)));)r--;if(!n)return{x:0,y:0};const a=ar(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function mt(e){return e.max-e.min}function ju(e,t=0,r=.01){return Math.abs(e-t)<=r}function gf(e,t,r,n=.5){e.origin=n,e.originPoint=xe(t.min,t.max,e.origin),e.scale=mt(r)/mt(t),(ju(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=xe(r.min,r.max,e.origin)-e.originPoint,(ju(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ri(e,t,r,n){gf(e.x,t.x,r.x,n?n.originX:void 0),gf(e.y,t.y,r.y,n?n.originY:void 0)}function xf(e,t,r){e.min=r.min+t.min,e.max=e.min+mt(t)}function s4(e,t,r){xf(e.x,t.x,r.x),xf(e.y,t.y,r.y)}function yf(e,t,r){e.min=t.min-r.min,e.max=e.min+mt(t)}function ni(e,t,r){yf(e.x,t.x,r.x),yf(e.y,t.y,r.y)}function i4(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?xe(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?xe(r,e,n.max):Math.min(e,r)),e}function vf(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function a4(e,{top:t,left:r,bottom:n,right:i}){return{x:vf(e.x,r,i),y:vf(e.y,t,n)}}function wf(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function o4(e,t){return{x:wf(e.x,t.x),y:wf(e.y,t.y)}}function l4(e,t){let r=.5;const n=mt(e),i=mt(t);return i>n?r=Ci(t.min,t.max-n,e.min):n>i&&(r=Ci(e.min,e.max-i,t.min)),Vr(0,1,r)}function c4(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Nu=.35;function u4(e=Nu){return e===!1?e=0:e===!0&&(e=Nu),{x:bf(e,"left","right"),y:bf(e,"top","bottom")}}function bf(e,t,r){return{min:jf(e,t),max:jf(e,r)}}function jf(e,t){return typeof e=="number"?e:e[t]||0}const Nf=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gn=()=>({x:Nf(),y:Nf()}),Sf=()=>({min:0,max:0}),Ee=()=>({x:Sf(),y:Sf()});function vt(e){return[e("x"),e("y")]}function Fy({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function d4({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function h4(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Jl(e){return e===void 0||e===1}function Su({scale:e,scaleX:t,scaleY:r}){return!Jl(e)||!Jl(t)||!Jl(r)}function Xr(e){return Su(e)||zy(e)||e.z||e.rotate||e.rotateX||e.rotateY}function zy(e){return kf(e.x)||kf(e.y)}function kf(e){return e&&e!=="0%"}function yo(e,t,r){const n=e-r,i=t*n;return r+i}function Cf(e,t,r,n,i){return i!==void 0&&(e=yo(e,i,n)),yo(e,r,n)+t}function ku(e,t=0,r=1,n,i){e.min=Cf(e.min,t,r,n,i),e.max=Cf(e.max,t,r,n,i)}function By(e,{x:t,y:r}){ku(e.x,t.translate,t.scale,t.originPoint),ku(e.y,r.translate,r.scale,r.originPoint)}function p4(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=r[l],o=a.projectionDelta;const c=a.instance;c&&c.style&&c.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Kn(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,By(e,o)),n&&Xr(a.latestValues)&&Kn(e,a.latestValues))}t.x=Ef(t.x),t.y=Ef(t.y)}function Ef(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function br(e,t){e.min=e.min+t,e.max=e.max+t}function Pf(e,t,[r,n,i]){const a=t[i]!==void 0?t[i]:.5,o=xe(e.min,e.max,a);ku(e,t[r],t[n],o,t.scale)}const f4=["x","scaleX","originX"],m4=["y","scaleY","originY"];function Kn(e,t){Pf(e.x,t,f4),Pf(e.y,t,m4)}function Iy(e,t){return Fy(h4(e.getBoundingClientRect(),t))}function g4(e,t,r){const n=Iy(e,r),{scroll:i}=t;return i&&(br(n.x,i.offset.x),br(n.y,i.offset.y)),n}const Vy=({current:e})=>e?e.ownerDocument.defaultView:null,x4=new WeakMap;class y4{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ee(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(nl(d,"page").point)},a=(d,h)=>{const{drag:p,dragPropagation:f,onDragStart:x}=this.getProps();if(p&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ey(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vt(j=>{let w=this.getAxisMotionValue(j).get()||0;if(qt.test(w)){const{projection:g}=this.visualElement;if(g&&g.layout){const m=g.layout.layoutBox[j];m&&(w=mt(m)*(parseFloat(w)/100))}}this.originPoint[j]=w}),x&&he.update(()=>x(d,h),!1,!0);const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:f,onDirectionLock:x,onDrag:b}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:j}=h;if(f&&this.currentDirection===null){this.currentDirection=v4(j),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,j),this.updateAxis("y",h.point,j),this.visualElement.render(),b&&b(d,h)},l=(d,h)=>this.stop(d,h),c=()=>vt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new _y(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Vy(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&he.update(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!da(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=i4(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;r&&qn(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=a4(i.layoutBox,r):this.constraints=!1,this.elastic=u4(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&vt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=c4(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!qn(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=g4(n,i.root,this.visualElement.getTransformPagePoint());let o=o4(i.layout.layoutBox,a);if(r){const l=r(d4(o));this.hasMutatedConstraints=!!l,l&&(o=Fy(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=vt(d=>{if(!da(d,r,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const p=i?200:1e6,f=i?40:1e7,x={type:"inertia",velocity:n?t[d]:0,bounceStiffness:p,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(rh(t,n,0,r))}stopAnimation(){vt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){vt(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){vt(r=>{const{drag:n}=this.getProps();if(!da(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];a.set(t[r]-xe(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!qn(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};vt(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();i[o]=l4({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),vt(o=>{if(!da(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(xe(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;x4.set(this.visualElement,this);const t=this.visualElement.current,r=ir(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();qn(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const o=nr(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(vt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=Nu,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function da(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function v4(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class w4 extends Yr{constructor(t){super(t),this.removeGroupControls=Ne,this.removeListeners=Ne,this.controls=new y4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ne}unmount(){this.removeGroupControls(),this.removeListeners()}}const Tf=e=>(t,r)=>{e&&he.update(()=>e(t,r))};class b4 extends Yr{constructor(){super(...arguments),this.removePointerDownListener=Ne}onPointerDown(t){this.session=new _y(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Vy(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Tf(t),onStart:Tf(r),onMove:n,onEnd:(a,o)=>{delete this.session,i&&he.update(()=>i(a,o))}}}mount(){this.removePointerDownListener=ir(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function j4(){const e=y.useContext(Jo);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,i=y.useId();return y.useEffect(()=>n(i),[]),!t&&r?[!1,()=>r&&r(i)]:[!0]}const Oa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Df(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ls={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Q.test(e))e=parseFloat(e);else return e;const r=Df(e,t.target.x),n=Df(e,t.target.y);return`${r}% ${n}%`}},N4={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=$r.parse(e);if(i.length>5)return n;const a=$r.createTransformer(e),o=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const u=xe(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};class S4 extends Nn.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;AS(k4),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Oa.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,i||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||he.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function $y(e){const[t,r]=j4(),n=y.useContext($d);return Nn.createElement(S4,{...e,layoutGroup:n,switchLayoutGroup:y.useContext(F0),isPresent:t,safeToRemove:r})}const k4={borderRadius:{...Ls,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ls,borderTopRightRadius:Ls,borderBottomLeftRadius:Ls,borderBottomRightRadius:Ls,boxShadow:N4},Uy=["TopLeft","TopRight","BottomLeft","BottomRight"],C4=Uy.length,Af=e=>typeof e=="string"?parseFloat(e):e,Mf=e=>typeof e=="number"||Q.test(e);function E4(e,t,r,n,i,a){i?(e.opacity=xe(0,r.opacity!==void 0?r.opacity:1,P4(n)),e.opacityExit=xe(t.opacity!==void 0?t.opacity:1,0,T4(n))):a&&(e.opacity=xe(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<C4;o++){const l=`border${Uy[o]}Radius`;let c=Rf(t,l),u=Rf(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Mf(c)===Mf(u)?(e[l]=Math.max(xe(Af(c),Af(u),n),0),(qt.test(u)||qt.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=xe(t.rotate||0,r.rotate||0,n))}function Rf(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const P4=Wy(0,.5,hy),T4=Wy(.5,.95,Ne);function Wy(e,t,r){return n=>n<e?0:n>t?1:r(Ci(e,t,n))}function Of(e,t){e.min=t.min,e.max=t.max}function yt(e,t){Of(e.x,t.x),Of(e.y,t.y)}function _f(e,t,r,n,i){return e-=t,e=yo(e,1/r,n),i!==void 0&&(e=yo(e,1/i,n)),e}function D4(e,t=0,r=1,n=.5,i,a=e,o=e){if(qt.test(t)&&(t=parseFloat(t),t=xe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=xe(a.min,a.max,n);e===a&&(l-=t),e.min=_f(e.min,t,r,l,i),e.max=_f(e.max,t,r,l,i)}function Lf(e,t,[r,n,i],a,o){D4(e,t[r],t[n],t[i],t.scale,a,o)}const A4=["x","scaleX","originX"],M4=["y","scaleY","originY"];function Ff(e,t,r,n){Lf(e.x,t,A4,r?r.x:void 0,n?n.x:void 0),Lf(e.y,t,M4,r?r.y:void 0,n?n.y:void 0)}function zf(e){return e.translate===0&&e.scale===1}function Hy(e){return zf(e.x)&&zf(e.y)}function R4(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function qy(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Bf(e){return mt(e.x)/mt(e.y)}class O4{constructor(){this.members=[]}add(t){nh(this.members,t),t.scheduleRender()}remove(t){if(sh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function If(e,t,r){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(n=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:u,rotateY:d}=r;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const _4=(e,t)=>e.depth-t.depth;class L4{constructor(){this.children=[],this.isDirty=!1}add(t){nh(this.children,t),this.isDirty=!0}remove(t){sh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(_4),this.isDirty=!1,this.children.forEach(t)}}function F4(e,t){const r=performance.now(),n=({timestamp:i})=>{const a=i-r;a>=t&&(hr(n),e(a-t))};return he.read(n,!0),()=>hr(n)}function z4(e){window.MotionDebug&&window.MotionDebug.record(e)}function B4(e){return e instanceof SVGElement&&e.tagName!=="svg"}function I4(e,t,r){const n=lt(e)?e:fs(e);return n.start(rh("",n,t,r)),n.animation}const Vf=["","X","Y","Z"],V4={visibility:"hidden"},$f=1e3;let $4=0;const Jr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Yy({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=$4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Jr.totalNodes=Jr.resolvedTargetDeltas=Jr.recalculatedProjection=0,this.nodes.forEach(H4),this.nodes.forEach(Q4),this.nodes.forEach(X4),this.nodes.forEach(q4),z4(Jr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new L4)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ih),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=B4(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const p=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=F4(p,250),Oa.hasAnimatedSinceResize&&(Oa.hasAnimatedSinceResize=!1,this.nodes.forEach(Wf))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:f,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||rE,{onLayoutAnimationStart:j,onLayoutAnimationComplete:w}=d.getProps(),g=!this.targetLayout||!qy(this.targetLayout,x)||f,m=!p&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||m||p&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,m);const v={...th(b,"layout"),onPlay:j,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v)}else p||Wf(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,hr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(J4),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Uf);return}this.isUpdating||this.nodes.forEach(G4),this.isUpdating=!1,this.nodes.forEach(K4),this.nodes.forEach(U4),this.nodes.forEach(W4),this.clearAllSnapshots();const l=performance.now();Ve.delta=Vr(0,1e3/60,l-Ve.timestamp),Ve.timestamp=l,Ve.isProcessing=!0,$l.update.process(Ve),$l.preRender.process(Ve),$l.render.process(Ve),Ve.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Y4),this.sharedNodes.forEach(Z4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,he.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){he.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ee(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Hy(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||Xr(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),nE(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ee();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(br(l.x,c.offset.x),br(l.y,c.offset.y)),l}removeElementScroll(o){const l=Ee();yt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){yt(l,o);const{scroll:p}=this.root;p&&(br(l.x,-p.offset.x),br(l.y,-p.offset.y))}br(l.x,d.offset.x),br(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=Ee();yt(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Kn(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Xr(d.latestValues)&&Kn(c,d.latestValues)}return Xr(this.latestValues)&&Kn(c,this.latestValues),c}removeTransform(o){const l=Ee();yt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Xr(u.latestValues))continue;Su(u.latestValues)&&u.updateSnapshot();const d=Ee(),h=u.measurePageBox();yt(d,h),Ff(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Xr(this.latestValues)&&Ff(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ve.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Ve.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),ni(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ee(),this.targetWithTransforms=Ee()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yt(this.target,this.layout.layoutBox),By(this.target,this.targetDelta)):yt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),ni(this.relativeTargetOrigin,this.target,f.target),yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Jr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Su(this.parent.latestValues)||zy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ve.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;yt(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,f=this.treeScale.y;p4(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:x}=l;if(!x){this.projectionTransform&&(this.projectionDelta=Gn(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Gn(),this.projectionDeltaWithTransform=Gn());const b=this.projectionTransform;ri(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=If(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==p||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Jr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Gn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Ee(),f=c?c.source:void 0,x=this.layout?this.layout.source:void 0,b=f!==x,j=this.getStack(),w=!j||j.members.length<=1,g=!!(b&&!w&&this.options.crossfade===!0&&!this.path.some(tE));this.animationProgress=0;let m;this.mixTargetDelta=v=>{const S=v/1e3;Hf(h.x,o.x,S),Hf(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ni(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eE(this.relativeTarget,this.relativeTargetOrigin,p,S),m&&R4(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=Ee()),yt(m,this.relativeTarget)),b&&(this.animationValues=d,E4(d,u,this.latestValues,S,g,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(hr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=he.update(()=>{Oa.hasAnimatedSinceResize=!0,this.currentAnimation=I4(0,$f,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($f),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Gy(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ee();const h=mt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const p=mt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}yt(l,c),Kn(l,d),ri(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new O4),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<Vf.length;d++){const h="rotate"+Vf[d];c[h]&&(u[h]=c[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return V4;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ra(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Ra(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Xr(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=If(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:f,y:x}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in uo){if(p[b]===void 0)continue;const{correct:j,applyTo:w}=uo[b],g=u.transform==="none"?p[b]:j(p[b],h);if(w){const m=w.length;for(let v=0;v<m;v++)u[w[v]]=g}else u[b]=g}return this.options.layoutId&&(u.pointerEvents=h===this?Ra(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Uf),this.root.sharedNodes.clear()}}}function U4(e){e.updateLayout()}function W4(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,o=r.source!==e.layout.source;a==="size"?vt(h=>{const p=o?r.measuredBox[h]:r.layoutBox[h],f=mt(p);p.min=n[h].min,p.max=p.min+f}):Gy(a,r.layoutBox,n)&&vt(h=>{const p=o?r.measuredBox[h]:r.layoutBox[h],f=mt(n[h]);p.max=p.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const l=Gn();ri(l,n,r.layoutBox);const c=Gn();o?ri(c,e.applyTransform(i,!0),r.measuredBox):ri(c,n,r.layoutBox);const u=!Hy(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:f}=h;if(p&&f){const x=Ee();ni(x,r.layoutBox,p.layoutBox);const b=Ee();ni(b,n,f.layoutBox),qy(x,b)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function H4(e){Jr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function q4(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Y4(e){e.clearSnapshot()}function Uf(e){e.clearMeasurements()}function G4(e){e.isLayoutDirty=!1}function K4(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Wf(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Q4(e){e.resolveTargetDelta()}function X4(e){e.calcProjection()}function J4(e){e.resetRotation()}function Z4(e){e.removeLeadSnapshot()}function Hf(e,t,r){e.translate=xe(t.translate,0,r),e.scale=xe(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function qf(e,t,r,n){e.min=xe(t.min,r.min,n),e.max=xe(t.max,r.max,n)}function eE(e,t,r,n){qf(e.x,t.x,r.x,n),qf(e.y,t.y,r.y,n)}function tE(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const rE={duration:.45,ease:[.4,0,.1,1]},Yf=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Gf=Yf("applewebkit/")&&!Yf("chrome/")?Math.round:Ne;function Kf(e){e.min=Gf(e.min),e.max=Gf(e.max)}function nE(e){Kf(e.x),Kf(e.y)}function Gy(e,t,r){return e==="position"||e==="preserve-aspect"&&!ju(Bf(t),Bf(r),.2)}const sE=Yy({attachResizeListener:(e,t)=>nr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zl={current:void 0},Ky=Yy({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Zl.current){const e=new sE({});e.mount(window),e.setOptions({layoutScroll:!0}),Zl.current=e}return Zl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),iE={pan:{Feature:b4},drag:{Feature:w4,ProjectionNode:Ky,MeasureLayout:$y}},aE=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function oE(e){const t=aE.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function Cu(e,t,r=1){const[n,i]=oE(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return Ay(o)?parseFloat(o):o}else return mu(i)?Cu(i,t,r+1):i}function lE(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(i=>{const a=i.get();if(!mu(a))return;const o=Cu(a,n);o&&i.set(o)});for(const i in t){const a=t[i];if(!mu(a))continue;const o=Cu(a,n);o&&(t[i]=o,r||(r={}),r[i]===void 0&&(r[i]=a))}return{target:t,transitionEnd:r}}const cE=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Qy=e=>cE.has(e),uE=e=>Object.keys(e).some(Qy),Qf=e=>e===Pn||e===Q,Xf=(e,t)=>parseFloat(e.split(", ")[t]),Jf=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return Xf(i[1],t);{const a=n.match(/^matrix\((.+)\)$/);return a?Xf(a[1],e):0}},dE=new Set(["x","y","z"]),hE=zi.filter(e=>!dE.has(e));function pE(e){const t=[];return hE.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const ms={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Jf(4,13),y:Jf(5,14)};ms.translateX=ms.x;ms.translateY=ms.y;const fE=(e,t,r)=>{const n=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:o}=a,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(u=>{l[u]=ms[u](n,a)}),t.render();const c=t.measureViewportBox();return r.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=ms[u](c,a)}),e},mE=(e,t,r={},n={})=>{t={...t},n={...n};const i=Object.keys(t).filter(Qy);let a=[],o=!1;const l=[];if(i.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=r[c],h=_s(d);const p=t[c];let f;if(po(p)){const x=p.length,b=p[0]===null?1:0;d=p[b],h=_s(d);for(let j=b;j<x&&p[j]!==null;j++)f?Qd(_s(p[j])===f):f=_s(p[j])}else f=_s(p);if(h!==f)if(Qf(h)&&Qf(f)){const x=u.get();typeof x=="string"&&u.set(parseFloat(x)),typeof p=="string"?t[c]=parseFloat(p):Array.isArray(p)&&f===Q&&(t[c]=p.map(parseFloat))}else h!=null&&h.transform&&(f!=null&&f.transform)&&(d===0||p===0)?d===0?u.set(f.transform(d)):t[c]=h.transform(p):(o||(a=pE(e),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],u.jump(p))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=fE(t,e,l);return a.length&&a.forEach(([d,h])=>{e.getValue(d).set(h)}),e.render(),Zo&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function gE(e,t,r,n){return uE(t)?mE(e,t,r,n):{target:t,transitionEnd:n}}const xE=(e,t,r,n)=>{const i=lE(e,t,n);return t=i.target,n=i.transitionEnd,gE(e,t,r,n)},Eu={current:null},Xy={current:!1};function yE(){if(Xy.current=!0,!!Zo)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Eu.current=e.matches;e.addListener(t),t()}else Eu.current=!1}function vE(e,t,r){const{willChange:n}=t;for(const i in t){const a=t[i],o=r[i];if(lt(a))e.addValue(i,a),xo(n)&&n.add(i);else if(lt(o))e.addValue(i,fs(a,{owner:e})),xo(n)&&n.remove(i);else if(o!==a)if(e.hasValue(i)){const l=e.getValue(i);!l.hasAnimated&&l.set(a)}else{const l=e.getStaticValue(i);e.addValue(i,fs(l!==void 0?l:a,{owner:e}))}}for(const i in r)t[i]===void 0&&e.removeValue(i);return t}const Zf=new WeakMap,Jy=Object.keys(ki),wE=Jy.length,em=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],bE=Vd.length;class jE{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>he.render(this.render,!1,!0);const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=tl(r),this.isVariantNode=L0(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const h in d){const p=d[h];l[h]!==void 0&&lt(p)&&(p.set(l[h],!1),xo(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,Zf.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Xy.current||yE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Eu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Zf.delete(this.current),this.projection&&this.projection.unmount(),hr(this.notifyUpdate),hr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=En.has(t),i=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&he.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,i,a){let o,l;for(let c=0;c<wE;c++){const u=Jy[c],{isEnabled:d,Feature:h,ProjectionNode:p,MeasureLayout:f}=ki[u];p&&(o=p),d(r)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),f&&(l=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:h,layoutScroll:p,layoutRoot:f}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||h&&qn(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:p,layoutRoot:f})}return l}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ee()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<em.length;n++){const i=em[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=vE(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<bE;n++){const i=Vd[n],a=this.props[i];(Si(a)||a===!1)&&(r[i]=a)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=fs(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(r=Kd(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!lt(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new ih),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class Zy extends jE{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:i},a){let o=BC(n,t||{},this);if(i&&(r&&(r=i(r)),n&&(n=i(n)),o&&(o=i(o))),a){FC(this,n,o);const l=xE(this,n,o,r);r=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:r,...n}}}function NE(e){return window.getComputedStyle(e)}class SE extends Zy{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(En.has(r)){const n=eh(r);return n&&n.default||0}else{const n=NE(t),i=(I0(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Iy(t,r)}build(t,r,n,i){Wd(t,r,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,r){return Gd(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;lt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,i){q0(t,r,n,i)}}class kE extends Zy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(En.has(r)){const n=eh(r);return n&&n.default||0}return r=Y0.has(r)?r:Bd(r),t.getAttribute(r)}measureInstanceViewportBox(){return Ee()}scrapeMotionValuesFromProps(t,r){return K0(t,r)}build(t,r,n,i){qd(t,r,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,r,n,i){G0(t,r,n,i)}mount(t){this.isSVGTag=Yd(t.tagName),super.mount(t)}}const CE=(e,t)=>Ud(e)?new kE(t,{enableHardwareAcceleration:!1}):new SE(t,{enableHardwareAcceleration:!0}),EE={layout:{ProjectionNode:Ky,MeasureLayout:$y}},PE={...e4,...wk,...iE,...EE},X=TS((e,t)=>ok(e,t,PE,CE));function ev(){const e=y.useRef(!1);return zd(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function TE(){const e=ev(),[t,r]=y.useState(0),n=y.useCallback(()=>{e.current&&r(t+1)},[t]);return[y.useCallback(()=>he.postRender(n),[n]),t]}class DE extends y.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function AE({children:e,isPresent:t}){const r=y.useId(),n=y.useRef(null),i=y.useRef({width:0,height:0,top:0,left:0});return y.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=i.current;if(t||!n.current||!a||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),y.createElement(DE,{isPresent:t,childRef:n,sizeRef:i},y.cloneElement(e,{ref:n}))}const ec=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o})=>{const l=Q0(ME),c=y.useId(),u=y.useMemo(()=>({id:c,initial:t,isPresent:r,custom:i,onExitComplete:d=>{l.set(d,!0);for(const h of l.values())if(!h)return;n&&n()},register:d=>(l.set(d,!1),()=>l.delete(d))}),a?void 0:[r]);return y.useMemo(()=>{l.forEach((d,h)=>l.set(h,!1))},[r]),y.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=y.createElement(AE,{isPresent:r},e)),y.createElement(Jo.Provider,{value:u},e)};function ME(){return new Map}function RE(e){return y.useEffect(()=>()=>e(),[])}const Zr=e=>e.key||"";function OE(e,t){e.forEach(r=>{const n=Zr(r);t.set(n,r)})}function _E(e){const t=[];return y.Children.forEach(e,r=>{y.isValidElement(r)&&t.push(r)}),t}const ht=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=y.useContext($d).forceRender||TE()[0],c=ev(),u=_E(e);let d=u;const h=y.useRef(new Map).current,p=y.useRef(d),f=y.useRef(new Map).current,x=y.useRef(!0);if(zd(()=>{x.current=!1,OE(u,f),p.current=d}),RE(()=>{x.current=!0,f.clear(),h.clear()}),x.current)return y.createElement(y.Fragment,null,d.map(g=>y.createElement(ec,{key:Zr(g),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:a,mode:o},g)));d=[...d];const b=p.current.map(Zr),j=u.map(Zr),w=b.length;for(let g=0;g<w;g++){const m=b[g];j.indexOf(m)===-1&&!h.has(m)&&h.set(m,void 0)}return o==="wait"&&h.size&&(d=[]),h.forEach((g,m)=>{if(j.indexOf(m)!==-1)return;const v=f.get(m);if(!v)return;const S=b.indexOf(m);let k=g;if(!k){const E=()=>{h.delete(m);const C=Array.from(f.keys()).filter(A=>!j.includes(A));if(C.forEach(A=>f.delete(A)),p.current=u.filter(A=>{const P=Zr(A);return P===m||C.includes(P)}),!h.size){if(c.current===!1)return;l(),n&&n()}};k=y.createElement(ec,{key:Zr(v),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:a,mode:o},v),h.set(m,k)}d.splice(S,0,k)}),d=d.map(g=>{const m=g.key;return h.has(m)?g:y.createElement(ec,{key:Zr(g),isPresent:!0,presenceAffectsLayout:a,mode:o},g)}),y.createElement(y.Fragment,null,h.size?d:d.map(g=>y.cloneElement(g)))},LE=({onClose:e})=>{const{createBox:t,isLoading:r}=Fi(),[n,i]=y.useState({prizeName:"",prizeDescription:"",completionType:"PHOTO",expiresAt:""}),[a,o]=y.useState({}),[l,c]=y.useState(1),u=[{type:"PHOTO",icon:dr,title:"Photo Challenge",description:"Recipient must take a specific photo to claim the prize"},{type:"TEXT",icon:Cd,title:"Text Response",description:"Recipient must provide a text answer or message"},{type:"LOCATION",icon:Mi,title:"Location Check-in",description:"Recipient must visit a specific location"},{type:"TIMER",icon:Fx,title:"Time Challenge",description:"Recipient must wait for a specific duration"}],d=()=>{const j={};if(n.prizeName.trim()||(j.prizeName="Prize name is required"),!n.expiresAt)j.expiresAt="Expiration time is required";else{const w=new Date(n.expiresAt),g=new Date;g.setHours(g.getHours()+1),w<=g&&(j.expiresAt="Expiration time must be at least 1 hour from now")}return o(j),Object.keys(j).length===0},h=async j=>{if(j.preventDefault(),!!d())try{const w={prizeName:n.prizeName,prizeDescription:n.prizeDescription,completionType:n.completionType,expiresAt:n.expiresAt};await t(w),e()}catch{}},p=(j,w)=>{i(g=>({...g,[j]:w})),a[j]&&o(g=>({...g,[j]:""}))},f=()=>{if(l===1&&!n.prizeName.trim()){o({prizeName:"Prize name is required to continue"});return}c(l+1)},x=()=>{c(l-1)},b=()=>{const j=new Date;return j.setHours(j.getHours()+1),j.toISOString().slice(0,16)};return s.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:j=>j.target===j.currentTarget&&e(),children:s.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg",children:s.jsx(be,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Create Surprise Box"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Step ",l," of 3"]})]})]}),s.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Qe,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"px-6 py-4",children:s.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3].map(j=>s.jsxs(Nn.Fragment,{children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${j<=l?"bg-purple-600 text-white":"bg-gray-200 text-gray-600"}`,children:j}),j<3&&s.jsx("div",{className:`flex-1 h-1 rounded transition-colors ${j<l?"bg-purple-600":"bg-gray-200"}`})]},j))})}),s.jsxs("form",{onSubmit:h,children:[s.jsx("div",{className:"p-6",children:s.jsxs(ht,{mode:"wait",children:[l===1&&s.jsx(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Prize Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prize Name *"}),s.jsx("input",{type:"text",value:n.prizeName,onChange:j=>p("prizeName",j.target.value),placeholder:"e.g., Dinner at your favorite restaurant",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors ${a.prizeName?"border-red-300":"border-gray-300"}`}),a.prizeName&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[s.jsx(us,{className:"w-4 h-4"}),s.jsx("span",{children:a.prizeName})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prize Description"}),s.jsx("textarea",{value:n.prizeDescription,onChange:j=>p("prizeDescription",j.target.value),placeholder:"Add more details about this surprise...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors resize-none"})]})]})]})},"step1"),l===2&&s.jsx(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"How should they claim it?"}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:u.map(j=>{const w=j.icon,g=n.completionType===j.type;return s.jsx(X.button,{type:"button",onClick:()=>p("completionType",j.type),whileHover:{scale:1.02},whileTap:{scale:.98},className:`p-4 border-2 rounded-xl text-left transition-all ${g?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300 hover:bg-purple-25"}`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${g?"bg-purple-500 text-white":"bg-gray-100 text-gray-600"}`,children:s.jsx(w,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-800",children:j.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:j.description})]})]})},j.type)})})]})},"step2"),l===3&&s.jsx(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"When should it drop?"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Drop Time: Random (5 minutes - 2 hours after creation)"})]}),s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"The surprise box will be dropped at a random time to make it more exciting!"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Io,{className:"w-4 h-4 inline mr-1"}),"Expiration Time *"]}),s.jsx("input",{type:"datetime-local",value:n.expiresAt,onChange:j=>p("expiresAt",j.target.value),min:b(),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors ${a.expiresAt?"border-red-300":"border-gray-300"}`}),a.expiresAt&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[s.jsx(us,{className:"w-4 h-4"}),s.jsx("span",{children:a.expiresAt})]}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The box will expire if not claimed by this time"})]})]})]})},"step3")]})}),s.jsxs("div",{className:"flex items-center justify-between p-6 border-t bg-gray-50",children:[s.jsx("button",{type:"button",onClick:l===1?e:x,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:l===1?"Cancel":"Back"}),s.jsx("div",{className:"flex items-center space-x-3",children:l<3?s.jsx("button",{type:"button",onClick:f,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-200",children:"Next"}):s.jsxs("button",{type:"submit",disabled:r,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[r&&s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:r?"Creating...":"Create Box"})]})})]})]})]})})},tm=({targetDate:e,className:t="",onExpire:r,showSeconds:n=!0,compact:i=!1})=>{const[a,o]=y.useState({days:0,hours:0,minutes:0,seconds:0,total:0}),[l,c]=y.useState(!1),u=()=>{const f=new Date(e).getTime()-new Date().getTime();return f>0?{days:Math.floor(f/(1e3*60*60*24)),hours:Math.floor(f/(1e3*60*60)%24),minutes:Math.floor(f/1e3/60%60),seconds:Math.floor(f/1e3%60),total:f}:{days:0,hours:0,minutes:0,seconds:0,total:0}};y.useEffect(()=>{const f=setInterval(()=>{const b=u();o(b),b.total<=0&&!l&&(c(!0),r&&r())},1e3),x=u();return o(x),x.total<=0&&(c(!0),r&&r()),()=>clearInterval(f)},[e,r,l]);const d=f=>f.toString().padStart(2,"0"),h=()=>l?"text-red-600":a.total<60*60*1e3?"text-red-500":a.total<24*60*60*1e3?"text-amber-500":"text-gray-600";if(l)return s.jsx("span",{className:`${t} text-red-600 font-medium`,children:"Expired"});if(i)return a.days>0?s.jsxs("span",{className:`${t} ${h()}`,children:[a.days,"d ",d(a.hours),"h"]}):a.hours>0?s.jsxs("span",{className:`${t} ${h()}`,children:[a.hours,"h ",d(a.minutes),"m"]}):s.jsxs("span",{className:`${t} ${h()}`,children:[a.minutes,"m ",n?`${d(a.seconds)}s`:""]});const p=[];return a.days>0&&p.push({label:"day",value:a.days,plural:"days"}),(a.hours>0||a.days>0)&&p.push({label:"hour",value:a.hours,plural:"hours"}),p.push({label:"minute",value:a.minutes,plural:"minutes"}),n&&a.days===0&&p.push({label:"second",value:a.seconds,plural:"seconds"}),s.jsx("div",{className:`${t} flex items-center space-x-1`,children:p.map((f,x)=>s.jsxs(Nn.Fragment,{children:[s.jsxs(X.div,{initial:{scale:1.2,opacity:0},animate:{scale:1,opacity:1},className:"flex items-center space-x-1",children:[s.jsx(X.span,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.2},className:`font-mono font-bold ${h()}`,children:d(f.value)},f.value),s.jsx("span",{className:`text-xs ${h()}`,children:f.value===1?f.label:f.plural})]},`${f.label}-${f.value}`),x<p.length-1&&s.jsx("span",{className:`text-xs ${h()}`,children:":"})]},f.label))})},tc=({box:e,isOwner:t=!1})=>{const{openBox:r,approveCompletion:n,rejectCompletion:i,cancelBox:a,isLoading:o}=Fi(),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[h,p]=y.useState(""),[f,x]=y.useState(""),[b,j]=y.useState(!1),w=L=>{switch(L){case"PHOTO":return dr;case"TEXT":return Cd;case"LOCATION":return Mi;case"TIMER":return Fx;default:return be}},g=L=>{switch(L){case"CREATED":return"bg-blue-100 text-blue-800";case"DROPPED":return"bg-green-100 text-green-800";case"WAITING_APPROVAL":return"bg-amber-100 text-amber-800";case"CLAIMED":return"bg-purple-100 text-purple-800";case"EXPIRED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},m=L=>{switch(L){case"CREATED":return"Scheduled";case"DROPPED":return"Available";case"WAITING_APPROVAL":return"Pending Approval";case"CLAIMED":return"Claimed";case"EXPIRED":return"Expired";default:return L}},v=!t&&e.status==="DROPPED"&&!e.isExpired,S=t&&e.status==="WAITING_APPROVAL",k=t&&["CREATED","DROPPED"].includes(e.status),E=async()=>{if(h.trim())try{await r(e.id,h),c(!1),p("")}catch{}},C=async()=>{try{await n(e.id)}catch{}},A=async()=>{if(f.trim())try{await i(e.id,f),d(!1),x("")}catch{}},P=async()=>{if(window.confirm("Are you sure you want to cancel this surprise box?"))try{await a(e.id)}catch{}},N=w(e.completionType),D=e.isExpired||new Date(e.expiresAt)<new Date,M=e.status==="DROPPED",_=new Date(e.dropAt).getTime()-new Date().getTime();return new Date(e.expiresAt).getTime()-new Date().getTime(),s.jsxs(s.Fragment,{children:[s.jsxs(X.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},whileHover:{y:-2},className:`bg-white rounded-xl shadow-lg border-2 transition-all duration-200 overflow-hidden ${D?"border-red-200":v?"border-green-200 hover:border-green-300":S?"border-amber-200 hover:border-amber-300":"border-gray-200 hover:border-purple-300"}`,children:[s.jsx("div",{className:`p-4 ${D?"bg-red-50":v?"bg-green-50":S?"bg-amber-50":"bg-purple-50"}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${D?"bg-red-200 text-red-700":v?"bg-green-200 text-green-700":S?"bg-amber-200 text-amber-700":"bg-purple-200 text-purple-700"}`,children:s.jsx(be,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-800 line-clamp-1",children:e.prizeName}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(e.status)}`,children:m(e.status)}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[s.jsx(N,{className:"w-3 h-3 mr-1"}),e.completionType.toLowerCase()]})]})]})]}),s.jsx("button",{onClick:()=>j(!b),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Mx,{className:"w-4 h-4"})})]})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"space-y-2 mb-4",children:[e.status==="CREATED"&&_>0&&s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Io,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:"Drops in: "}),s.jsx(tm,{targetDate:e.dropAt,className:"ml-1 font-medium"})]}),M&&!D&&s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(us,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:"Expires in: "}),s.jsx(tm,{targetDate:e.expiresAt,className:"ml-1 font-medium text-red-600",onExpire:()=>window.location.reload()})]}),D&&s.jsxs("div",{className:"flex items-center text-sm text-red-600",children:[s.jsx(Qe,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:["Expired on ",new Date(e.expiresAt).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ed,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:t?`For: ${e.recipient.name}`:`From: ${e.owner.name}`})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ge,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:new Date(e.dropAt).toLocaleDateString()})]})]}),e.status==="WAITING_APPROVAL"&&e.completionData&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completion submission:"}),s.jsx("p",{className:"text-sm text-gray-800",children:e.completionData})]}),e.rejectionReason&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:[s.jsx("p",{className:"text-sm text-red-600 mb-1",children:"Rejection reason:"}),s.jsx("p",{className:"text-sm text-red-800",children:e.rejectionReason})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[v&&s.jsx("button",{onClick:()=>c(!0),className:"flex-1 px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all duration-200 font-medium",children:"Open Box"}),S&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:C,disabled:o,className:"flex-1 px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all duration-200 font-medium disabled:opacity-50 flex items-center justify-center space-x-1",children:[s.jsx(xn,{className:"w-4 h-4"}),s.jsx("span",{children:"Approve"})]}),s.jsx("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:s.jsx(Qe,{className:"w-4 h-4"})})]}),k&&s.jsx("button",{onClick:P,disabled:o,className:"px-3 py-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",children:s.jsx(Et,{className:"w-4 h-4"})})]})]}),s.jsx(ht,{children:b&&s.jsx(X.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t bg-gray-50 overflow-hidden",children:s.jsxs("div",{className:"p-4 space-y-2 text-sm",children:[e.prizeDescription&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Description:"}),s.jsx("p",{className:"text-gray-600 mt-1",children:e.prizeDescription})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-gray-500",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Created:"}),s.jsx("p",{children:new Date(e.dropAt).toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Expires:"}),s.jsx("p",{children:new Date(e.expiresAt).toLocaleString()})]}),e.droppedAt&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Dropped:"}),s.jsx("p",{children:new Date(e.droppedAt).toLocaleString()})]}),e.openedAt&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Opened:"}),s.jsx("p",{children:new Date(e.openedAt).toLocaleString()})]})]})]})})})]}),s.jsx(ht,{children:l&&s.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:L=>L.target===L.currentTarget&&c(!1),children:s.jsx(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(N,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Open Surprise Box"}),s.jsx("p",{className:"text-sm text-gray-600",children:e.prizeName})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.completionType==="PHOTO"&&"Describe the photo you took:",e.completionType==="TEXT"&&"Enter your response:",e.completionType==="LOCATION"&&"Confirm your location:",e.completionType==="TIMER"&&"Confirm completion:"]}),s.jsx("textarea",{value:h,onChange:L=>p(L.target.value),placeholder:e.completionType==="PHOTO"?"Describe what you photographed...":e.completionType==="TEXT"?"Enter your answer...":e.completionType==="LOCATION"?"Confirm you are at the location...":"Confirm you have completed the challenge...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:E,disabled:!h.trim()||o,className:"flex-1 px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Opening...":"Open Box"})]})]})})})}),s.jsx(ht,{children:u&&s.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:L=>L.target===L.currentTarget&&d(!1),children:s.jsx(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:s.jsx(Qe,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Reject Completion"}),s.jsx("p",{className:"text-sm text-gray-600",children:e.prizeName})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for rejection:"}),s.jsx("textarea",{value:f,onChange:L=>x(L.target.value),placeholder:"Explain why this completion doesn't meet the requirements...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:A,disabled:!f.trim()||o,className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Rejecting...":"Reject"})]})]})})})})]})};function vo(e){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(e)}function jn(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Ze(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Gt(e){Ze(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||vo(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function FE(e,t){Ze(2,arguments);var r=Gt(e).getTime(),n=jn(t);return new Date(r+n)}var zE={};function il(){return zE}function BE(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function IE(e){return Ze(1,arguments),e instanceof Date||vo(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function VE(e){if(Ze(1,arguments),!IE(e)&&typeof e!="number")return!1;var t=Gt(e);return!isNaN(Number(t))}function $E(e,t){Ze(2,arguments);var r=jn(t);return FE(e,-r)}var UE=864e5;function WE(e){Ze(1,arguments);var t=Gt(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),i=r-n;return Math.floor(i/UE)+1}function wo(e){Ze(1,arguments);var t=1,r=Gt(e),n=r.getUTCDay(),i=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function tv(e){Ze(1,arguments);var t=Gt(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=wo(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var o=wo(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function HE(e){Ze(1,arguments);var t=tv(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=wo(r);return n}var qE=6048e5;function YE(e){Ze(1,arguments);var t=Gt(e),r=wo(t).getTime()-HE(t).getTime();return Math.round(r/qE)+1}function bo(e,t){var r,n,i,a,o,l,c,u;Ze(1,arguments);var d=il(),h=jn((r=(n=(i=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Gt(e),f=p.getUTCDay(),x=(f<h?7:0)+f-h;return p.setUTCDate(p.getUTCDate()-x),p.setUTCHours(0,0,0,0),p}function rv(e,t){var r,n,i,a,o,l,c,u;Ze(1,arguments);var d=Gt(e),h=d.getUTCFullYear(),p=il(),f=jn((r=(n=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&n!==void 0?n:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setUTCFullYear(h+1,0,f),x.setUTCHours(0,0,0,0);var b=bo(x,t),j=new Date(0);j.setUTCFullYear(h,0,f),j.setUTCHours(0,0,0,0);var w=bo(j,t);return d.getTime()>=b.getTime()?h+1:d.getTime()>=w.getTime()?h:h-1}function GE(e,t){var r,n,i,a,o,l,c,u;Ze(1,arguments);var d=il(),h=jn((r=(n=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),p=rv(e,t),f=new Date(0);f.setUTCFullYear(p,0,h),f.setUTCHours(0,0,0,0);var x=bo(f,t);return x}var KE=6048e5;function QE(e,t){Ze(1,arguments);var r=Gt(e),n=bo(r,t).getTime()-GE(r,t).getTime();return Math.round(n/KE)+1}function le(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var xr={y:function(t,r){var n=t.getUTCFullYear(),i=n>0?n:1-n;return le(r==="yy"?i%100:i,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):le(n+1,2)},d:function(t,r){return le(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return le(t.getUTCHours()%12||12,r.length)},H:function(t,r){return le(t.getUTCHours(),r.length)},m:function(t,r){return le(t.getUTCMinutes(),r.length)},s:function(t,r){return le(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,i=t.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,n-3));return le(a,r.length)}},An={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},XE={G:function(t,r,n){var i=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var i=t.getUTCFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return xr.y(t,r)},Y:function(t,r,n,i){var a=rv(t,i),o=a>0?a:1-a;if(r==="YY"){var l=o%100;return le(l,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):le(o,r.length)},R:function(t,r){var n=tv(t);return le(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return le(n,r.length)},Q:function(t,r,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(i);case"QQ":return le(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,r,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(i);case"qq":return le(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,r,n){var i=t.getUTCMonth();switch(r){case"M":case"MM":return xr.M(t,r);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,r,n){var i=t.getUTCMonth();switch(r){case"L":return String(i+1);case"LL":return le(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,r,n,i){var a=QE(t,i);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):le(a,r.length)},I:function(t,r,n){var i=YE(t);return r==="Io"?n.ordinalNumber(i,{unit:"week"}):le(i,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):xr.d(t,r)},D:function(t,r,n){var i=WE(t);return r==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):le(i,r.length)},E:function(t,r,n){var i=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,r,n,i){var a=t.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return le(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,r,n,i){var a=t.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return le(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,r,n){var i=t.getUTCDay(),a=i===0?7:i;switch(r){case"i":return String(a);case"ii":return le(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,r,n){var i=t.getUTCHours(),a=i/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,r,n){var i=t.getUTCHours(),a;switch(i===12?a=An.noon:i===0?a=An.midnight:a=i/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,r,n){var i=t.getUTCHours(),a;switch(i>=17?a=An.evening:i>=12?a=An.afternoon:i>=4?a=An.morning:a=An.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return xr.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):xr.H(t,r)},K:function(t,r,n){var i=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(i,{unit:"hour"}):le(i,r.length)},k:function(t,r,n){var i=t.getUTCHours();return i===0&&(i=24),r==="ko"?n.ordinalNumber(i,{unit:"hour"}):le(i,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):xr.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):xr.s(t,r)},S:function(t,r){return xr.S(t,r)},X:function(t,r,n,i){var a=i._originalDate||t,o=a.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return nm(o);case"XXXX":case"XX":return en(o);case"XXXXX":case"XXX":default:return en(o,":")}},x:function(t,r,n,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(r){case"x":return nm(o);case"xxxx":case"xx":return en(o);case"xxxxx":case"xxx":default:return en(o,":")}},O:function(t,r,n,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+rm(o,":");case"OOOO":default:return"GMT"+en(o,":")}},z:function(t,r,n,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+rm(o,":");case"zzzz":default:return"GMT"+en(o,":")}},t:function(t,r,n,i){var a=i._originalDate||t,o=Math.floor(a.getTime()/1e3);return le(o,r.length)},T:function(t,r,n,i){var a=i._originalDate||t,o=a.getTime();return le(o,r.length)}};function rm(e,t){var r=e>0?"-":"+",n=Math.abs(e),i=Math.floor(n/60),a=n%60;if(a===0)return r+String(i);var o=t;return r+String(i)+o+le(a,2)}function nm(e,t){if(e%60===0){var r=e>0?"-":"+";return r+le(Math.abs(e)/60,2)}return en(e,t)}function en(e,t){var r=t||"",n=e>0?"-":"+",i=Math.abs(e),a=le(Math.floor(i/60),2),o=le(i%60,2);return n+a+r+o}var sm=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},nv=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},JE=function(t,r){var n=t.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return sm(t,r);var o;switch(i){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",sm(i,r)).replace("{{time}}",nv(a,r))},ZE={p:nv,P:JE},e5=["D","DD"],t5=["YY","YYYY"];function r5(e){return e5.indexOf(e)!==-1}function n5(e){return t5.indexOf(e)!==-1}function im(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var s5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},i5=function(t,r,n){var i,a=s5[t];return typeof a=="string"?i=a:r===1?i=a.one:i=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function rc(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var a5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},o5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},l5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},c5={date:rc({formats:a5,defaultWidth:"full"}),time:rc({formats:o5,defaultWidth:"full"}),dateTime:rc({formats:l5,defaultWidth:"full"})},u5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},d5=function(t,r,n,i){return u5[t]};function Fs(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=e.formattingValues[o]||e.formattingValues[a]}else{var l=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return i[u]}}var h5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},p5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},f5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},m5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},g5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},x5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},y5=function(t,r){var n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},v5={ordinalNumber:y5,era:Fs({values:h5,defaultWidth:"wide"}),quarter:Fs({values:p5,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Fs({values:f5,defaultWidth:"wide"}),day:Fs({values:m5,defaultWidth:"wide"}),dayPeriod:Fs({values:g5,defaultWidth:"wide",formattingValues:x5,defaultFormattingWidth:"wide"})};function zs(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?b5(l,function(h){return h.test(o)}):w5(l,function(h){return h.test(o)}),u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;var d=t.slice(o.length);return{value:u,rest:d}}}function w5(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function b5(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function j5(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var i=n[0],a=t.match(e.parsePattern);if(!a)return null;var o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;var l=t.slice(i.length);return{value:o,rest:l}}}var N5=/^(\d+)(th|st|nd|rd)?/i,S5=/\d+/i,k5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},C5={any:[/^b/i,/^(a|c)/i]},E5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},P5={any:[/1/i,/2/i,/3/i,/4/i]},T5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},D5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},A5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},M5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},R5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},O5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_5={ordinalNumber:j5({matchPattern:N5,parsePattern:S5,valueCallback:function(t){return parseInt(t,10)}}),era:zs({matchPatterns:k5,defaultMatchWidth:"wide",parsePatterns:C5,defaultParseWidth:"any"}),quarter:zs({matchPatterns:E5,defaultMatchWidth:"wide",parsePatterns:P5,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:zs({matchPatterns:T5,defaultMatchWidth:"wide",parsePatterns:D5,defaultParseWidth:"any"}),day:zs({matchPatterns:A5,defaultMatchWidth:"wide",parsePatterns:M5,defaultParseWidth:"any"}),dayPeriod:zs({matchPatterns:R5,defaultMatchWidth:"any",parsePatterns:O5,defaultParseWidth:"any"})},L5={code:"en-US",formatDistance:i5,formatLong:c5,formatRelative:d5,localize:v5,match:_5,options:{weekStartsOn:0,firstWeekContainsDate:1}},F5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,z5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,B5=/^'([^]*?)'?$/,I5=/''/g,V5=/[a-zA-Z]/;function $5(e,t,r){var n,i,a,o,l,c,u,d,h,p,f,x,b,j;Ze(2,arguments);var w=String(t),g=il(),m=(n=(i=void 0)!==null&&i!==void 0?i:g.locale)!==null&&n!==void 0?n:L5,v=jn((a=(o=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:g.firstWeekContainsDate)!==null&&o!==void 0?o:(u=g.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=jn((h=(p=(f=(x=void 0)!==null&&x!==void 0?x:void 0)!==null&&f!==void 0?f:g.weekStartsOn)!==null&&p!==void 0?p:(b=g.locale)===null||b===void 0||(j=b.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&h!==void 0?h:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!m.localize)throw new RangeError("locale must contain localize property");if(!m.formatLong)throw new RangeError("locale must contain formatLong property");var k=Gt(e);if(!VE(k))throw new RangeError("Invalid time value");var E=BE(k),C=$E(k,E),A={firstWeekContainsDate:v,weekStartsOn:S,locale:m,_originalDate:k},P=w.match(z5).map(function(N){var D=N[0];if(D==="p"||D==="P"){var M=ZE[D];return M(N,m.formatLong)}return N}).join("").match(F5).map(function(N){if(N==="''")return"'";var D=N[0];if(D==="'")return U5(N);var M=XE[D];if(M)return n5(N)&&im(N,t,String(e)),r5(N)&&im(N,t,String(e)),M(C,N,m.localize,A);if(D.match(V5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");return N}).join("");return P}function U5(e){var t=e.match(B5);return t?t[1].replace(I5,"'"):e}const W5=({recipientId:e,className:t=""})=>{const{prizeHistory:r,prizeHistoryStats:n,loadPrizeHistory:i,loadPrizeHistoryStats:a,searchPrizeHistory:o}=Fi(),[l,c]=y.useState(""),[u,d]=y.useState("all"),[h,p]=y.useState({start:"",end:""}),[f,x]=y.useState(!1),[b,j]=y.useState(1),[w,g]=y.useState(!1),m=10;y.useEffect(()=>{a(e),v()},[e]);const v=async()=>{g(!0);try{l.trim()?await o(l,e):await i(e,b,m)}finally{g(!1)}},S=()=>{j(1),v()},k=N=>{switch(N.toLowerCase()){case"photo":return s.jsx(dr,{size:16,className:"text-blue-500"});case"location":return s.jsx(Mi,{size:16,className:"text-green-500"});case"timer":return s.jsx(Io,{size:16,className:"text-orange-500"});case"text":return s.jsx(Cd,{size:16,className:"text-purple-500"});default:return s.jsx(be,{size:16,className:"text-gray-500"})}},E=N=>{switch(N.toLowerCase()){case"photo":return"bg-blue-100 text-blue-800";case"location":return"bg-green-100 text-green-800";case"timer":return"bg-orange-100 text-orange-800";case"text":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},C=r.filter(N=>!(u!=="all"&&N.completionType!==u||h.start&&new Date(N.completedAt)<new Date(h.start)||h.end&&new Date(N.completedAt)>new Date(h.end))),A=C.slice((b-1)*m,b*m),P=Math.ceil(C.length/m);return s.jsxs("div",{className:`bg-white rounded-xl shadow-lg p-6 ${t}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg",children:s.jsx(oo,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Prize History"}),s.jsx("p",{className:"text-gray-600",children:"Track your completed surprises"})]})]}),s.jsxs(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(!f),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[s.jsx($1,{size:16}),s.jsx("span",{children:"Filters"}),f?s.jsx(I1,{size:16}):s.jsx(Er,{size:16})]})]}),n&&s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-4 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-100 text-sm",children:"Total Prizes"}),s.jsx("p",{className:"text-2xl font-bold",children:n.totalPrizes})]}),s.jsx(be,{size:24,className:"text-blue-200"})]})}),s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-4 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-green-100 text-sm",children:"This Month"}),s.jsx("p",{className:"text-2xl font-bold",children:n.thisMonth})]}),s.jsx(Ge,{size:24,className:"text-green-200"})]})}),s.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg p-4 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-100 text-sm",children:"Favorite Type"}),s.jsx("p",{className:"text-lg font-bold capitalize",children:n.favoriteType})]}),s.jsx(yn,{size:24,className:"text-purple-200"})]})}),s.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg p-4 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-100 text-sm",children:"Streak"}),s.jsx("p",{className:"text-2xl font-bold",children:n.currentStreak})]}),s.jsx(J1,{size:24,className:"text-orange-200"})]})})]}),s.jsx(ht,{children:f&&s.jsxs(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Prizes"}),s.jsxs("div",{className:"relative",children:[s.jsx(X1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),s.jsx("input",{type:"text",value:l,onChange:N=>c(N.target.value),onKeyPress:N=>N.key==="Enter"&&v(),placeholder:"Search by prize name...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Completion Type"}),s.jsxs("select",{value:u,onChange:N=>d(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"photo",children:"Photo"}),s.jsx("option",{value:"location",children:"Location"}),s.jsx("option",{value:"timer",children:"Timer"}),s.jsx("option",{value:"text",children:"Text"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"date",value:h.start,onChange:N=>p(D=>({...D,start:N.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),s.jsx("input",{type:"date",value:h.end,onChange:N=>p(D=>({...D,end:N.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{className:"flex justify-end mt-4 space-x-2",children:[s.jsx(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{c(""),d("all"),p({start:"",end:""}),S()},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Clear"}),s.jsx(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:S,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Apply Filters"})]})]})}),s.jsx("div",{className:"space-y-4",children:w?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}):A.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(oo,{size:48,className:"mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No prize history found"}),s.jsx("p",{className:"text-sm",children:"Complete some surprise boxes to see your history here!"})]}):s.jsx(ht,{children:A.map((N,D)=>s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:D*.1},className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:k(N.completionType)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:N.prizeName}),s.jsx("p",{className:"text-gray-600 text-sm mb-2",children:N.description}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Ge,{size:14}),s.jsx("span",{children:$5(new Date(N.completedAt),"MMM dd, yyyy")})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E(N.completionType)}`,children:N.completionType})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"From"}),s.jsx("div",{className:"font-medium text-gray-800",children:N.fromUserName})]})]})},N.id))})}),P>1&&s.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[s.jsx(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>j(N=>Math.max(N-1,1)),disabled:b===1,className:"px-3 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),[...Array(P)].map((N,D)=>s.jsx(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>j(D+1),className:`px-3 py-2 rounded-lg ${b===D+1?"bg-purple-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:D+1},D+1)),s.jsx(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>j(N=>Math.min(N+1,P)),disabled:b===P,className:"px-3 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})},H5=({isVisible:e,onComplete:t,boxTitle:r="Surprise Box",fromUser:n="Someone Special",duration:i=3e3})=>{const[a,o]=y.useState(!1),[l,c]=y.useState(!1);y.useEffect(()=>{if(e){const d=setTimeout(()=>{o(!0)},1500),h=setTimeout(()=>{c(!0)},2e3),p=setTimeout(()=>{t&&t()},i);return()=>{clearTimeout(d),clearTimeout(h),clearTimeout(p)}}else o(!1),c(!1)},[e,t,i]);const u=[{top:"20%",left:"15%",delay:0},{top:"30%",left:"80%",delay:.2},{top:"60%",left:"10%",delay:.4},{top:"70%",left:"85%",delay:.6},{top:"40%",left:"50%",delay:.8},{top:"80%",left:"60%",delay:1}];return s.jsx(ht,{children:e&&s.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:[s.jsx(X.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.5},className:"absolute inset-0 bg-gradient-to-br from-pink-500/20 via-purple-500/20 to-blue-500/20"}),s.jsx(ht,{children:a&&u.map((d,h)=>s.jsx(X.div,{initial:{scale:0,opacity:0,rotate:0},animate:{scale:[0,1.5,1,0],opacity:[0,1,1,0],rotate:[0,180,360]},transition:{duration:2,delay:d.delay,repeat:1/0,repeatDelay:1},className:"absolute text-yellow-300",style:{top:d.top,left:d.left},children:s.jsx(Hn,{size:24})},h))}),s.jsxs("div",{className:"relative flex flex-col items-center",children:[s.jsxs(X.div,{initial:{y:-200,rotate:-10,scale:.5},animate:{y:0,rotate:[0,5,-5,0],scale:1},transition:{y:{duration:1,ease:"easeOut"},rotate:{duration:.5,delay:1,repeat:2},scale:{duration:.3,delay:.8}},className:"relative",children:[s.jsx(X.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:.3},transition:{delay:1,duration:.3},className:"absolute -bottom-4 left-1/2 transform -translate-x-1/2 w-24 h-6 bg-black rounded-full blur-sm"}),s.jsxs(X.div,{whileHover:{scale:1.05},className:"relative bg-gradient-to-br from-pink-500 to-purple-600 p-8 rounded-2xl shadow-2xl",children:[s.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[s.jsx("div",{className:"w-full h-4 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full"}),s.jsx("div",{className:"absolute w-4 h-full bg-gradient-to-b from-yellow-400 to-orange-500 rounded-full"})]}),s.jsx(X.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,delay:1.5},className:"relative z-10 text-white",children:s.jsx(be,{size:48})}),s.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2},className:"absolute -top-2 -right-2",children:s.jsx(X.div,{animate:{y:[-5,-15,-5],x:[0,5,0],rotate:[0,10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"text-red-400",children:s.jsx(ke,{size:20,fill:"currentColor"})})})]})]}),s.jsx(ht,{children:l&&s.jsxs(X.div,{initial:{y:20,opacity:0,scale:.8},animate:{y:0,opacity:1,scale:1},exit:{y:-20,opacity:0,scale:.8},transition:{duration:.5},className:"mt-8 text-center bg-white bg-opacity-90 backdrop-blur-sm rounded-2xl p-6 shadow-xl max-w-sm mx-4",children:[s.jsx(X.h3,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-2xl font-bold text-gray-800 mb-2",children:r}),s.jsxs(X.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-gray-600 mb-4",children:["A surprise from ",n," has arrived!"]}),s.jsx(X.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.6,type:"spring",stiffness:200},className:"flex justify-center space-x-1",children:[...Array(3)].map((d,h)=>s.jsx(X.div,{animate:{scale:[1,1.2,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:h*.2},className:"w-2 h-2 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full"},h))})]})})]})]})})},q5=()=>{const{ownedBoxes:e,receivedBoxes:t,activeBox:r,isLoading:n,error:i,showCreateForm:a,showPrizeHistory:o,notifications:l,isConnected:c,setShowCreateForm:u,setShowPrizeHistory:d,loadOwnedBoxes:h,loadReceivedBoxes:p,loadActiveBox:f,connectWebSocket:x,disconnectWebSocket:b,clearNotifications:j,getBoxesWaitingApproval:w,getActiveBoxesCount:g,setError:m}=Fi(),[v,S]=y.useState("received"),[k,E]=y.useState(!1);y.useEffect(()=>{(async()=>{await Promise.all([h(),p(),f()])})();const D=localStorage.getItem("token");return D&&x(D),()=>{b()}},[]);const C=w(),A=g(),P=()=>{m(null)};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-4",children:[s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl",children:s.jsx(be,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Surprise Boxes"}),s.jsxs("p",{className:"text-gray-600",children:[A>0?`${A} active boxes`:"No active boxes",c&&s.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1 animate-pulse"}),"Live"]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>E(!k),className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors relative",children:[s.jsx(z1,{className:"w-5 h-5"}),l.length>0&&s.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:l.length})]}),s.jsx(ht,{children:k&&s.jsxs(X.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 top-12 w-80 bg-white rounded-xl shadow-xl border z-50 max-h-96 overflow-y-auto",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-gray-800",children:"Notifications"}),s.jsx("button",{onClick:j,className:"text-sm text-purple-600 hover:text-purple-700",children:"Clear all"})]})}),l.length===0?s.jsx("div",{className:"p-4 text-center text-gray-500",children:"No new notifications"}):s.jsx("div",{className:"divide-y",children:l.map((N,D)=>s.jsxs("div",{className:"p-4",children:[s.jsx("p",{className:"text-sm text-gray-800",children:N.message}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(N.timestamp).toLocaleString()})]},D))})]})})]}),s.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 px-4 py-2 text-purple-600 hover:text-purple-700 hover:bg-purple-50 rounded-lg transition-colors",children:[s.jsx(U1,{className:"w-4 h-4"}),s.jsx("span",{children:"History"})]}),s.jsxs("button",{onClick:()=>u(!0),className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-200 shadow-lg hover:shadow-xl",children:[s.jsx(We,{className:"w-4 h-4"}),s.jsx("span",{children:"Create Box"})]})]})]}),C.length>0&&s.jsx(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-2 text-amber-800",children:[s.jsx(us,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-sm font-medium",children:[C.length," box",C.length>1?"es":""," waiting for your approval"]})]})})]}),s.jsx(ht,{children:i&&s.jsx(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-red-800",children:[s.jsx(us,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:i})]}),s.jsx("button",{onClick:P,className:"text-red-600 hover:text-red-700",children:s.jsx(Qe,{className:"w-4 h-4"})})]})})}),r&&s.jsx(X.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center space-x-2",children:[s.jsx(be,{className:"w-5 h-5 text-purple-600"}),s.jsx("span",{children:"Active Surprise Box"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx(tc,{box:r}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(H5,{isActive:!0})})]})]})}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsxs("div",{className:"flex border-b",children:[s.jsxs("button",{onClick:()=>S("received"),className:`flex-1 px-6 py-4 text-center font-medium transition-colors ${v==="received"?"bg-purple-50 text-purple-600 border-b-2 border-purple-600":"text-gray-600 hover:text-purple-600 hover:bg-purple-50"}`,children:["Received Boxes (",t.length,")"]}),s.jsxs("button",{onClick:()=>S("owned"),className:`flex-1 px-6 py-4 text-center font-medium transition-colors ${v==="owned"?"bg-purple-50 text-purple-600 border-b-2 border-purple-600":"text-gray-600 hover:text-purple-600 hover:bg-purple-50"}`,children:["Created Boxes (",e.length,")",C.length>0&&s.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs bg-amber-100 text-amber-800",children:[C.length," pending"]})]})]}),s.jsx("div",{className:"p-6",children:n?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}):s.jsx(ht,{mode:"wait",children:s.jsx(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:v==="received"?s.jsx("div",{children:t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(be,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No received boxes"}),s.jsx("p",{className:"text-gray-500",children:"Surprise boxes from your partner will appear here"})]}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(N=>s.jsx(tc,{box:N},N.id))})}):s.jsx("div",{children:e.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(We,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No created boxes"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first surprise box for your partner"}),s.jsx("button",{onClick:()=>u(!0),className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-200",children:"Create Box"})]}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(N=>s.jsx(tc,{box:N,isOwner:!0},N.id))})})},v)})})]})]}),s.jsxs(ht,{children:[a&&s.jsx(LE,{onClose:()=>u(!1)}),o&&s.jsx(W5,{onClose:()=>d(!1)})]}),k&&s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>E(!1)})]})};function Y5(){const{isAuthenticated:e,loading:t}=Ns();return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):s.jsxs(j1,{children:[s.jsx(Ie,{path:"/scott",element:s.jsx(yS,{})}),s.jsx(Ie,{path:"/zoe",element:s.jsx(vS,{})}),s.jsx(Ie,{path:"/login",element:e?s.jsx(ct,{to:"/",replace:!0}):s.jsx(MN,{})}),s.jsx(Ie,{path:"/",element:e?s.jsxs("div",{className:"min-h-screen",children:[s.jsx(Dt,{}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx(Qp,{})})]}):s.jsx(ct,{to:"/login",replace:!0})}),s.jsx(Ie,{path:"/dashboard",element:e?s.jsxs("div",{className:"min-h-screen",children:[s.jsx(Dt,{}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx(Qp,{})})]}):s.jsx(ct,{to:"/login",replace:!0})}),s.jsx(Ie,{path:"/gallery",element:e?s.jsxs("div",{className:"min-h-screen",children:[s.jsx(Dt,{}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx(sS,{})})]}):s.jsx(ct,{to:"/login",replace:!0})}),s.jsx(Ie,{path:"/photos",element:e?s.jsxs("div",{className:"min-h-screen",children:[s.jsx(Dt,{}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx(gS,{})})]}):s.jsx(ct,{to:"/login",replace:!0})}),s.jsx(Ie,{path:"/category/:id",element:e?s.jsxs("div",{className:"min-h-screen",children:[s.jsx(Dt,{}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx(mS,{})})]}):s.jsx(ct,{to:"/login",replace:!0})}),s.jsx(Ie,{path:"/photo/:id",element:e?s.jsxs("div",{className:"min-h-screen",children:[s.jsx(Dt,{}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx(iS,{})})]}):s.jsx(ct,{to:"/login",replace:!0})}),s.jsx(Ie,{path:"/memories",element:e?s.jsxs("div",{className:"min-h-screen",children:[s.jsx(Dt,{}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx(lS,{})})]}):s.jsx(ct,{to:"/login",replace:!0})}),s.jsx(Ie,{path:"/categories",element:e?s.jsxs("div",{className:"min-h-screen",children:[s.jsx(Dt,{}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx(fS,{})})]}):s.jsx(ct,{to:"/login",replace:!0})}),s.jsx(Ie,{path:"/recycle-bin",element:e?s.jsxs("div",{className:"min-h-screen",children:[s.jsx(Dt,{}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx(xS,{})})]}):s.jsx(ct,{to:"/login",replace:!0})}),s.jsx(Ie,{path:"/settings",element:e?s.jsxs("div",{className:"min-h-screen",children:[s.jsx(Dt,{}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx(hS,{})})]}):s.jsx(ct,{to:"/login",replace:!0})}),s.jsx(Ie,{path:"/surprise-boxes",element:e?s.jsxs("div",{className:"min-h-screen",children:[s.jsx(Dt,{}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx(q5,{})})]}):s.jsx(ct,{to:"/login",replace:!0})}),s.jsx(Ie,{path:"*",element:s.jsx(ct,{to:"/login",replace:!0})})]})}function G5(){return s.jsx(AN,{children:s.jsx(ON,{children:s.jsx(D1,{children:s.jsx(Y5,{})})})})}nc.createRoot(document.getElementById("root")).render(s.jsx(Nn.StrictMode,{children:s.jsx(G5,{})}));
