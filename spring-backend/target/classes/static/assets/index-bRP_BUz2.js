function kj(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function jh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sx={exports:{}},Ul={},ix={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ro=Symbol.for("react.element"),Ej=Symbol.for("react.portal"),Cj=Symbol.for("react.fragment"),Tj=Symbol.for("react.strict_mode"),Pj=Symbol.for("react.profiler"),Dj=Symbol.for("react.provider"),Aj=Symbol.for("react.context"),Oj=Symbol.for("react.forward_ref"),Rj=Symbol.for("react.suspense"),Ij=Symbol.for("react.memo"),Mj=Symbol.for("react.lazy"),Np=Symbol.iterator;function _j(e){return e===null||typeof e!="object"?null:(e=Np&&e[Np]||e["@@iterator"],typeof e=="function"?e:null)}var ox={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ax=Object.assign,lx={};function li(e,t,r){this.props=e,this.context=t,this.refs=lx,this.updater=r||ox}li.prototype.isReactComponent={};li.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};li.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cx(){}cx.prototype=li.prototype;function Nh(e,t,r){this.props=e,this.context=t,this.refs=lx,this.updater=r||ox}var Sh=Nh.prototype=new cx;Sh.constructor=Nh;ax(Sh,li.prototype);Sh.isPureReactComponent=!0;var Sp=Array.isArray,ux=Object.prototype.hasOwnProperty,kh={current:null},dx={key:!0,ref:!0,__self:!0,__source:!0};function hx(e,t,r){var n,s={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)ux.call(t,n)&&!dx.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ro,type:e,key:o,ref:a,props:s,_owner:kh.current}}function Lj(e,t){return{$$typeof:Ro,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Eh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ro}function Fj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var kp=/\/+/g;function Lc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Fj(""+e.key):t.toString(36)}function Ma(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ro:case Ej:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Lc(a,0):n,Sp(s)?(r="",e!=null&&(r=e.replace(kp,"$&/")+"/"),Ma(s,t,r,"",function(h){return h})):s!=null&&(Eh(s)&&(s=Lj(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(kp,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Sp(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+Lc(o,l);a+=Ma(o,t,r,c,s)}else if(c=_j(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+Lc(o,l++),a+=Ma(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ia(e,t,r){if(e==null)return e;var n=[],s=0;return Ma(e,n,"","",function(o){return t.call(r,o,s++)}),n}function $j(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gt={current:null},_a={transition:null},zj={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:_a,ReactCurrentOwner:kh};function fx(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:ia,forEach:function(e,t,r){ia(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ia(e,function(){t++}),t},toArray:function(e){return ia(e,function(t){return t})||[]},only:function(e){if(!Eh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=li;ue.Fragment=Cj;ue.Profiler=Pj;ue.PureComponent=Nh;ue.StrictMode=Tj;ue.Suspense=Rj;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zj;ue.act=fx;ue.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ax({},e.props),s=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=kh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ux.call(t,c)&&!dx.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];n.children=l}return{$$typeof:Ro,type:e.type,key:s,ref:o,props:n,_owner:a}};ue.createContext=function(e){return e={$$typeof:Aj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Dj,_context:e},e.Consumer=e};ue.createElement=hx;ue.createFactory=function(e){var t=hx.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:Oj,render:e}};ue.isValidElement=Eh;ue.lazy=function(e){return{$$typeof:Mj,_payload:{_status:-1,_result:e},_init:$j}};ue.memo=function(e,t){return{$$typeof:Ij,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=_a.transition;_a.transition={};try{e()}finally{_a.transition=t}};ue.unstable_act=fx;ue.useCallback=function(e,t){return gt.current.useCallback(e,t)};ue.useContext=function(e){return gt.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return gt.current.useDeferredValue(e)};ue.useEffect=function(e,t){return gt.current.useEffect(e,t)};ue.useId=function(){return gt.current.useId()};ue.useImperativeHandle=function(e,t,r){return gt.current.useImperativeHandle(e,t,r)};ue.useInsertionEffect=function(e,t){return gt.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return gt.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return gt.current.useMemo(e,t)};ue.useReducer=function(e,t,r){return gt.current.useReducer(e,t,r)};ue.useRef=function(e){return gt.current.useRef(e)};ue.useState=function(e){return gt.current.useState(e)};ue.useSyncExternalStore=function(e,t,r){return gt.current.useSyncExternalStore(e,t,r)};ue.useTransition=function(){return gt.current.useTransition()};ue.version="18.3.1";ix.exports=ue;var E=ix.exports;const cs=jh(E),Bj=kj({__proto__:null,default:cs},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uj=E,Vj=Symbol.for("react.element"),Wj=Symbol.for("react.fragment"),Hj=Object.prototype.hasOwnProperty,qj=Uj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gj={key:!0,ref:!0,__self:!0,__source:!0};function px(e,t,r){var n,s={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Hj.call(t,n)&&!Gj.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Vj,type:e,key:o,ref:a,props:s,_owner:qj.current}}Ul.Fragment=Wj;Ul.jsx=px;Ul.jsxs=px;sx.exports=Ul;var i=sx.exports,Vu={},mx={exports:{}},It={},gx={exports:{}},xx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,L){var $=F.length;F.push(L);e:for(;0<$;){var z=$-1>>>1,B=F[z];if(0<s(B,L))F[z]=L,F[$]=B,$=z;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var L=F[0],$=F.pop();if($!==L){F[0]=$;e:for(var z=0,B=F.length,q=B>>>1;z<q;){var H=2*(z+1)-1,U=F[H],X=H+1,ee=F[X];if(0>s(U,$))X<B&&0>s(ee,U)?(F[z]=ee,F[X]=$,z=X):(F[z]=U,F[H]=$,z=H);else if(X<B&&0>s(ee,$))F[z]=ee,F[X]=$,z=X;else break e}}return L}function s(F,L){var $=F.sortIndex-L.sortIndex;return $!==0?$:F.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],h=[],u=1,d=null,f=3,p=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var L=r(h);L!==null;){if(L.callback===null)n(h);else if(L.startTime<=F)n(h),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(h)}}function C(F){if(y=!1,x(F),!m)if(r(c)!==null)m=!0,A(R);else{var L=r(h);L!==null&&P(C,L.startTime-F)}}function R(F,L){m=!1,y&&(y=!1,g(w),w=-1),p=!0;var $=f;try{for(x(L),d=r(c);d!==null&&(!(d.expirationTime>L)||F&&!k());){var z=d.callback;if(typeof z=="function"){d.callback=null,f=d.priorityLevel;var B=z(d.expirationTime<=L);L=e.unstable_now(),typeof B=="function"?d.callback=B:d===r(c)&&n(c),x(L)}else n(c);d=r(c)}if(d!==null)var q=!0;else{var H=r(h);H!==null&&P(C,H.startTime-L),q=!1}return q}finally{d=null,f=$,p=!1}}var S=!1,I=null,w=-1,j=5,N=-1;function k(){return!(e.unstable_now()-N<j)}function T(){if(I!==null){var F=e.unstable_now();N=F;var L=!0;try{L=I(!0,F)}finally{L?D():(S=!1,I=null)}}else S=!1}var D;if(typeof v=="function")D=function(){v(T)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,M=O.port2;O.port1.onmessage=T,D=function(){M.postMessage(null)}}else D=function(){b(T,0)};function A(F){I=F,S||(S=!0,D())}function P(F,L){w=b(function(){F(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,A(R))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(F){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var $=f;f=L;try{return F()}finally{f=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,L){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var $=f;f=F;try{return L()}finally{f=$}},e.unstable_scheduleCallback=function(F,L,$){var z=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?z+$:z):$=z,F){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=$+B,F={id:u++,callback:L,priorityLevel:F,startTime:$,expirationTime:B,sortIndex:-1},$>z?(F.sortIndex=$,t(h,F),r(c)===null&&F===r(h)&&(y?(g(w),w=-1):y=!0,P(C,$-z))):(F.sortIndex=B,t(c,F),m||p||(m=!0,A(R))),F},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(F){var L=f;return function(){var $=f;f=L;try{return F.apply(this,arguments)}finally{f=$}}}})(xx);gx.exports=xx;var Yj=gx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xj=E,Ot=Yj;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yx=new Set,oo={};function us(e,t){Hs(e,t),Hs(e+"Capture",t)}function Hs(e,t){for(oo[e]=t,e=0;e<t.length;e++)yx.add(t[e])}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wu=Object.prototype.hasOwnProperty,Kj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ep={},Cp={};function Qj(e){return Wu.call(Cp,e)?!0:Wu.call(Ep,e)?!1:Kj.test(e)?Cp[e]=!0:(Ep[e]=!0,!1)}function Jj(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Zj(e,t,r,n){if(t===null||typeof t>"u"||Jj(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xt(e,t,r,n,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qe[e]=new xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qe[t]=new xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qe[e]=new xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qe[e]=new xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qe[e]=new xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qe[e]=new xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qe[e]=new xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qe[e]=new xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qe[e]=new xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ch=/[\-:]([a-z])/g;function Th(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ch,Th);Qe[t]=new xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ch,Th);Qe[t]=new xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ch,Th);Qe[t]=new xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qe[e]=new xt(e,1,!1,e.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qe[e]=new xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ph(e,t,r,n){var s=Qe.hasOwnProperty(t)?Qe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Zj(t,r,s,n)&&(r=null),n||s===null?Qj(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ur=Xj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oa=Symbol.for("react.element"),js=Symbol.for("react.portal"),Ns=Symbol.for("react.fragment"),Dh=Symbol.for("react.strict_mode"),Hu=Symbol.for("react.profiler"),vx=Symbol.for("react.provider"),bx=Symbol.for("react.context"),Ah=Symbol.for("react.forward_ref"),qu=Symbol.for("react.suspense"),Gu=Symbol.for("react.suspense_list"),Oh=Symbol.for("react.memo"),Qr=Symbol.for("react.lazy"),wx=Symbol.for("react.offscreen"),Tp=Symbol.iterator;function ji(e){return e===null||typeof e!="object"?null:(e=Tp&&e[Tp]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Object.assign,Fc;function Mi(e){if(Fc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Fc=t&&t[1]||""}return`
`+Fc+e}var $c=!1;function zc(e,t){if(!e||$c)return"";$c=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var n=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){n=h}e.call(t.prototype)}else{try{throw Error()}catch(h){n=h}e()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),o=n.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{$c=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Mi(e):""}function eN(e){switch(e.tag){case 5:return Mi(e.type);case 16:return Mi("Lazy");case 13:return Mi("Suspense");case 19:return Mi("SuspenseList");case 0:case 2:case 15:return e=zc(e.type,!1),e;case 11:return e=zc(e.type.render,!1),e;case 1:return e=zc(e.type,!0),e;default:return""}}function Yu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ns:return"Fragment";case js:return"Portal";case Hu:return"Profiler";case Dh:return"StrictMode";case qu:return"Suspense";case Gu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bx:return(e.displayName||"Context")+".Consumer";case vx:return(e._context.displayName||"Context")+".Provider";case Ah:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Oh:return t=e.displayName||null,t!==null?t:Yu(e.type)||"Memo";case Qr:t=e._payload,e=e._init;try{return Yu(e(t))}catch{}}return null}function tN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yu(t);case 8:return t===Dh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rN(e){var t=jx(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function aa(e){e._valueTracker||(e._valueTracker=rN(e))}function Nx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=jx(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function tl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xu(e,t){var r=t.checked;return Oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Pp(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=wn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Sx(e,t){t=t.checked,t!=null&&Ph(e,"checked",t,!1)}function Ku(e,t){Sx(e,t);var r=wn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qu(e,t.type,r):t.hasOwnProperty("defaultValue")&&Qu(e,t.type,wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Dp(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Qu(e,t,r){(t!=="number"||tl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var _i=Array.isArray;function $s(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+wn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ju(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return Oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ap(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(_i(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:wn(r)}}function kx(e,t){var r=wn(t.value),n=wn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Op(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ex(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ex(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var la,Cx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(la=la||document.createElement("div"),la.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=la.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ao(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nN=["Webkit","ms","Moz","O"];Object.keys(Vi).forEach(function(e){nN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vi[t]=Vi[e]})});function Tx(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Vi.hasOwnProperty(e)&&Vi[e]?(""+t).trim():t+"px"}function Px(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Tx(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var sN=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ed(e,t){if(t){if(sN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function td(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rd=null;function Rh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nd=null,zs=null,Bs=null;function Rp(e){if(e=_o(e)){if(typeof nd!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Gl(t),nd(e.stateNode,e.type,t))}}function Dx(e){zs?Bs?Bs.push(e):Bs=[e]:zs=e}function Ax(){if(zs){var e=zs,t=Bs;if(Bs=zs=null,Rp(e),t)for(e=0;e<t.length;e++)Rp(t[e])}}function Ox(e,t){return e(t)}function Rx(){}var Bc=!1;function Ix(e,t,r){if(Bc)return e(t,r);Bc=!0;try{return Ox(e,t,r)}finally{Bc=!1,(zs!==null||Bs!==null)&&(Rx(),Ax())}}function lo(e,t){var r=e.stateNode;if(r===null)return null;var n=Gl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var sd=!1;if(_r)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){sd=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{sd=!1}function iN(e,t,r,n,s,o,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(r,h)}catch(u){this.onError(u)}}var Wi=!1,rl=null,nl=!1,id=null,oN={onError:function(e){Wi=!0,rl=e}};function aN(e,t,r,n,s,o,a,l,c){Wi=!1,rl=null,iN.apply(oN,arguments)}function lN(e,t,r,n,s,o,a,l,c){if(aN.apply(this,arguments),Wi){if(Wi){var h=rl;Wi=!1,rl=null}else throw Error(G(198));nl||(nl=!0,id=h)}}function ds(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Mx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ip(e){if(ds(e)!==e)throw Error(G(188))}function cN(e){var t=e.alternate;if(!t){if(t=ds(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Ip(s),e;if(o===n)return Ip(s),t;o=o.sibling}throw Error(G(188))}if(r.return!==n.return)r=s,n=o;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=o;break}if(l===n){a=!0,n=s,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,n=s;break}if(l===n){a=!0,n=o,r=s;break}l=l.sibling}if(!a)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function _x(e){return e=cN(e),e!==null?Lx(e):null}function Lx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Lx(e);if(t!==null)return t;e=e.sibling}return null}var Fx=Ot.unstable_scheduleCallback,Mp=Ot.unstable_cancelCallback,uN=Ot.unstable_shouldYield,dN=Ot.unstable_requestPaint,Ie=Ot.unstable_now,hN=Ot.unstable_getCurrentPriorityLevel,Ih=Ot.unstable_ImmediatePriority,$x=Ot.unstable_UserBlockingPriority,sl=Ot.unstable_NormalPriority,fN=Ot.unstable_LowPriority,zx=Ot.unstable_IdlePriority,Vl=null,yr=null;function pN(e){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(Vl,e,void 0,(e.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:xN,mN=Math.log,gN=Math.LN2;function xN(e){return e>>>=0,e===0?32:31-(mN(e)/gN|0)|0}var ca=64,ua=4194304;function Li(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function il(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Li(l):(o&=a,o!==0&&(n=Li(o)))}else a=r&~s,a!==0?n=Li(a):o!==0&&(n=Li(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-or(t),s=1<<r,n|=e[r],t&=~s;return n}function yN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vN(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-or(o),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=yN(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function od(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bx(){var e=ca;return ca<<=1,!(ca&4194240)&&(ca=64),e}function Uc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Io(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-or(t),e[t]=r}function bN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-or(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Mh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-or(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var we=0;function Ux(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vx,_h,Wx,Hx,qx,ad=!1,da=[],dn=null,hn=null,fn=null,co=new Map,uo=new Map,en=[],wN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _p(e,t){switch(e){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":co.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(t.pointerId)}}function Si(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=_o(t),t!==null&&_h(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function jN(e,t,r,n,s){switch(t){case"focusin":return dn=Si(dn,e,t,r,n,s),!0;case"dragenter":return hn=Si(hn,e,t,r,n,s),!0;case"mouseover":return fn=Si(fn,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return co.set(o,Si(co.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,uo.set(o,Si(uo.get(o)||null,e,t,r,n,s)),!0}return!1}function Gx(e){var t=Wn(e.target);if(t!==null){var r=ds(t);if(r!==null){if(t=r.tag,t===13){if(t=Mx(r),t!==null){e.blockedOn=t,qx(e.priority,function(){Wx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function La(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ld(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);rd=n,r.target.dispatchEvent(n),rd=null}else return t=_o(r),t!==null&&_h(t),e.blockedOn=r,!1;t.shift()}return!0}function Lp(e,t,r){La(e)&&r.delete(t)}function NN(){ad=!1,dn!==null&&La(dn)&&(dn=null),hn!==null&&La(hn)&&(hn=null),fn!==null&&La(fn)&&(fn=null),co.forEach(Lp),uo.forEach(Lp)}function ki(e,t){e.blockedOn===t&&(e.blockedOn=null,ad||(ad=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,NN)))}function ho(e){function t(s){return ki(s,e)}if(0<da.length){ki(da[0],e);for(var r=1;r<da.length;r++){var n=da[r];n.blockedOn===e&&(n.blockedOn=null)}}for(dn!==null&&ki(dn,e),hn!==null&&ki(hn,e),fn!==null&&ki(fn,e),co.forEach(t),uo.forEach(t),r=0;r<en.length;r++)n=en[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<en.length&&(r=en[0],r.blockedOn===null);)Gx(r),r.blockedOn===null&&en.shift()}var Us=Ur.ReactCurrentBatchConfig,ol=!0;function SN(e,t,r,n){var s=we,o=Us.transition;Us.transition=null;try{we=1,Lh(e,t,r,n)}finally{we=s,Us.transition=o}}function kN(e,t,r,n){var s=we,o=Us.transition;Us.transition=null;try{we=4,Lh(e,t,r,n)}finally{we=s,Us.transition=o}}function Lh(e,t,r,n){if(ol){var s=ld(e,t,r,n);if(s===null)Jc(e,t,n,al,r),_p(e,n);else if(jN(s,e,t,r,n))n.stopPropagation();else if(_p(e,n),t&4&&-1<wN.indexOf(e)){for(;s!==null;){var o=_o(s);if(o!==null&&Vx(o),o=ld(e,t,r,n),o===null&&Jc(e,t,n,al,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Jc(e,t,n,null,r)}}var al=null;function ld(e,t,r,n){if(al=null,e=Rh(n),e=Wn(e),e!==null)if(t=ds(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Mx(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return al=e,null}function Yx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hN()){case Ih:return 1;case $x:return 4;case sl:case fN:return 16;case zx:return 536870912;default:return 16}default:return 16}}var sn=null,Fh=null,Fa=null;function Xx(){if(Fa)return Fa;var e,t=Fh,r=t.length,n,s="value"in sn?sn.value:sn.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[o-n];n++);return Fa=s.slice(e,1<n?1-n:void 0)}function $a(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ha(){return!0}function Fp(){return!1}function Mt(e){function t(r,n,s,o,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ha:Fp,this.isPropagationStopped=Fp,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ha)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ha)},persist:function(){},isPersistent:ha}),t}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$h=Mt(ci),Mo=Oe({},ci,{view:0,detail:0}),EN=Mt(Mo),Vc,Wc,Ei,Wl=Oe({},Mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(Vc=e.screenX-Ei.screenX,Wc=e.screenY-Ei.screenY):Wc=Vc=0,Ei=e),Vc)},movementY:function(e){return"movementY"in e?e.movementY:Wc}}),$p=Mt(Wl),CN=Oe({},Wl,{dataTransfer:0}),TN=Mt(CN),PN=Oe({},Mo,{relatedTarget:0}),Hc=Mt(PN),DN=Oe({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),AN=Mt(DN),ON=Oe({},ci,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),RN=Mt(ON),IN=Oe({},ci,{data:0}),zp=Mt(IN),MN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_N={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LN[e])?!!t[e]:!1}function zh(){return FN}var $N=Oe({},Mo,{key:function(e){if(e.key){var t=MN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$a(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_N[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zh,charCode:function(e){return e.type==="keypress"?$a(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$a(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zN=Mt($N),BN=Oe({},Wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bp=Mt(BN),UN=Oe({},Mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zh}),VN=Mt(UN),WN=Oe({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),HN=Mt(WN),qN=Oe({},Wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),GN=Mt(qN),YN=[9,13,27,32],Bh=_r&&"CompositionEvent"in window,Hi=null;_r&&"documentMode"in document&&(Hi=document.documentMode);var XN=_r&&"TextEvent"in window&&!Hi,Kx=_r&&(!Bh||Hi&&8<Hi&&11>=Hi),Up=" ",Vp=!1;function Qx(e,t){switch(e){case"keyup":return YN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ss=!1;function KN(e,t){switch(e){case"compositionend":return Jx(t);case"keypress":return t.which!==32?null:(Vp=!0,Up);case"textInput":return e=t.data,e===Up&&Vp?null:e;default:return null}}function QN(e,t){if(Ss)return e==="compositionend"||!Bh&&Qx(e,t)?(e=Xx(),Fa=Fh=sn=null,Ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kx&&t.locale!=="ko"?null:t.data;default:return null}}var JN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!JN[e.type]:t==="textarea"}function Zx(e,t,r,n){Dx(n),t=ll(t,"onChange"),0<t.length&&(r=new $h("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var qi=null,fo=null;function ZN(e){uy(e,0)}function Hl(e){var t=Cs(e);if(Nx(t))return e}function e2(e,t){if(e==="change")return t}var ey=!1;if(_r){var qc;if(_r){var Gc="oninput"in document;if(!Gc){var Hp=document.createElement("div");Hp.setAttribute("oninput","return;"),Gc=typeof Hp.oninput=="function"}qc=Gc}else qc=!1;ey=qc&&(!document.documentMode||9<document.documentMode)}function qp(){qi&&(qi.detachEvent("onpropertychange",ty),fo=qi=null)}function ty(e){if(e.propertyName==="value"&&Hl(fo)){var t=[];Zx(t,fo,e,Rh(e)),Ix(ZN,t)}}function t2(e,t,r){e==="focusin"?(qp(),qi=t,fo=r,qi.attachEvent("onpropertychange",ty)):e==="focusout"&&qp()}function r2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hl(fo)}function n2(e,t){if(e==="click")return Hl(t)}function s2(e,t){if(e==="input"||e==="change")return Hl(t)}function i2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lr=typeof Object.is=="function"?Object.is:i2;function po(e,t){if(lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Wu.call(t,s)||!lr(e[s],t[s]))return!1}return!0}function Gp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yp(e,t){var r=Gp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gp(r)}}function ry(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ry(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ny(){for(var e=window,t=tl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=tl(e.document)}return t}function Uh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function o2(e){var t=ny(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ry(r.ownerDocument.documentElement,r)){if(n!==null&&Uh(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=Yp(r,o);var a=Yp(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var a2=_r&&"documentMode"in document&&11>=document.documentMode,ks=null,cd=null,Gi=null,ud=!1;function Xp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ud||ks==null||ks!==tl(n)||(n=ks,"selectionStart"in n&&Uh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Gi&&po(Gi,n)||(Gi=n,n=ll(cd,"onSelect"),0<n.length&&(t=new $h("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ks)))}function fa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Es={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionend:fa("Transition","TransitionEnd")},Yc={},sy={};_r&&(sy=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function ql(e){if(Yc[e])return Yc[e];if(!Es[e])return e;var t=Es[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in sy)return Yc[e]=t[r];return e}var iy=ql("animationend"),oy=ql("animationiteration"),ay=ql("animationstart"),ly=ql("transitionend"),cy=new Map,Kp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(e,t){cy.set(e,t),us(t,[e])}for(var Xc=0;Xc<Kp.length;Xc++){var Kc=Kp[Xc],l2=Kc.toLowerCase(),c2=Kc[0].toUpperCase()+Kc.slice(1);En(l2,"on"+c2)}En(iy,"onAnimationEnd");En(oy,"onAnimationIteration");En(ay,"onAnimationStart");En("dblclick","onDoubleClick");En("focusin","onFocus");En("focusout","onBlur");En(ly,"onTransitionEnd");Hs("onMouseEnter",["mouseout","mouseover"]);Hs("onMouseLeave",["mouseout","mouseover"]);Hs("onPointerEnter",["pointerout","pointerover"]);Hs("onPointerLeave",["pointerout","pointerover"]);us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));us("onBeforeInput",["compositionend","keypress","textInput","paste"]);us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fi));function Qp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,lN(n,t,void 0,e),e.currentTarget=null}function uy(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Qp(s,l,h),o=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Qp(s,l,h),o=c}}}if(nl)throw e=id,nl=!1,id=null,e}function Ee(e,t){var r=t[md];r===void 0&&(r=t[md]=new Set);var n=e+"__bubble";r.has(n)||(dy(t,e,2,!1),r.add(n))}function Qc(e,t,r){var n=0;t&&(n|=4),dy(r,e,n,t)}var pa="_reactListening"+Math.random().toString(36).slice(2);function mo(e){if(!e[pa]){e[pa]=!0,yx.forEach(function(r){r!=="selectionchange"&&(u2.has(r)||Qc(r,!1,e),Qc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pa]||(t[pa]=!0,Qc("selectionchange",!1,t))}}function dy(e,t,r,n){switch(Yx(t)){case 1:var s=SN;break;case 4:s=kN;break;default:s=Lh}r=s.bind(null,t,r,e),s=void 0,!sd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Jc(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Wn(l),a===null)return;if(c=a.tag,c===5||c===6){n=o=a;continue e}l=l.parentNode}}n=n.return}Ix(function(){var h=o,u=Rh(r),d=[];e:{var f=cy.get(e);if(f!==void 0){var p=$h,m=e;switch(e){case"keypress":if($a(r)===0)break e;case"keydown":case"keyup":p=zN;break;case"focusin":m="focus",p=Hc;break;case"focusout":m="blur",p=Hc;break;case"beforeblur":case"afterblur":p=Hc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=$p;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=TN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=VN;break;case iy:case oy:case ay:p=AN;break;case ly:p=HN;break;case"scroll":p=EN;break;case"wheel":p=GN;break;case"copy":case"cut":case"paste":p=RN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Bp}var y=(t&4)!==0,b=!y&&e==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var v=h,x;v!==null;){x=v;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,g!==null&&(C=lo(v,g),C!=null&&y.push(go(v,C,x)))),b)break;v=v.return}0<y.length&&(f=new p(f,m,null,r,u),d.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==rd&&(m=r.relatedTarget||r.fromElement)&&(Wn(m)||m[Lr]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=h,m=m?Wn(m):null,m!==null&&(b=ds(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=h),p!==m)){if(y=$p,C="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=Bp,C="onPointerLeave",g="onPointerEnter",v="pointer"),b=p==null?f:Cs(p),x=m==null?f:Cs(m),f=new y(C,v+"leave",p,r,u),f.target=b,f.relatedTarget=x,C=null,Wn(u)===h&&(y=new y(g,v+"enter",m,r,u),y.target=x,y.relatedTarget=b,C=y),b=C,p&&m)t:{for(y=p,g=m,v=0,x=y;x;x=bs(x))v++;for(x=0,C=g;C;C=bs(C))x++;for(;0<v-x;)y=bs(y),v--;for(;0<x-v;)g=bs(g),x--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=bs(y),g=bs(g)}y=null}else y=null;p!==null&&Jp(d,f,p,y,!1),m!==null&&b!==null&&Jp(d,b,m,y,!0)}}e:{if(f=h?Cs(h):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var R=e2;else if(Wp(f))if(ey)R=s2;else{R=r2;var S=t2}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=n2);if(R&&(R=R(e,h))){Zx(d,R,r,u);break e}S&&S(e,f,h),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Qu(f,"number",f.value)}switch(S=h?Cs(h):window,e){case"focusin":(Wp(S)||S.contentEditable==="true")&&(ks=S,cd=h,Gi=null);break;case"focusout":Gi=cd=ks=null;break;case"mousedown":ud=!0;break;case"contextmenu":case"mouseup":case"dragend":ud=!1,Xp(d,r,u);break;case"selectionchange":if(a2)break;case"keydown":case"keyup":Xp(d,r,u)}var I;if(Bh)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Ss?Qx(e,r)&&(w="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(w="onCompositionStart");w&&(Kx&&r.locale!=="ko"&&(Ss||w!=="onCompositionStart"?w==="onCompositionEnd"&&Ss&&(I=Xx()):(sn=u,Fh="value"in sn?sn.value:sn.textContent,Ss=!0)),S=ll(h,w),0<S.length&&(w=new zp(w,e,null,r,u),d.push({event:w,listeners:S}),I?w.data=I:(I=Jx(r),I!==null&&(w.data=I)))),(I=XN?KN(e,r):QN(e,r))&&(h=ll(h,"onBeforeInput"),0<h.length&&(u=new zp("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:h}),u.data=I))}uy(d,t)})}function go(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ll(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=lo(e,r),o!=null&&n.unshift(go(e,o,s)),o=lo(e,t),o!=null&&n.push(go(e,o,s))),e=e.return}return n}function bs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jp(e,t,r,n,s){for(var o=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,h=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&h!==null&&(l=h,s?(c=lo(r,o),c!=null&&a.unshift(go(r,c,l))):s||(c=lo(r,o),c!=null&&a.push(go(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var d2=/\r\n?/g,h2=/\u0000|\uFFFD/g;function Zp(e){return(typeof e=="string"?e:""+e).replace(d2,`
`).replace(h2,"")}function ma(e,t,r){if(t=Zp(t),Zp(e)!==t&&r)throw Error(G(425))}function cl(){}var dd=null,hd=null;function fd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pd=typeof setTimeout=="function"?setTimeout:void 0,f2=typeof clearTimeout=="function"?clearTimeout:void 0,em=typeof Promise=="function"?Promise:void 0,p2=typeof queueMicrotask=="function"?queueMicrotask:typeof em<"u"?function(e){return em.resolve(null).then(e).catch(m2)}:pd;function m2(e){setTimeout(function(){throw e})}function Zc(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ho(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ho(t)}function pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function tm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),gr="__reactFiber$"+ui,xo="__reactProps$"+ui,Lr="__reactContainer$"+ui,md="__reactEvents$"+ui,g2="__reactListeners$"+ui,x2="__reactHandles$"+ui;function Wn(e){var t=e[gr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Lr]||r[gr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=tm(e);e!==null;){if(r=e[gr])return r;e=tm(e)}return t}e=r,r=e.parentNode}return null}function _o(e){return e=e[gr]||e[Lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Gl(e){return e[xo]||null}var gd=[],Ts=-1;function Cn(e){return{current:e}}function Ce(e){0>Ts||(e.current=gd[Ts],gd[Ts]=null,Ts--)}function Se(e,t){Ts++,gd[Ts]=e.current,e.current=t}var jn={},ct=Cn(jn),wt=Cn(!1),es=jn;function qs(e,t){var r=e.type.contextTypes;if(!r)return jn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function jt(e){return e=e.childContextTypes,e!=null}function ul(){Ce(wt),Ce(ct)}function rm(e,t,r){if(ct.current!==jn)throw Error(G(168));Se(ct,t),Se(wt,r)}function hy(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(G(108,tN(e)||"Unknown",s));return Oe({},r,n)}function dl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,es=ct.current,Se(ct,e),Se(wt,wt.current),!0}function nm(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=hy(e,t,es),n.__reactInternalMemoizedMergedChildContext=e,Ce(wt),Ce(ct),Se(ct,e)):Ce(wt),Se(wt,r)}var Tr=null,Yl=!1,eu=!1;function fy(e){Tr===null?Tr=[e]:Tr.push(e)}function y2(e){Yl=!0,fy(e)}function Tn(){if(!eu&&Tr!==null){eu=!0;var e=0,t=we;try{var r=Tr;for(we=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Tr=null,Yl=!1}catch(s){throw Tr!==null&&(Tr=Tr.slice(e+1)),Fx(Ih,Tn),s}finally{we=t,eu=!1}}return null}var Ps=[],Ds=0,hl=null,fl=0,zt=[],Bt=0,ts=null,Pr=1,Dr="";function Fn(e,t){Ps[Ds++]=fl,Ps[Ds++]=hl,hl=e,fl=t}function py(e,t,r){zt[Bt++]=Pr,zt[Bt++]=Dr,zt[Bt++]=ts,ts=e;var n=Pr;e=Dr;var s=32-or(n)-1;n&=~(1<<s),r+=1;var o=32-or(t)+s;if(30<o){var a=s-s%5;o=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Pr=1<<32-or(t)+s|r<<s|n,Dr=o+e}else Pr=1<<o|r<<s|n,Dr=e}function Vh(e){e.return!==null&&(Fn(e,1),py(e,1,0))}function Wh(e){for(;e===hl;)hl=Ps[--Ds],Ps[Ds]=null,fl=Ps[--Ds],Ps[Ds]=null;for(;e===ts;)ts=zt[--Bt],zt[Bt]=null,Dr=zt[--Bt],zt[Bt]=null,Pr=zt[--Bt],zt[Bt]=null}var At=null,Dt=null,Te=!1,ir=null;function my(e,t){var r=Ht(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function sm(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,At=e,Dt=pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,At=e,Dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ts!==null?{id:Pr,overflow:Dr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ht(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,At=e,Dt=null,!0):!1;default:return!1}}function xd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yd(e){if(Te){var t=Dt;if(t){var r=t;if(!sm(e,t)){if(xd(e))throw Error(G(418));t=pn(r.nextSibling);var n=At;t&&sm(e,t)?my(n,r):(e.flags=e.flags&-4097|2,Te=!1,At=e)}}else{if(xd(e))throw Error(G(418));e.flags=e.flags&-4097|2,Te=!1,At=e}}}function im(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;At=e}function ga(e){if(e!==At)return!1;if(!Te)return im(e),Te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fd(e.type,e.memoizedProps)),t&&(t=Dt)){if(xd(e))throw gy(),Error(G(418));for(;t;)my(e,t),t=pn(t.nextSibling)}if(im(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Dt=pn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Dt=null}}else Dt=At?pn(e.stateNode.nextSibling):null;return!0}function gy(){for(var e=Dt;e;)e=pn(e.nextSibling)}function Gs(){Dt=At=null,Te=!1}function Hh(e){ir===null?ir=[e]:ir.push(e)}var v2=Ur.ReactCurrentBatchConfig;function Ci(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function xa(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function om(e){var t=e._init;return t(e._payload)}function xy(e){function t(g,v){if(e){var x=g.deletions;x===null?(g.deletions=[v],g.flags|=16):x.push(v)}}function r(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=yn(g,v),g.index=0,g.sibling=null,g}function o(g,v,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<v?(g.flags|=2,v):x):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,v,x,C){return v===null||v.tag!==6?(v=au(x,g.mode,C),v.return=g,v):(v=s(v,x),v.return=g,v)}function c(g,v,x,C){var R=x.type;return R===Ns?u(g,v,x.props.children,C,x.key):v!==null&&(v.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Qr&&om(R)===v.type)?(C=s(v,x.props),C.ref=Ci(g,v,x),C.return=g,C):(C=qa(x.type,x.key,x.props,null,g.mode,C),C.ref=Ci(g,v,x),C.return=g,C)}function h(g,v,x,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=lu(x,g.mode,C),v.return=g,v):(v=s(v,x.children||[]),v.return=g,v)}function u(g,v,x,C,R){return v===null||v.tag!==7?(v=Qn(x,g.mode,C,R),v.return=g,v):(v=s(v,x),v.return=g,v)}function d(g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=au(""+v,g.mode,x),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case oa:return x=qa(v.type,v.key,v.props,null,g.mode,x),x.ref=Ci(g,null,v),x.return=g,x;case js:return v=lu(v,g.mode,x),v.return=g,v;case Qr:var C=v._init;return d(g,C(v._payload),x)}if(_i(v)||ji(v))return v=Qn(v,g.mode,x,null),v.return=g,v;xa(g,v)}return null}function f(g,v,x,C){var R=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return R!==null?null:l(g,v,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case oa:return x.key===R?c(g,v,x,C):null;case js:return x.key===R?h(g,v,x,C):null;case Qr:return R=x._init,f(g,v,R(x._payload),C)}if(_i(x)||ji(x))return R!==null?null:u(g,v,x,C,null);xa(g,x)}return null}function p(g,v,x,C,R){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(x)||null,l(v,g,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case oa:return g=g.get(C.key===null?x:C.key)||null,c(v,g,C,R);case js:return g=g.get(C.key===null?x:C.key)||null,h(v,g,C,R);case Qr:var S=C._init;return p(g,v,x,S(C._payload),R)}if(_i(C)||ji(C))return g=g.get(x)||null,u(v,g,C,R,null);xa(v,C)}return null}function m(g,v,x,C){for(var R=null,S=null,I=v,w=v=0,j=null;I!==null&&w<x.length;w++){I.index>w?(j=I,I=null):j=I.sibling;var N=f(g,I,x[w],C);if(N===null){I===null&&(I=j);break}e&&I&&N.alternate===null&&t(g,I),v=o(N,v,w),S===null?R=N:S.sibling=N,S=N,I=j}if(w===x.length)return r(g,I),Te&&Fn(g,w),R;if(I===null){for(;w<x.length;w++)I=d(g,x[w],C),I!==null&&(v=o(I,v,w),S===null?R=I:S.sibling=I,S=I);return Te&&Fn(g,w),R}for(I=n(g,I);w<x.length;w++)j=p(I,g,w,x[w],C),j!==null&&(e&&j.alternate!==null&&I.delete(j.key===null?w:j.key),v=o(j,v,w),S===null?R=j:S.sibling=j,S=j);return e&&I.forEach(function(k){return t(g,k)}),Te&&Fn(g,w),R}function y(g,v,x,C){var R=ji(x);if(typeof R!="function")throw Error(G(150));if(x=R.call(x),x==null)throw Error(G(151));for(var S=R=null,I=v,w=v=0,j=null,N=x.next();I!==null&&!N.done;w++,N=x.next()){I.index>w?(j=I,I=null):j=I.sibling;var k=f(g,I,N.value,C);if(k===null){I===null&&(I=j);break}e&&I&&k.alternate===null&&t(g,I),v=o(k,v,w),S===null?R=k:S.sibling=k,S=k,I=j}if(N.done)return r(g,I),Te&&Fn(g,w),R;if(I===null){for(;!N.done;w++,N=x.next())N=d(g,N.value,C),N!==null&&(v=o(N,v,w),S===null?R=N:S.sibling=N,S=N);return Te&&Fn(g,w),R}for(I=n(g,I);!N.done;w++,N=x.next())N=p(I,g,w,N.value,C),N!==null&&(e&&N.alternate!==null&&I.delete(N.key===null?w:N.key),v=o(N,v,w),S===null?R=N:S.sibling=N,S=N);return e&&I.forEach(function(T){return t(g,T)}),Te&&Fn(g,w),R}function b(g,v,x,C){if(typeof x=="object"&&x!==null&&x.type===Ns&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case oa:e:{for(var R=x.key,S=v;S!==null;){if(S.key===R){if(R=x.type,R===Ns){if(S.tag===7){r(g,S.sibling),v=s(S,x.props.children),v.return=g,g=v;break e}}else if(S.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Qr&&om(R)===S.type){r(g,S.sibling),v=s(S,x.props),v.ref=Ci(g,S,x),v.return=g,g=v;break e}r(g,S);break}else t(g,S);S=S.sibling}x.type===Ns?(v=Qn(x.props.children,g.mode,C,x.key),v.return=g,g=v):(C=qa(x.type,x.key,x.props,null,g.mode,C),C.ref=Ci(g,v,x),C.return=g,g=C)}return a(g);case js:e:{for(S=x.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(g,v.sibling),v=s(v,x.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else t(g,v);v=v.sibling}v=lu(x,g.mode,C),v.return=g,g=v}return a(g);case Qr:return S=x._init,b(g,v,S(x._payload),C)}if(_i(x))return m(g,v,x,C);if(ji(x))return y(g,v,x,C);xa(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(g,v.sibling),v=s(v,x),v.return=g,g=v):(r(g,v),v=au(x,g.mode,C),v.return=g,g=v),a(g)):r(g,v)}return b}var Ys=xy(!0),yy=xy(!1),pl=Cn(null),ml=null,As=null,qh=null;function Gh(){qh=As=ml=null}function Yh(e){var t=pl.current;Ce(pl),e._currentValue=t}function vd(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Vs(e,t){ml=e,qh=As=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bt=!0),e.firstContext=null)}function Gt(e){var t=e._currentValue;if(qh!==e)if(e={context:e,memoizedValue:t,next:null},As===null){if(ml===null)throw Error(G(308));As=e,ml.dependencies={lanes:0,firstContext:e}}else As=As.next=e;return t}var Hn=null;function Xh(e){Hn===null?Hn=[e]:Hn.push(e)}function vy(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Xh(t)):(r.next=s.next,s.next=r),t.interleaved=r,Fr(e,n)}function Fr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Jr=!1;function Kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function by(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,pe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Fr(e,r)}return s=n.interleaved,s===null?(t.next=t,Xh(n)):(t.next=s.next,s.next=t),n.interleaved=t,Fr(e,r)}function za(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Mh(e,r)}}function am(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function gl(e,t,r,n){var s=e.updateQueue;Jr=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?o=h:a.next=h,a=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==a&&(l===null?u.firstBaseUpdate=h:l.next=h,u.lastBaseUpdate=c))}if(o!==null){var d=s.baseState;a=0,u=h=c=null,l=o;do{var f=l.lane,p=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,y=l;switch(f=t,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=Oe({},d,f);break e;case 2:Jr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(h=u=p,c=d):u=u.next=p,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(c=d),s.baseState=c,s.firstBaseUpdate=h,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);ns|=a,e.lanes=a,e.memoizedState=d}}function lm(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(G(191,s));s.call(n)}}}var Lo={},vr=Cn(Lo),yo=Cn(Lo),vo=Cn(Lo);function qn(e){if(e===Lo)throw Error(G(174));return e}function Qh(e,t){switch(Se(vo,t),Se(yo,e),Se(vr,Lo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zu(t,e)}Ce(vr),Se(vr,t)}function Xs(){Ce(vr),Ce(yo),Ce(vo)}function wy(e){qn(vo.current);var t=qn(vr.current),r=Zu(t,e.type);t!==r&&(Se(yo,e),Se(vr,r))}function Jh(e){yo.current===e&&(Ce(vr),Ce(yo))}var Pe=Cn(0);function xl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tu=[];function Zh(){for(var e=0;e<tu.length;e++)tu[e]._workInProgressVersionPrimary=null;tu.length=0}var Ba=Ur.ReactCurrentDispatcher,ru=Ur.ReactCurrentBatchConfig,rs=0,Ae=null,Be=null,He=null,yl=!1,Yi=!1,bo=0,b2=0;function et(){throw Error(G(321))}function ef(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!lr(e[r],t[r]))return!1;return!0}function tf(e,t,r,n,s,o){if(rs=o,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ba.current=e===null||e.memoizedState===null?S2:k2,e=r(n,s),Yi){o=0;do{if(Yi=!1,bo=0,25<=o)throw Error(G(301));o+=1,He=Be=null,t.updateQueue=null,Ba.current=E2,e=r(n,s)}while(Yi)}if(Ba.current=vl,t=Be!==null&&Be.next!==null,rs=0,He=Be=Ae=null,yl=!1,t)throw Error(G(300));return e}function rf(){var e=bo!==0;return bo=0,e}function pr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Ae.memoizedState=He=e:He=He.next=e,He}function Yt(){if(Be===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=He===null?Ae.memoizedState:He.next;if(t!==null)He=t,Be=e;else{if(e===null)throw Error(G(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},He===null?Ae.memoizedState=He=e:He=He.next=e}return He}function wo(e,t){return typeof t=="function"?t(e):t}function nu(e){var t=Yt(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=Be,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=a=null,c=null,h=o;do{var u=h.lane;if((rs&u)===u)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:e(n,h.action);else{var d={lane:u,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=d,a=n):c=c.next=d,Ae.lanes|=u,ns|=u}h=h.next}while(h!==null&&h!==o);c===null?a=n:c.next=l,lr(n,t.memoizedState)||(bt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Ae.lanes|=o,ns|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function su(e){var t=Yt(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do o=e(o,a.action),a=a.next;while(a!==s);lr(o,t.memoizedState)||(bt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function jy(){}function Ny(e,t){var r=Ae,n=Yt(),s=t(),o=!lr(n.memoizedState,s);if(o&&(n.memoizedState=s,bt=!0),n=n.queue,nf(Ey.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||He!==null&&He.memoizedState.tag&1){if(r.flags|=2048,jo(9,ky.bind(null,r,n,s,t),void 0,null),qe===null)throw Error(G(349));rs&30||Sy(r,t,s)}return s}function Sy(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ky(e,t,r,n){t.value=r,t.getSnapshot=n,Cy(t)&&Ty(e)}function Ey(e,t,r){return r(function(){Cy(t)&&Ty(e)})}function Cy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!lr(e,r)}catch{return!0}}function Ty(e){var t=Fr(e,1);t!==null&&ar(t,e,1,-1)}function cm(e){var t=pr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=N2.bind(null,Ae,e),[t.memoizedState,e]}function jo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Py(){return Yt().memoizedState}function Ua(e,t,r,n){var s=pr();Ae.flags|=e,s.memoizedState=jo(1|t,r,void 0,n===void 0?null:n)}function Xl(e,t,r,n){var s=Yt();n=n===void 0?null:n;var o=void 0;if(Be!==null){var a=Be.memoizedState;if(o=a.destroy,n!==null&&ef(n,a.deps)){s.memoizedState=jo(t,r,o,n);return}}Ae.flags|=e,s.memoizedState=jo(1|t,r,o,n)}function um(e,t){return Ua(8390656,8,e,t)}function nf(e,t){return Xl(2048,8,e,t)}function Dy(e,t){return Xl(4,2,e,t)}function Ay(e,t){return Xl(4,4,e,t)}function Oy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ry(e,t,r){return r=r!=null?r.concat([e]):null,Xl(4,4,Oy.bind(null,t,e),r)}function sf(){}function Iy(e,t){var r=Yt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ef(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function My(e,t){var r=Yt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ef(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function _y(e,t,r){return rs&21?(lr(r,t)||(r=Bx(),Ae.lanes|=r,ns|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bt=!0),e.memoizedState=r)}function w2(e,t){var r=we;we=r!==0&&4>r?r:4,e(!0);var n=ru.transition;ru.transition={};try{e(!1),t()}finally{we=r,ru.transition=n}}function Ly(){return Yt().memoizedState}function j2(e,t,r){var n=xn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Fy(e))$y(t,r);else if(r=vy(e,t,r,n),r!==null){var s=mt();ar(r,e,n,s),zy(r,t,n)}}function N2(e,t,r){var n=xn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fy(e))$y(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,r);if(s.hasEagerState=!0,s.eagerState=l,lr(l,a)){var c=t.interleaved;c===null?(s.next=s,Xh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=vy(e,t,s,n),r!==null&&(s=mt(),ar(r,e,n,s),zy(r,t,n))}}function Fy(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function $y(e,t){Yi=yl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function zy(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Mh(e,r)}}var vl={readContext:Gt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},S2={readContext:Gt,useCallback:function(e,t){return pr().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:um,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ua(4194308,4,Oy.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ua(4,2,e,t)},useMemo:function(e,t){var r=pr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=pr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=j2.bind(null,Ae,e),[n.memoizedState,e]},useRef:function(e){var t=pr();return e={current:e},t.memoizedState=e},useState:cm,useDebugValue:sf,useDeferredValue:function(e){return pr().memoizedState=e},useTransition:function(){var e=cm(!1),t=e[0];return e=w2.bind(null,e[1]),pr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ae,s=pr();if(Te){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),qe===null)throw Error(G(349));rs&30||Sy(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,um(Ey.bind(null,n,o,e),[e]),n.flags|=2048,jo(9,ky.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=pr(),t=qe.identifierPrefix;if(Te){var r=Dr,n=Pr;r=(n&~(1<<32-or(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=bo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=b2++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},k2={readContext:Gt,useCallback:Iy,useContext:Gt,useEffect:nf,useImperativeHandle:Ry,useInsertionEffect:Dy,useLayoutEffect:Ay,useMemo:My,useReducer:nu,useRef:Py,useState:function(){return nu(wo)},useDebugValue:sf,useDeferredValue:function(e){var t=Yt();return _y(t,Be.memoizedState,e)},useTransition:function(){var e=nu(wo)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:jy,useSyncExternalStore:Ny,useId:Ly,unstable_isNewReconciler:!1},E2={readContext:Gt,useCallback:Iy,useContext:Gt,useEffect:nf,useImperativeHandle:Ry,useInsertionEffect:Dy,useLayoutEffect:Ay,useMemo:My,useReducer:su,useRef:Py,useState:function(){return su(wo)},useDebugValue:sf,useDeferredValue:function(e){var t=Yt();return Be===null?t.memoizedState=e:_y(t,Be.memoizedState,e)},useTransition:function(){var e=su(wo)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:jy,useSyncExternalStore:Ny,useId:Ly,unstable_isNewReconciler:!1};function nr(e,t){if(e&&e.defaultProps){t=Oe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function bd(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Oe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Kl={isMounted:function(e){return(e=e._reactInternals)?ds(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=mt(),s=xn(e),o=Or(n,s);o.payload=t,r!=null&&(o.callback=r),t=mn(e,o,s),t!==null&&(ar(t,e,s,n),za(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=mt(),s=xn(e),o=Or(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=mn(e,o,s),t!==null&&(ar(t,e,s,n),za(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=mt(),n=xn(e),s=Or(r,n);s.tag=2,t!=null&&(s.callback=t),t=mn(e,s,n),t!==null&&(ar(t,e,n,r),za(t,e,n))}};function dm(e,t,r,n,s,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!po(r,n)||!po(s,o):!0}function By(e,t,r){var n=!1,s=jn,o=t.contextType;return typeof o=="object"&&o!==null?o=Gt(o):(s=jt(t)?es:ct.current,n=t.contextTypes,o=(n=n!=null)?qs(e,s):jn),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Kl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function hm(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Kl.enqueueReplaceState(t,t.state,null)}function wd(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Kh(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Gt(o):(o=jt(t)?es:ct.current,s.context=qs(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(bd(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Kl.enqueueReplaceState(s,s.state,null),gl(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ks(e,t){try{var r="",n=t;do r+=eN(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function iu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function jd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var C2=typeof WeakMap=="function"?WeakMap:Map;function Uy(e,t,r){r=Or(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){wl||(wl=!0,Od=n),jd(e,t)},r}function Vy(e,t,r){r=Or(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){jd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){jd(e,t),typeof n!="function"&&(gn===null?gn=new Set([this]):gn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function fm(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new C2;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=B2.bind(null,e,t,r),t.then(e,e))}function pm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mm(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Or(-1,1),t.tag=2,mn(r,t,1))),r.lanes|=1),e)}var T2=Ur.ReactCurrentOwner,bt=!1;function ft(e,t,r,n){t.child=e===null?yy(t,null,r,n):Ys(t,e.child,r,n)}function gm(e,t,r,n,s){r=r.render;var o=t.ref;return Vs(t,s),n=tf(e,t,r,n,o,s),r=rf(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$r(e,t,s)):(Te&&r&&Vh(t),t.flags|=1,ft(e,t,n,s),t.child)}function xm(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!ff(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Wy(e,t,o,n,s)):(e=qa(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:po,r(a,n)&&e.ref===t.ref)return $r(e,t,s)}return t.flags|=1,e=yn(o,n),e.ref=t.ref,e.return=t,t.child=e}function Wy(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(po(o,n)&&e.ref===t.ref)if(bt=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(bt=!0);else return t.lanes=e.lanes,$r(e,t,s)}return Nd(e,t,r,n,s)}function Hy(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Rs,Tt),Tt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(Rs,Tt),Tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Se(Rs,Tt),Tt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Se(Rs,Tt),Tt|=n;return ft(e,t,s,r),t.child}function qy(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Nd(e,t,r,n,s){var o=jt(r)?es:ct.current;return o=qs(t,o),Vs(t,s),r=tf(e,t,r,n,o,s),n=rf(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$r(e,t,s)):(Te&&n&&Vh(t),t.flags|=1,ft(e,t,r,s),t.child)}function ym(e,t,r,n,s){if(jt(r)){var o=!0;dl(t)}else o=!1;if(Vs(t,s),t.stateNode===null)Va(e,t),By(t,r,n),wd(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,h=r.contextType;typeof h=="object"&&h!==null?h=Gt(h):(h=jt(r)?es:ct.current,h=qs(t,h));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==h)&&hm(t,a,n,h),Jr=!1;var f=t.memoizedState;a.state=f,gl(t,n,a,s),c=t.memoizedState,l!==n||f!==c||wt.current||Jr?(typeof u=="function"&&(bd(t,r,u,n),c=t.memoizedState),(l=Jr||dm(t,r,l,n,f,c,h))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=h,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,by(e,t),l=t.memoizedProps,h=t.type===t.elementType?l:nr(t.type,l),a.props=h,d=t.pendingProps,f=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Gt(c):(c=jt(r)?es:ct.current,c=qs(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==d||f!==c)&&hm(t,a,n,c),Jr=!1,f=t.memoizedState,a.state=f,gl(t,n,a,s);var m=t.memoizedState;l!==d||f!==m||wt.current||Jr?(typeof p=="function"&&(bd(t,r,p,n),m=t.memoizedState),(h=Jr||dm(t,r,h,n,f,m,c)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),a.props=n,a.state=m,a.context=c,n=h):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Sd(e,t,r,n,o,s)}function Sd(e,t,r,n,s,o){qy(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&nm(t,r,!1),$r(e,t,o);n=t.stateNode,T2.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Ys(t,e.child,null,o),t.child=Ys(t,null,l,o)):ft(e,t,l,o),t.memoizedState=n.state,s&&nm(t,r,!0),t.child}function Gy(e){var t=e.stateNode;t.pendingContext?rm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rm(e,t.context,!1),Qh(e,t.containerInfo)}function vm(e,t,r,n,s){return Gs(),Hh(s),t.flags|=256,ft(e,t,r,n),t.child}var kd={dehydrated:null,treeContext:null,retryLane:0};function Ed(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yy(e,t,r){var n=t.pendingProps,s=Pe.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Se(Pe,s&1),e===null)return yd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Zl(a,n,0,null),e=Qn(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ed(r),t.memoizedState=kd,e):of(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return P2(e,t,a,n,l,s,r);if(o){o=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=yn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=yn(l,o):(o=Qn(o,a,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,a=e.child.memoizedState,a=a===null?Ed(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~r,t.memoizedState=kd,n}return o=e.child,e=o.sibling,n=yn(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function of(e,t){return t=Zl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ya(e,t,r,n){return n!==null&&Hh(n),Ys(t,e.child,null,r),e=of(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function P2(e,t,r,n,s,o,a){if(r)return t.flags&256?(t.flags&=-257,n=iu(Error(G(422))),ya(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Zl({mode:"visible",children:n.children},s,0,null),o=Qn(o,s,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Ys(t,e.child,null,a),t.child.memoizedState=Ed(a),t.memoizedState=kd,o);if(!(t.mode&1))return ya(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(G(419)),n=iu(o,n,void 0),ya(e,t,a,n)}if(l=(a&e.childLanes)!==0,bt||l){if(n=qe,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Fr(e,s),ar(n,e,s,-1))}return hf(),n=iu(Error(G(421))),ya(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=U2.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Dt=pn(s.nextSibling),At=t,Te=!0,ir=null,e!==null&&(zt[Bt++]=Pr,zt[Bt++]=Dr,zt[Bt++]=ts,Pr=e.id,Dr=e.overflow,ts=t),t=of(t,n.children),t.flags|=4096,t)}function bm(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),vd(e.return,t,r)}function ou(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function Xy(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(ft(e,t,n.children,r),n=Pe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bm(e,r,t);else if(e.tag===19)bm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Se(Pe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&xl(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ou(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&xl(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ou(t,!0,r,null,o);break;case"together":ou(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Va(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $r(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ns|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=yn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=yn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function D2(e,t,r){switch(t.tag){case 3:Gy(t),Gs();break;case 5:wy(t);break;case 1:jt(t.type)&&dl(t);break;case 4:Qh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Se(pl,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Se(Pe,Pe.current&1),t.flags|=128,null):r&t.child.childLanes?Yy(e,t,r):(Se(Pe,Pe.current&1),e=$r(e,t,r),e!==null?e.sibling:null);Se(Pe,Pe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Xy(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Se(Pe,Pe.current),n)break;return null;case 22:case 23:return t.lanes=0,Hy(e,t,r)}return $r(e,t,r)}var Ky,Cd,Qy,Jy;Ky=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Cd=function(){};Qy=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,qn(vr.current);var o=null;switch(r){case"input":s=Xu(e,s),n=Xu(e,n),o=[];break;case"select":s=Oe({},s,{value:void 0}),n=Oe({},n,{value:void 0}),o=[];break;case"textarea":s=Ju(e,s),n=Ju(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=cl)}ed(r,n);var a;r=null;for(h in s)if(!n.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var l=s[h];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(oo.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in n){var c=n[h];if(l=s!=null?s[h]:void 0,n.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(h,r)),r=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(oo.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Ee("scroll",e),o||l===c||(o=[])):(o=o||[]).push(h,c))}r&&(o=o||[]).push("style",r);var h=o;(t.updateQueue=h)&&(t.flags|=4)}};Jy=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ti(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function A2(e,t,r){var n=t.pendingProps;switch(Wh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return jt(t.type)&&ul(),tt(t),null;case 3:return n=t.stateNode,Xs(),Ce(wt),Ce(ct),Zh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ga(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ir!==null&&(Md(ir),ir=null))),Cd(e,t),tt(t),null;case 5:Jh(t);var s=qn(vo.current);if(r=t.type,e!==null&&t.stateNode!=null)Qy(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return tt(t),null}if(e=qn(vr.current),ga(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[gr]=t,n[xo]=o,e=(t.mode&1)!==0,r){case"dialog":Ee("cancel",n),Ee("close",n);break;case"iframe":case"object":case"embed":Ee("load",n);break;case"video":case"audio":for(s=0;s<Fi.length;s++)Ee(Fi[s],n);break;case"source":Ee("error",n);break;case"img":case"image":case"link":Ee("error",n),Ee("load",n);break;case"details":Ee("toggle",n);break;case"input":Pp(n,o),Ee("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ee("invalid",n);break;case"textarea":Ap(n,o),Ee("invalid",n)}ed(r,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&ma(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&ma(n.textContent,l,e),s=["children",""+l]):oo.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ee("scroll",n)}switch(r){case"input":aa(n),Dp(n,o,!0);break;case"textarea":aa(n),Op(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=cl)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ex(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[gr]=t,e[xo]=n,Ky(e,t,!1,!1),t.stateNode=e;e:{switch(a=td(r,n),r){case"dialog":Ee("cancel",e),Ee("close",e),s=n;break;case"iframe":case"object":case"embed":Ee("load",e),s=n;break;case"video":case"audio":for(s=0;s<Fi.length;s++)Ee(Fi[s],e);s=n;break;case"source":Ee("error",e),s=n;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),s=n;break;case"details":Ee("toggle",e),s=n;break;case"input":Pp(e,n),s=Xu(e,n),Ee("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Oe({},n,{value:void 0}),Ee("invalid",e);break;case"textarea":Ap(e,n),s=Ju(e,n),Ee("invalid",e);break;default:s=n}ed(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Px(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Cx(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ao(e,c):typeof c=="number"&&ao(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(oo.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ee("scroll",e):c!=null&&Ph(e,o,c,a))}switch(r){case"input":aa(e),Dp(e,n,!1);break;case"textarea":aa(e),Op(e);break;case"option":n.value!=null&&e.setAttribute("value",""+wn(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?$s(e,!!n.multiple,o,!1):n.defaultValue!=null&&$s(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=cl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tt(t),null;case 6:if(e&&t.stateNode!=null)Jy(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=qn(vo.current),qn(vr.current),ga(t)){if(n=t.stateNode,r=t.memoizedProps,n[gr]=t,(o=n.nodeValue!==r)&&(e=At,e!==null))switch(e.tag){case 3:ma(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ma(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[gr]=t,t.stateNode=n}return tt(t),null;case 13:if(Ce(Pe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&Dt!==null&&t.mode&1&&!(t.flags&128))gy(),Gs(),t.flags|=98560,o=!1;else if(o=ga(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(G(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(G(317));o[gr]=t}else Gs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tt(t),o=!1}else ir!==null&&(Md(ir),ir=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Pe.current&1?Ue===0&&(Ue=3):hf())),t.updateQueue!==null&&(t.flags|=4),tt(t),null);case 4:return Xs(),Cd(e,t),e===null&&mo(t.stateNode.containerInfo),tt(t),null;case 10:return Yh(t.type._context),tt(t),null;case 17:return jt(t.type)&&ul(),tt(t),null;case 19:if(Ce(Pe),o=t.memoizedState,o===null)return tt(t),null;if(n=(t.flags&128)!==0,a=o.rendering,a===null)if(n)Ti(o,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=xl(e),a!==null){for(t.flags|=128,Ti(o,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Se(Pe,Pe.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ie()>Qs&&(t.flags|=128,n=!0,Ti(o,!1),t.lanes=4194304)}else{if(!n)if(e=xl(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ti(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Te)return tt(t),null}else 2*Ie()-o.renderingStartTime>Qs&&r!==1073741824&&(t.flags|=128,n=!0,Ti(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(r=o.last,r!==null?r.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ie(),t.sibling=null,r=Pe.current,Se(Pe,n?r&1|2:r&1),t):(tt(t),null);case 22:case 23:return df(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Tt&1073741824&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function O2(e,t){switch(Wh(t),t.tag){case 1:return jt(t.type)&&ul(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xs(),Ce(wt),Ce(ct),Zh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jh(t),null;case 13:if(Ce(Pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Gs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Pe),null;case 4:return Xs(),null;case 10:return Yh(t.type._context),null;case 22:case 23:return df(),null;case 24:return null;default:return null}}var va=!1,it=!1,R2=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Os(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Re(e,t,n)}else r.current=null}function Td(e,t,r){try{r()}catch(n){Re(e,t,n)}}var wm=!1;function I2(e,t){if(dd=ol,e=ny(),Uh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,h=0,u=0,d=e,f=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(l=a+s),d!==o||n!==0&&d.nodeType!==3||(c=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===r&&++h===s&&(l=a),f===o&&++u===n&&(c=a),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(hd={focusedElem:e,selectionRange:r},ol=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,b=m.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:nr(t.type,y),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(C){Re(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return m=wm,wm=!1,m}function Xi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Td(t,r,o)}s=s.next}while(s!==n)}}function Ql(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Pd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Zy(e){var t=e.alternate;t!==null&&(e.alternate=null,Zy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gr],delete t[xo],delete t[md],delete t[g2],delete t[x2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ev(e){return e.tag===5||e.tag===3||e.tag===4}function jm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ev(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=cl));else if(n!==4&&(e=e.child,e!==null))for(Dd(e,t,r),e=e.sibling;e!==null;)Dd(e,t,r),e=e.sibling}function Ad(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ad(e,t,r),e=e.sibling;e!==null;)Ad(e,t,r),e=e.sibling}var Xe=null,sr=!1;function Yr(e,t,r){for(r=r.child;r!==null;)tv(e,t,r),r=r.sibling}function tv(e,t,r){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(Vl,r)}catch{}switch(r.tag){case 5:it||Os(r,t);case 6:var n=Xe,s=sr;Xe=null,Yr(e,t,r),Xe=n,sr=s,Xe!==null&&(sr?(e=Xe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Xe.removeChild(r.stateNode));break;case 18:Xe!==null&&(sr?(e=Xe,r=r.stateNode,e.nodeType===8?Zc(e.parentNode,r):e.nodeType===1&&Zc(e,r),ho(e)):Zc(Xe,r.stateNode));break;case 4:n=Xe,s=sr,Xe=r.stateNode.containerInfo,sr=!0,Yr(e,t,r),Xe=n,sr=s;break;case 0:case 11:case 14:case 15:if(!it&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Td(r,t,a),s=s.next}while(s!==n)}Yr(e,t,r);break;case 1:if(!it&&(Os(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Re(r,t,l)}Yr(e,t,r);break;case 21:Yr(e,t,r);break;case 22:r.mode&1?(it=(n=it)||r.memoizedState!==null,Yr(e,t,r),it=n):Yr(e,t,r);break;default:Yr(e,t,r)}}function Nm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new R2),t.forEach(function(n){var s=V2.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Zt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Xe=l.stateNode,sr=!1;break e;case 3:Xe=l.stateNode.containerInfo,sr=!0;break e;case 4:Xe=l.stateNode.containerInfo,sr=!0;break e}l=l.return}if(Xe===null)throw Error(G(160));tv(o,a,s),Xe=null,sr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(h){Re(s,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rv(t,e),t=t.sibling}function rv(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zt(t,e),hr(e),n&4){try{Xi(3,e,e.return),Ql(3,e)}catch(y){Re(e,e.return,y)}try{Xi(5,e,e.return)}catch(y){Re(e,e.return,y)}}break;case 1:Zt(t,e),hr(e),n&512&&r!==null&&Os(r,r.return);break;case 5:if(Zt(t,e),hr(e),n&512&&r!==null&&Os(r,r.return),e.flags&32){var s=e.stateNode;try{ao(s,"")}catch(y){Re(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,a=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Sx(s,o),td(l,a);var h=td(l,o);for(a=0;a<c.length;a+=2){var u=c[a],d=c[a+1];u==="style"?Px(s,d):u==="dangerouslySetInnerHTML"?Cx(s,d):u==="children"?ao(s,d):Ph(s,u,d,h)}switch(l){case"input":Ku(s,o);break;case"textarea":kx(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?$s(s,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?$s(s,!!o.multiple,o.defaultValue,!0):$s(s,!!o.multiple,o.multiple?[]:"",!1))}s[xo]=o}catch(y){Re(e,e.return,y)}}break;case 6:if(Zt(t,e),hr(e),n&4){if(e.stateNode===null)throw Error(G(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(y){Re(e,e.return,y)}}break;case 3:if(Zt(t,e),hr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ho(t.containerInfo)}catch(y){Re(e,e.return,y)}break;case 4:Zt(t,e),hr(e);break;case 13:Zt(t,e),hr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(cf=Ie())),n&4&&Nm(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(it=(h=it)||u,Zt(t,e),it=h):Zt(t,e),hr(e),n&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!u&&e.mode&1)for(Q=e,u=e.child;u!==null;){for(d=Q=u;Q!==null;){switch(f=Q,p=f.child,f.tag){case 0:case 11:case 14:case 15:Xi(4,f,f.return);break;case 1:Os(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){Re(n,r,y)}}break;case 5:Os(f,f.return);break;case 22:if(f.memoizedState!==null){km(d);continue}}p!==null?(p.return=f,Q=p):km(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,h?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Tx("display",a))}catch(y){Re(e,e.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(y){Re(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Zt(t,e),hr(e),n&4&&Nm(e);break;case 21:break;default:Zt(t,e),hr(e)}}function hr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ev(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ao(s,""),n.flags&=-33);var o=jm(e);Ad(e,o,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=jm(e);Dd(e,l,a);break;default:throw Error(G(161))}}catch(c){Re(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function M2(e,t,r){Q=e,nv(e)}function nv(e,t,r){for(var n=(e.mode&1)!==0;Q!==null;){var s=Q,o=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||va;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||it;l=va;var h=it;if(va=a,(it=c)&&!h)for(Q=s;Q!==null;)a=Q,c=a.child,a.tag===22&&a.memoizedState!==null?Em(s):c!==null?(c.return=a,Q=c):Em(s);for(;o!==null;)Q=o,nv(o),o=o.sibling;Q=s,va=l,it=h}Sm(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Q=o):Sm(e)}}function Sm(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||Ql(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!it)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:nr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&lm(t,o,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}lm(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var u=h.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&ho(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}it||t.flags&512&&Pd(t)}catch(f){Re(t,t.return,f)}}if(t===e){Q=null;break}if(r=t.sibling,r!==null){r.return=t.return,Q=r;break}Q=t.return}}function km(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Q=r;break}Q=t.return}}function Em(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ql(4,t)}catch(c){Re(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Re(t,s,c)}}var o=t.return;try{Pd(t)}catch(c){Re(t,o,c)}break;case 5:var a=t.return;try{Pd(t)}catch(c){Re(t,a,c)}}}catch(c){Re(t,t.return,c)}if(t===e){Q=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Q=l;break}Q=t.return}}var _2=Math.ceil,bl=Ur.ReactCurrentDispatcher,af=Ur.ReactCurrentOwner,qt=Ur.ReactCurrentBatchConfig,pe=0,qe=null,Fe=null,Ke=0,Tt=0,Rs=Cn(0),Ue=0,No=null,ns=0,Jl=0,lf=0,Ki=null,yt=null,cf=0,Qs=1/0,Cr=null,wl=!1,Od=null,gn=null,ba=!1,on=null,jl=0,Qi=0,Rd=null,Wa=-1,Ha=0;function mt(){return pe&6?Ie():Wa!==-1?Wa:Wa=Ie()}function xn(e){return e.mode&1?pe&2&&Ke!==0?Ke&-Ke:v2.transition!==null?(Ha===0&&(Ha=Bx()),Ha):(e=we,e!==0||(e=window.event,e=e===void 0?16:Yx(e.type)),e):1}function ar(e,t,r,n){if(50<Qi)throw Qi=0,Rd=null,Error(G(185));Io(e,r,n),(!(pe&2)||e!==qe)&&(e===qe&&(!(pe&2)&&(Jl|=r),Ue===4&&tn(e,Ke)),Nt(e,n),r===1&&pe===0&&!(t.mode&1)&&(Qs=Ie()+500,Yl&&Tn()))}function Nt(e,t){var r=e.callbackNode;vN(e,t);var n=il(e,e===qe?Ke:0);if(n===0)r!==null&&Mp(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Mp(r),t===1)e.tag===0?y2(Cm.bind(null,e)):fy(Cm.bind(null,e)),p2(function(){!(pe&6)&&Tn()}),r=null;else{switch(Ux(n)){case 1:r=Ih;break;case 4:r=$x;break;case 16:r=sl;break;case 536870912:r=zx;break;default:r=sl}r=dv(r,sv.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sv(e,t){if(Wa=-1,Ha=0,pe&6)throw Error(G(327));var r=e.callbackNode;if(Ws()&&e.callbackNode!==r)return null;var n=il(e,e===qe?Ke:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Nl(e,n);else{t=n;var s=pe;pe|=2;var o=ov();(qe!==e||Ke!==t)&&(Cr=null,Qs=Ie()+500,Kn(e,t));do try{$2();break}catch(l){iv(e,l)}while(!0);Gh(),bl.current=o,pe=s,Fe!==null?t=0:(qe=null,Ke=0,t=Ue)}if(t!==0){if(t===2&&(s=od(e),s!==0&&(n=s,t=Id(e,s))),t===1)throw r=No,Kn(e,0),tn(e,n),Nt(e,Ie()),r;if(t===6)tn(e,n);else{if(s=e.current.alternate,!(n&30)&&!L2(s)&&(t=Nl(e,n),t===2&&(o=od(e),o!==0&&(n=o,t=Id(e,o))),t===1))throw r=No,Kn(e,0),tn(e,n),Nt(e,Ie()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:$n(e,yt,Cr);break;case 3:if(tn(e,n),(n&130023424)===n&&(t=cf+500-Ie(),10<t)){if(il(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){mt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=pd($n.bind(null,e,yt,Cr),t);break}$n(e,yt,Cr);break;case 4:if(tn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-or(n);o=1<<a,a=t[a],a>s&&(s=a),n&=~o}if(n=s,n=Ie()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_2(n/1960))-n,10<n){e.timeoutHandle=pd($n.bind(null,e,yt,Cr),n);break}$n(e,yt,Cr);break;case 5:$n(e,yt,Cr);break;default:throw Error(G(329))}}}return Nt(e,Ie()),e.callbackNode===r?sv.bind(null,e):null}function Id(e,t){var r=Ki;return e.current.memoizedState.isDehydrated&&(Kn(e,t).flags|=256),e=Nl(e,t),e!==2&&(t=yt,yt=r,t!==null&&Md(t)),e}function Md(e){yt===null?yt=e:yt.push.apply(yt,e)}function L2(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!lr(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tn(e,t){for(t&=~lf,t&=~Jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-or(t),n=1<<r;e[r]=-1,t&=~n}}function Cm(e){if(pe&6)throw Error(G(327));Ws();var t=il(e,0);if(!(t&1))return Nt(e,Ie()),null;var r=Nl(e,t);if(e.tag!==0&&r===2){var n=od(e);n!==0&&(t=n,r=Id(e,n))}if(r===1)throw r=No,Kn(e,0),tn(e,t),Nt(e,Ie()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$n(e,yt,Cr),Nt(e,Ie()),null}function uf(e,t){var r=pe;pe|=1;try{return e(t)}finally{pe=r,pe===0&&(Qs=Ie()+500,Yl&&Tn())}}function ss(e){on!==null&&on.tag===0&&!(pe&6)&&Ws();var t=pe;pe|=1;var r=qt.transition,n=we;try{if(qt.transition=null,we=1,e)return e()}finally{we=n,qt.transition=r,pe=t,!(pe&6)&&Tn()}}function df(){Tt=Rs.current,Ce(Rs)}function Kn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,f2(r)),Fe!==null)for(r=Fe.return;r!==null;){var n=r;switch(Wh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ul();break;case 3:Xs(),Ce(wt),Ce(ct),Zh();break;case 5:Jh(n);break;case 4:Xs();break;case 13:Ce(Pe);break;case 19:Ce(Pe);break;case 10:Yh(n.type._context);break;case 22:case 23:df()}r=r.return}if(qe=e,Fe=e=yn(e.current,null),Ke=Tt=t,Ue=0,No=null,lf=Jl=ns=0,yt=Ki=null,Hn!==null){for(t=0;t<Hn.length;t++)if(r=Hn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=s,n.next=a}r.pending=n}Hn=null}return e}function iv(e,t){do{var r=Fe;try{if(Gh(),Ba.current=vl,yl){for(var n=Ae.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}yl=!1}if(rs=0,He=Be=Ae=null,Yi=!1,bo=0,af.current=null,r===null||r.return===null){Ue=1,No=t,Fe=null;break}e:{var o=e,a=r.return,l=r,c=t;if(t=Ke,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,u=l,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=pm(a);if(p!==null){p.flags&=-257,mm(p,a,l,o,t),p.mode&1&&fm(o,h,t),t=p,c=h;var m=t.updateQueue;if(m===null){var y=new Set;y.add(c),t.updateQueue=y}else m.add(c);break e}else{if(!(t&1)){fm(o,h,t),hf();break e}c=Error(G(426))}}else if(Te&&l.mode&1){var b=pm(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),mm(b,a,l,o,t),Hh(Ks(c,l));break e}}o=c=Ks(c,l),Ue!==4&&(Ue=2),Ki===null?Ki=[o]:Ki.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=Uy(o,c,t);am(o,g);break e;case 1:l=c;var v=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(gn===null||!gn.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var C=Vy(o,l,t);am(o,C);break e}}o=o.return}while(o!==null)}lv(r)}catch(R){t=R,Fe===r&&r!==null&&(Fe=r=r.return);continue}break}while(!0)}function ov(){var e=bl.current;return bl.current=vl,e===null?vl:e}function hf(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),qe===null||!(ns&268435455)&&!(Jl&268435455)||tn(qe,Ke)}function Nl(e,t){var r=pe;pe|=2;var n=ov();(qe!==e||Ke!==t)&&(Cr=null,Kn(e,t));do try{F2();break}catch(s){iv(e,s)}while(!0);if(Gh(),pe=r,bl.current=n,Fe!==null)throw Error(G(261));return qe=null,Ke=0,Ue}function F2(){for(;Fe!==null;)av(Fe)}function $2(){for(;Fe!==null&&!uN();)av(Fe)}function av(e){var t=uv(e.alternate,e,Tt);e.memoizedProps=e.pendingProps,t===null?lv(e):Fe=t,af.current=null}function lv(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=O2(r,t),r!==null){r.flags&=32767,Fe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,Fe=null;return}}else if(r=A2(r,t,Tt),r!==null){Fe=r;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);Ue===0&&(Ue=5)}function $n(e,t,r){var n=we,s=qt.transition;try{qt.transition=null,we=1,z2(e,t,r,n)}finally{qt.transition=s,we=n}return null}function z2(e,t,r,n){do Ws();while(on!==null);if(pe&6)throw Error(G(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(bN(e,o),e===qe&&(Fe=qe=null,Ke=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ba||(ba=!0,dv(sl,function(){return Ws(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=qt.transition,qt.transition=null;var a=we;we=1;var l=pe;pe|=4,af.current=null,I2(e,r),rv(r,e),o2(hd),ol=!!dd,hd=dd=null,e.current=r,M2(r),dN(),pe=l,we=a,qt.transition=o}else e.current=r;if(ba&&(ba=!1,on=e,jl=s),o=e.pendingLanes,o===0&&(gn=null),pN(r.stateNode),Nt(e,Ie()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(wl)throw wl=!1,e=Od,Od=null,e;return jl&1&&e.tag!==0&&Ws(),o=e.pendingLanes,o&1?e===Rd?Qi++:(Qi=0,Rd=e):Qi=0,Tn(),null}function Ws(){if(on!==null){var e=Ux(jl),t=qt.transition,r=we;try{if(qt.transition=null,we=16>e?16:e,on===null)var n=!1;else{if(e=on,on=null,jl=0,pe&6)throw Error(G(331));var s=pe;for(pe|=4,Q=e.current;Q!==null;){var o=Q,a=o.child;if(Q.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(Q=h;Q!==null;){var u=Q;switch(u.tag){case 0:case 11:case 15:Xi(8,u,o)}var d=u.child;if(d!==null)d.return=u,Q=d;else for(;Q!==null;){u=Q;var f=u.sibling,p=u.return;if(Zy(u),u===h){Q=null;break}if(f!==null){f.return=p,Q=f;break}Q=p}}}var m=o.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}Q=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Q=a;else e:for(;Q!==null;){if(o=Q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Xi(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,Q=g;break e}Q=o.return}}var v=e.current;for(Q=v;Q!==null;){a=Q;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,Q=x;else e:for(a=v;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ql(9,l)}}catch(R){Re(l,l.return,R)}if(l===a){Q=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,Q=C;break e}Q=l.return}}if(pe=s,Tn(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(Vl,e)}catch{}n=!0}return n}finally{we=r,qt.transition=t}}return!1}function Tm(e,t,r){t=Ks(r,t),t=Uy(e,t,1),e=mn(e,t,1),t=mt(),e!==null&&(Io(e,1,t),Nt(e,t))}function Re(e,t,r){if(e.tag===3)Tm(e,e,r);else for(;t!==null;){if(t.tag===3){Tm(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(gn===null||!gn.has(n))){e=Ks(r,e),e=Vy(t,e,1),t=mn(t,e,1),e=mt(),t!==null&&(Io(t,1,e),Nt(t,e));break}}t=t.return}}function B2(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=mt(),e.pingedLanes|=e.suspendedLanes&r,qe===e&&(Ke&r)===r&&(Ue===4||Ue===3&&(Ke&130023424)===Ke&&500>Ie()-cf?Kn(e,0):lf|=r),Nt(e,t)}function cv(e,t){t===0&&(e.mode&1?(t=ua,ua<<=1,!(ua&130023424)&&(ua=4194304)):t=1);var r=mt();e=Fr(e,t),e!==null&&(Io(e,t,r),Nt(e,r))}function U2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),cv(e,r)}function V2(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),cv(e,r)}var uv;uv=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)bt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return bt=!1,D2(e,t,r);bt=!!(e.flags&131072)}else bt=!1,Te&&t.flags&1048576&&py(t,fl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Va(e,t),e=t.pendingProps;var s=qs(t,ct.current);Vs(t,r),s=tf(null,t,n,e,s,r);var o=rf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jt(n)?(o=!0,dl(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Kh(t),s.updater=Kl,t.stateNode=s,s._reactInternals=t,wd(t,n,e,r),t=Sd(null,t,n,!0,o,r)):(t.tag=0,Te&&o&&Vh(t),ft(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Va(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=H2(n),e=nr(n,e),s){case 0:t=Nd(null,t,n,e,r);break e;case 1:t=ym(null,t,n,e,r);break e;case 11:t=gm(null,t,n,e,r);break e;case 14:t=xm(null,t,n,nr(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nr(n,s),Nd(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nr(n,s),ym(e,t,n,s,r);case 3:e:{if(Gy(t),e===null)throw Error(G(387));n=t.pendingProps,o=t.memoizedState,s=o.element,by(e,t),gl(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Ks(Error(G(423)),t),t=vm(e,t,n,r,s);break e}else if(n!==s){s=Ks(Error(G(424)),t),t=vm(e,t,n,r,s);break e}else for(Dt=pn(t.stateNode.containerInfo.firstChild),At=t,Te=!0,ir=null,r=yy(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Gs(),n===s){t=$r(e,t,r);break e}ft(e,t,n,r)}t=t.child}return t;case 5:return wy(t),e===null&&yd(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,fd(n,s)?a=null:o!==null&&fd(n,o)&&(t.flags|=32),qy(e,t),ft(e,t,a,r),t.child;case 6:return e===null&&yd(t),null;case 13:return Yy(e,t,r);case 4:return Qh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ys(t,null,n,r):ft(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nr(n,s),gm(e,t,n,s,r);case 7:return ft(e,t,t.pendingProps,r),t.child;case 8:return ft(e,t,t.pendingProps.children,r),t.child;case 12:return ft(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,Se(pl,n._currentValue),n._currentValue=a,o!==null)if(lr(o.value,a)){if(o.children===s.children&&!wt.current){t=$r(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Or(-1,r&-r),c.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var u=h.pending;u===null?c.next=c:(c.next=u.next,u.next=c),h.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),vd(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(G(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),vd(a,r,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}ft(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Vs(t,r),s=Gt(s),n=n(s),t.flags|=1,ft(e,t,n,r),t.child;case 14:return n=t.type,s=nr(n,t.pendingProps),s=nr(n.type,s),xm(e,t,n,s,r);case 15:return Wy(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nr(n,s),Va(e,t),t.tag=1,jt(n)?(e=!0,dl(t)):e=!1,Vs(t,r),By(t,n,s),wd(t,n,s,r),Sd(null,t,n,!0,e,r);case 19:return Xy(e,t,r);case 22:return Hy(e,t,r)}throw Error(G(156,t.tag))};function dv(e,t){return Fx(e,t)}function W2(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,r,n){return new W2(e,t,r,n)}function ff(e){return e=e.prototype,!(!e||!e.isReactComponent)}function H2(e){if(typeof e=="function")return ff(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ah)return 11;if(e===Oh)return 14}return 2}function yn(e,t){var r=e.alternate;return r===null?(r=Ht(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function qa(e,t,r,n,s,o){var a=2;if(n=e,typeof e=="function")ff(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ns:return Qn(r.children,s,o,t);case Dh:a=8,s|=8;break;case Hu:return e=Ht(12,r,t,s|2),e.elementType=Hu,e.lanes=o,e;case qu:return e=Ht(13,r,t,s),e.elementType=qu,e.lanes=o,e;case Gu:return e=Ht(19,r,t,s),e.elementType=Gu,e.lanes=o,e;case wx:return Zl(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vx:a=10;break e;case bx:a=9;break e;case Ah:a=11;break e;case Oh:a=14;break e;case Qr:a=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Ht(a,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Qn(e,t,r,n){return e=Ht(7,e,n,t),e.lanes=r,e}function Zl(e,t,r,n){return e=Ht(22,e,n,t),e.elementType=wx,e.lanes=r,e.stateNode={isHidden:!1},e}function au(e,t,r){return e=Ht(6,e,null,t),e.lanes=r,e}function lu(e,t,r){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function q2(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uc(0),this.expirationTimes=Uc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uc(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pf(e,t,r,n,s,o,a,l,c){return e=new q2(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ht(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kh(o),e}function G2(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:js,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function hv(e){if(!e)return jn;e=e._reactInternals;e:{if(ds(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(jt(r))return hy(e,r,t)}return t}function fv(e,t,r,n,s,o,a,l,c){return e=pf(r,n,!0,e,s,o,a,l,c),e.context=hv(null),r=e.current,n=mt(),s=xn(r),o=Or(n,s),o.callback=t??null,mn(r,o,s),e.current.lanes=s,Io(e,s,n),Nt(e,n),e}function ec(e,t,r,n){var s=t.current,o=mt(),a=xn(s);return r=hv(r),t.context===null?t.context=r:t.pendingContext=r,t=Or(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=mn(s,t,a),e!==null&&(ar(e,s,a,o),za(e,s,a)),a}function Sl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function mf(e,t){Pm(e,t),(e=e.alternate)&&Pm(e,t)}function Y2(){return null}var pv=typeof reportError=="function"?reportError:function(e){console.error(e)};function gf(e){this._internalRoot=e}tc.prototype.render=gf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));ec(e,t,null,null)};tc.prototype.unmount=gf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ss(function(){ec(null,e,null,null)}),t[Lr]=null}};function tc(e){this._internalRoot=e}tc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hx();e={blockedOn:null,target:e,priority:t};for(var r=0;r<en.length&&t!==0&&t<en[r].priority;r++);en.splice(r,0,e),r===0&&Gx(e)}};function xf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function rc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Dm(){}function X2(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var h=Sl(a);o.call(h)}}var a=fv(t,n,e,0,null,!1,!1,"",Dm);return e._reactRootContainer=a,e[Lr]=a.current,mo(e.nodeType===8?e.parentNode:e),ss(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var h=Sl(c);l.call(h)}}var c=pf(e,0,!1,null,null,!1,!1,"",Dm);return e._reactRootContainer=c,e[Lr]=c.current,mo(e.nodeType===8?e.parentNode:e),ss(function(){ec(t,c,r,n)}),c}function nc(e,t,r,n,s){var o=r._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=Sl(a);l.call(c)}}ec(t,a,e,s)}else a=X2(r,t,e,s,n);return Sl(a)}Vx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Li(t.pendingLanes);r!==0&&(Mh(t,r|1),Nt(t,Ie()),!(pe&6)&&(Qs=Ie()+500,Tn()))}break;case 13:ss(function(){var n=Fr(e,1);if(n!==null){var s=mt();ar(n,e,1,s)}}),mf(e,1)}};_h=function(e){if(e.tag===13){var t=Fr(e,134217728);if(t!==null){var r=mt();ar(t,e,134217728,r)}mf(e,134217728)}};Wx=function(e){if(e.tag===13){var t=xn(e),r=Fr(e,t);if(r!==null){var n=mt();ar(r,e,t,n)}mf(e,t)}};Hx=function(){return we};qx=function(e,t){var r=we;try{return we=e,t()}finally{we=r}};nd=function(e,t,r){switch(t){case"input":if(Ku(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Gl(n);if(!s)throw Error(G(90));Nx(n),Ku(n,s)}}}break;case"textarea":kx(e,r);break;case"select":t=r.value,t!=null&&$s(e,!!r.multiple,t,!1)}};Ox=uf;Rx=ss;var K2={usingClientEntryPoint:!1,Events:[_o,Cs,Gl,Dx,Ax,uf]},Pi={findFiberByHostInstance:Wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q2={bundleType:Pi.bundleType,version:Pi.version,rendererPackageName:Pi.rendererPackageName,rendererConfig:Pi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_x(e),e===null?null:e.stateNode},findFiberByHostInstance:Pi.findFiberByHostInstance||Y2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wa.isDisabled&&wa.supportsFiber)try{Vl=wa.inject(Q2),yr=wa}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K2;It.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xf(t))throw Error(G(200));return G2(e,t,null,r)};It.createRoot=function(e,t){if(!xf(e))throw Error(G(299));var r=!1,n="",s=pv;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=pf(e,1,!1,null,null,r,!1,n,s),e[Lr]=t.current,mo(e.nodeType===8?e.parentNode:e),new gf(t)};It.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=_x(t),e=e===null?null:e.stateNode,e};It.flushSync=function(e){return ss(e)};It.hydrate=function(e,t,r){if(!rc(t))throw Error(G(200));return nc(null,e,t,!0,r)};It.hydrateRoot=function(e,t,r){if(!xf(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",a=pv;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=fv(t,null,e,1,r??null,s,!1,o,a),e[Lr]=t.current,mo(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new tc(t)};It.render=function(e,t,r){if(!rc(t))throw Error(G(200));return nc(null,e,t,!1,r)};It.unmountComponentAtNode=function(e){if(!rc(e))throw Error(G(40));return e._reactRootContainer?(ss(function(){nc(null,null,e,!1,function(){e._reactRootContainer=null,e[Lr]=null})}),!0):!1};It.unstable_batchedUpdates=uf;It.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!rc(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return nc(e,t,r,!1,n)};It.version="18.3.1-next-f1338f8080-20240426";function mv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mv)}catch(e){console.error(e)}}mv(),mx.exports=It;var J2=mx.exports,Am=J2;Vu.createRoot=Am.createRoot,Vu.hydrateRoot=Am.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},So.apply(this,arguments)}var an;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(an||(an={}));const Om="popstate";function Z2(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:a,hash:l}=n.location;return _d("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:kl(s)}return tS(t,r,null,e)}function _e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eS(){return Math.random().toString(36).substr(2,8)}function Rm(e,t){return{usr:e.state,key:e.key,idx:t}}function _d(e,t,r,n){return r===void 0&&(r=null),So({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?di(t):t,{state:r,key:t&&t.key||n||eS()})}function kl(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function di(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function tS(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,a=s.history,l=an.Pop,c=null,h=u();h==null&&(h=0,a.replaceState(So({},a.state,{idx:h}),""));function u(){return(a.state||{idx:null}).idx}function d(){l=an.Pop;let b=u(),g=b==null?null:b-h;h=b,c&&c({action:l,location:y.location,delta:g})}function f(b,g){l=an.Push;let v=_d(y.location,b,g);h=u()+1;let x=Rm(v,h),C=y.createHref(v);try{a.pushState(x,"",C)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(C)}o&&c&&c({action:l,location:y.location,delta:1})}function p(b,g){l=an.Replace;let v=_d(y.location,b,g);h=u();let x=Rm(v,h),C=y.createHref(v);a.replaceState(x,"",C),o&&c&&c({action:l,location:y.location,delta:0})}function m(b){let g=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof b=="string"?b:kl(b);return v=v.replace(/ $/,"%20"),_e(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return l},get location(){return e(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Om,d),c=b,()=>{s.removeEventListener(Om,d),c=null}},createHref(b){return t(s,b)},createURL:m,encodeLocation(b){let g=m(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(b){return a.go(b)}};return y}var Im;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Im||(Im={}));function rS(e,t,r){return r===void 0&&(r="/"),nS(e,t,r)}function nS(e,t,r,n){let s=typeof t=="string"?di(t):t,o=yf(s.pathname||"/",r);if(o==null)return null;let a=xv(e);sS(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let h=gS(o);l=fS(a[c],h)}return l}function xv(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(_e(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let h=vn([n,c.relativePath]),u=r.concat(c);o.children&&o.children.length>0&&(_e(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),xv(o.children,t,u,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:dS(h,o.index),routesMeta:u})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of yv(o.path))s(o,a,c)}),t}function yv(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let a=yv(n.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function sS(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:hS(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const iS=/^:[\w-]+$/,oS=3,aS=2,lS=1,cS=10,uS=-2,Mm=e=>e==="*";function dS(e,t){let r=e.split("/"),n=r.length;return r.some(Mm)&&(n+=uS),t&&(n+=aS),r.filter(s=>!Mm(s)).reduce((s,o)=>s+(iS.test(o)?oS:o===""?lS:cS),n)}function hS(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function fS(e,t,r){let{routesMeta:n}=e,s={},o="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],h=l===n.length-1,u=o==="/"?t:t.slice(o.length)||"/",d=pS({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},u),f=c.route;if(!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:vn([o,d.pathname]),pathnameBase:bS(vn([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=vn([o,d.pathnameBase]))}return a}function pS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=mS(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((h,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let y=l[d]||"";a=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const m=l[d];return p&&!m?h[f]=void 0:h[f]=(m||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:a,pattern:e}}function mS(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),gv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function gS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function yf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function xS(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?di(e):e;return{pathname:r?r.startsWith("/")?r:yS(r,t):t,search:wS(n),hash:jS(s)}}function yS(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function cu(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vS(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function vf(e,t){let r=vS(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function bf(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=di(e):(s=So({},e),_e(!s.pathname||!s.pathname.includes("?"),cu("?","pathname","search",s)),_e(!s.pathname||!s.pathname.includes("#"),cu("#","pathname","hash",s)),_e(!s.search||!s.search.includes("#"),cu("#","search","hash",s)));let o=e===""||s.pathname==="",a=o?"/":s.pathname,l;if(a==null)l=r;else{let d=t.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}l=d>=0?t[d]:"/"}let c=xS(s,l),h=a&&a!=="/"&&a.endsWith("/"),u=(o||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(h||u)&&(c.pathname+="/"),c}const vn=e=>e.join("/").replace(/\/\/+/g,"/"),bS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function NS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const vv=["post","put","patch","delete"];new Set(vv);const SS=["get",...vv];new Set(SS);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ko(){return ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ko.apply(this,arguments)}const wf=E.createContext(null),kS=E.createContext(null),Pn=E.createContext(null),sc=E.createContext(null),Vr=E.createContext({outlet:null,matches:[],isDataRoute:!1}),bv=E.createContext(null);function ES(e,t){let{relative:r}=t===void 0?{}:t;hi()||_e(!1);let{basename:n,navigator:s}=E.useContext(Pn),{hash:o,pathname:a,search:l}=Nv(e,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:vn([n,a])),s.createHref({pathname:c,search:l,hash:o})}function hi(){return E.useContext(sc)!=null}function hs(){return hi()||_e(!1),E.useContext(sc).location}function wv(e){E.useContext(Pn).static||E.useLayoutEffect(e)}function ic(){let{isDataRoute:e}=E.useContext(Vr);return e?$S():CS()}function CS(){hi()||_e(!1);let e=E.useContext(wf),{basename:t,future:r,navigator:n}=E.useContext(Pn),{matches:s}=E.useContext(Vr),{pathname:o}=hs(),a=JSON.stringify(vf(s,r.v7_relativeSplatPath)),l=E.useRef(!1);return wv(()=>{l.current=!0}),E.useCallback(function(h,u){if(u===void 0&&(u={}),!l.current)return;if(typeof h=="number"){n.go(h);return}let d=bf(h,JSON.parse(a),o,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:vn([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,a,o,e])}function jv(){let{matches:e}=E.useContext(Vr),t=e[e.length-1];return t?t.params:{}}function Nv(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=E.useContext(Pn),{matches:s}=E.useContext(Vr),{pathname:o}=hs(),a=JSON.stringify(vf(s,n.v7_relativeSplatPath));return E.useMemo(()=>bf(e,JSON.parse(a),o,r==="path"),[e,a,o,r])}function TS(e,t){return PS(e,t)}function PS(e,t,r,n){hi()||_e(!1);let{navigator:s}=E.useContext(Pn),{matches:o}=E.useContext(Vr),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let h=hs(),u;if(t){var d;let b=typeof t=="string"?di(t):t;c==="/"||(d=b.pathname)!=null&&d.startsWith(c)||_e(!1),u=b}else u=h;let f=u.pathname||"/",p=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=rS(e,{pathname:p}),y=IS(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:vn([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:vn([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,r,n);return t&&y?E.createElement(sc.Provider,{value:{location:ko({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:an.Pop}},y):y}function DS(){let e=FS(),t=NS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),r?E.createElement("pre",{style:s},r):null,null)}const AS=E.createElement(DS,null);class OS extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?E.createElement(Vr.Provider,{value:this.props.routeContext},E.createElement(bv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RS(e){let{routeContext:t,match:r,children:n}=e,s=E.useContext(wf);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),E.createElement(Vr.Provider,{value:t},n)}function IS(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let u=a.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);u>=0||_e(!1),a=a.slice(0,Math.min(a.length,u+1))}let c=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(h=u),d.route.id){let{loaderData:f,errors:p}=r,m=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((u,d,f)=>{let p,m=!1,y=null,b=null;r&&(p=l&&d.route.id?l[d.route.id]:void 0,y=d.route.errorElement||AS,c&&(h<0&&f===0?(zS("route-fallback"),m=!0,b=null):h===f&&(m=!0,b=d.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,f+1)),v=()=>{let x;return p?x=y:m?x=b:d.route.Component?x=E.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=u,E.createElement(RS,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:r!=null},children:x})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?E.createElement(OS,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var Sv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Sv||{}),kv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(kv||{});function MS(e){let t=E.useContext(wf);return t||_e(!1),t}function _S(e){let t=E.useContext(kS);return t||_e(!1),t}function LS(e){let t=E.useContext(Vr);return t||_e(!1),t}function Ev(e){let t=LS(),r=t.matches[t.matches.length-1];return r.route.id||_e(!1),r.route.id}function FS(){var e;let t=E.useContext(bv),r=_S(),n=Ev();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function $S(){let{router:e}=MS(Sv.UseNavigateStable),t=Ev(kv.UseNavigateStable),r=E.useRef(!1);return wv(()=>{r.current=!0}),E.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ko({fromRouteId:t},o)))},[e,t])}const _m={};function zS(e,t,r){_m[e]||(_m[e]=!0)}function BS(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ct(e){let{to:t,replace:r,state:n,relative:s}=e;hi()||_e(!1);let{future:o,static:a}=E.useContext(Pn),{matches:l}=E.useContext(Vr),{pathname:c}=hs(),h=ic(),u=bf(t,vf(l,o.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(u);return E.useEffect(()=>h(JSON.parse(d),{replace:r,state:n,relative:s}),[h,d,s,r,n]),null}function rt(e){_e(!1)}function US(e){let{basename:t="/",children:r=null,location:n,navigationType:s=an.Pop,navigator:o,static:a=!1,future:l}=e;hi()&&_e(!1);let c=t.replace(/^\/*/,"/"),h=E.useMemo(()=>({basename:c,navigator:o,static:a,future:ko({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof n=="string"&&(n=di(n));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:m="default"}=n,y=E.useMemo(()=>{let b=yf(u,c);return b==null?null:{location:{pathname:b,search:d,hash:f,state:p,key:m},navigationType:s}},[c,u,d,f,p,m,s]);return y==null?null:E.createElement(Pn.Provider,{value:h},E.createElement(sc.Provider,{children:r,value:y}))}function VS(e){let{children:t,location:r}=e;return TS(Ld(t),r)}new Promise(()=>{});function Ld(e,t){t===void 0&&(t=[]);let r=[];return E.Children.forEach(e,(n,s)=>{if(!E.isValidElement(n))return;let o=[...t,s];if(n.type===E.Fragment){r.push.apply(r,Ld(n.props.children,o));return}n.type!==rt&&_e(!1),!n.props.index||!n.props.children||_e(!1);let a={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Ld(n.props.children,o)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fd.apply(this,arguments)}function WS(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function HS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qS(e,t){return e.button===0&&(!t||t==="_self")&&!HS(e)}function $d(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function GS(e,t){let r=$d(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}const YS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],XS="6";try{window.__reactRouterVersion=XS}catch{}const KS="startTransition",Lm=Bj[KS];function QS(e){let{basename:t,children:r,future:n,window:s}=e,o=E.useRef();o.current==null&&(o.current=Z2({window:s,v5Compat:!0}));let a=o.current,[l,c]=E.useState({action:a.action,location:a.location}),{v7_startTransition:h}=n||{},u=E.useCallback(d=>{h&&Lm?Lm(()=>c(d)):c(d)},[c,h]);return E.useLayoutEffect(()=>a.listen(u),[a,u]),E.useEffect(()=>BS(n),[n]),E.createElement(US,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const JS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,be=E.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:h,preventScrollReset:u,viewTransition:d}=t,f=WS(t,YS),{basename:p}=E.useContext(Pn),m,y=!1;if(typeof h=="string"&&ZS.test(h)&&(m=h,JS))try{let x=new URL(window.location.href),C=h.startsWith("//")?new URL(x.protocol+h):new URL(h),R=yf(C.pathname,p);C.origin===x.origin&&R!=null?h=R+C.search+C.hash:y=!0}catch{}let b=ES(h,{relative:s}),g=ek(h,{replace:a,state:l,target:c,preventScrollReset:u,relative:s,viewTransition:d});function v(x){n&&n(x),x.defaultPrevented||g(x)}return E.createElement("a",Fd({},f,{href:m||b,onClick:y||o?n:v,ref:r,target:c}))});var Fm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fm||(Fm={}));var $m;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($m||($m={}));function ek(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:a,viewTransition:l}=t===void 0?{}:t,c=ic(),h=hs(),u=Nv(e,{relative:a});return E.useCallback(d=>{if(qS(d,r)){d.preventDefault();let f=n!==void 0?n:kl(h)===kl(u);c(e,{replace:f,state:s,preventScrollReset:o,relative:a,viewTransition:l})}},[h,c,u,n,s,r,e,o,a,l])}function Cv(e){let t=E.useRef($d(e)),r=E.useRef(!1),n=hs(),s=E.useMemo(()=>GS(n.search,r.current?null:t.current),[n.search]),o=ic(),a=E.useCallback((l,c)=>{const h=$d(typeof l=="function"?l(s):l);r.current=!0,o("?"+h,c)},[o,s]);return[s,a]}const tk=E.createContext({dragDropManager:void 0});function Lt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var zm=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Bm=function(){return Math.random().toString(36).substring(7).split("").join(".")},Um={INIT:"@@redux/INIT"+Bm(),REPLACE:"@@redux/REPLACE"+Bm()};function rk(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Tv(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Lt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Lt(1));return r(Tv)(e,t)}if(typeof e!="function")throw new Error(Lt(2));var s=e,o=t,a=[],l=a,c=!1;function h(){l===a&&(l=a.slice())}function u(){if(c)throw new Error(Lt(3));return o}function d(y){if(typeof y!="function")throw new Error(Lt(4));if(c)throw new Error(Lt(5));var b=!0;return h(),l.push(y),function(){if(b){if(c)throw new Error(Lt(6));b=!1,h();var v=l.indexOf(y);l.splice(v,1),a=null}}}function f(y){if(!rk(y))throw new Error(Lt(7));if(typeof y.type>"u")throw new Error(Lt(8));if(c)throw new Error(Lt(9));try{c=!0,o=s(o,y)}finally{c=!1}for(var b=a=l,g=0;g<b.length;g++){var v=b[g];v()}return y}function p(y){if(typeof y!="function")throw new Error(Lt(10));s=y,f({type:Um.REPLACE})}function m(){var y,b=d;return y={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(Lt(11));function x(){v.next&&v.next(u())}x();var C=b(x);return{unsubscribe:C}}},y[zm]=function(){return this},y}return f({type:Um.INIT}),n={dispatch:f,subscribe:d,getState:u,replaceReducer:p},n[zm]=m,n}function fe(e,t,...r){if(nk()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let n;if(t===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;n=new Error(t.replace(/%s/g,function(){return r[s++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function nk(){return typeof process<"u"&&!0}function sk(e,t,r){return t.split(".").reduce((n,s)=>n&&n[s]?n[s]:r||null,e)}function ik(e,t){return e.filter(r=>r!==t)}function Pv(e){return typeof e=="object"}function ok(e,t){const r=new Map,n=o=>{r.set(o,r.has(o)?r.get(o)+1:1)};e.forEach(n),t.forEach(n);const s=[];return r.forEach((o,a)=>{o===1&&s.push(a)}),s}function ak(e,t){return e.filter(r=>t.indexOf(r)>-1)}const jf="dnd-core/INIT_COORDS",oc="dnd-core/BEGIN_DRAG",Nf="dnd-core/PUBLISH_DRAG_SOURCE",ac="dnd-core/HOVER",lc="dnd-core/DROP",cc="dnd-core/END_DRAG";function Vm(e,t){return{type:jf,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const lk={type:jf,payload:{clientOffset:null,sourceClientOffset:null}};function ck(e){return function(r=[],n={publishSource:!0}){const{publishSource:s=!0,clientOffset:o,getSourceClientOffset:a}=n,l=e.getMonitor(),c=e.getRegistry();e.dispatch(Vm(o)),uk(r,l,c);const h=fk(r,l);if(h==null){e.dispatch(lk);return}let u=null;if(o){if(!a)throw new Error("getSourceClientOffset must be defined");dk(a),u=a(h)}e.dispatch(Vm(o,u));const f=c.getSource(h).beginDrag(l,h);if(f==null)return;hk(f),c.pinSource(h);const p=c.getSourceType(h);return{type:oc,payload:{itemType:p,item:f,sourceId:h,clientOffset:o||null,sourceClientOffset:u||null,isSourcePublic:!!s}}}}function uk(e,t,r){fe(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(n){fe(r.getSource(n),"Expected sourceIds to be registered.")})}function dk(e){fe(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function hk(e){fe(Pv(e),"Item must be an object.")}function fk(e,t){let r=null;for(let n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}function pk(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){pk(e,s,r[s])})}return e}function gk(e){return function(r={}){const n=e.getMonitor(),s=e.getRegistry();xk(n),bk(n).forEach((a,l)=>{const c=yk(a,l,s,n),h={type:lc,payload:{dropResult:mk({},r,c)}};e.dispatch(h)})}}function xk(e){fe(e.isDragging(),"Cannot call drop while not dragging."),fe(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function yk(e,t,r,n){const s=r.getTarget(e);let o=s?s.drop(n,e):void 0;return vk(o),typeof o>"u"&&(o=t===0?{}:n.getDropResult()),o}function vk(e){fe(typeof e>"u"||Pv(e),"Drop result must either be an object or undefined.")}function bk(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function wk(e){return function(){const r=e.getMonitor(),n=e.getRegistry();jk(r);const s=r.getSourceId();return s!=null&&(n.getSource(s,!0).endDrag(r,s),n.unpinSource()),{type:cc}}}function jk(e){fe(e.isDragging(),"Cannot call endDrag while not dragging.")}function zd(e,t){return t===null?e===null:Array.isArray(e)?e.some(r=>r===t):e===t}function Nk(e){return function(r,{clientOffset:n}={}){Sk(r);const s=r.slice(0),o=e.getMonitor(),a=e.getRegistry(),l=o.getItemType();return Ek(s,a,l),kk(s,o,a),Ck(s,o,a),{type:ac,payload:{targetIds:s,clientOffset:n||null}}}}function Sk(e){fe(Array.isArray(e),"Expected targetIds to be an array.")}function kk(e,t,r){fe(t.isDragging(),"Cannot call hover while not dragging."),fe(!t.didDrop(),"Cannot call hover after drop.");for(let n=0;n<e.length;n++){const s=e[n];fe(e.lastIndexOf(s)===n,"Expected targetIds to be unique in the passed array.");const o=r.getTarget(s);fe(o,"Expected targetIds to be registered.")}}function Ek(e,t,r){for(let n=e.length-1;n>=0;n--){const s=e[n],o=t.getTargetType(s);zd(o,r)||e.splice(n,1)}}function Ck(e,t,r){e.forEach(function(n){r.getTarget(n).hover(t,n)})}function Tk(e){return function(){if(e.getMonitor().isDragging())return{type:Nf}}}function Pk(e){return{beginDrag:ck(e),publishDragSource:Tk(e),hover:Nk(e),drop:gk(e),endDrag:wk(e)}}class Dk{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:r}=this.store;function n(o){return(...a)=>{const l=o.apply(t,a);typeof l<"u"&&r(l)}}const s=Pk(this);return Object.keys(s).reduce((o,a)=>{const l=s[a];return o[a]=n(l),o},{})}dispatch(t){this.store.dispatch(t)}constructor(t,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=r,t.subscribe(this.handleRefCountChange)}}function Ak(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Dv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ok(e){const{clientOffset:t,initialClientOffset:r,initialSourceClientOffset:n}=e;return!t||!r||!n?null:Dv(Ak(t,n),r)}function Rk(e){const{clientOffset:t,initialClientOffset:r}=e;return!t||!r?null:Dv(t,r)}const Ji=[],Sf=[];Ji.__IS_NONE__=!0;Sf.__IS_ALL__=!0;function Ik(e,t){return e===Ji?!1:e===Sf||typeof t>"u"?!0:ak(t,e).length>0}class Mk{subscribeToStateChange(t,r={}){const{handlerIds:n}=r;fe(typeof t=="function","listener must be a function."),fe(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const o=()=>{const a=this.store.getState(),l=a.stateId;try{l===s||l===s+1&&!Ik(a.dirtyHandlerIds,n)||t()}finally{s=l}};return this.store.subscribe(o)}subscribeToOffsetChange(t){fe(typeof t=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const s=this.store.getState().dragOffset;s!==r&&(r=s,t())};return this.store.subscribe(n)}canDragSource(t){if(!t)return!1;const r=this.registry.getSource(t);return fe(r,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:r.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const r=this.registry.getTarget(t);if(fe(r,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(t),s=this.getItemType();return zd(n,s)&&r.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const r=this.registry.getSource(t,!0);if(fe(r,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(t),s=this.getItemType();return n!==s?!1:r.isDragging(this,t)}isOverTarget(t,r={shallow:!1}){if(!t)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const s=this.registry.getTargetType(t),o=this.getItemType();if(o&&!zd(s,o))return!1;const a=this.getTargetIds();if(!a.length)return!1;const l=a.indexOf(t);return n?l===a.length-1:l>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Ok(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Rk(this.store.getState().dragOffset)}constructor(t,r){this.store=t,this.registry=r}}const Wm=typeof globalThis<"u"?globalThis:self,Av=Wm.MutationObserver||Wm.WebKitMutationObserver;function Ov(e){return function(){const r=setTimeout(s,0),n=setInterval(s,50);function s(){clearTimeout(r),clearInterval(n),e()}}}function _k(e){let t=1;const r=new Av(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}const Lk=typeof Av=="function"?_k:Ov;class Fk{enqueueTask(t){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const r=this.index;if(this.index++,t[r].call(),this.index>this.capacity){for(let n=0,s=t.length-this.index;n<s;n++)t[n]=t[n+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=Lk(this.flush),this.requestErrorThrow=Ov(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class $k{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,r){this.onError=t,this.release=r,this.task=null}}class zk{create(t){const r=this.freeTasks,n=r.length?r.pop():new $k(this.onError,s=>r[r.length]=s);return n.task=t,n}constructor(t){this.onError=t,this.freeTasks=[]}}const Rv=new Fk,Bk=new zk(Rv.registerPendingError);function Uk(e){Rv.enqueueTask(Bk.create(e))}const kf="dnd-core/ADD_SOURCE",Ef="dnd-core/ADD_TARGET",Cf="dnd-core/REMOVE_SOURCE",uc="dnd-core/REMOVE_TARGET";function Vk(e){return{type:kf,payload:{sourceId:e}}}function Wk(e){return{type:Ef,payload:{targetId:e}}}function Hk(e){return{type:Cf,payload:{sourceId:e}}}function qk(e){return{type:uc,payload:{targetId:e}}}function Gk(e){fe(typeof e.canDrag=="function","Expected canDrag to be a function."),fe(typeof e.beginDrag=="function","Expected beginDrag to be a function."),fe(typeof e.endDrag=="function","Expected endDrag to be a function.")}function Yk(e){fe(typeof e.canDrop=="function","Expected canDrop to be a function."),fe(typeof e.hover=="function","Expected hover to be a function."),fe(typeof e.drop=="function","Expected beginDrag to be a function.")}function Bd(e,t){if(t&&Array.isArray(e)){e.forEach(r=>Bd(r,!1));return}fe(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Ut;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Ut||(Ut={}));let Xk=0;function Kk(){return Xk++}function Qk(e){const t=Kk().toString();switch(e){case Ut.SOURCE:return`S${t}`;case Ut.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function Hm(e){switch(e[0]){case"S":return Ut.SOURCE;case"T":return Ut.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function qm(e,t){const r=e.entries();let n=!1;do{const{done:s,value:[,o]}=r.next();if(o===t)return!0;n=!!s}while(!n);return!1}class Jk{addSource(t,r){Bd(t),Gk(r);const n=this.addHandler(Ut.SOURCE,t,r);return this.store.dispatch(Vk(n)),n}addTarget(t,r){Bd(t,!0),Yk(r);const n=this.addHandler(Ut.TARGET,t,r);return this.store.dispatch(Wk(n)),n}containsHandler(t){return qm(this.dragSources,t)||qm(this.dropTargets,t)}getSource(t,r=!1){return fe(this.isSourceId(t),"Expected a valid source ID."),r&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return fe(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return fe(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return fe(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return Hm(t)===Ut.SOURCE}isTargetId(t){return Hm(t)===Ut.TARGET}removeSource(t){fe(this.getSource(t),"Expected an existing source."),this.store.dispatch(Hk(t)),Uk(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){fe(this.getTarget(t),"Expected an existing target."),this.store.dispatch(qk(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const r=this.getSource(t);fe(r,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=r}unpinSource(){fe(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,r,n){const s=Qk(t);return this.types.set(s,r),t===Ut.SOURCE?this.dragSources.set(s,n):t===Ut.TARGET&&this.dropTargets.set(s,n),s}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const Zk=(e,t)=>e===t;function eE(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function tE(e,t,r=Zk){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!r(e[n],t[n]))return!1;return!0}function rE(e=Ji,t){switch(t.type){case ac:break;case kf:case Ef:case uc:case Cf:return Ji;case oc:case Nf:case cc:case lc:default:return Sf}const{targetIds:r=[],prevTargetIds:n=[]}=t.payload,s=ok(r,n);if(!(s.length>0||!tE(r,n)))return Ji;const a=n[n.length-1],l=r[r.length-1];return a!==l&&(a&&s.push(a),l&&s.push(l)),s}function nE(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){nE(e,s,r[s])})}return e}const Gm={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function iE(e=Gm,t){const{payload:r}=t;switch(t.type){case jf:case oc:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case ac:return eE(e.clientOffset,r.clientOffset)?e:sE({},e,{clientOffset:r.clientOffset});case cc:case lc:return Gm;default:return e}}function oE(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ws(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){oE(e,s,r[s])})}return e}const aE={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function lE(e=aE,t){const{payload:r}=t;switch(t.type){case oc:return ws({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Nf:return ws({},e,{isSourcePublic:!0});case ac:return ws({},e,{targetIds:r.targetIds});case uc:return e.targetIds.indexOf(r.targetId)===-1?e:ws({},e,{targetIds:ik(e.targetIds,r.targetId)});case lc:return ws({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case cc:return ws({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function cE(e=0,t){switch(t.type){case kf:case Ef:return e+1;case Cf:case uc:return e-1;default:return e}}function uE(e=0){return e+1}function dE(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){dE(e,s,r[s])})}return e}function fE(e={},t){return{dirtyHandlerIds:rE(e.dirtyHandlerIds,{type:t.type,payload:hE({},t.payload,{prevTargetIds:sk(e,"dragOperation.targetIds",[])})}),dragOffset:iE(e.dragOffset,t),refCount:cE(e.refCount,t),dragOperation:lE(e.dragOperation,t),stateId:uE(e.stateId)}}function pE(e,t=void 0,r={},n=!1){const s=mE(n),o=new Mk(s,new Jk(s)),a=new Dk(s,o),l=e(a,t,r);return a.receiveBackend(l),a}function mE(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Tv(fE,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function gE(e,t){if(e==null)return{};var r=xE(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xE(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}let Ym=0;const Ga=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var yE=E.memo(function(t){var{children:r}=t,n=gE(t,["children"]);const[s,o]=vE(n);return E.useEffect(()=>{if(o){const a=Iv();return++Ym,()=>{--Ym===0&&(a[Ga]=null)}}},[]),i.jsx(tk.Provider,{value:s,children:r})});function vE(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=bE(e.backend,e.context,e.options,e.debugMode),r=!e.context;return[t,r]}function bE(e,t=Iv(),r,n){const s=t;return s[Ga]||(s[Ga]={dragDropManager:pE(e,t,r,n)}),s[Ga]}function Iv(){return typeof globalThis<"u"?globalThis:window}function Mv(e){let t=null;return()=>(t==null&&(t=e()),t)}function wE(e,t){return e.filter(r=>r!==t)}function jE(e,t){const r=new Set,n=o=>r.add(o);e.forEach(n),t.forEach(n);const s=[];return r.forEach(o=>s.push(o)),s}class NE{enter(t){const r=this.entered.length,n=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(t));return this.entered=jE(this.entered.filter(n),[t]),r===0&&this.entered.length>0}leave(t){const r=this.entered.length;return this.entered=wE(this.entered.filter(this.isNodeInDocument),t),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class SE{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const s=this.config.exposeProperties[n];s!=null&&(r[n]={value:s(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,r){return r===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const _v="__NATIVE_FILE__",Lv="__NATIVE_URL__",Fv="__NATIVE_TEXT__",$v="__NATIVE_HTML__",Xm=Object.freeze(Object.defineProperty({__proto__:null,FILE:_v,HTML:$v,TEXT:Fv,URL:Lv},Symbol.toStringTag,{value:"Module"}));function uu(e,t,r){const n=t.reduce((s,o)=>s||e.getData(o),"");return n??r}const Ud={[_v]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[$v]:{exposeProperties:{html:(e,t)=>uu(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[Lv]:{exposeProperties:{urls:(e,t)=>uu(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[Fv]:{exposeProperties:{text:(e,t)=>uu(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function kE(e,t){const r=Ud[e];if(!r)throw new Error(`native type ${e} has no configuration`);const n=new SE(r);return n.loadDataTransfer(t),n}function du(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(Ud).filter(r=>{const n=Ud[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(s=>t.indexOf(s)>-1):!1})[0]||null}const EE=Mv(()=>/firefox/i.test(navigator.userAgent)),zv=Mv(()=>!!window.safari);class Km{interpolate(t){const{xs:r,ys:n,c1s:s,c2s:o,c3s:a}=this;let l=r.length-1;if(t===r[l])return n[l];let c=0,h=a.length-1,u;for(;c<=h;){u=Math.floor(.5*(c+h));const p=r[u];if(p<t)c=u+1;else if(p>t)h=u-1;else return n[u]}l=Math.max(0,h);const d=t-r[l],f=d*d;return n[l]+s[l]*d+o[l]*f+a[l]*d*f}constructor(t,r){const{length:n}=t,s=[];for(let p=0;p<n;p++)s.push(p);s.sort((p,m)=>t[p]<t[m]?-1:1);const o=[],a=[];let l,c;for(let p=0;p<n-1;p++)l=t[p+1]-t[p],c=r[p+1]-r[p],o.push(l),a.push(c/l);const h=[a[0]];for(let p=0;p<o.length-1;p++){const m=a[p],y=a[p+1];if(m*y<=0)h.push(0);else{l=o[p];const b=o[p+1],g=l+b;h.push(3*g/((g+b)/m+(g+l)/y))}}h.push(a[a.length-1]);const u=[],d=[];let f;for(let p=0;p<h.length-1;p++){f=a[p];const m=h[p],y=1/o[p],b=m+h[p+1]-f-f;u.push((f-m-b)*y),d.push(b*y*y)}this.xs=t,this.ys=r,this.c1s=h,this.c2s=u,this.c3s=d}}const CE=1;function Bv(e){const t=e.nodeType===CE?e:e.parentElement;if(!t)return null;const{top:r,left:n}=t.getBoundingClientRect();return{x:n,y:r}}function ja(e){return{x:e.clientX,y:e.clientY}}function TE(e){var t;return e.nodeName==="IMG"&&(EE()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function PE(e,t,r,n){let s=e?t.width:r,o=e?t.height:n;return zv()&&e&&(o/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:o}}function DE(e,t,r,n,s){const o=TE(t),l=Bv(o?e:t),c={x:r.x-l.x,y:r.y-l.y},{offsetWidth:h,offsetHeight:u}=e,{anchorX:d,anchorY:f}=n,{dragPreviewWidth:p,dragPreviewHeight:m}=PE(o,t,h,u),y=()=>{let S=new Km([0,.5,1],[c.y,c.y/u*m,c.y+m-u]).interpolate(f);return zv()&&o&&(S+=(window.devicePixelRatio-1)*m),S},b=()=>new Km([0,.5,1],[c.x,c.x/h*p,c.x+p-h]).interpolate(d),{offsetX:g,offsetY:v}=s,x=g===0||g,C=v===0||v;return{x:x?g:b(),y:C?v:y()}}class AE{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,r){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=r}}function OE(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){OE(e,s,r[s])})}return e}class RE{profile(){var t,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,r,n){return this.sourcePreviewNodeOptions.set(t,n),this.sourcePreviewNodes.set(t,r),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,r,n){this.sourceNodes.set(t,r),this.sourceNodeOptions.set(t,n);const s=a=>this.handleDragStart(a,t),o=a=>this.handleSelectStart(a);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",s),r.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),r.removeEventListener("dragstart",s),r.removeEventListener("selectstart",o),r.setAttribute("draggable","false")}}connectDropTarget(t,r){const n=a=>this.handleDragEnter(a,t),s=a=>this.handleDragOver(a,t),o=a=>this.handleDrop(a,t);return r.addEventListener("dragenter",n),r.addEventListener("dragover",s),r.addEventListener("drop",o),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",s),r.removeEventListener("drop",o)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(t);return Qm({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(t);return Qm({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(Xm).some(r=>Xm[r]===t)}beginDragNativeItem(t,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=kE(t,r),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,r){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(t,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(t,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(t,r){this.dropTargetIds.unshift(r)}constructor(t,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const o=this.sourceNodes.get(s);return o&&Bv(o)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:o}=this;this.dragStartSourceIds=null;const a=ja(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:a});const{dataTransfer:l}=s,c=du(l);if(this.monitor.isDragging()){if(l&&typeof l.setDragImage=="function"){const u=this.monitor.getSourceId(),d=this.sourceNodes.get(u),f=this.sourcePreviewNodes.get(u)||d;if(f){const{anchorX:p,anchorY:m,offsetX:y,offsetY:b}=this.getCurrentSourcePreviewNodeOptions(),x=DE(d,f,a,{anchorX:p,anchorY:m},{offsetX:y,offsetY:b});l.setDragImage(f,x.x,x.y)}}try{l==null||l.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:h}=this.getCurrentSourcePreviewNodeOptions();h?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(c)this.beginDragNativeItem(c);else{if(l&&!l.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:l}=s,c=du(l);c&&this.beginDragNativeItem(c,l)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:o}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,o.length>0&&this.actions.hover(o,{clientOffset:ja(s)}),o.some(l=>this.monitor.canDropOnTarget(l))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:o}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=ja(s),this.scheduleHover(o),(o||[]).some(l=>this.monitor.canDropOnTarget(l))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var o;s.preventDefault(),(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}else du(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:o}=this;this.dropTargetIds=[],this.actions.hover(o,{clientOffset:ja(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const o=s.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(s.preventDefault(),o.dragDrop()))},this.options=new AE(r,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new NE(this.isNodeInDocument)}}const IE=function(t,r,n){return new RE(t,r,n)};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ME={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Z=(e,t)=>{const r=E.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:l="",children:c,...h},u)=>E.createElement("svg",{ref:u,...ME,width:s,height:s,stroke:n,strokeWidth:a?Number(o)*24/Number(s):o,className:["lucide",`lucide-${_E(e)}`,l].join(" "),...h},[...t.map(([d,f])=>E.createElement(d,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=Z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=Z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=Z("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=Z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=Z("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=Z("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=Z("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=Z("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=Z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=Z("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=Z("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=Z("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=Z("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=Z("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=Z("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=Z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=Z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=Z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=Z("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=Z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=Z("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=Z("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=Z("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=Z("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=Z("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=Z("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=Z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=Z("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=Z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=Z("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Z("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=Z("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=Z("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=Z("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=Z("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=Z("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=Z("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=Z("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=Z("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=Z("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Kv(e,t){return function(){return e.apply(t,arguments)}}const{toString:XE}=Object.prototype,{getPrototypeOf:Df}=Object,{iterator:fc,toStringTag:Qv}=Symbol,pc=(e=>t=>{const r=XE.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ur=e=>(e=e.toLowerCase(),t=>pc(t)===e),mc=e=>t=>typeof t===e,{isArray:fi}=Array,ni=mc("undefined");function Fo(e){return e!==null&&!ni(e)&&e.constructor!==null&&!ni(e.constructor)&&St(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Jv=ur("ArrayBuffer");function KE(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Jv(e.buffer),t}const QE=mc("string"),St=mc("function"),Zv=mc("number"),$o=e=>e!==null&&typeof e=="object",JE=e=>e===!0||e===!1,Xa=e=>{if(pc(e)!=="object")return!1;const t=Df(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Qv in e)&&!(fc in e)},ZE=e=>{if(!$o(e)||Fo(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},eC=ur("Date"),tC=ur("File"),rC=ur("Blob"),nC=ur("FileList"),sC=e=>$o(e)&&St(e.pipe),iC=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||St(e.append)&&((t=pc(e))==="formdata"||t==="object"&&St(e.toString)&&e.toString()==="[object FormData]"))},oC=ur("URLSearchParams"),[aC,lC,cC,uC]=["ReadableStream","Request","Response","Headers"].map(ur),dC=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zo(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),fi(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Fo(e))return;const o=r?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;let l;for(n=0;n<a;n++)l=o[n],t.call(null,e[l],l,e)}}function eb(e,t){if(Fo(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Gn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,tb=e=>!ni(e)&&e!==Gn;function qd(){const{caseless:e,skipUndefined:t}=tb(this)&&this||{},r={},n=(s,o)=>{const a=e&&eb(r,o)||o;Xa(r[a])&&Xa(s)?r[a]=qd(r[a],s):Xa(s)?r[a]=qd({},s):fi(s)?r[a]=s.slice():(!t||!ni(s))&&(r[a]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&zo(arguments[s],n);return r}const hC=(e,t,r,{allOwnKeys:n}={})=>(zo(t,(s,o)=>{r&&St(s)?e[o]=Kv(s,r):e[o]=s},{allOwnKeys:n}),e),fC=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),pC=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},mC=(e,t,r,n)=>{let s,o,a;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)a=s[o],(!n||n(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=r!==!1&&Df(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},gC=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},xC=e=>{if(!e)return null;if(fi(e))return e;let t=e.length;if(!Zv(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},yC=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Df(Uint8Array)),vC=(e,t)=>{const n=(e&&e[fc]).call(e);let s;for(;(s=n.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},bC=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},wC=ur("HTMLFormElement"),jC=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),og=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),NC=ur("RegExp"),rb=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};zo(r,(s,o)=>{let a;(a=t(s,o,e))!==!1&&(n[o]=a||s)}),Object.defineProperties(e,n)},SC=e=>{rb(e,(t,r)=>{if(St(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(St(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},kC=(e,t)=>{const r={},n=s=>{s.forEach(o=>{r[o]=!0})};return fi(e)?n(e):n(String(e).split(t)),r},EC=()=>{},CC=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function TC(e){return!!(e&&St(e.append)&&e[Qv]==="FormData"&&e[fc])}const PC=e=>{const t=new Array(10),r=(n,s)=>{if($o(n)){if(t.indexOf(n)>=0)return;if(Fo(n))return n;if(!("toJSON"in n)){t[s]=n;const o=fi(n)?[]:{};return zo(n,(a,l)=>{const c=r(a,s+1);!ni(c)&&(o[l]=c)}),t[s]=void 0,o}}return n};return r(e,0)},DC=ur("AsyncFunction"),AC=e=>e&&($o(e)||St(e))&&St(e.then)&&St(e.catch),nb=((e,t)=>e?setImmediate:t?((r,n)=>(Gn.addEventListener("message",({source:s,data:o})=>{s===Gn&&o===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Gn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",St(Gn.postMessage)),OC=typeof queueMicrotask<"u"?queueMicrotask.bind(Gn):typeof process<"u"&&process.nextTick||nb,RC=e=>e!=null&&St(e[fc]),W={isArray:fi,isArrayBuffer:Jv,isBuffer:Fo,isFormData:iC,isArrayBufferView:KE,isString:QE,isNumber:Zv,isBoolean:JE,isObject:$o,isPlainObject:Xa,isEmptyObject:ZE,isReadableStream:aC,isRequest:lC,isResponse:cC,isHeaders:uC,isUndefined:ni,isDate:eC,isFile:tC,isBlob:rC,isRegExp:NC,isFunction:St,isStream:sC,isURLSearchParams:oC,isTypedArray:yC,isFileList:nC,forEach:zo,merge:qd,extend:hC,trim:dC,stripBOM:fC,inherits:pC,toFlatObject:mC,kindOf:pc,kindOfTest:ur,endsWith:gC,toArray:xC,forEachEntry:vC,matchAll:bC,isHTMLForm:wC,hasOwnProperty:og,hasOwnProp:og,reduceDescriptors:rb,freezeMethods:SC,toObjectSet:kC,toCamelCase:jC,noop:EC,toFiniteNumber:CC,findKey:eb,global:Gn,isContextDefined:tb,isSpecCompliantForm:TC,toJSONObject:PC,isAsyncFn:DC,isThenable:AC,setImmediate:nb,asap:OC,isIterable:RC};function oe(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}W.inherits(oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const sb=oe.prototype,ib={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ib[e]={value:e}});Object.defineProperties(oe,ib);Object.defineProperty(sb,"isAxiosError",{value:!0});oe.from=(e,t,r,n,s,o)=>{const a=Object.create(sb);W.toFlatObject(e,a,function(u){return u!==Error.prototype},h=>h!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return oe.call(a,l,c,r,n,s),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",o&&Object.assign(a,o),a};const IC=null;function Gd(e){return W.isPlainObject(e)||W.isArray(e)}function ob(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function ag(e,t,r){return e?e.concat(t).map(function(s,o){return s=ob(s),!r&&o?"["+s+"]":s}).join(r?".":""):t}function MC(e){return W.isArray(e)&&!e.some(Gd)}const _C=W.toFlatObject(W,{},null,function(t){return/^is[A-Z]/.test(t)});function gc(e,t,r){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=W.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!W.isUndefined(b[y])});const n=r.metaTokens,s=r.visitor||u,o=r.dots,a=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(s))throw new TypeError("visitor must be a function");function h(m){if(m===null)return"";if(W.isDate(m))return m.toISOString();if(W.isBoolean(m))return m.toString();if(!c&&W.isBlob(m))throw new oe("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(m)||W.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,y,b){let g=m;if(m&&!b&&typeof m=="object"){if(W.endsWith(y,"{}"))y=n?y:y.slice(0,-2),m=JSON.stringify(m);else if(W.isArray(m)&&MC(m)||(W.isFileList(m)||W.endsWith(y,"[]"))&&(g=W.toArray(m)))return y=ob(y),g.forEach(function(x,C){!(W.isUndefined(x)||x===null)&&t.append(a===!0?ag([y],C,o):a===null?y:y+"[]",h(x))}),!1}return Gd(m)?!0:(t.append(ag(b,y,o),h(m)),!1)}const d=[],f=Object.assign(_C,{defaultVisitor:u,convertValue:h,isVisitable:Gd});function p(m,y){if(!W.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(m),W.forEach(m,function(g,v){(!(W.isUndefined(g)||g===null)&&s.call(t,g,W.isString(v)?v.trim():v,y,f))===!0&&p(g,y?y.concat(v):[v])}),d.pop()}}if(!W.isObject(e))throw new TypeError("data must be an object");return p(e),t}function lg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Af(e,t){this._pairs=[],e&&gc(e,this,t)}const ab=Af.prototype;ab.append=function(t,r){this._pairs.push([t,r])};ab.toString=function(t){const r=t?function(n){return t.call(this,n,lg)}:lg;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function LC(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function lb(e,t,r){if(!t)return e;const n=r&&r.encode||LC;W.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let o;if(s?o=s(t,r):o=W.isURLSearchParams(t)?t.toString():new Af(t,r).toString(n),o){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class cg{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){W.forEach(this.handlers,function(n){n!==null&&t(n)})}}const cb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},FC=typeof URLSearchParams<"u"?URLSearchParams:Af,$C=typeof FormData<"u"?FormData:null,zC=typeof Blob<"u"?Blob:null,BC={isBrowser:!0,classes:{URLSearchParams:FC,FormData:$C,Blob:zC},protocols:["http","https","file","blob","url","data"]},Of=typeof window<"u"&&typeof document<"u",Yd=typeof navigator=="object"&&navigator||void 0,UC=Of&&(!Yd||["ReactNative","NativeScript","NS"].indexOf(Yd.product)<0),VC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",WC=Of&&window.location.href||"http://localhost",HC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Of,hasStandardBrowserEnv:UC,hasStandardBrowserWebWorkerEnv:VC,navigator:Yd,origin:WC},Symbol.toStringTag,{value:"Module"})),ot={...HC,...BC};function qC(e,t){return gc(e,new ot.classes.URLSearchParams,{visitor:function(r,n,s,o){return ot.isNode&&W.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function GC(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function YC(e){const t={},r=Object.keys(e);let n;const s=r.length;let o;for(n=0;n<s;n++)o=r[n],t[o]=e[o];return t}function ub(e){function t(r,n,s,o){let a=r[o++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=o>=r.length;return a=!a&&W.isArray(s)?s.length:a,c?(W.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!l):((!s[a]||!W.isObject(s[a]))&&(s[a]=[]),t(r,n,s[a],o)&&W.isArray(s[a])&&(s[a]=YC(s[a])),!l)}if(W.isFormData(e)&&W.isFunction(e.entries)){const r={};return W.forEachEntry(e,(n,s)=>{t(GC(n),s,r,0)}),r}return null}function XC(e,t,r){if(W.isString(e))try{return(t||JSON.parse)(e),W.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Bo={transitional:cb,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,o=W.isObject(t);if(o&&W.isHTMLForm(t)&&(t=new FormData(t)),W.isFormData(t))return s?JSON.stringify(ub(t)):t;if(W.isArrayBuffer(t)||W.isBuffer(t)||W.isStream(t)||W.isFile(t)||W.isBlob(t)||W.isReadableStream(t))return t;if(W.isArrayBufferView(t))return t.buffer;if(W.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return qC(t,this.formSerializer).toString();if((l=W.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return gc(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||s?(r.setContentType("application/json",!1),XC(t)):t}],transformResponse:[function(t){const r=this.transitional||Bo.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(W.isResponse(t)||W.isReadableStream(t))return t;if(t&&W.isString(t)&&(n&&!this.responseType||s)){const a=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?oe.from(l,oe.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ot.classes.FormData,Blob:ot.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],e=>{Bo.headers[e]={}});const KC=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),QC=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),r=a.substring(0,s).trim().toLowerCase(),n=a.substring(s+1).trim(),!(!r||t[r]&&KC[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},ug=Symbol("internals");function Di(e){return e&&String(e).trim().toLowerCase()}function Ka(e){return e===!1||e==null?e:W.isArray(e)?e.map(Ka):String(e)}function JC(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const ZC=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function pu(e,t,r,n,s){if(W.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!W.isString(t)){if(W.isString(n))return t.indexOf(n)!==-1;if(W.isRegExp(n))return n.test(t)}}function e4(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function t4(e,t){const r=W.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,o,a){return this[n].call(this,t,s,o,a)},configurable:!0})})}let kt=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function o(l,c,h){const u=Di(c);if(!u)throw new Error("header name must be a non-empty string");const d=W.findKey(s,u);(!d||s[d]===void 0||h===!0||h===void 0&&s[d]!==!1)&&(s[d||c]=Ka(l))}const a=(l,c)=>W.forEach(l,(h,u)=>o(h,u,c));if(W.isPlainObject(t)||t instanceof this.constructor)a(t,r);else if(W.isString(t)&&(t=t.trim())&&!ZC(t))a(QC(t),r);else if(W.isObject(t)&&W.isIterable(t)){let l={},c,h;for(const u of t){if(!W.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[h=u[0]]=(c=l[h])?W.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}a(l,r)}else t!=null&&o(r,t,n);return this}get(t,r){if(t=Di(t),t){const n=W.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return JC(s);if(W.isFunction(r))return r.call(this,s,n);if(W.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Di(t),t){const n=W.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||pu(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function o(a){if(a=Di(a),a){const l=W.findKey(n,a);l&&(!r||pu(n,n[l],l,r))&&(delete n[l],s=!0)}}return W.isArray(t)?t.forEach(o):o(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const o=r[n];(!t||pu(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const r=this,n={};return W.forEach(this,(s,o)=>{const a=W.findKey(n,o);if(a){r[a]=Ka(s),delete r[o];return}const l=t?e4(o):String(o).trim();l!==o&&delete r[o],r[l]=Ka(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return W.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&W.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[ug]=this[ug]={accessors:{}}).accessors,s=this.prototype;function o(a){const l=Di(a);n[l]||(t4(s,a),n[l]=!0)}return W.isArray(t)?t.forEach(o):o(t),this}};kt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(kt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});W.freezeMethods(kt);function mu(e,t){const r=this||Bo,n=t||r,s=kt.from(n.headers);let o=n.data;return W.forEach(e,function(l){o=l.call(r,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function db(e){return!!(e&&e.__CANCEL__)}function pi(e,t,r){oe.call(this,e??"canceled",oe.ERR_CANCELED,t,r),this.name="CanceledError"}W.inherits(pi,oe,{__CANCEL__:!0});function hb(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new oe("Request failed with status code "+r.status,[oe.ERR_BAD_REQUEST,oe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function r4(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function n4(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,o=0,a;return t=t!==void 0?t:1e3,function(c){const h=Date.now(),u=n[o];a||(a=h),r[s]=c,n[s]=h;let d=o,f=0;for(;d!==s;)f+=r[d++],d=d%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),h-a<t)return;const p=u&&h-u;return p?Math.round(f*1e3/p):void 0}}function s4(e,t){let r=0,n=1e3/t,s,o;const a=(h,u=Date.now())=>{r=u,s=null,o&&(clearTimeout(o),o=null),e(...h)};return[(...h)=>{const u=Date.now(),d=u-r;d>=n?a(h,u):(s=h,o||(o=setTimeout(()=>{o=null,a(s)},n-d)))},()=>s&&a(s)]}const Cl=(e,t,r=3)=>{let n=0;const s=n4(50,250);return s4(o=>{const a=o.loaded,l=o.lengthComputable?o.total:void 0,c=a-n,h=s(c),u=a<=l;n=a;const d={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:h||void 0,estimated:h&&l&&u?(l-a)/h:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(d)},r)},dg=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},hg=e=>(...t)=>W.asap(()=>e(...t)),i4=ot.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,ot.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(ot.origin),ot.navigator&&/(msie|trident)/i.test(ot.navigator.userAgent)):()=>!0,o4=ot.hasStandardBrowserEnv?{write(e,t,r,n,s,o){const a=[e+"="+encodeURIComponent(t)];W.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),W.isString(n)&&a.push("path="+n),W.isString(s)&&a.push("domain="+s),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function a4(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function l4(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function fb(e,t,r){let n=!a4(t);return e&&(n||r==!1)?l4(e,t):t}const fg=e=>e instanceof kt?{...e}:e;function ls(e,t){t=t||{};const r={};function n(h,u,d,f){return W.isPlainObject(h)&&W.isPlainObject(u)?W.merge.call({caseless:f},h,u):W.isPlainObject(u)?W.merge({},u):W.isArray(u)?u.slice():u}function s(h,u,d,f){if(W.isUndefined(u)){if(!W.isUndefined(h))return n(void 0,h,d,f)}else return n(h,u,d,f)}function o(h,u){if(!W.isUndefined(u))return n(void 0,u)}function a(h,u){if(W.isUndefined(u)){if(!W.isUndefined(h))return n(void 0,h)}else return n(void 0,u)}function l(h,u,d){if(d in t)return n(h,u);if(d in e)return n(void 0,h)}const c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(h,u,d)=>s(fg(h),fg(u),d,!0)};return W.forEach(Object.keys({...e,...t}),function(u){const d=c[u]||s,f=d(e[u],t[u],u);W.isUndefined(f)&&d!==l||(r[u]=f)}),r}const pb=e=>{const t=ls({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:l}=t;if(t.headers=a=kt.from(a),t.url=lb(fb(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),W.isFormData(r)){if(ot.hasStandardBrowserEnv||ot.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(W.isFunction(r.getHeaders)){const c=r.getHeaders(),h=["content-type","content-length"];Object.entries(c).forEach(([u,d])=>{h.includes(u.toLowerCase())&&a.set(u,d)})}}if(ot.hasStandardBrowserEnv&&(n&&W.isFunction(n)&&(n=n(t)),n||n!==!1&&i4(t.url))){const c=s&&o&&o4.read(o);c&&a.set(s,c)}return t},c4=typeof XMLHttpRequest<"u",u4=c4&&function(e){return new Promise(function(r,n){const s=pb(e);let o=s.data;const a=kt.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:h}=s,u,d,f,p,m;function y(){p&&p(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function g(){if(!b)return;const x=kt.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),R={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:x,config:e,request:b};hb(function(I){r(I),y()},function(I){n(I),y()},R),b=null}"onloadend"in b?b.onloadend=g:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(g)},b.onabort=function(){b&&(n(new oe("Request aborted",oe.ECONNABORTED,e,b)),b=null)},b.onerror=function(C){const R=C&&C.message?C.message:"Network Error",S=new oe(R,oe.ERR_NETWORK,e,b);S.event=C||null,n(S),b=null},b.ontimeout=function(){let C=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const R=s.transitional||cb;s.timeoutErrorMessage&&(C=s.timeoutErrorMessage),n(new oe(C,R.clarifyTimeoutError?oe.ETIMEDOUT:oe.ECONNABORTED,e,b)),b=null},o===void 0&&a.setContentType(null),"setRequestHeader"in b&&W.forEach(a.toJSON(),function(C,R){b.setRequestHeader(R,C)}),W.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),l&&l!=="json"&&(b.responseType=s.responseType),h&&([f,m]=Cl(h,!0),b.addEventListener("progress",f)),c&&b.upload&&([d,p]=Cl(c),b.upload.addEventListener("progress",d),b.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(u=x=>{b&&(n(!x||x.type?new pi(null,e,b):x),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const v=r4(s.url);if(v&&ot.protocols.indexOf(v)===-1){n(new oe("Unsupported protocol "+v+":",oe.ERR_BAD_REQUEST,e));return}b.send(o||null)})},d4=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const o=function(h){if(!s){s=!0,l();const u=h instanceof Error?h:this.reason;n.abort(u instanceof oe?u:new pi(u instanceof Error?u.message:u))}};let a=t&&setTimeout(()=>{a=null,o(new oe(`timeout ${t} of ms exceeded`,oe.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),e=null)};e.forEach(h=>h.addEventListener("abort",o));const{signal:c}=n;return c.unsubscribe=()=>W.asap(l),c}},h4=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},f4=async function*(e,t){for await(const r of p4(e))yield*h4(r,t)},p4=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},pg=(e,t,r,n)=>{const s=f4(e,t);let o=0,a,l=c=>{a||(a=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:h,value:u}=await s.next();if(h){l(),c.close();return}let d=u.byteLength;if(r){let f=o+=d;r(f)}c.enqueue(new Uint8Array(u))}catch(h){throw l(h),h}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},mg=64*1024,{isFunction:Na}=W,m4=(({Request:e,Response:t})=>({Request:e,Response:t}))(W.global),{ReadableStream:gg,TextEncoder:xg}=W.global,yg=(e,...t)=>{try{return!!e(...t)}catch{return!1}},g4=e=>{e=W.merge.call({skipUndefined:!0},m4,e);const{fetch:t,Request:r,Response:n}=e,s=t?Na(t):typeof fetch=="function",o=Na(r),a=Na(n);if(!s)return!1;const l=s&&Na(gg),c=s&&(typeof xg=="function"?(m=>y=>m.encode(y))(new xg):async m=>new Uint8Array(await new r(m).arrayBuffer())),h=o&&l&&yg(()=>{let m=!1;const y=new r(ot.origin,{body:new gg,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!y}),u=a&&l&&yg(()=>W.isReadableStream(new n("").body)),d={stream:u&&(m=>m.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!d[m]&&(d[m]=(y,b)=>{let g=y&&y[m];if(g)return g.call(y);throw new oe(`Response type '${m}' is not supported`,oe.ERR_NOT_SUPPORT,b)})});const f=async m=>{if(m==null)return 0;if(W.isBlob(m))return m.size;if(W.isSpecCompliantForm(m))return(await new r(ot.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(W.isArrayBufferView(m)||W.isArrayBuffer(m))return m.byteLength;if(W.isURLSearchParams(m)&&(m=m+""),W.isString(m))return(await c(m)).byteLength},p=async(m,y)=>{const b=W.toFiniteNumber(m.getContentLength());return b??f(y)};return async m=>{let{url:y,method:b,data:g,signal:v,cancelToken:x,timeout:C,onDownloadProgress:R,onUploadProgress:S,responseType:I,headers:w,withCredentials:j="same-origin",fetchOptions:N}=pb(m),k=t||fetch;I=I?(I+"").toLowerCase():"text";let T=d4([v,x&&x.toAbortSignal()],C),D=null;const O=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let M;try{if(S&&h&&b!=="get"&&b!=="head"&&(M=await p(w,g))!==0){let z=new r(y,{method:"POST",body:g,duplex:"half"}),B;if(W.isFormData(g)&&(B=z.headers.get("content-type"))&&w.setContentType(B),z.body){const[q,H]=dg(M,Cl(hg(S)));g=pg(z.body,mg,q,H)}}W.isString(j)||(j=j?"include":"omit");const A=o&&"credentials"in r.prototype,P={...N,signal:T,method:b.toUpperCase(),headers:w.normalize().toJSON(),body:g,duplex:"half",credentials:A?j:void 0};D=o&&new r(y,P);let F=await(o?k(D,N):k(y,P));const L=u&&(I==="stream"||I==="response");if(u&&(R||L&&O)){const z={};["status","statusText","headers"].forEach(U=>{z[U]=F[U]});const B=W.toFiniteNumber(F.headers.get("content-length")),[q,H]=R&&dg(B,Cl(hg(R),!0))||[];F=new n(pg(F.body,mg,q,()=>{H&&H(),O&&O()}),z)}I=I||"text";let $=await d[W.findKey(d,I)||"text"](F,m);return!L&&O&&O(),await new Promise((z,B)=>{hb(z,B,{data:$,headers:kt.from(F.headers),status:F.status,statusText:F.statusText,config:m,request:D})})}catch(A){throw O&&O(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new oe("Network Error",oe.ERR_NETWORK,m,D),{cause:A.cause||A}):oe.from(A,A&&A.code,m,D)}}},x4=new Map,mb=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,o=[n,s,r];let a=o.length,l=a,c,h,u=x4;for(;l--;)c=o[l],h=u.get(c),h===void 0&&u.set(c,h=l?new Map:g4(t)),u=h;return h};mb();const Xd={http:IC,xhr:u4,fetch:{get:mb}};W.forEach(Xd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const vg=e=>`- ${e}`,y4=e=>W.isFunction(e)||e===null||e===!1,gb={getAdapter:(e,t)=>{e=W.isArray(e)?e:[e];const{length:r}=e;let n,s;const o={};for(let a=0;a<r;a++){n=e[a];let l;if(s=n,!y4(n)&&(s=Xd[(l=String(n)).toLowerCase()],s===void 0))throw new oe(`Unknown adapter '${l}'`);if(s&&(W.isFunction(s)||(s=s.get(t))))break;o[l||"#"+a]=s}if(!s){const a=Object.entries(o).map(([c,h])=>`adapter ${c} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=r?a.length>1?`since :
`+a.map(vg).join(`
`):" "+vg(a[0]):"as no adapter specified";throw new oe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:Xd};function gu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new pi(null,e)}function bg(e){return gu(e),e.headers=kt.from(e.headers),e.data=mu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),gb.getAdapter(e.adapter||Bo.adapter,e)(e).then(function(n){return gu(e),n.data=mu.call(e,e.transformResponse,n),n.headers=kt.from(n.headers),n},function(n){return db(n)||(gu(e),n&&n.response&&(n.response.data=mu.call(e,e.transformResponse,n.response),n.response.headers=kt.from(n.response.headers))),Promise.reject(n)})}const xb="1.12.2",xc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{xc[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const wg={};xc.transitional=function(t,r,n){function s(o,a){return"[Axios v"+xb+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return(o,a,l)=>{if(t===!1)throw new oe(s(a," has been removed"+(r?" in "+r:"")),oe.ERR_DEPRECATED);return r&&!wg[a]&&(wg[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,a,l):!0}};xc.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function v4(e,t,r){if(typeof e!="object")throw new oe("options must be an object",oe.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const o=n[s],a=t[o];if(a){const l=e[o],c=l===void 0||a(l,o,e);if(c!==!0)throw new oe("option "+o+" must be "+c,oe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new oe("Unknown option "+o,oe.ERR_BAD_OPTION)}}const Qa={assertOptions:v4,validators:xc},fr=Qa.validators;let Jn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new cg,response:new cg}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ls(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:o}=r;n!==void 0&&Qa.assertOptions(n,{silentJSONParsing:fr.transitional(fr.boolean),forcedJSONParsing:fr.transitional(fr.boolean),clarifyTimeoutError:fr.transitional(fr.boolean)},!1),s!=null&&(W.isFunction(s)?r.paramsSerializer={serialize:s}:Qa.assertOptions(s,{encode:fr.function,serialize:fr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Qa.assertOptions(r,{baseUrl:fr.spelling("baseURL"),withXsrfToken:fr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=o&&W.merge(o.common,o[r.method]);o&&W.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),r.headers=kt.concat(a,o);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const h=[];this.interceptors.response.forEach(function(y){h.push(y.fulfilled,y.rejected)});let u,d=0,f;if(!c){const m=[bg.bind(this),void 0];for(m.unshift(...l),m.push(...h),f=m.length,u=Promise.resolve(r);d<f;)u=u.then(m[d++],m[d++]);return u}f=l.length;let p=r;for(;d<f;){const m=l[d++],y=l[d++];try{p=m(p)}catch(b){y.call(this,b);break}}try{u=bg.call(this,p)}catch(m){return Promise.reject(m)}for(d=0,f=h.length;d<f;)u=u.then(h[d++],h[d++]);return u}getUri(t){t=ls(this.defaults,t);const r=fb(t.baseURL,t.url,t.allowAbsoluteUrls);return lb(r,t.params,t.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(t){Jn.prototype[t]=function(r,n){return this.request(ls(n||{},{method:t,url:r,data:(n||{}).data}))}});W.forEach(["post","put","patch"],function(t){function r(n){return function(o,a,l){return this.request(ls(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Jn.prototype[t]=r(),Jn.prototype[t+"Form"]=r(!0)});let b4=class yb{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(s=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](s);n._listeners=null}),this.promise.then=s=>{let o;const a=new Promise(l=>{n.subscribe(l),o=l}).then(s);return a.cancel=function(){n.unsubscribe(o)},a},t(function(o,a,l){n.reason||(n.reason=new pi(o,a,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new yb(function(s){t=s}),cancel:t}}};function w4(e){return function(r){return e.apply(null,r)}}function j4(e){return W.isObject(e)&&e.isAxiosError===!0}const Kd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kd).forEach(([e,t])=>{Kd[t]=e});function vb(e){const t=new Jn(e),r=Kv(Jn.prototype.request,t);return W.extend(r,Jn.prototype,t,{allOwnKeys:!0}),W.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return vb(ls(e,s))},r}const he=vb(Bo);he.Axios=Jn;he.CanceledError=pi;he.CancelToken=b4;he.isCancel=db;he.VERSION=xb;he.toFormData=gc;he.AxiosError=oe;he.Cancel=he.CanceledError;he.all=function(t){return Promise.all(t)};he.spread=w4;he.isAxiosError=j4;he.mergeConfig=ls;he.AxiosHeaders=kt;he.formToJSON=e=>ub(W.isHTMLForm(e)?new FormData(e):e);he.getAdapter=gb.getAdapter;he.HttpStatusCode=Kd;he.default=he;const{Axios:z3,AxiosError:B3,CanceledError:U3,isCancel:V3,CancelToken:W3,VERSION:H3,all:q3,Cancel:G3,isAxiosError:Y3,spread:X3,toFormData:K3,AxiosHeaders:Q3,HttpStatusCode:J3,formToJSON:Z3,getAdapter:eR,mergeConfig:tR}=he,N4=()=>window.location.hostname!=="localhost"?window.location.origin:"http://localhost:8080",Rf=N4();console.log("Using API URL:",Rf);const K=he.create({baseURL:Rf,timeout:1e4,headers:{"Content-Type":"application/json"}});K.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));K.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});const xr=Rf,bb=E.createContext(void 0);function S4({children:e}){const[t,r]=E.useState(!1),[n,s]=E.useState(null),[o,a]=E.useState(!0);E.useEffect(()=>{const u=localStorage.getItem("token");u?(K.defaults.headers.common.Authorization=`Bearer ${u}`,r(!0),l()):a(!1)},[]);const l=async()=>{try{const u=await K.get("/api/auth/profile");s(u.data)}catch(u){console.error("Failed to fetch user data:",u),u.response&&u.response.status===401?(console.log("Token is invalid, logging out"),h()):console.log("Network or server error, keeping user logged in")}finally{a(!1)}},c=async(u,d)=>{try{const f=await K.post("/api/auth/login",{username:u,password:d}),{token:p,user:m}=f.data;return localStorage.setItem("token",p),K.defaults.headers.common.Authorization=`Bearer ${p}`,r(!0),s(m),!0}catch(f){return console.error("Login failed:",f),!1}},h=()=>{localStorage.removeItem("token"),delete K.defaults.headers.common.Authorization,r(!1),s(null)};return i.jsx(bb.Provider,{value:{isAuthenticated:t,user:n,login:c,logout:h,loading:o},children:e})}function Dn(){const e=E.useContext(bb);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function k4(){const[e,t]=E.useState(""),[r,n]=E.useState(""),[s,o]=E.useState(""),[a,l]=E.useState(!1),{login:c}=Dn(),h=async u=>{u.preventDefault(),o(""),l(!0),console.log("Login attempt with username:",e,"password:",r);try{const d=await c(e,r);if(console.log("Login result:",d),d){console.log("Login successful, clearing password"),n(""),l(!1);return}else console.log("Login failed - invalid credentials"),o("Invalid credentials. Please try again.")}catch(d){console.error("Login error:",d),o("Connection failed. Please try again.")}finally{l(!1)}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-6",children:i.jsxs("div",{className:"w-full max-w-sm mx-auto",children:[i.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-12 scale-in",children:[i.jsxs("div",{className:"text-center mb-10",children:[i.jsx("div",{className:"flex justify-center mb-6",children:i.jsxs("div",{className:"relative",children:[i.jsx(ze,{className:"h-16 w-16 text-red-500 heart-beat",fill:"currentColor"}),i.jsx("div",{className:"absolute inset-0 h-16 w-16 bg-red-500/20 rounded-full blur-xl"})]})}),i.jsx("h1",{className:"font-heading text-4xl font-bold text-gray-900 mb-3 tracking-tight",children:"Scott & Zoe"}),i.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Welcome to our sanctuary"})]}),i.jsxs("form",{onSubmit:h,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-800 text-center",children:"Choose your identity"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("button",{type:"button",onClick:()=>t("scott"),className:`relative p-4 rounded-2xl border-2 transition-all duration-300 group ${e==="scott"?"border-purple-400 bg-purple-50/80 shadow-lg shadow-purple-400/20":"border-gray-200 bg-gray-50/50 hover:border-gray-300 hover:bg-gray-50/80"}`,children:[i.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[i.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg transition-all duration-300 ${e==="scott"?"bg-gradient-to-br from-purple-400 to-purple-500 scale-110":"bg-gradient-to-br from-gray-400 to-gray-500 group-hover:from-purple-300 group-hover:to-purple-400"}`,children:"S"}),i.jsx("span",{className:`font-medium transition-colors ${e==="scott"?"text-purple-700":"text-gray-700"}`,children:"Scott"})]}),e==="scott"&&i.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-purple-400 rounded-full flex items-center justify-center",children:i.jsx(Zs,{className:"w-3 h-3 text-white"})})]}),i.jsxs("button",{type:"button",onClick:()=>t("zoe"),className:`relative p-4 rounded-2xl border-2 transition-all duration-300 group ${e==="zoe"?"border-pink-500 bg-pink-50/80 shadow-lg shadow-pink-500/20":"border-gray-200 bg-gray-50/50 hover:border-gray-300 hover:bg-gray-50/80"}`,children:[i.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[i.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg transition-all duration-300 ${e==="zoe"?"bg-gradient-to-br from-pink-500 to-pink-600 scale-110":"bg-gradient-to-br from-gray-400 to-gray-500 group-hover:from-pink-400 group-hover:to-pink-500"}`,children:"Z"}),i.jsx("span",{className:`font-medium transition-colors ${e==="zoe"?"text-pink-700":"text-gray-700"}`,children:"Zoe"})]}),e==="zoe"&&i.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-pink-500 rounded-full flex items-center justify-center",children:i.jsx(Zs,{className:"w-3 h-3 text-white"})})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-800 text-center",children:"Enter our secret password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Tf,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"password",id:"password",value:r,onChange:u=>n(u.target.value),className:"w-full pl-12 pr-12 py-4 bg-gray-50/80 border border-gray-200 rounded-2xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-400/30 focus:border-purple-400 transition-all duration-300 text-center font-medium backdrop-blur-sm",placeholder:"Enter password",required:!0})]})]}),s&&i.jsx("div",{className:"bg-red-50/80 border border-red-200 text-red-700 text-sm text-center py-4 px-4 rounded-2xl backdrop-blur-sm font-medium",children:s}),i.jsx("button",{type:"submit",disabled:a||!e,className:`w-full py-4 px-6 rounded-2xl font-semibold text-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98] transform ${e==="scott"?"bg-gradient-to-r from-purple-400 to-purple-500 hover:from-purple-500 hover:to-purple-600 text-white hover:shadow-xl hover:shadow-purple-400/25":e==="zoe"?"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white hover:shadow-xl hover:shadow-pink-500/25":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:a?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"}),"Signing in..."]}):i.jsxs("span",{className:"flex items-center justify-center",children:["Enter Our World",i.jsx(ze,{className:"h-5 w-5 ml-2",fill:"currentColor"})]})})]}),i.jsx("div",{className:"mt-10 text-center",children:i.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"A private space for our precious memories "})})]}),i.jsx("div",{className:"text-center mt-8",children:i.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Made with  for Scott & Zoe"})})]})})}const wb=({onClose:e,level:t,onPrizeWon:r})=>{const[n,s]=E.useState(!1),[o,a]=E.useState(null),[l,c]=E.useState(!1),[h,u]=E.useState(!1),[d,f]=E.useState(0),[p,m]=E.useState([]),[y,b]=E.useState(!0),[g,v]=E.useState(0),x=E.useRef(null),C=(k,T)=>{const D="w-5 h-5";return k==="MONEY"?T>=500?i.jsx($i,{className:`${D} text-yellow-300 drop-shadow-lg`}):T>=100?i.jsx($i,{className:`${D} text-yellow-200 drop-shadow-lg`}):T>=50?i.jsx(ri,{className:`${D} text-yellow-200 drop-shadow-lg`}):T>=25?i.jsx(Vt,{className:`${D} text-green-200 drop-shadow-lg`}):T>=10?i.jsx(Vt,{className:`${D} text-green-600 drop-shadow-sm`}):i.jsx(Vt,{className:`${D} text-green-700 drop-shadow-sm`}):k==="GIFT"?i.jsx(Ve,{className:`${D} text-purple-200 drop-shadow-lg`}):k==="EXPERIENCE"?i.jsx(ri,{className:`${D} text-purple-200 drop-shadow-lg`}):i.jsx(Ve,{className:`${D} text-white drop-shadow-lg`})},R=()=>[{id:1,amount:1,color:"#F3F4F6",probability:45,prizeName:"$1",prizeDescription:"Win $1 love points",prizeType:"MONEY",icon:C("MONEY",1)},{id:2,amount:5,color:"#E5E7EB",probability:25,prizeName:"$5",prizeDescription:"Win $5 love points",prizeType:"MONEY",icon:C("MONEY",5)},{id:3,amount:10,color:"#D1D5DB",probability:15,prizeName:"$10",prizeDescription:"Win $10 love points",prizeType:"MONEY",icon:C("MONEY",10)},{id:4,amount:25,color:"#9CA3AF",probability:10,prizeName:"$25",prizeDescription:"Win $25 love points",prizeType:"MONEY",icon:C("MONEY",25)},{id:5,amount:77,color:"#6B7280",probability:2.5,prizeName:"$77",prizeDescription:"Win $77 love points",prizeType:"MONEY",icon:C("MONEY",77)},{id:6,amount:100,color:"#4B5563",probability:1.5,prizeName:"$100",prizeDescription:"Win $100 love points",prizeType:"MONEY",icon:C("MONEY",100)},{id:7,amount:500,color:"#374151",probability:.5,prizeName:"$500",prizeDescription:"Win $500 love points",prizeType:"MONEY",icon:C("MONEY",500)},{id:8,amount:1e3,color:"#1F2937",probability:.5,prizeName:"$1000",prizeDescription:"Win $1000 love points",prizeType:"MONEY",icon:C("MONEY",1e3)}];E.useEffect(()=>{(async()=>{var T;try{const[D,O,M]=await Promise.all([K.get("/api/wheel/stats"),K.get("/api/opportunities/stats"),K.get("/api/wheel-config/my-wheel")]);if(u(!D.data.canUseThisWeek),f(O.data.unused||0),M.data.hasConfiguration&&M.data.prizes){const A=M.data.prizes.map((P,F)=>({id:P.id||F+1,amount:P.prizeValue,color:P.color,probability:parseFloat(P.probability),prizeName:P.prizeName,prizeDescription:P.prizeDescription,prizeType:P.prizeType,icon:C(P.prizeType,P.prizeValue)}));m(A)}else m(R());console.log(" Wheel data loaded:",{canUseThisWeek:D.data.canUseThisWeek,savedOpportunities:O.data.unused,prizesCount:((T=M.data.prizes)==null?void 0:T.length)||0})}catch(D){console.error(" Error loading wheel data from backend:",D);const O=new Date,A=new Date(O.setDate(O.getDate()-O.getDay())).toDateString(),P=localStorage.getItem("wheelLastUsedWeek"),F=parseInt(localStorage.getItem("wheelOpportunities")||"0");P===A&&u(!0),f(F),m(R())}finally{b(!1)}})()},[]);const S=()=>{const k=Math.random()*100;let T=0;for(const D of p)if(T+=D.probability,k<=T)return D;return p[0]},I=()=>{if(n)return;if(h&&d===0){alert("You can only use the wheel once per week! Come back next week or reach 520 love again for another opportunity.");return}s(!0);const k=S(),T=p.findIndex(L=>L.id===k.id),D=360/p.length,O=T*D+D/2,M=5,A=Math.floor(Math.random()*3)+2,F=(M+A)*360+(360-O);v(F),setTimeout(async()=>{s(!1),a(k),c(!0);try{const L=d>0?"saved_opportunity":"weekly";await K.post("/api/wheel/use",{prizeAmount:k.amount,source:L}),console.log(" Wheel usage recorded in backend successfully")}catch(L){console.error(" Error recording wheel usage in backend:",L);const $=new Date,B=new Date($.setDate($.getDate()-$.getDay())).toDateString();localStorage.setItem("wheelLastUsedWeek",B)}if(u(!0),d>0)try{await K.post("/api/opportunities/use");const L=await K.get("/api/opportunities/stats");f(L.data.unused||0)}catch(L){console.error("Error using saved opportunity in backend:",L);const $=d-1;localStorage.setItem("wheelOpportunities",$.toString()),f($)}},3200)},w=async k=>{if(!n&&o){try{await K.post("/api/wheel-prizes",{prizeType:o.prizeType,prizeValue:o.amount,prizeDescription:o.prizeDescription}),console.log(" Prize claimed and recorded:",o.amount),r&&await r(o.amount)}catch(T){console.error(" Error recording prize:",T)}e()}},j=async k=>{if(k&&(k.preventDefault(),k.stopPropagation()),!n){if(!h&&!l)try{await K.post("/api/opportunities/create",{source:"wheel_close_without_spin"}),console.log(" Opportunity saved for later use")}catch(T){console.error(" Error saving opportunity:",T);const D=parseInt(localStorage.getItem("wheelOpportunities")||"0");localStorage.setItem("wheelOpportunities",(D+1).toString())}e()}},N=k=>{switch(k){case 1:return"#F3F4F6";case 5:return"#E5E7EB";case 10:return"#D1D5DB";case 25:return"#9CA3AF";case 77:return"#6B7280";case 100:return"#4B5563";case 500:return"#374151";case 1e3:return"#1F2937";default:return"#F3F4F6"}};return y?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:i.jsxs("div",{className:"bg-white rounded-3xl max-w-md w-full p-8 apple-shadow-lg relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-50 via-pink-50 to-purple-50 opacity-50"}),i.jsxs("div",{className:"relative z-10 text-center",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"w-8 h-8"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ve,{className:"w-6 h-6 text-yellow-500"}),i.jsx("h2",{className:"text-2xl font-bold text-apple-label",children:"Prize Wheel"}),i.jsx($i,{className:"w-6 h-6 text-yellow-500"})]}),i.jsx("button",{onClick:e,className:"w-8 h-8 rounded-full bg-apple-gray-6/10 hover:bg-apple-gray-6/20 flex items-center justify-center transition-colors",children:i.jsx($e,{className:"w-4 h-4 text-apple-secondary-label"})})]}),i.jsxs("div",{className:"py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-500 mx-auto mb-4"}),i.jsx("p",{className:"text-apple-secondary-label",children:"Loading wheel configuration..."})]})]})]})}):i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[9999] p-4",onClick:k=>{k.preventDefault(),k.stopPropagation(),k.target===k.currentTarget&&!n&&j()},children:i.jsxs("div",{className:"bg-white rounded-3xl max-w-md w-full p-8 apple-shadow-lg relative overflow-hidden pointer-events-auto",onClick:k=>{k.preventDefault(),k.stopPropagation()},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-50 via-pink-50 to-purple-50 opacity-50"}),i.jsxs("div",{className:"relative z-10 text-center mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"w-8 h-8"})," ",i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ve,{className:"w-6 h-6 text-yellow-500"}),i.jsx("h2",{className:"text-2xl font-bold text-apple-label",children:"Prize Wheel"}),i.jsx($i,{className:"w-6 h-6 text-yellow-500"})]}),d>0&&i.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[d," saved opportunity",d>1?"ies":"y"," available"]}),h&&d===0&&i.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Used this week - come back next week!"})]}),i.jsx("button",{onClick:k=>{k.preventDefault(),k.stopPropagation(),j(k)},disabled:n,className:"w-8 h-8 rounded-full bg-apple-gray-6/10 hover:bg-apple-gray-6/20 flex items-center justify-center transition-colors disabled:opacity-50 pointer-events-auto z-[10000]",children:i.jsx($e,{className:"w-4 h-4 text-apple-secondary-label"})})]}),i.jsxs("p",{className:"text-apple-secondary-label",children:["Congratulations! You've reached level ",t,"!"]})]}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[i.jsxs("div",{className:"relative w-64 h-64 mb-6",children:[n&&i.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent bg-gradient-to-r from-yellow-400 via-red-500 to-pink-500 animate-pulse opacity-20 z-10"}),i.jsx("div",{ref:x,className:`w-full h-full rounded-full border-4 border-white apple-shadow-lg transition-transform duration-[3000ms] ${n?"ease-out":"hover:scale-105 ease-in-out duration-200"}`,style:{transform:`rotate(${g}deg)`,background:`conic-gradient(${p.map((k,T)=>{const D=T/p.length*360,O=(T+1)/p.length*360;return`${k.color} ${D}deg ${O}deg`}).join(", ")})`},children:p.map((k,T)=>{const D=360/p.length,O=T*D+D/2,M=p.length>6?50:65,A=Math.cos((O-90)*Math.PI/180)*M,P=Math.sin((O-90)*Math.PI/180)*M;return k.color==="#F3F4F6"||k.color==="#E5E7EB"||k.color,i.jsx("div",{className:"absolute flex flex-col items-center justify-center font-bold pointer-events-none text-white",style:{left:`calc(50% + ${A}px)`,top:`calc(50% + ${P}px)`,transform:`translate(-50%, -50%) rotate(${O}deg)`,transformOrigin:"center",textShadow:"2px 2px 4px rgba(0,0,0,0.8)",fontSize:p.length>8?"9px":"11px"},children:i.jsxs("div",{className:"flex flex-col items-center space-y-0.5",style:{transform:`rotate(-${O}deg)`},children:[i.jsx("div",{className:"flex items-center justify-center mb-0.5",children:i.jsx("span",{className:"text-base",children:k.prizeType==="MONEY"?"":k.prizeType==="GIFT"?"":""})}),i.jsx("span",{className:"text-center leading-tight font-bold max-w-16 truncate block",style:{fontSize:p.length>8?"8px":"10px"},title:k.prizeName,children:k.prizeName})]})},k.id)})}),i.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-2 z-10",children:i.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-b-8 border-l-transparent border-r-transparent border-b-red-500"})})]}),!l&&i.jsx("button",{onClick:k=>{k.preventDefault(),k.stopPropagation(),I()},disabled:n||h&&d===0,className:`px-8 py-4 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white rounded-xl font-semibold transition-all duration-200 shadow-lg pointer-events-auto z-[10000] relative ${n||h&&d===0?"opacity-50 cursor-not-allowed":"hover:shadow-xl hover:scale-105"}`,children:n?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),i.jsx("span",{children:"Spinning... "})]}):h&&d===0?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{children:"Used This Week"}),i.jsx("span",{className:"text-xl",children:""})]}):i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{children:"Spin the Wheel!"}),i.jsx("span",{className:"text-xl",children:""})]})}),l&&o&&i.jsxs("div",{className:"text-center space-y-4 animate-bounce-in",children:[i.jsx("div",{className:`w-20 h-20 rounded-full bg-gradient-to-br ${N(o.amount)} flex items-center justify-center mx-auto apple-shadow-lg`,children:i.jsxs("div",{className:"text-white text-2xl font-bold",children:["$",o.amount]})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-apple-label mb-2",children:"Congratulations! "}),i.jsxs("p",{className:"text-apple-secondary-label mb-2",children:["You won ",o.prizeName,"!"]}),i.jsx("p",{className:"text-sm text-apple-secondary-label mb-4",children:o.prizeDescription}),i.jsxs("button",{onClick:k=>{k.preventDefault(),k.stopPropagation(),w()},className:"px-8 py-4 bg-gradient-to-r from-purple-400 to-purple-500 hover:from-purple-500 hover:to-purple-600 text-white rounded-xl font-bold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:[" Claim $",o.amount," Prize"]})]})]})]})]})})},E4=({message:e,type:t="general",onClose:r,duration:n=3e3})=>{const[s,o]=E.useState(!1);E.useEffect(()=>{o(!0);const c=setTimeout(()=>{o(!1),setTimeout(r,300)},n);return()=>clearTimeout(c)},[n,r]);const a=()=>{switch(t){case"photo":return i.jsx(zr,{className:"w-5 h-5 text-white"});case"love":return i.jsx(ze,{className:"w-5 h-5 text-white fill-current"});default:return i.jsx(Js,{className:"w-5 h-5 text-white"})}},l=()=>{switch(t){case"photo":return"from-purple-400 to-purple-500";case"love":return"from-pink-500 to-red-500";default:return"from-green-500 to-green-600"}};return i.jsx("div",{className:`transform transition-all duration-300 ${s?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"}`,children:i.jsxs("div",{className:`bg-gradient-to-r ${l()} rounded-2xl p-4 apple-shadow-lg max-w-sm`,children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"flex-shrink-0",children:a()}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-white font-medium text-sm",children:e})}),i.jsx("button",{onClick:()=>{o(!1),setTimeout(r,300)},className:"flex-shrink-0 text-white/80 hover:text-white transition-colors",children:i.jsx($e,{className:"w-4 h-4"})})]}),t==="love"&&i.jsx("div",{className:"absolute -top-1 -right-1",children:i.jsx("div",{className:"flex space-x-1",children:[...Array(3)].map((c,h)=>i.jsx(ze,{className:"w-3 h-3 text-pink-300 fill-current animate-float-up",style:{animationDelay:`${h*.2}s`}},h))})}),t==="photo"&&i.jsx("div",{className:"absolute -top-1 -right-1",children:i.jsx("div",{className:"flex space-x-1",children:[...Array(2)].map((c,h)=>i.jsx("div",{className:"w-2 h-2 bg-blue-300 rounded-full animate-sparkle",style:{animationDelay:`${h*.3}s`}},h))})})]})})},jb=E.createContext(void 0),Uo=()=>{const e=E.useContext(jb);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},C4=({children:e})=>{const[t,r]=E.useState([]),n=(l,c="general",h=3e3)=>{const d={id:Math.random().toString(36).substr(2,9),message:l,type:c,duration:h};r(f=>[...f,d])},s=l=>{const c=l===1?" Photo uploaded successfully!":` ${l} photos uploaded successfully!`;n(c,"photo",4e3)},o=()=>{const l=[" Love shared!"," Sending love!"," Love you more!"," Sweet love!"," Love grows!"],c=l[Math.floor(Math.random()*l.length)];n(c,"love",2e3)},a=l=>{r(c=>c.filter(h=>h.id!==l))};return i.jsxs(jb.Provider,{value:{showToast:n,showPhotoSuccess:s,showLoveSuccess:o},children:[e,i.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map((l,c)=>i.jsx("div",{style:{transform:`translateY(${c*80}px)`,zIndex:50-c},children:i.jsx(E4,{message:l.message,type:l.type,duration:l.duration,onClose:()=>a(l.id)})},l.id))})]})},T4=({onLoveClick:e})=>{const{user:t}=Dn(),[r,n]=E.useState({count:0,totalCount:0,nextMilestone:520,remainingToMilestone:520,currentLevel:1,progressPercent:0,isMilestoneReached:!1}),[s,o]=E.useState(!1),[a,l]=E.useState(!1),[c,h]=E.useState(!1),[u,d]=E.useState(!0),[f,p]=E.useState(0),[m,y]=E.useState(!0),{showLoveSuccess:b,showToast:g}=Uo();E.useEffect(()=>{R(),v(),x()},[]);const v=async()=>{try{const B=await K.get("/api/opportunities/stats");p(B.data.unused||0)}catch(B){console.error("Error loading saved opportunities from backend:",B);const q=parseInt(localStorage.getItem("wheelOpportunities")||"0");p(q)}},x=async()=>{try{const B=await K.get("/api/wheel/stats");y(B.data.canUseThisWeek)}catch(B){console.error("Error fetching wheel usage status:",B);const q=new Date,U=new Date(q.setDate(q.getDate()-q.getDay())).toDateString(),X=localStorage.getItem("wheelLastUsedWeek");y(X!==U)}},C=async B=>{if(B&&(B.preventDefault(),B.stopPropagation()),f>0)try{if(!(await K.get("/api/wheel/stats")).data.canUseThisWeek){alert(" Saved opportunities can only be used next week! Come back after the week resets.");return}o(!0)}catch(q){console.error("Error checking wheel usage status:",q);const H=new Date,X=new Date(H.setDate(H.getDate()-H.getDay())).toDateString();if(localStorage.getItem("wheelLastUsedWeek")===X){alert(" Saved opportunities can only be used next week! Come back after the week resets.");return}o(!0)}},R=async()=>{try{d(!0);const B=await K.get("/api/love");n(B.data)}catch(B){console.error("Error fetching love stats:",B)}finally{d(!1)}},S=async B=>{console.log("Prize won:",B)},[I,w]=E.useState(0),[j,N]=E.useState(!1),[k,T]=E.useState([]),[D,O]=E.useState(0),[M,A]=E.useState(!1),[P,F]=E.useState(null);E.useEffect(()=>{if(I>0&&!j){N(!0);const B=I;w(0),L(B)}},[I,j]),E.useEffect(()=>()=>{P&&clearTimeout(P)},[P]);const L=async B=>{try{const q=[];for(let X=0;X<B;X++)q.push(K.post("/api/love/increment"));const U=(await Promise.allSettled(q)).filter(X=>X.status==="fulfilled").map(X=>X.value);if(U.length>0){const ee=U[U.length-1].data;n({count:ee.count,totalCount:ee.totalCount,nextMilestone:ee.nextMilestone,remainingToMilestone:ee.remainingToMilestone,currentLevel:ee.currentLevel,progressPercent:ee.progressPercent,isMilestoneReached:ee.isMilestoneReached}),Math.random()<.2&&b(),ee.justReachedMilestone&&await $()}}catch(q){console.error("Error processing love clicks:",q),g("Failed to share love. Please try again.","general")}finally{N(!1)}},$=async()=>{try{if((await K.get("/api/wheel/stats")).data.canUseThisWeek)setTimeout(()=>{o(!0)},500);else try{await K.post("/api/opportunities/create",{source:"milestone_520"}),await v(),g(" You reached 520 love! Opportunity saved for next week!","general")}catch(H){console.error("Error saving opportunity to backend:",H);const U=parseInt(localStorage.getItem("wheelOpportunities")||"0");localStorage.setItem("wheelOpportunities",(U+1).toString()),await v(),g(" You reached 520 love! Opportunity saved for next week!","general")}}catch(B){console.error("Error checking wheel usage status for milestone:",B);const q=new Date,U=new Date(q.setDate(q.getDate()-q.getDay())).toDateString();if(localStorage.getItem("wheelLastUsedWeek")===U)try{await K.post("/api/opportunities/create",{source:"milestone_520"}),await v(),g(" You reached 520 love! Opportunity saved for next week!","general")}catch(ee){console.error("Error saving opportunity to backend:",ee);const ae=parseInt(localStorage.getItem("wheelOpportunities")||"0");localStorage.setItem("wheelOpportunities",(ae+1).toString()),await v(),g(" You reached 520 love! Opportunity saved for next week!","general")}else setTimeout(()=>{o(!0)},500)}},z=async B=>{B&&(B.preventDefault(),B.stopPropagation());const q=Date.now();T(H=>{const U=[...H,q].filter(X=>q-X<2e3);if(U.length>=5){O(ee=>ee+1),A(!0),P&&clearTimeout(P);const X=setTimeout(()=>{A(!1),F(null)},2e3);F(X)}return U}),l(!0),h(!0),setTimeout(()=>{l(!1),h(!1)},300),w(H=>H+1),e==null||e()};return u?i.jsx("div",{className:"apple-card apple-card-hover p-6 text-center apple-shadow relative overflow-hidden",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"w-12 h-12 bg-apple-gray-6/20 rounded-full mx-auto mb-4"}),i.jsx("div",{className:"w-16 h-8 bg-apple-gray-6/20 rounded mx-auto mb-2"}),i.jsx("div",{className:"w-20 h-4 bg-apple-gray-6/20 rounded mx-auto"})]})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"relative pointer-events-auto touch-manipulation",children:[i.jsxs("div",{className:"apple-card apple-card-hover p-6 text-center apple-shadow relative overflow-hidden transition-all duration-500",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-50 to-red-50 opacity-50"}),c&&i.jsx("div",{className:"absolute inset-4 pointer-events-none",children:[...Array(4)].map((B,q)=>i.jsx(ze,{className:"absolute w-3 h-3 fill-current animate-float-up text-red-400",style:{left:`${20+q*15}%`,top:"80%",animationDelay:`${q*.2}s`,animationDuration:"1.5s"}},q))}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("button",{onClick:B=>z(B),className:`group relative z-30 pointer-events-auto transition-all duration-500 touch-manipulation hover-bounce focus:outline-none ${a?"animate-cute-squish":""} ${M?"animate-heart-bounce":""}`,style:{WebkitTapHighlightColor:"transparent",filter:a?"drop-shadow(0 0 8px rgba(239, 68, 68, 0.6))":"drop-shadow(0 2px 6px rgba(239, 68, 68, 0.2))"},children:[i.jsx(ze,{className:`h-12 w-12 mx-auto mb-4 transition-all duration-500 ${M||a?"text-red-500 fill-current animate-heart-bounce":"text-gradient fill-current group-hover:text-red-500 hover-glow"}`,style:{filter:a||M?"drop-shadow(0 0 8px rgba(239, 68, 68, 0.6))":"drop-shadow(0 0 4px rgba(239, 68, 68, 0.3))"}}),i.jsx("div",{className:"absolute -inset-2 rounded-full opacity-0 group-hover:opacity-30 transition-all duration-300 pointer-events-none bg-gradient-to-r from-red-400/8 to-pink-400/8"})]}),i.jsx("div",{className:"text-3xl font-semibold text-apple-label mb-2",children:r.count.toLocaleString()}),i.jsx("div",{className:"text-apple-secondary-label mb-2",children:"Love Shared"}),f>0&&(()=>{const B=m;return i.jsx("div",{className:"mb-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"text-sm text-purple-700 font-medium",children:[" ",f," Saved Spin",f>1?"s":""]}),i.jsx("div",{className:"text-xs text-purple-500 mt-1",children:B?"Ready to use this week!":"Available next week!"})]}),i.jsx("button",{onClick:q=>C(q),disabled:!B,className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-colors relative z-30 pointer-events-auto touch-manipulation ${B?"bg-purple-500 text-white hover:bg-purple-600 active:scale-95":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,style:{WebkitTapHighlightColor:"transparent"},children:B?"Use Now":"Next Week"})]})})})(),r.count>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-apple-secondary-label",children:[i.jsxs("span",{children:["Level ",r.currentLevel]}),i.jsxs("span",{children:[r.remainingToMilestone," to next prize"]})]}),i.jsx("div",{className:"w-full bg-apple-gray-6/20 rounded-full h-2",children:i.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-red-500 h-2 rounded-full transition-all duration-500",style:{width:`${r.progressPercent}%`}})}),r.remainingToMilestone<=50&&i.jsxs("div",{className:"flex items-center justify-center space-x-1 text-xs text-red-500 animate-pulse",children:[i.jsx(Ve,{className:"w-3 h-3"}),i.jsx("span",{children:"Prize wheel coming soon!"}),i.jsx($i,{className:"w-3 h-3"})]})]})]})]}),r.count>=520&&i.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl border border-yellow-200",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm",children:[i.jsx(ri,{className:"w-4 h-4 text-yellow-500 fill-current"}),i.jsxs("span",{className:"text-yellow-700 font-medium",children:["Milestone Level ",r.currentLevel," Achieved!"]}),i.jsx(ri,{className:"w-4 h-4 text-yellow-500 fill-current"})]}),i.jsxs("div",{className:"text-center text-xs text-yellow-600 mt-1",children:["You've unlocked ",Math.floor(r.count/520)," prize wheel",Math.floor(r.count/520)>1?"s":"","!"]})]})]}),s&&i.jsx(wb,{onClose:()=>{o(!1),v(),x()},level:r.currentLevel,onPrizeWon:S})]})},P4=()=>{const{user:e,isAuthenticated:t}=Dn(),[r,n]=E.useState(null),[s,o]=E.useState(!0),[a,l]=E.useState(null),c=E.useRef(null);if(!t||!e)return null;const h=async()=>{try{o(!0),l(null);const m=await K.get("/api/love/partner");n(m.data)}catch(m){console.error("Error fetching partner love count:",m),l("Failed to load partner's love count")}finally{o(!1)}},u=()=>{try{c.current&&c.current.close();const m=localStorage.getItem("token");if(!m){console.error("No authentication token found for SSE"),h();return}const y=new EventSource(`/api/love-updates/subscribe?token=${encodeURIComponent(m)}`,{withCredentials:!0});y.addEventListener("partner-love-update",b=>{try{const g=JSON.parse(b.data);n(g),l(null)}catch(g){console.error("Error parsing SSE data:",g)}}),y.onerror=b=>{console.error("SSE connection error:",b),l("Real-time connection lost"),c.current&&(c.current.close(),c.current=null),setTimeout(()=>{console.log("Attempting to reconnect SSE..."),u()},3e3),setTimeout(()=>{h()},1e3)},y.onopen=()=>{console.log("SSE connection established"),l(null)},c.current=y}catch(m){console.error("Error setting up SSE:",m),h(),setTimeout(()=>{u()},5e3)}};if(E.useEffect(()=>{if(!(!t||!e))return h(),u(),()=>{c.current&&c.current.close()}},[t,e]),s&&!r)return i.jsxs("div",{className:"apple-card apple-shadow p-6 text-center animate-pulse",children:[i.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded-full mx-auto mb-4"}),i.jsx("div",{className:"h-8 bg-gray-200 rounded mb-2"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded"})]});if(a)return i.jsxs("div",{className:"apple-card apple-shadow p-6 text-center",children:[i.jsx("div",{className:"text-red-500 mb-2",children:""}),i.jsx("div",{className:"text-sm text-red-600",children:a})]});if(!r)return null;e==null||e.username,r.partnerUsername;const d=r.partnerUsername==="scott"?"text-purple-400":"text-pink-500",f=r.partnerUsername==="scott"?"bg-purple-50":"bg-pink-50",p=r.partnerUsername==="scott"?"border-purple-200":"border-pink-200";return i.jsxs("div",{className:`apple-card apple-shadow p-6 text-center transition-all duration-300 cursor-pointer group pointer-events-auto relative ${f} ${p} border group-hover:shadow-lg`,children:[i.jsx("div",{className:"flex items-center justify-center mb-4",children:i.jsx("div",{className:`p-3 rounded-full ${r.partnerUsername==="scott"?"bg-purple-100":"bg-pink-100"} transition-all duration-300 group-hover:scale-105`,children:i.jsx(ze,{className:`h-8 w-8 ${d} transition-all duration-300 group-hover:scale-110`,fill:"currentColor"})})}),i.jsx("div",{className:"text-3xl font-semibold text-apple-label mb-2 transition-all duration-300 group-hover:scale-105",children:r.partnerLoveCount.toLocaleString()}),i.jsxs("div",{className:"text-apple-secondary-label transition-colors duration-300 group-hover:text-apple-blue-light mb-3",children:[r.partnerDisplayName,"'s Love"]}),i.jsxs("div",{className:"text-xs text-apple-tertiary-label mb-2",children:[" Love shared by ",r.partnerDisplayName]}),s&&i.jsx("div",{className:"text-xs text-apple-blue-light opacity-70",children:"Updating..."}),i.jsx("div",{className:"mt-2 text-xs text-apple-blue-light font-medium opacity-0 group-hover:opacity-100 transition-all duration-300",children:"Real-time sync "})]})},D4={},jg=e=>{let t;const r=new Set,n=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const p=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(m=>m(t,p))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>h,subscribe:u=>(r.add(u),()=>r.delete(u)),destroy:()=>{(D4?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},h=t=e(n,s,c);return c},A4=e=>e?jg(e):jg;var Nb={exports:{}},Sb={},kb={exports:{}},Eb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var si=E;function O4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var R4=typeof Object.is=="function"?Object.is:O4,I4=si.useState,M4=si.useEffect,_4=si.useLayoutEffect,L4=si.useDebugValue;function F4(e,t){var r=t(),n=I4({inst:{value:r,getSnapshot:t}}),s=n[0].inst,o=n[1];return _4(function(){s.value=r,s.getSnapshot=t,xu(s)&&o({inst:s})},[e,r,t]),M4(function(){return xu(s)&&o({inst:s}),e(function(){xu(s)&&o({inst:s})})},[e]),L4(r),r}function xu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!R4(e,r)}catch{return!0}}function $4(e,t){return t()}var z4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$4:F4;Eb.useSyncExternalStore=si.useSyncExternalStore!==void 0?si.useSyncExternalStore:z4;kb.exports=Eb;var B4=kb.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yc=E,U4=B4;function V4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var W4=typeof Object.is=="function"?Object.is:V4,H4=U4.useSyncExternalStore,q4=yc.useRef,G4=yc.useEffect,Y4=yc.useMemo,X4=yc.useDebugValue;Sb.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var o=q4(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=Y4(function(){function c(p){if(!h){if(h=!0,u=p,p=n(p),s!==void 0&&a.hasValue){var m=a.value;if(s(m,p))return d=m}return d=p}if(m=d,W4(u,p))return m;var y=n(p);return s!==void 0&&s(m,y)?(u=p,m):(u=p,d=y)}var h=!1,u,d,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,s]);var l=H4(e,o[0],o[1]);return G4(function(){a.hasValue=!0,a.value=l},[l]),X4(l),l};Nb.exports=Sb;var K4=Nb.exports;const Q4=jh(K4),Cb={},{useDebugValue:J4}=cs,{useSyncExternalStoreWithSelector:Z4}=Q4;let Ng=!1;const e5=e=>e;function t5(e,t=e5,r){(Cb?"production":void 0)!=="production"&&r&&!Ng&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Ng=!0);const n=Z4(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return J4(n),n}const Sg=e=>{(Cb?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?A4(e):e,r=(n,s)=>t5(t,n,s);return Object.assign(r,t),r},Tb=e=>e?Sg(e):Sg;function r5(e,t){e.terminate=function(){const r=()=>{};this.onerror=r,this.onmessage=r,this.onopen=r;const n=new Date,s=Math.random().toString().substring(2,8),o=this.onclose;this.onclose=a=>{const l=new Date().getTime()-n.getTime();t(`Discarded socket (#${s})  closed after ${l}ms, with code/reason: ${a.code}/${a.reason}`)},this.close(),o==null||o.call(e,{code:4001,reason:`Quick discarding socket (#${s}) without waiting for the shutdown sequence.`,wasClean:!1})}}const zi={LF:`
`,NULL:"\0"};class rn{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(t){const{command:r,headers:n,body:s,binaryBody:o,escapeHeaderValues:a,skipContentLengthHeader:l}=t;this.command=r,this.headers=Object.assign({},n||{}),o?(this._binaryBody=o,this.isBinaryBody=!0):(this._body=s||"",this.isBinaryBody=!1),this.escapeHeaderValues=a||!1,this.skipContentLengthHeader=l||!1}static fromRawFrame(t,r){const n={},s=o=>o.replace(/^\s+|\s+$/g,"");for(const o of t.headers.reverse()){o.indexOf(":");const a=s(o[0]);let l=s(o[1]);r&&t.command!=="CONNECT"&&t.command!=="CONNECTED"&&(l=rn.hdrValueUnEscape(l)),n[a]=l}return new rn({command:t.command,headers:n,binaryBody:t.binaryBody,escapeHeaderValues:r})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?rn.toUnit8Array(t,this._binaryBody).buffer:t+this._body+zi.NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const r of Object.keys(this.headers||{})){const n=this.headers[r];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?t.push(`${r}:${rn.hdrValueEscape(`${n}`)}`):t.push(`${r}:${n}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(zi.LF)+zi.LF+zi.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?new TextEncoder().encode(t).length:0}static toUnit8Array(t,r){const n=new TextEncoder().encode(t),s=new Uint8Array([0]),o=new Uint8Array(n.length+r.length+s.length);return o.set(n),o.set(r,n.length),o.set(s,n.length+r.length),o}static marshall(t){return new rn(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const kg=0,Sa=10,ka=13,n5=58;class s5{constructor(t,r){this.onFrame=t,this.onIncomingPing=r,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,r=!1){let n;if(typeof t=="string"?n=this._encoder.encode(t):n=new Uint8Array(t),r&&n[n.length-1]!==0){const s=new Uint8Array(n.length+1);s.set(n,0),s[n.length]=0,n=s}for(let s=0;s<n.length;s++){const o=n[s];this._onByte(o)}}_collectFrame(t){if(t!==kg&&t!==ka){if(t===Sa){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(t!==ka){if(t===Sa){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_collectHeaders(t){if(t!==ka){if(t===Sa){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(t===n5){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(t)}_collectHeaderValue(t){if(t!==ka){if(t===Sa){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(r=>r[0]==="content-length")[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){if(t===kg){this._retrievedBody();return}this._consumeByte(t)}_collectBodyFixedSize(t){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(t)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var nn;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})(nn||(nn={}));var rr;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE"})(rr||(rr={}));var Tl;(function(e){e[e.LINEAR=0]="LINEAR",e[e.EXPONENTIAL=1]="EXPONENTIAL"})(Tl||(Tl={}));var Eo;(function(e){e.Interval="interval",e.Worker="worker"})(Eo||(Eo={}));class i5{constructor(t,r=Eo.Interval,n){this._interval=t,this._strategy=r,this._debug=n,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(t){this.stop(),this.shouldUseWorker()?this.runWorker(t):this.runInterval(t)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===Eo.Worker}runWorker(t){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=r=>t(r.data))}runInterval(t){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const r=Date.now();this._timer=setInterval(()=>{t(Date.now()-r)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class pt{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}pt.V1_0="1.0";pt.V1_1="1.1";pt.V1_2="1.2";pt.default=new pt([pt.V1_2,pt.V1_1,pt.V1_0]);class o5{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(t,r,n){this._client=t,this._webSocket=r,this._connected=!1,this._serverFrameHandlers={CONNECTED:s=>{this.debug(`connected to server ${s.headers.server}`),this._connected=!0,this._connectedVersion=s.headers.version,this._connectedVersion===pt.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(s.headers),this.onConnect(s)},MESSAGE:s=>{const o=s.headers.subscription,a=this._subscriptions[o]||this.onUnhandledMessage,l=s,c=this,h=this._connectedVersion===pt.V1_2?l.headers.ack:l.headers["message-id"];l.ack=(u={})=>c.ack(h,o,u),l.nack=(u={})=>c.nack(h,o,u),a(l)},RECEIPT:s=>{const o=this._receiptWatchers[s.headers["receipt-id"]];o?(o(s),delete this._receiptWatchers[s.headers["receipt-id"]]):this.onUnhandledReceipt(s)},ERROR:s=>{this.onStompError(s)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=n.debug,this.stompVersions=n.stompVersions,this.connectHeaders=n.connectHeaders,this.disconnectHeaders=n.disconnectHeaders,this.heartbeatIncoming=n.heartbeatIncoming,this.heartbeatToleranceMultiplier=n.heartbeatGracePeriods,this.heartbeatOutgoing=n.heartbeatOutgoing,this.splitLargeFrames=n.splitLargeFrames,this.maxWebSocketChunkSize=n.maxWebSocketChunkSize,this.forceBinaryWSFrames=n.forceBinaryWSFrames,this.logRawCommunication=n.logRawCommunication,this.appendMissingNULLonIncoming=n.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=n.discardWebsocketOnCommFailure,this.onConnect=n.onConnect,this.onDisconnect=n.onDisconnect,this.onStompError=n.onStompError,this.onWebSocketClose=n.onWebSocketClose,this.onWebSocketError=n.onWebSocketError,this.onUnhandledMessage=n.onUnhandledMessage,this.onUnhandledReceipt=n.onUnhandledReceipt,this.onUnhandledFrame=n.onUnhandledFrame,this.onHeartbeatReceived=n.onHeartbeatReceived,this.onHeartbeatLost=n.onHeartbeatLost}start(){const t=new s5(r=>{const n=rn.fromRawFrame(r,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${n}`),(this._serverFrameHandlers[n.command]||this.onUnhandledFrame)(n)},()=>{this.debug("<<< PONG"),this.onHeartbeatReceived()});this._webSocket.onmessage=r=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const n=r.data instanceof ArrayBuffer?new TextDecoder().decode(r.data):r.data;this.debug(`<<< ${n}`)}t.parseChunk(r.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=r=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(r)},this._webSocket.onerror=r=>{this.onWebSocketError(r)},this._webSocket.onopen=()=>{const r=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),r["accept-version"]=this.stompVersions.supportedVersions(),r["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:r})}}_setupHeartbeat(t){if(t.version!==pt.V1_1&&t.version!==pt.V1_2||!t["heart-beat"])return;const[r,n]=t["heart-beat"].split(",").map(s=>parseInt(s,10));if(this.heartbeatOutgoing!==0&&n!==0){const s=Math.max(this.heartbeatOutgoing,n);this.debug(`send PING every ${s}ms`),this._pinger=new i5(s,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===nn.OPEN&&(this._webSocket.send(zi.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&r!==0){const s=Math.max(this.heartbeatIncoming,r);this.debug(`check PONG every ${s}ms`),this._ponger=setInterval(()=>{const o=Date.now()-this._lastServerActivityTS;o>s*this.heartbeatToleranceMultiplier&&(this.debug(`did not receive server activity for the last ${o}ms`),this.onHeartbeatLost(),this._closeOrDiscardWebsocket())},s)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===nn.CONNECTING||this._webSocket.readyState===nn.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&r5(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:r,headers:n,body:s,binaryBody:o,skipContentLengthHeader:a}=t,l=new rn({command:r,headers:n,body:s,binaryBody:o,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:a});let c=l.serialize();if(this.logRawCommunication?this.debug(`>>> ${c}`):this.debug(`>>> ${l}`),this.forceBinaryWSFrames&&typeof c=="string"&&(c=new TextEncoder().encode(c)),typeof c!="string"||!this.splitLargeFrames)this._webSocket.send(c);else{let h=c;for(;h.length>0;){const u=h.substring(0,this.maxWebSocketChunkSize);h=h.substring(this.maxWebSocketChunkSize),this._webSocket.send(u),this.debug(`chunk sent = ${u.length}, remaining = ${h.length}`)}}}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt=`close-${this._counter++}`),this.watchForReceipt(t.receipt,r=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(r)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===nn.CONNECTING||this._webSocket.readyState===nn.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:r,headers:n,body:s,binaryBody:o,skipContentLengthHeader:a}=t,l=Object.assign({destination:r},n);this._transmit({command:"SEND",headers:l,body:s,binaryBody:o,skipContentLengthHeader:a})}watchForReceipt(t,r){this._receiptWatchers[t]=r}subscribe(t,r,n={}){n=Object.assign({},n),n.id||(n.id=`sub-${this._counter++}`),n.destination=t,this._subscriptions[n.id]=r,this._transmit({command:"SUBSCRIBE",headers:n});const s=this;return{id:n.id,unsubscribe(o){return s.unsubscribe(n.id,o)}}}unsubscribe(t,r={}){r=Object.assign({},r),delete this._subscriptions[t],r.id=t,this._transmit({command:"UNSUBSCRIBE",headers:r})}begin(t){const r=t||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:r}});const n=this;return{id:r,commit(){n.commit(r)},abort(){n.abort(r)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,r,n={}){n=Object.assign({},n),this._connectedVersion===pt.V1_2?n.id=t:n["message-id"]=t,n.subscription=r,this._transmit({command:"ACK",headers:n})}nack(t,r,n={}){return n=Object.assign({},n),this._connectedVersion===pt.V1_2?n.id=t:n["message-id"]=t,n.subscription=r,this._transmit({command:"NACK",headers:n})}}class Pb{get webSocket(){var t;return(t=this._stompHandler)==null?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===rr.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}constructor(t={}){this.stompVersions=pt.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=Tl.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatToleranceMultiplier=2,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=Eo.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=rr.INACTIVE;const r=()=>{};this.debug=r,this.beforeConnect=r,this.onConnect=r,this.onDisconnect=r,this.onUnhandledMessage=r,this.onUnhandledReceipt=r,this.onUnhandledFrame=r,this.onHeartbeatReceived=r,this.onHeartbeatLost=r,this.onStompError=r,this.onWebSocketClose=r,this.onWebSocketError=r,this.logRawCommunication=!1,this.onChangeState=r,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}configure(t){Object.assign(this,t),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const t=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(rr.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===rr.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const t=this._createWebSocket();this._stompHandler=new o5(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatGracePeriods:this.heartbeatToleranceMultiplier,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:r=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(r)},onDisconnect:r=>{this.onDisconnect(r)},onStompError:r=>{this.onStompError(r)},onWebSocketClose:r=>{this._stompHandler=void 0,this.state===rr.DEACTIVATING&&this._changeState(rr.INACTIVE),this.onWebSocketClose(r),this.active&&this._schedule_reconnect()},onWebSocketError:r=>{this.onWebSocketError(r)},onUnhandledMessage:r=>{this.onUnhandledMessage(r)},onUnhandledReceipt:r=>{this.onUnhandledReceipt(r)},onUnhandledFrame:r=>{this.onUnhandledFrame(r)},onHeartbeatReceived:()=>{this.onHeartbeatReceived()},onHeartbeatLost:()=>{this.onHeartbeatLost()}}),this._stompHandler.start()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else if(this.brokerURL)t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return t.binaryType="arraybuffer",t}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===Tl.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(t={}){var o;const r=t.force||!1,n=this.active;let s;if(this.state===rr.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(rr.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==nn.CLOSED){const a=this._stompHandler.onWebSocketClose;s=new Promise((l,c)=>{this._stompHandler.onWebSocketClose=h=>{a(h),l()}})}else return this._changeState(rr.INACTIVE),Promise.resolve();return r?(o=this._stompHandler)==null||o.discardWebsocket():n&&this._disposeStompHandler(),s}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,r){this._checkConnection(),this._stompHandler.watchForReceipt(t,r)}subscribe(t,r,n={}){return this._checkConnection(),this._stompHandler.subscribe(t,r,n)}unsubscribe(t,r={}){this._checkConnection(),this._stompHandler.unsubscribe(t,r)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,r,n={}){this._checkConnection(),this._stompHandler.ack(t,r,n)}nack(t,r,n={}){this._checkConnection(),this._stompHandler.nack(t,r,n)}}var Db={exports:{}},Qd={};globalThis.crypto&&globalThis.crypto.getRandomValues?Qd.randomBytes=function(e){var t=new Uint8Array(e);return globalThis.crypto.getRandomValues(t),t}:Qd.randomBytes=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=Math.floor(Math.random()*256);return t};var a5=Qd,Eg="abcdefghijklmnopqrstuvwxyz012345",mi={string:function(e){for(var t=Eg.length,r=a5.randomBytes(e),n=[],s=0;s<e;s++)n.push(Eg.substr(r[s]%t,1));return n.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,r=new Array(t+1).join("0");return(r+this.number(e)).slice(-t)}};(function(e){var t=mi,r={},n=!1,s=globalThis.chrome&&globalThis.chrome.app&&globalThis.chrome.app.runtime;e.exports={attachEvent:function(a,l){typeof globalThis.addEventListener<"u"?globalThis.addEventListener(a,l,!1):globalThis.document&&globalThis.attachEvent&&(globalThis.document.attachEvent("on"+a,l),globalThis.attachEvent("on"+a,l))},detachEvent:function(a,l){typeof globalThis.addEventListener<"u"?globalThis.removeEventListener(a,l,!1):globalThis.document&&globalThis.detachEvent&&(globalThis.document.detachEvent("on"+a,l),globalThis.detachEvent("on"+a,l))},unloadAdd:function(a){if(s)return null;var l=t.string(8);return r[l]=a,n&&setTimeout(this.triggerUnloadCallbacks,0),l},unloadDel:function(a){a in r&&delete r[a]},triggerUnloadCallbacks:function(){for(var a in r)r[a](),delete r[a]}};var o=function(){n||(n=!0,e.exports.triggerUnloadCallbacks())};s||e.exports.attachEvent("unload",o)})(Db);var An=Db.exports,l5=function(t,r){if(r=r.split(":")[0],t=+t,!t)return!1;switch(r){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},If={},c5=Object.prototype.hasOwnProperty,u5;function Cg(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function Tg(e){try{return encodeURIComponent(e)}catch{return null}}function d5(e){for(var t=/([^=?#&]+)=?([^&]*)/g,r={},n;n=t.exec(e);){var s=Cg(n[1]),o=Cg(n[2]);s===null||o===null||s in r||(r[s]=o)}return r}function h5(e,t){t=t||"";var r=[],n,s;typeof t!="string"&&(t="?");for(s in e)if(c5.call(e,s)){if(n=e[s],!n&&(n===null||n===u5||isNaN(n))&&(n=""),s=Tg(s),n=Tg(n),s===null||n===null)continue;r.push(s+"="+n)}return r.length?t+r.join("&"):""}If.stringify=h5;If.parse=d5;var Ab=l5,vc=If,f5=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Ob=/[\n\r\t]/g,p5=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Rb=/:\d+$/,m5=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,g5=/^[a-zA-Z]:/;function Mf(e){return(e||"").toString().replace(f5,"")}var Jd=[["#","hash"],["?","query"],function(t,r){return br(r.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Pg={hash:1,query:1};function Ib(e){var t;typeof window<"u"?t=window:typeof globalThis<"u"?t=globalThis:typeof self<"u"?t=self:t={};var r=t.location||{};e=e||r;var n={},s=typeof e,o;if(e.protocol==="blob:")n=new Nr(unescape(e.pathname),{});else if(s==="string"){n=new Nr(e,{});for(o in Pg)delete n[o]}else if(s==="object"){for(o in e)o in Pg||(n[o]=e[o]);n.slashes===void 0&&(n.slashes=p5.test(e.href))}return n}function br(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function Mb(e,t){e=Mf(e),e=e.replace(Ob,""),t=t||{};var r=m5.exec(e),n=r[1]?r[1].toLowerCase():"",s=!!r[2],o=!!r[3],a=0,l;return s?o?(l=r[2]+r[3]+r[4],a=r[2].length+r[3].length):(l=r[2]+r[4],a=r[2].length):o?(l=r[3]+r[4],a=r[3].length):l=r[4],n==="file:"?a>=2&&(l=l.slice(2)):br(n)?l=r[4]:n?s&&(l=l.slice(2)):a>=2&&br(t.protocol)&&(l=r[4]),{protocol:n,slashes:s||br(n),slashesCount:a,rest:l}}function x5(e,t){if(e==="")return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,s=r[n-1],o=!1,a=0;n--;)r[n]==="."?r.splice(n,1):r[n]===".."?(r.splice(n,1),a++):a&&(n===0&&(o=!0),r.splice(n,1),a--);return o&&r.unshift(""),(s==="."||s==="..")&&r.push(""),r.join("/")}function Nr(e,t,r){if(e=Mf(e),e=e.replace(Ob,""),!(this instanceof Nr))return new Nr(e,t,r);var n,s,o,a,l,c,h=Jd.slice(),u=typeof t,d=this,f=0;for(u!=="object"&&u!=="string"&&(r=t,t=null),r&&typeof r!="function"&&(r=vc.parse),t=Ib(t),s=Mb(e||"",t),n=!s.protocol&&!s.slashes,d.slashes=s.slashes||n&&t.slashes,d.protocol=s.protocol||t.protocol||"",e=s.rest,(s.protocol==="file:"&&(s.slashesCount!==2||g5.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!br(d.protocol)))&&(h[3]=[/(.*)/,"pathname"]);f<h.length;f++){if(a=h[f],typeof a=="function"){e=a(e,d);continue}o=a[0],c=a[1],o!==o?d[c]=e:typeof o=="string"?(l=o==="@"?e.lastIndexOf(o):e.indexOf(o),~l&&(typeof a[2]=="number"?(d[c]=e.slice(0,l),e=e.slice(l+a[2])):(d[c]=e.slice(l),e=e.slice(0,l)))):(l=o.exec(e))&&(d[c]=l[1],e=e.slice(0,l.index)),d[c]=d[c]||n&&a[3]&&t[c]||"",a[4]&&(d[c]=d[c].toLowerCase())}r&&(d.query=r(d.query)),n&&t.slashes&&d.pathname.charAt(0)!=="/"&&(d.pathname!==""||t.pathname!=="")&&(d.pathname=x5(d.pathname,t.pathname)),d.pathname.charAt(0)!=="/"&&br(d.protocol)&&(d.pathname="/"+d.pathname),Ab(d.port,d.protocol)||(d.host=d.hostname,d.port=""),d.username=d.password="",d.auth&&(l=d.auth.indexOf(":"),~l?(d.username=d.auth.slice(0,l),d.username=encodeURIComponent(decodeURIComponent(d.username)),d.password=d.auth.slice(l+1),d.password=encodeURIComponent(decodeURIComponent(d.password))):d.username=encodeURIComponent(decodeURIComponent(d.auth)),d.auth=d.password?d.username+":"+d.password:d.username),d.origin=d.protocol!=="file:"&&br(d.protocol)&&d.host?d.protocol+"//"+d.host:"null",d.href=d.toString()}function y5(e,t,r){var n=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(r||vc.parse)(t)),n[e]=t;break;case"port":n[e]=t,Ab(t,n.protocol)?t&&(n.host=n.hostname+":"+t):(n.host=n.hostname,n[e]="");break;case"hostname":n[e]=t,n.port&&(t+=":"+n.port),n.host=t;break;case"host":n[e]=t,Rb.test(t)?(t=t.split(":"),n.port=t.pop(),n.hostname=t.join(":")):(n.hostname=t,n.port="");break;case"protocol":n.protocol=t.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(t){var s=e==="pathname"?"/":"#";n[e]=t.charAt(0)!==s?s+t:t}else n[e]=t;break;case"username":case"password":n[e]=encodeURIComponent(t);break;case"auth":var o=t.indexOf(":");~o?(n.username=t.slice(0,o),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=t.slice(o+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(t))}for(var a=0;a<Jd.length;a++){var l=Jd[a];l[4]&&(n[l[1]]=n[l[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin=n.protocol!=="file:"&&br(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function v5(e){(!e||typeof e!="function")&&(e=vc.stringify);var t,r=this,n=r.host,s=r.protocol;s&&s.charAt(s.length-1)!==":"&&(s+=":");var o=s+(r.protocol&&r.slashes||br(r.protocol)?"//":"");return r.username?(o+=r.username,r.password&&(o+=":"+r.password),o+="@"):r.password?(o+=":"+r.password,o+="@"):r.protocol!=="file:"&&br(r.protocol)&&!n&&r.pathname!=="/"&&(o+="@"),(n[n.length-1]===":"||Rb.test(r.hostname)&&!r.port)&&(n+=":"),o+=n+r.pathname,t=typeof r.query=="object"?e(r.query):r.query,t&&(o+=t.charAt(0)!=="?"?"?"+t:t),r.hash&&(o+=r.hash),o}Nr.prototype={set:y5,toString:v5};Nr.extractProtocol=Mb;Nr.location=Ib;Nr.trimLeft=Mf;Nr.qs=vc;var _b=Nr,b5=_b,Qt={getOrigin:function(e){if(!e)return null;var t=new b5(e);if(t.protocol==="file:")return null;var r=t.port;return r||(r=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+r},isOriginEqual:function(e,t){var r=this.getOrigin(e)===this.getOrigin(t);return r},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var r=e.split("?");return r[0]+t+(r[1]?"?"+r[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},Zd={exports:{}};typeof Object.create=="function"?Zd.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Zd.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var ve=Zd.exports,ut={};function bc(){this._listeners={}}bc.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];r.indexOf(t)===-1&&(r=r.concat([t])),this._listeners[e]=r};bc.prototype.removeEventListener=function(e,t){var r=this._listeners[e];if(r){var n=r.indexOf(t);if(n!==-1){r.length>1?this._listeners[e]=r.slice(0,n).concat(r.slice(n+1)):delete this._listeners[e];return}}};bc.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,r=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,r),t in this._listeners)for(var n=this._listeners[t],s=0;s<n.length;s++)n[s].apply(this,r)};var Lb=bc,w5=ve,wc=Lb;function Nn(){wc.call(this)}w5(Nn,wc);Nn.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}};Nn.prototype.once=function(e,t){var r=this,n=!1;function s(){r.removeListener(e,s),n||(n=!0,t.apply(this,arguments))}this.on(e,s)};Nn.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var r=arguments.length,n=new Array(r-1),s=1;s<r;s++)n[s-1]=arguments[s];for(var o=0;o<t.length;o++)t[o].apply(this,n)}};Nn.prototype.on=Nn.prototype.addListener=wc.prototype.addEventListener;Nn.prototype.removeListener=wc.prototype.removeEventListener;ut.EventEmitter=Nn;var eh={exports:{}},Dg=globalThis.WebSocket||globalThis.MozWebSocket;Dg?eh.exports=function(t){return new Dg(t)}:eh.exports=void 0;var j5=eh.exports,Fb=An,N5=Qt,S5=ve,$b=ut.EventEmitter,zb=j5,Ag=function(){};function Wr(e,t,r){if(!Wr.enabled())throw new Error("Transport created when disabled");$b.call(this);var n=this,s=N5.addPath(e,"/websocket");s.slice(0,5)==="https"?s="wss"+s.slice(5):s="ws"+s.slice(4),this.url=s,this.ws=new zb(this.url,[],r),this.ws.onmessage=function(o){Ag("message event",o.data),n.emit("message",o.data)},this.unloadRef=Fb.unloadAdd(function(){n.ws.close()}),this.ws.onclose=function(o){Ag("close event",o.code,o.reason),n.emit("close",o.code,o.reason),n._cleanup()},this.ws.onerror=function(o){n.emit("close",1006,"WebSocket connection broken"),n._cleanup()}}S5(Wr,$b);Wr.prototype.send=function(e){var t="["+e+"]";this.ws.send(t)};Wr.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()};Wr.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),Fb.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};Wr.enabled=function(){return!!zb};Wr.transportName="websocket";Wr.roundTrips=2;var k5=Wr,E5=ve,Bb=ut.EventEmitter,C5=function(){};function fs(e,t){Bb.call(this),this.sendBuffer=[],this.sender=t,this.url=e}E5(fs,Bb);fs.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()};fs.prototype.sendScheduleWait=function(){var e=this,t;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){e.sendStop=null,e.sendSchedule()},25)};fs.prototype.sendSchedule=function(){C5("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(r){e.sendStop=null,r?(e.emit("close",r.code||1006,"Sending error: "+r),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}};fs.prototype._cleanup=function(){this.removeAllListeners()};fs.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};var T5=fs,P5=ve,Ub=ut.EventEmitter,D5=function(){};function jc(e,t,r){Ub.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=r,this._scheduleReceiver()}P5(jc,Ub);jc.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(r){e.emit("message",r)}),t.once("close",function(r,n){D5("close",r,n,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||(n==="network"?e._scheduleReceiver():(e.emit("close",r||1006,n),e.removeAllListeners()))})};jc.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};var A5=jc,O5=ve,R5=Qt,_f=T5,I5=A5;function Lf(e,t,r,n,s){var o=R5.addPath(e,t),a=this;_f.call(this,e,r),this.poll=new I5(n,o,s),this.poll.on("message",function(l){a.emit("message",l)}),this.poll.once("close",function(l,c){a.poll=null,a.emit("close",l,c),a.close()})}O5(Lf,_f);Lf.prototype.close=function(){_f.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};var Vb=Lf,M5=ve,_5=Qt,Wb=Vb;function L5(e){return function(t,r,n){var s={};typeof r=="string"&&(s.headers={"Content-type":"text/plain"});var o=_5.addPath(t,"/xhr_send"),a=new e("POST",o,r,s);return a.once("finish",function(l){if(a=null,l!==200&&l!==204)return n(new Error("http status "+l));n()}),function(){a.close(),a=null;var l=new Error("Aborted");l.code=1e3,n(l)}}}function Hb(e,t,r,n){Wb.call(this,e,t,L5(n),r,n)}M5(Hb,Wb);var gi=Hb,F5=ve,qb=ut.EventEmitter;function Vo(e,t){qb.call(this);var r=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(n,s){r._chunkHandler(n,s),r.xo=null;var o=n===200?"network":"permanent";r.emit("close",null,o),r._cleanup()})}F5(Vo,qb);Vo.prototype._chunkHandler=function(e,t){if(!(e!==200||!t))for(var r=-1;;this.bufferPosition+=r+1){var n=t.slice(this.bufferPosition);if(r=n.indexOf(`
`),r===-1)break;var s=n.slice(0,r);s&&this.emit("message",s)}};Vo.prototype._cleanup=function(){this.removeAllListeners()};Vo.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()};var Nc=Vo,Gb=ut.EventEmitter,$5=ve,Yb=An,z5=Qt,Co=globalThis.XMLHttpRequest,yu=function(){};function Sr(e,t,r,n){var s=this;Gb.call(this),setTimeout(function(){s._start(e,t,r,n)},0)}$5(Sr,Gb);Sr.prototype._start=function(e,t,r,n){var s=this;try{this.xhr=new Co}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}t=z5.addQuery(t,"t="+ +new Date),this.unloadRef=Yb.unloadAdd(function(){s._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){yu("xhr timeout"),s.emit("finish",0,""),s._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!n||!n.noCredentials)&&Sr.supportsCORS&&(this.xhr.withCredentials=!0),n&&n.headers)for(var o in n.headers)this.xhr.setRequestHeader(o,n.headers[o]);this.xhr.onreadystatechange=function(){if(s.xhr){var a=s.xhr,l,c;switch(yu("readyState",a.readyState),a.readyState){case 3:try{c=a.status,l=a.responseText}catch{}c===1223&&(c=204),c===200&&l&&l.length>0&&s.emit("chunk",c,l);break;case 4:c=a.status,c===1223&&(c=204),(c===12005||c===12029)&&(c=0),yu("finish",c,a.responseText),s.emit("finish",c,a.responseText),s._cleanup(!1);break}}};try{s.xhr.send(r)}catch{s.emit("finish",0,""),s._cleanup(!1)}};Sr.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),Yb.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};Sr.prototype.close=function(){this._cleanup(!0)};Sr.enabled=!!Co;var Og=["Active"].concat("Object").join("X");!Sr.enabled&&Og in globalThis&&(Co=function(){try{return new globalThis[Og]("Microsoft.XMLHTTP")}catch{return null}},Sr.enabled=!!new Co);var Xb=!1;try{Xb="withCredentials"in new Co}catch{}Sr.supportsCORS=Xb;var Kb=Sr,B5=ve,Pl=Kb;function Ff(e,t,r,n){Pl.call(this,e,t,r,n)}B5(Ff,Pl);Ff.enabled=Pl.enabled&&Pl.supportsCORS;var Sc=Ff,U5=ve,$f=Kb;function zf(e,t,r){$f.call(this,e,t,r,{noCredentials:!0})}U5(zf,$f);zf.enabled=$f.enabled;var Wo=zf,Ho={isOpera:function(){return globalThis.navigator&&/opera/i.test(globalThis.navigator.userAgent)},isKonqueror:function(){return globalThis.navigator&&/konqueror/i.test(globalThis.navigator.userAgent)},hasDomain:function(){if(!globalThis.document)return!0;try{return!!globalThis.document.domain}catch{return!1}}},V5=ve,Qb=gi,W5=Nc,th=Sc,H5=Wo,q5=Ho;function xi(e){if(!H5.enabled&&!th.enabled)throw new Error("Transport created when disabled");Qb.call(this,e,"/xhr_streaming",W5,th)}V5(xi,Qb);xi.enabled=function(e){return e.nullOrigin||q5.isOpera()?!1:th.enabled};xi.transportName="xhr-streaming";xi.roundTrips=2;xi.needBody=!!globalThis.document;var G5=xi,Jb=ut.EventEmitter,Y5=ve,Zb=An,X5=Ho,K5=Qt,Q5=function(){};function ps(e,t,r){var n=this;Jb.call(this),setTimeout(function(){n._start(e,t,r)},0)}Y5(ps,Jb);ps.prototype._start=function(e,t,r){var n=this,s=new globalThis.XDomainRequest;t=K5.addQuery(t,"t="+ +new Date),s.onerror=function(){n._error()},s.ontimeout=function(){n._error()},s.onprogress=function(){Q5("progress",s.responseText),n.emit("chunk",200,s.responseText)},s.onload=function(){n.emit("finish",200,s.responseText),n._cleanup(!1)},this.xdr=s,this.unloadRef=Zb.unloadAdd(function(){n._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch{this._error()}};ps.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};ps.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),Zb.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};ps.prototype.close=function(){this._cleanup(!0)};ps.enabled=!!(globalThis.XDomainRequest&&X5.hasDomain());var Bf=ps,J5=ve,e1=gi,Z5=Nc,rh=Bf;function qo(e){if(!rh.enabled)throw new Error("Transport created when disabled");e1.call(this,e,"/xhr_streaming",Z5,rh)}J5(qo,e1);qo.enabled=function(e){return e.cookie_needed||e.nullOrigin?!1:rh.enabled&&e.sameScheme};qo.transportName="xdr-streaming";qo.roundTrips=2;var t1=qo,r1=globalThis.EventSource,eT=ve,n1=ut.EventEmitter,tT=r1,Rg=function(){};function Go(e){n1.call(this);var t=this,r=this.es=new tT(e);r.onmessage=function(n){Rg("message",n.data),t.emit("message",decodeURI(n.data))},r.onerror=function(n){Rg("error",r.readyState);var s=r.readyState!==2?"network":"permanent";t._cleanup(),t._close(s)}}eT(Go,n1);Go.prototype.abort=function(){this._cleanup(),this._close("user")};Go.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)};Go.prototype._close=function(e){var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)};var rT=Go,nT=ve,s1=gi,sT=rT,iT=Sc,oT=r1;function yi(e){if(!yi.enabled())throw new Error("Transport created when disabled");s1.call(this,e,"/eventsource",sT,iT)}nT(yi,s1);yi.enabled=function(){return!!oT};yi.transportName="eventsource";yi.roundTrips=2;var Ig=yi,vu,Mg;function i1(){return Mg||(Mg=1,vu="1.6.1"),vu}var o1={exports:{}};(function(e){var t=An,r=Ho;e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in globalThis||(globalThis[e.exports.WPrefix]={})},postMessage:function(n,s){globalThis.parent!==globalThis&&globalThis.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:n,data:s||""}),"*")},createIframe:function(n,s){var o=globalThis.document.createElement("iframe"),a,l,c=function(){clearTimeout(a);try{o.onload=null}catch{}o.onerror=null},h=function(){o&&(c(),setTimeout(function(){o&&o.parentNode.removeChild(o),o=null},0),t.unloadDel(l))},u=function(f){o&&(h(),s(f))},d=function(f,p){setTimeout(function(){try{o&&o.contentWindow&&o.contentWindow.postMessage(f,p)}catch{}},0)};return o.src=n,o.style.display="none",o.style.position="absolute",o.onerror=function(){u("onerror")},o.onload=function(){clearTimeout(a),a=setTimeout(function(){u("onload timeout")},2e3)},globalThis.document.body.appendChild(o),a=setTimeout(function(){u("timeout")},15e3),l=t.unloadAdd(h),{post:d,cleanup:h,loaded:c}},createHtmlfile:function(n,s){var o=["Active"].concat("Object").join("X"),a=new globalThis[o]("htmlfile"),l,c,h,u=function(){clearTimeout(l),h.onerror=null},d=function(){a&&(u(),t.unloadDel(c),h.parentNode.removeChild(h),h=a=null,CollectGarbage())},f=function(y){a&&(d(),s(y))},p=function(y,b){try{setTimeout(function(){h&&h.contentWindow&&h.contentWindow.postMessage(y,b)},0)}catch{}};a.open(),a.write('<html><script>document.domain="'+globalThis.document.domain+'";<\/script></html>'),a.close(),a.parentWindow[e.exports.WPrefix]=globalThis[e.exports.WPrefix];var m=a.createElement("div");return a.body.appendChild(m),h=a.createElement("iframe"),m.appendChild(h),h.src=n,h.onerror=function(){f("onerror")},l=setTimeout(function(){f("timeout")},15e3),c=t.unloadAdd(d),{post:p,cleanup:d,loaded:u}}},e.exports.iframeEnabled=!1,globalThis.document&&(e.exports.iframeEnabled=(typeof globalThis.postMessage=="function"||typeof globalThis.postMessage=="object")&&!r.isKonqueror())})(o1);var Yo=o1.exports,aT=ve,a1=ut.EventEmitter,lT=i1(),nh=Qt,l1=Yo,c1=An,cT=mi,Ai=function(){};function kr(e,t,r){if(!kr.enabled())throw new Error("Transport created when disabled");a1.call(this);var n=this;this.origin=nh.getOrigin(r),this.baseUrl=r,this.transUrl=t,this.transport=e,this.windowId=cT.string(8);var s=nh.addPath(r,"/iframe.html")+"#"+this.windowId;this.iframeObj=l1.createIframe(s,function(o){n.emit("close",1006,"Unable to load an iframe ("+o+")"),n.close()}),this.onmessageCallback=this._message.bind(this),c1.attachEvent("message",this.onmessageCallback)}aT(kr,a1);kr.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){c1.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};kr.prototype._message=function(e){if(Ai("message",e.data),!nh.isOriginEqual(e.origin,this.origin)){Ai("not same origin",e.origin,this.origin);return}var t;try{t=JSON.parse(e.data)}catch{Ai("bad json",e.data);return}if(t.windowId!==this.windowId){Ai("mismatched window id",t.windowId,this.windowId);return}switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([lT,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var r;try{r=JSON.parse(t.data)}catch{Ai("bad json",t.data);return}this.emit("close",r[0],r[1]),this.close();break}};kr.prototype.postMessage=function(e,t){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)};kr.prototype.send=function(e){this.postMessage("m",e)};kr.enabled=function(){return l1.iframeEnabled};kr.transportName="iframe";kr.roundTrips=2;var u1=kr,Uf={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,r,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}},uT=ve,Ea=u1,dT=Uf,bu=function(e){function t(r,n){Ea.call(this,e.transportName,r,n)}return uT(t,Ea),t.enabled=function(r,n){if(!globalThis.document)return!1;var s=dT.extend({},n);return s.sameOrigin=!0,e.enabled(s)&&Ea.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=Ea.roundTrips+e.roundTrips-1,t.facadeTransport=e,t},hT=ve,Vn=Yo,fT=Qt,d1=ut.EventEmitter,pT=mi,mT=function(){};function cr(e){d1.call(this);var t=this;Vn.polluteGlobalNamespace(),this.id="a"+pT.string(6),e=fT.addQuery(e,"c="+decodeURIComponent(Vn.WPrefix+"."+this.id)),mT("using htmlfile",cr.htmlfileEnabled);var r=cr.htmlfileEnabled?Vn.createHtmlfile:Vn.createIframe;globalThis[Vn.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(n){t.emit("message",n)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=r(e,function(){t._cleanup(),t._close("permanent")})}hT(cr,d1);cr.prototype.abort=function(){this._cleanup(),this._close("user")};cr.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete globalThis[Vn.WPrefix][this.id]};cr.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()};cr.htmlfileEnabled=!1;var _g=["Active"].concat("Object").join("X");if(_g in globalThis)try{cr.htmlfileEnabled=!!new globalThis[_g]("htmlfile")}catch{}cr.enabled=cr.htmlfileEnabled||Vn.iframeEnabled;var gT=cr,xT=ve,sh=gT,yT=Wo,h1=gi;function Xo(e){if(!sh.enabled)throw new Error("Transport created when disabled");h1.call(this,e,"/htmlfile",sh,yT)}xT(Xo,h1);Xo.enabled=function(e){return sh.enabled&&e.sameOrigin};Xo.transportName="htmlfile";Xo.roundTrips=2;var Lg=Xo,vT=ve,f1=gi,bT=Nc,ih=Sc,p1=Wo;function Ko(e){if(!p1.enabled&&!ih.enabled)throw new Error("Transport created when disabled");f1.call(this,e,"/xhr",bT,ih)}vT(Ko,f1);Ko.enabled=function(e){return e.nullOrigin?!1:p1.enabled&&e.sameOrigin?!0:ih.enabled};Ko.transportName="xhr-polling";Ko.roundTrips=2;var Fg=Ko,wT=ve,m1=gi,jT=t1,NT=Nc,$g=Bf;function Qo(e){if(!$g.enabled)throw new Error("Transport created when disabled");m1.call(this,e,"/xhr",NT,$g)}wT(Qo,m1);Qo.enabled=jT.enabled;Qo.transportName="xdr-polling";Qo.roundTrips=2;var ST=Qo,eo=Yo,g1=mi,kT=Ho,ET=Qt,CT=ve,x1=ut.EventEmitter,TT=function(){};function Kt(e){var t=this;x1.call(this),eo.polluteGlobalNamespace(),this.id="a"+g1.string(6);var r=ET.addQuery(e,"c="+encodeURIComponent(eo.WPrefix+"."+this.id));globalThis[eo.WPrefix][this.id]=this._callback.bind(this),this._createScript(r),this.timeoutId=setTimeout(function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))},Kt.timeout)}CT(Kt,x1);Kt.prototype.abort=function(){if(globalThis[eo.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}};Kt.timeout=35e3;Kt.scriptErrorTimeout=1e3;Kt.prototype._callback=function(e){this._cleanup(),!this.aborting&&(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())};Kt.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()};Kt.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete globalThis[eo.WPrefix][this.id]};Kt.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},Kt.scriptErrorTimeout))};Kt.prototype._createScript=function(e){var t=this,r=this.script=globalThis.document.createElement("script"),n;if(r.id="a"+g1.string(8),r.src=e,r.type="text/javascript",r.charset="UTF-8",r.onerror=this._scriptError.bind(this),r.onload=function(){t._abort(new Error("JSONP script loaded abnormally (onload)"))},r.onreadystatechange=function(){if(TT("onreadystatechange",r.readyState),/loaded|closed/.test(r.readyState)){if(r&&r.htmlFor&&r.onclick){t.loadedOkay=!0;try{r.onclick()}catch{}}r&&t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof r.async>"u"&&globalThis.document.attachEvent)if(kT.isOpera())n=this.script2=globalThis.document.createElement("script"),n.text="try{var a = document.getElementById('"+r.id+"'); if(a)a.onerror();}catch(x){};",r.async=n.async=!1;else{try{r.htmlFor=r.id,r.event="onclick"}catch{}r.async=!0}typeof r.async<"u"&&(r.async=!0);var s=globalThis.document.getElementsByTagName("head")[0];s.insertBefore(r,s.firstChild),n&&s.insertBefore(n,s.firstChild)};var PT=Kt,DT=mi,zg=Qt,AT=function(){},Pt,to;function OT(e){try{return globalThis.document.createElement('<iframe name="'+e+'">')}catch{var t=globalThis.document.createElement("iframe");return t.name=e,t}}function RT(){Pt=globalThis.document.createElement("form"),Pt.style.display="none",Pt.style.position="absolute",Pt.method="POST",Pt.enctype="application/x-www-form-urlencoded",Pt.acceptCharset="UTF-8",to=globalThis.document.createElement("textarea"),to.name="d",Pt.appendChild(to),globalThis.document.body.appendChild(Pt)}var IT=function(e,t,r){Pt||RT();var n="a"+DT.string(8);Pt.target=n,Pt.action=zg.addQuery(zg.addPath(e,"/jsonp_send"),"i="+n);var s=OT(n);s.id=n,s.style.display="none",Pt.appendChild(s);try{to.value=t}catch{}Pt.submit();var o=function(a){s.onerror&&(s.onreadystatechange=s.onerror=s.onload=null,setTimeout(function(){s.parentNode.removeChild(s),s=null},500),to.value="",r(a))};return s.onerror=function(){o()},s.onload=function(){o()},s.onreadystatechange=function(a){AT("onreadystatechange",n,s.readyState),s.readyState==="complete"&&o()},function(){o(new Error("Aborted"))}},MT=ve,y1=Vb,_T=PT,LT=IT;function ms(e){if(!ms.enabled())throw new Error("Transport created when disabled");y1.call(this,e,"/jsonp",LT,_T)}MT(ms,y1);ms.enabled=function(){return!!globalThis.document};ms.transportName="jsonp-polling";ms.roundTrips=1;ms.needBody=!0;var FT=ms,$T=[k5,G5,t1,Ig,bu(Ig),Lg,bu(Lg),Fg,ST,bu(Fg),FT],To=Array.prototype,Vf=Object.prototype,zT=Function.prototype,Po=String.prototype,wu=To.slice,Wf=Vf.toString,v1=function(e){return Vf.toString.call(e)==="[object Function]"},BT=function(t){return Wf.call(t)==="[object Array]"},b1=function(t){return Wf.call(t)==="[object String]"},UT=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),oh;UT?oh=function(e,t,r,n){!n&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:r})}:oh=function(e,t,r,n){!n&&t in e||(e[t]=r)};var Jo=function(e,t,r){for(var n in t)Vf.hasOwnProperty.call(t,n)&&oh(e,n,t[n],r)},w1=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return Object(e)};function VT(e){var t=+e;return t!==t?t=0:t!==0&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function WT(e){return e>>>0}function ju(){}Jo(zT,{bind:function(t){var r=this;if(!v1(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var n=wu.call(arguments,1),s=function(){if(this instanceof c){var h=r.apply(this,n.concat(wu.call(arguments)));return Object(h)===h?h:this}else return r.apply(t,n.concat(wu.call(arguments)))},o=Math.max(0,r.length-n.length),a=[],l=0;l<o;l++)a.push("$"+l);var c=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this, arguments); }")(s);return r.prototype&&(ju.prototype=r.prototype,c.prototype=new ju,ju.prototype=null),c}});Jo(Array,{isArray:BT});var Bg=Object("a"),j1=Bg[0]!=="a"||!(0 in Bg),HT=function(t){var r=!0,n=!0;return t&&(t.call("foo",function(s,o,a){typeof a!="object"&&(r=!1)}),t.call([1],function(){n=typeof this=="string"},"x")),!!t&&r&&n};Jo(To,{forEach:function(t){var r=w1(this),n=j1&&b1(this)?this.split(""):r,s=arguments[1],o=-1,a=n.length>>>0;if(!v1(t))throw new TypeError;for(;++o<a;)o in n&&t.call(s,n[o],o,r)}},!HT(To.forEach));var qT=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;Jo(To,{indexOf:function(t){var r=j1&&b1(this)?this.split(""):w1(this),n=r.length>>>0;if(!n)return-1;var s=0;for(arguments.length>1&&(s=VT(arguments[1])),s=s>=0?s:Math.max(0,n+s);s<n;s++)if(s in r&&r[s]===t)return s;return-1}},qT);var Ug=Po.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=/()??/.exec("")[1]===void 0;Po.split=function(t,r){var n=this;if(t===void 0&&r===0)return[];if(Wf.call(t)!=="[object RegExp]")return Ug.call(this,t,r);var s=[],o=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),a=0,l,c,h,u;for(t=new RegExp(t.source,o+"g"),n+="",e||(l=new RegExp("^"+t.source+"$(?!\\s)",o)),r=r===void 0?-1>>>0:WT(r);(c=t.exec(n))&&(h=c.index+c[0].length,!(h>a&&(s.push(n.slice(a,c.index)),!e&&c.length>1&&c[0].replace(l,function(){for(var d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(c[d]=void 0)}),c.length>1&&c.index<n.length&&To.push.apply(s,c.slice(1)),u=c[0].length,a=h,s.length>=r)));)t.lastIndex===c.index&&t.lastIndex++;return a===n.length?(u||!t.test(""))&&s.push(""):s.push(n.slice(a)),s.length>r?s.slice(0,r):s}}():"0".split(void 0,0).length&&(Po.split=function(t,r){return t===void 0&&r===0?[]:Ug.call(this,t,r)});var GT=Po.substr,YT="".substr&&"0b".substr(-1)!=="b";Jo(Po,{substr:function(t,r){return GT.call(this,t<0&&(t=this.length+t)<0?0:t,r)}},YT);var Ca=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,Nu,XT=function(e){var t,r={},n=[];for(t=0;t<65536;t++)n.push(String.fromCharCode(t));return e.lastIndex=0,n.join("").replace(e,function(s){return r[s]="\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,r},KT={quote:function(e){var t=JSON.stringify(e);return Ca.lastIndex=0,Ca.test(t)?(Nu||(Nu=XT(Ca)),t.replace(Ca,function(r){return Nu[r]})):t}},Su=function(){},QT=function(e){return{filterToEnabled:function(t,r){var n={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(s){if(s&&!(s.transportName==="websocket"&&r.websocket===!1)){if(t.length&&t.indexOf(s.transportName)===-1){Su("not in whitelist",s.transportName);return}s.enabled(r)?(Su("enabled",s.transportName),n.main.push(s),s.facadeTransport&&n.facade.push(s.facadeTransport)):Su("disabled",s.transportName)}}),n}}},ah={};["log","debug","warn"].forEach(function(e){var t;try{t=globalThis.console&&globalThis.console[e]&&globalThis.console[e].apply}catch{}ah[e]=t?function(){return globalThis.console[e].apply(globalThis.console,arguments)}:e==="log"?function(){}:ah.log});var JT=ah;function gs(e){this.type=e}gs.prototype.initEvent=function(e,t,r){return this.type=e,this.bubbles=t,this.cancelable=r,this.timeStamp=+new Date,this};gs.prototype.stopPropagation=function(){};gs.prototype.preventDefault=function(){};gs.CAPTURING_PHASE=1;gs.AT_TARGET=2;gs.BUBBLING_PHASE=3;var Hf=gs,N1=globalThis.location||{protocol:"http:",href:"http://localhost/",hash:""},ZT=ve,S1=Hf;function k1(){S1.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}ZT(k1,S1);var eP=k1,tP=ve,E1=Hf;function C1(e){E1.call(this),this.initEvent("message",!1,!1),this.data=e}tP(C1,E1);var rP=C1,T1=ut.EventEmitter,nP=ve;function Zo(){var e=this;T1.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},Zo.timeout)}nP(Zo,T1);Zo.prototype.close=function(){clearTimeout(this.to)};Zo.timeout=2e3;var sP=Zo,P1=ut.EventEmitter,iP=ve,oP=Uf;function qf(e,t){P1.call(this);var r=this,n=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(s,o){var a,l;if(s===200){if(l=+new Date-n,o)try{a=JSON.parse(o)}catch{}oP.isObject(a)||(a={})}r.emit("finish",a,l),r.removeAllListeners()})}iP(qf,P1);qf.prototype.close=function(){this.removeAllListeners(),this.xo.close()};var D1=qf,ku,Vg;function A1(){if(Vg)return ku;Vg=1;var e=ve,t=ut.EventEmitter,r=Wo,n=D1;function s(o){var a=this;t.call(this),this.ir=new n(o,r),this.ir.once("finish",function(l,c){a.ir=null,a.emit("message",JSON.stringify([l,c]))})}return e(s,t),s.transportName="iframe-info-receiver",s.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},ku=s,ku}var O1=ut.EventEmitter,aP=ve,lP=An,R1=u1,cP=A1();function kc(e,t){var r=this;O1.call(this);var n=function(){var s=r.ifr=new R1(cP.transportName,t,e);s.once("message",function(o){if(o){var a;try{a=JSON.parse(o)}catch{r.emit("finish"),r.close();return}var l=a[0],c=a[1];r.emit("finish",l,c)}r.close()}),s.once("close",function(){r.emit("finish"),r.close()})};globalThis.document.body?n():lP.attachEvent("load",n)}aP(kc,O1);kc.enabled=function(){return R1.enabled()};kc.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};var uP=kc,I1=ut.EventEmitter,dP=ve,hP=Qt,Wg=Bf,Hg=Sc,fP=Wo,pP=sP,qg=uP,Ta=D1;function Rr(e,t){var r=this;I1.call(this),setTimeout(function(){r.doXhr(e,t)},0)}dP(Rr,I1);Rr._getReceiver=function(e,t,r){return r.sameOrigin?new Ta(t,fP):Hg.enabled?new Ta(t,Hg):Wg.enabled&&r.sameScheme?new Ta(t,Wg):qg.enabled()?new qg(e,t):new Ta(t,pP)};Rr.prototype.doXhr=function(e,t){var r=this,n=hP.addPath(e,"/info");this.xo=Rr._getReceiver(e,n,t),this.timeoutRef=setTimeout(function(){r._cleanup(!1),r.emit("finish")},Rr.timeout),this.xo.once("finish",function(s,o){r._cleanup(!0),r.emit("finish",s,o)})};Rr.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null};Rr.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)};Rr.timeout=8e3;var mP=Rr,Eu,Gg;function gP(){if(Gg)return Eu;Gg=1;var e=Yo;function t(r){this._transport=r,r.on("message",this._transportMessage.bind(this)),r.on("close",this._transportClose.bind(this))}return t.prototype._transportClose=function(r,n){e.postMessage("c",JSON.stringify([r,n]))},t.prototype._transportMessage=function(r){e.postMessage("t",r)},t.prototype._send=function(r){this._transport.send(r)},t.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},Eu=t,Eu}var Cu,Yg;function xP(){if(Yg)return Cu;Yg=1;var e=Qt,t=An,r=gP(),n=A1(),s=Yo,o=N1,a=function(){};return Cu=function(l,c){var h={};c.forEach(function(d){d.facadeTransport&&(h[d.facadeTransport.transportName]=d.facadeTransport)}),h[n.transportName]=n;var u;l.bootstrap_iframe=function(){var d;s.currentWindowId=o.hash.slice(1);var f=function(p){if(p.source===parent&&(typeof u>"u"&&(u=p.origin),p.origin===u)){var m;try{m=JSON.parse(p.data)}catch{a("bad json",p.data);return}if(m.windowId===s.currentWindowId)switch(m.type){case"s":var y;try{y=JSON.parse(m.data)}catch{a("bad json",m.data);break}var b=y[0],g=y[1],v=y[2],x=y[3];if(b!==l.version)throw new Error('Incompatible SockJS! Main site uses: "'+b+'", the iframe: "'+l.version+'".');if(!e.isOriginEqual(v,o.href)||!e.isOriginEqual(x,o.href))throw new Error("Can't connect to different domain from within an iframe. ("+o.href+", "+v+", "+x+")");d=new r(new h[g](v,x));break;case"m":d._send(m.data);break;case"c":d&&d._close(),d=null;break}}};t.attachEvent("message",f),s.postMessage("s")}},Cu}var yP=_b,vP=ve,Xg=mi,bP=KT,Bi=Qt,wP=An,jP=QT,NP=Uf,SP=Ho,kP=JT,Gf=Hf,M1=Lb,Pa=N1,EP=eP,Kg=rP,CP=mP,wr=function(){},_1;function xe(e,t,r){if(!(this instanceof xe))return new xe(e,t,r);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");M1.call(this),this.readyState=xe.CONNECTING,this.extensions="",this.protocol="",r=r||{},r.protocols_whitelist&&kP.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=r.transports,this._transportOptions=r.transportOptions||{},this._timeout=r.timeout||0;var n=r.sessionId||8;if(typeof n=="function")this._generateSessionId=n;else if(typeof n=="number")this._generateSessionId=function(){return Xg.string(n)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=r.server||Xg.numberString(1e3);var s=new yP(e);if(!s.host||!s.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(s.hash)throw new SyntaxError("The URL must not contain a fragment");if(s.protocol!=="http:"&&s.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+s.protocol+"' is not allowed.");var o=s.protocol==="https:";if(Pa.protocol==="https:"&&!o&&!Bi.isLoopbackAddr(s.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var a=t.sort();a.forEach(function(c,h){if(!c)throw new SyntaxError("The protocols entry '"+c+"' is invalid.");if(h<a.length-1&&c===a[h+1])throw new SyntaxError("The protocols entry '"+c+"' is duplicated.")});var l=Bi.getOrigin(Pa.href);this._origin=l?l.toLowerCase():null,s.set("pathname",s.pathname.replace(/\/+$/,"")),this.url=s.href,wr("using url",this.url),this._urlInfo={nullOrigin:!SP.hasDomain(),sameOrigin:Bi.isOriginEqual(this.url,Pa.href),sameScheme:Bi.isSchemeEqual(this.url,Pa.href)},this._ir=new CP(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}vP(xe,M1);function L1(e){return e===1e3||e>=3e3&&e<=4999}xe.prototype.close=function(e,t){if(e&&!L1(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===xe.CLOSING||this.readyState===xe.CLOSED)){var r=!0;this._close(e||1e3,t||"Normal closure",r)}};xe.prototype.send=function(e){if(typeof e!="string"&&(e=""+e),this.readyState===xe.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===xe.OPEN&&this._transport.send(bP.quote(e))};xe.version=i1();xe.CONNECTING=0;xe.OPEN=1;xe.CLOSING=2;xe.CLOSED=3;xe.prototype._receiveInfo=function(e,t){if(this._ir=null,!e){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=NP.extend(e,this._urlInfo);var r=_1.filterToEnabled(this._transportsWhitelist,e);this._transports=r.main,wr(this._transports.length+" enabled transports"),this._connect()};xe.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(wr("attempt",e.transportName),e.needBody&&(!globalThis.document.body||typeof globalThis.document.readyState<"u"&&globalThis.document.readyState!=="complete"&&globalThis.document.readyState!=="interactive")){this._transports.unshift(e),wP.attachEvent("load",this._connect.bind(this));return}var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);var r=Bi.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),n=this._transportOptions[e.transportName],s=new e(r,this._transUrl,n);s.on("message",this._transportMessage.bind(this)),s.once("close",this._transportClose.bind(this)),s.transportName=e.transportName,this._transport=s;return}this._close(2e3,"All transports failed",!1)};xe.prototype._transportTimeout=function(){this.readyState===xe.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};xe.prototype._transportMessage=function(e){var t=this,r=e.slice(0,1),n=e.slice(1),s;switch(r){case"o":this._open();return;case"h":this.dispatchEvent(new Gf("heartbeat")),wr("heartbeat",this.transport);return}if(n)try{s=JSON.parse(n)}catch{}if(!(typeof s>"u"))switch(r){case"a":Array.isArray(s)&&s.forEach(function(o){wr("message",t.transport),t.dispatchEvent(new Kg(o))});break;case"m":wr("message",this.transport),this.dispatchEvent(new Kg(s));break;case"c":Array.isArray(s)&&s.length===2&&this._close(s[0],s[1],!0);break}};xe.prototype._transportClose=function(e,t){if(wr("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!L1(e)&&e!==2e3&&this.readyState===xe.CONNECTING){this._connect();return}this._close(e,t)};xe.prototype._open=function(){wr("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===xe.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=xe.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new Gf("open")),wr("connected",this.transport)):this._close(1006,"Server lost session")};xe.prototype._close=function(e,t,r){wr("_close",this.transport,e,t,r,this.readyState);var n=!1;if(this._ir&&(n=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===xe.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=xe.CLOSING,setTimeout((function(){this.readyState=xe.CLOSED,n&&this.dispatchEvent(new Gf("error"));var s=new EP;s.wasClean=r||!1,s.code=e||1e3,s.reason=t,this.dispatchEvent(s),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)};xe.prototype.countRTO=function(e){return e>100?4*e:300+e};var TP=function(e){return _1=jP(e),xP()(xe,e),xe},PP=$T,DP=TP(PP);"_sockjs_onload"in globalThis&&setTimeout(globalThis._sockjs_onload,1);const F1=jh(DP),AP=()=>window.location.hostname!=="localhost"?window.location.origin:"http://localhost:8080",OP=()=>{if(window.location.hostname!=="localhost")return window.location.origin;const e="http://localhost:8080";return window.location.protocol==="https:"&&e.startsWith("http:")?e.replace("http:","https:"):e},We=`${AP()}/api`,RP=OP(),Da=new Map,Xr=(e,t,r=1e3)=>{Da.has(e)&&clearTimeout(Da.get(e));const n=setTimeout(()=>{t(),Da.delete(e)},r);Da.set(e,n)},ea=Tb((e,t)=>({ownedBoxes:[],receivedBoxes:[],droppedBoxes:[],activeBox:null,prizeHistory:[],prizeStats:null,isLoading:!1,error:null,showCreateForm:!1,showPrizeHistory:!1,notifications:[],stompClient:null,isConnected:!1,setLoading:r=>e({isLoading:r}),setError:r=>e({error:r}),setShowCreateForm:r=>e({showCreateForm:r}),setShowPrizeHistory:r=>e({showPrizeHistory:r}),createBox:async r=>{var n,s;e({isLoading:!0,error:null});try{const o=localStorage.getItem("token");if(!o)throw new Error("No authentication token found");const a=JSON.parse(atob(o.split(".")[1])),l=a.userId,c=a.sub;if(!l||!c)throw new Error("User information not found in token");const u=(await he.get(`${We}/auth/other-user`,{headers:{Authorization:`Bearer ${o}`}})).data.id,d={...r,ownerId:l,recipientId:u},f=await he.post(`${We}/surprise-boxes`,d,{headers:{Authorization:`Bearer ${o}`}});await Promise.all([t().loadOwnedBoxes(),t().loadReceivedBoxes(),t().loadActiveBox()]),e({showCreateForm:!1})}catch(o){e({error:((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.message)||"Failed to create surprise box"})}finally{e({isLoading:!1})}},loadOwnedBoxes:async()=>{e({isLoading:!0,error:null});try{const r=localStorage.getItem("token"),s=JSON.parse(atob((r==null?void 0:r.split(".")[1])||"")).userId,o=await fetch(`${We}/surprise-boxes/owned/${s}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!o.ok)throw new Error("Failed to load owned boxes");const a=await o.json();e({ownedBoxes:a,isLoading:!1})}catch(r){e({error:r instanceof Error?r.message:"Failed to load owned boxes",isLoading:!1})}},loadReceivedBoxes:async()=>{e({isLoading:!0,error:null});try{const r=localStorage.getItem("token"),s=JSON.parse(atob((r==null?void 0:r.split(".")[1])||"")).userId,o=await fetch(`${We}/surprise-boxes/received/${s}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!o.ok)throw new Error("Failed to load received boxes");const a=await o.json();e({receivedBoxes:a,isLoading:!1})}catch(r){e({error:r instanceof Error?r.message:"Failed to load received boxes",isLoading:!1})}},loadActiveBox:async()=>{var r,n,s;try{const o=localStorage.getItem("token"),l=JSON.parse(atob((o==null?void 0:o.split(".")[1])||"")).userId;if((await he.get(`${We}/surprise-boxes/has-active/${l}`,{headers:{Authorization:`Bearer ${o}`}})).data.hasActiveBox){const h=await he.get(`${We}/surprise-boxes/active/${l}`,{headers:{Authorization:`Bearer ${o}`}});h.data&&h.data.id&&h.data.owner&&h.data.recipient?(console.log(" Active box loaded:",{id:h.data.id,status:h.data.status,rejectionReason:h.data.rejectionReason,isExpired:h.data.isExpired,owner:h.data.owner,recipient:h.data.recipient}),e({activeBox:h.data})):(console.log(" Active box response invalid:",h.data),e({activeBox:{hasActive:!0}}))}else e({activeBox:null})}catch(o){((r=o.response)==null?void 0:r.status)!==404&&e({error:((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.message)||"Failed to load active box"}),e({activeBox:null})}},loadDroppedBoxes:async()=>{e({isLoading:!0,error:null});try{const r=localStorage.getItem("token"),s=JSON.parse(atob((r==null?void 0:r.split(".")[1])||"")).userId,o=await fetch(`${We}/surprise-boxes/dropped/${s}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!o.ok)throw new Error("Failed to load dropped boxes");const a=await o.json();e({droppedBoxes:a,isLoading:!1})}catch(r){e({error:r instanceof Error?r.message:"Failed to load dropped boxes",isLoading:!1})}},loadDroppingBoxes:async r=>{try{const n=localStorage.getItem("token");if(!n)throw new Error("No authentication token found");const s=await fetch(`${We}/surprise-boxes/dropping/${r}`,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(!s.ok)throw new Error("Failed to load dropping boxes");return await s.json()}catch(n){return console.error("Failed to load dropping boxes:",n),[]}},activateBox:async r=>{var n,s;console.log("activateBox: Starting activation process for boxId:",r),e({isLoading:!0,error:null});try{const o=localStorage.getItem("token");if(!o)throw new Error("No authentication token found");const l=JSON.parse(atob(o.split(".")[1])).userId;if(!l)throw new Error("User information not found in token");console.log("activateBox: Calling API to activate box",r,"for user",l);const c=await he.post(`${We}/surprise-boxes/activate/${r}?userId=${l}`,{},{headers:{Authorization:`Bearer ${o}`}});console.log("activateBox: API response:",c.data),console.log("activateBox: Refreshing box data after activation"),await Promise.all([t().loadDroppedBoxes(),t().loadReceivedBoxes(),t().loadActiveBox()]),console.log("activateBox: Activation process completed successfully")}catch(o){console.error("activateBox: Error during activation process:",o),e({error:((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.message)||"Failed to activate box"})}finally{e({isLoading:!1})}},claimBox:async r=>{var n,s;console.log("claimBox: Starting claim process for boxId:",r),e({isLoading:!0,error:null});try{const o=localStorage.getItem("token");if(!o)throw new Error("No authentication token found");const l=JSON.parse(atob(o.split(".")[1])).userId;if(!l)throw new Error("User information not found in token");console.log("claimBox: Calling API to claim box",r,"for user",l);const c=await he.post(`${We}/surprise-boxes/claim/${r}?userId=${l}`,{},{headers:{Authorization:`Bearer ${o}`}});console.log("claimBox: API response:",c.data),console.log("claimBox: Refreshing box data after claim"),await Promise.all([t().loadDroppedBoxes(),t().loadReceivedBoxes(),t().loadActiveBox()]),console.log("claimBox: Claim process completed successfully")}catch(o){console.error("claimBox: Error during claim process:",o),e({error:((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.message)||"Failed to claim box"})}finally{e({isLoading:!1})}},openBox:async(r,n)=>{var s,o;e({isLoading:!0,error:null});try{const a=localStorage.getItem("token"),c=JSON.parse(atob((a==null?void 0:a.split(".")[1])||"")).sub;await he.post(`${We}/surprise-boxes/${r}/open`,{username:c},{headers:{Authorization:`Bearer ${a}`}}),await Promise.all([t().loadReceivedBoxes(),t().loadActiveBox()])}catch(a){e({error:((o=(s=a.response)==null?void 0:s.data)==null?void 0:o.message)||"Failed to open box"})}finally{e({isLoading:!1})}},completeBox:async(r,n)=>{var s,o;e({isLoading:!0,error:null});try{const a=localStorage.getItem("token"),c=JSON.parse(atob((a==null?void 0:a.split(".")[1])||"")).sub;await he.post(`${We}/surprise-boxes/${r}/complete`,{username:c,completionData:n},{headers:{Authorization:`Bearer ${a}`}}),await Promise.all([t().loadReceivedBoxes(),t().loadActiveBox()])}catch(a){e({error:((o=(s=a.response)==null?void 0:s.data)==null?void 0:o.message)||"Failed to complete box"})}finally{e({isLoading:!1})}},approveCompletion:async r=>{var n,s;e({isLoading:!0,error:null});try{const o=localStorage.getItem("token");if(!o)throw new Error("No authentication token found");const l=JSON.parse(atob(o.split(".")[1])).userId;if(!l)throw new Error("User information not found in token");await he.post(`${We}/surprise-boxes/${r}/approve`,{ownerId:l},{headers:{Authorization:`Bearer ${o}`}}),await Promise.all([t().loadOwnedBoxes(),t().loadReceivedBoxes(),t().loadPrizeHistory(),t().loadPrizeStats()])}catch(o){e({error:((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.message)||"Failed to approve completion"})}finally{e({isLoading:!1})}},rejectCompletion:async(r,n)=>{var s,o;e({isLoading:!0,error:null});try{const a=localStorage.getItem("token");if(!a)throw new Error("No authentication token found");const c=JSON.parse(atob(a.split(".")[1])).userId;if(!c)throw new Error("User information not found in token");await he.post(`${We}/surprise-boxes/${r}/reject`,{ownerId:c,rejectionReason:n},{headers:{Authorization:`Bearer ${a}`}}),await Promise.all([t().loadOwnedBoxes(),t().loadReceivedBoxes()])}catch(a){e({error:((o=(s=a.response)==null?void 0:s.data)==null?void 0:o.message)||"Failed to reject completion"})}finally{e({isLoading:!1})}},cancelBox:async r=>{var n,s;e({isLoading:!0,error:null});try{const o=localStorage.getItem("token");if(!o)throw new Error("No authentication token found");const l=JSON.parse(atob(o.split(".")[1])).userId;if(!l)throw new Error("User information not found in token");await he.delete(`${We}/surprise-boxes/${r}?ownerId=${l}`,{headers:{Authorization:`Bearer ${o}`}}),await Promise.all([t().loadOwnedBoxes(),t().loadReceivedBoxes()])}catch(o){e({error:((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.message)||"Failed to cancel box"})}finally{e({isLoading:!1})}},updateBox:async(r,n)=>{var s,o;e({isLoading:!0,error:null});try{const a=localStorage.getItem("token");if(!a)throw new Error("No authentication token found");const c=JSON.parse(atob(a.split(".")[1])).userId;if(!c)throw new Error("User information not found in token");const h={...n,ownerId:c},u=await he.put(`${We}/surprise-boxes/${r}`,h,{headers:{Authorization:`Bearer ${a}`}});return await Promise.all([t().loadOwnedBoxes(),t().loadReceivedBoxes()]),u.data}catch(a){throw e({error:((o=(s=a.response)==null?void 0:s.data)==null?void 0:o.message)||"Failed to update surprise box"}),a}finally{e({isLoading:!1})}},loadPrizeHistory:async()=>{var r,n;try{const s=localStorage.getItem("token");let a=(await he.get(`${We}/prize-history`,{headers:{Authorization:`Bearer ${s}`}})).data;a&&typeof a=="object"&&a.content&&(a=a.content),e({prizeHistory:Array.isArray(a)?a:[]})}catch(s){console.error("Failed to load prize history:",s),e({error:((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to load prize history",prizeHistory:[]})}},loadPrizeStats:async()=>{var r,n;try{const s=localStorage.getItem("token"),o=await he.get(`${We}/prize-history/stats`,{headers:{Authorization:`Bearer ${s}`}});e({prizeStats:o.data||null})}catch(s){console.error("Failed to load prize stats:",s),e({error:((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to load prize stats",prizeStats:null})}},connectWebSocket:r=>{const n=r||localStorage.getItem("token");console.log(" Attempting WebSocket connection..."),console.log("Token present:",!!n),console.log("Token value:",n?`${n.substring(0,20)}...`:"null");const{stompClient:s}=t();if(n||(console.log(" No authentication token found, cannot connect to WebSocket"),console.log(" Please log in first to enable real-time notifications"),console.log(" For testing purposes, attempting connection without token...")),s&&s.connected){console.log(" Already connected to WebSocket");return}const o=new Pb({webSocketFactory:()=>new F1(`${RP}/ws`),connectHeaders:n?{Authorization:`Bearer ${n}`}:{},debug:a=>{},reconnectDelay:5e3,heartbeatIncoming:4e3,heartbeatOutgoing:4e3});o.onConnect=a=>{console.log(" Connected to surprise box WebSocket:",a),e({stompClient:o,isConnected:!0}),o.subscribe("/user/queue/surprise-box/updates",f=>{console.log(" Received WebSocket notification:",f.body);const p=JSON.parse(f.body),{notifications:m}=t();switch(e({notifications:[p,...m]}),p.type){case"BOX_DROPPED":console.log(" BOX_DROPPED notification - triggering refresh"),Xr("loadReceivedBoxes",()=>t().loadReceivedBoxes(),1e3),Xr("loadActiveBox",()=>t().loadActiveBox(),1e3);break;case"BOX_OPENED":console.log(" BOX_OPENED notification - triggering refresh"),Xr("loadOwnedBoxes",()=>t().loadOwnedBoxes(),1e3);break;case"BOX_APPROVED":console.log(" BOX_APPROVED notification - triggering refresh"),Xr("loadPrizeHistory",()=>t().loadPrizeHistory(),1e3),Xr("loadPrizeStats",()=>t().loadPrizeStats(),1e3);break;case"BOX_REJECTED":console.log(" BOX_REJECTED notification - triggering refresh"),Xr("loadOwnedBoxes",()=>t().loadOwnedBoxes(),1e3);break;case"BOX_EXPIRED":console.log(" BOX_EXPIRED notification - triggering refresh"),Xr("loadOwnedBoxes",()=>t().loadOwnedBoxes(),1e3);break;case"BOX_CANCELLED":console.log(" BOX_CANCELLED notification - triggering refresh"),Xr("loadOwnedBoxes",()=>t().loadOwnedBoxes(),1e3);break;default:console.log(" Unknown notification type:",p.type)}}),console.log(" WebSocket subscription established"),o.subscribe("/user/queue/surprise-box/pong",f=>{console.log(" Received pong:",f.body)}),console.log(" Subscribed to ping responses"),o.publish({destination:"/app/surprise-box/subscribe",body:JSON.stringify({action:"subscribe"})}),console.log(" Sent initial subscription message");let l=Date.now(),c;const h=()=>{c&&clearInterval(c),c=setInterval(()=>{if(o.connected){const f=Date.now();f-l<3e5&&(o.publish({destination:"/app/surprise-box/ping",body:JSON.stringify({timestamp:f})}),console.log(" Sent ping"))}},9e4)},u=()=>{l=Date.now()};h();const d=o.subscribe;o.subscribe=function(f,p,m){return d.call(this,f,y=>{u(),p(y)},m)},o.pingInterval=c},o.onStompError=a=>{console.error(" STOMP error:",a),e({isConnected:!1})},o.onDisconnect=()=>{console.log(" Disconnected from surprise box WebSocket"),e({isConnected:!1}),o.pingInterval&&clearInterval(o.pingInterval)},console.log(" Activating STOMP client..."),e({stompClient:o}),o.activate()},disconnectWebSocket:()=>{const{stompClient:r}=t();r&&(r.pingInterval&&clearInterval(r.pingInterval),r.deactivate(),e({stompClient:null,isConnected:!1}))},addNotification:r=>{e(n=>({notifications:[r,...n.notifications].slice(0,10)}))},clearNotifications:()=>e({notifications:[]}),getBoxById:r=>{const{ownedBoxes:n,receivedBoxes:s}=t();return[...n,...s].find(o=>o.id===r)||null},getBoxesWaitingApproval:()=>{const{ownedBoxes:r}=t();return r.filter(n=>n.status==="WAITING_APPROVAL")},getActiveBoxesCount:()=>{const{ownedBoxes:r,receivedBoxes:n}=t();return[...r,...n].filter(s=>{if(["CLAIMED","EXPIRED","REJECTED"].includes(s.status))return!1;if(s.openedAt&&s.expirationMinutes){const o=new Date(s.openedAt),a=new Date(o.getTime()+s.expirationMinutes*6e4);if(new Date>a)return!1}return!0}).length}})),Yf=()=>{const e=ea(),t=E.useCallback(()=>{e.loadOwnedBoxes()},[]),r=E.useCallback(()=>{e.loadReceivedBoxes()},[]),n=E.useCallback(()=>{e.loadActiveBox()},[]),s=E.useCallback(()=>{e.loadDroppedBoxes()},[]),o=E.useCallback(C=>e.claimBox(C),[]),a=E.useCallback(C=>{e.connectWebSocket(C)},[]),l=E.useCallback(()=>{e.disconnectWebSocket()},[]),c=E.useCallback(C=>e.createBox(C),[]),h=E.useCallback(C=>e.openBox(C),[]),u=E.useCallback(C=>e.approveBox(C),[]),d=E.useCallback(C=>e.rejectBox(C),[]),f=E.useCallback(C=>e.cancelBox(C),[]),p=E.useCallback((C,R)=>e.updateBox(C,R),[]),m=E.useCallback(()=>{e.loadPrizeHistory()},[]),y=E.useCallback(()=>{e.loadPrizeStats()},[]),b=E.useCallback(()=>{e.clearNotifications()},[]),g=E.useCallback(C=>{e.setError(C)},[]),v=E.useCallback(C=>{e.setShowCreateForm(C)},[]),x=E.useCallback(C=>{e.setShowPrizeHistory(C)},[]);return{ownedBoxes:e.ownedBoxes,receivedBoxes:e.receivedBoxes,droppedBoxes:e.droppedBoxes,activeBox:e.activeBox,notifications:e.notifications,isConnected:e.isConnected,error:e.error,isLoading:e.isLoading,prizeHistory:e.prizeHistory,prizeStats:e.prizeStats,showCreateForm:e.showCreateForm,showPrizeHistory:e.showPrizeHistory,loadOwnedBoxes:t,loadReceivedBoxes:r,loadActiveBox:n,loadDroppedBoxes:s,claimBox:o,connectWebSocket:a,disconnectWebSocket:l,createBox:c,openBox:h,approveBox:u,rejectBox:d,cancelBox:f,updateBox:p,loadPrizeHistory:m,loadPrizeStats:y,clearNotifications:b,setError:g,setShowCreateForm:v,setShowPrizeHistory:x,getBoxById:e.getBoxById,getBoxesWaitingApproval:e.getBoxesWaitingApproval,getActiveBoxesCount:e.getActiveBoxesCount}},IP=({box:e,onClaim:t,onAnimationComplete:r})=>{const[n,s]=E.useState(!0),[o,a]=E.useState(!1),{activateBox:l}=ea(),{showToast:c}=Uo(),h=async()=>{if(!o){a(!0);try{await l(e.id),c("Box is now active! Open it to see the task ","general",3e3),t(e.id)}catch(d){console.error("Failed to activate box:",d),a(!1),c("Failed to claim box. Please try again.","general",3e3)}}},u=()=>{o||(s(!1),r())};return n?i.jsxs("div",{className:`fixed z-50 cursor-pointer transform transition-all duration-300 ${o?"scale-110 opacity-0":"hover:scale-105"}`,style:{left:`${Math.random()*80+10}%`,animation:o?"none":"dropBox 4s linear forwards"},onClick:h,onAnimationEnd:u,children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-xl blur-lg opacity-60 animate-pulse"}),i.jsxs("div",{className:"relative bg-gradient-to-br from-yellow-400 via-orange-400 to-red-400 p-4 rounded-xl shadow-2xl border-2 border-yellow-300 transform rotate-3 hover:rotate-0 transition-transform duration-300",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent rounded-xl"}),i.jsx("div",{className:"relative flex items-center justify-center",children:i.jsx(Ve,{className:"h-8 w-8 text-white drop-shadow-lg"})}),i.jsxs("div",{className:"absolute -top-12 left-1/2 transform -translate-x-1/2 bg-black/80 text-white text-xs px-3 py-1 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap",children:[i.jsx("div",{className:"font-semibold",children:e.prizeName}),i.jsxs("div",{className:"text-gray-300",children:["From ",e.owner.name]}),i.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-black/80"})]})]}),i.jsx("div",{className:"absolute -top-2 -left-2 w-2 h-2 bg-yellow-300 rounded-full animate-ping"}),i.jsx("div",{className:"absolute -top-1 -right-1 w-1.5 h-1.5 bg-orange-300 rounded-full animate-ping",style:{animationDelay:"0.5s"}}),i.jsx("div",{className:"absolute -bottom-1 -left-1 w-1 h-1 bg-red-300 rounded-full animate-ping",style:{animationDelay:"1s"}})]}),o&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-sm font-semibold animate-bounce",children:"Claimed! "})})]}):null},$1=E.memo(()=>{const[e,t]=E.useState([]),[r,n]=E.useState(new Set),[s,o]=E.useState(3e4),[a,l]=E.useState(0),c=E.useRef(new Set),h=E.useRef([]),u=E.useRef(null),{loadDroppingBoxes:d}=ea(),{user:f}=Dn();E.useEffect(()=>{c.current=r},[r]),E.useEffect(()=>{h.current=e},[e]);const p=E.useCallback(async()=>{if(f!=null&&f.id)try{const g=(await d(f.id)).filter(v=>!(c.current.has(v.id)||h.current.some(C=>C.id===v.id)));g.length>0?(l(0),o(3e4),n(v=>{const x=new Set(v);return g.forEach(C=>x.add(C.id)),x}),t(v=>[...v,...g])):l(v=>{const x=v+1;return x>=1&&x<3?o(6e4):x>=3&&x<6?o(12e4):x>=6&&o(3e5),x})}catch{l(g=>g+1)}},[d,f==null?void 0:f.id]);if(!(f!=null&&f.id))return null;E.useEffect(()=>(u.current&&clearInterval(u.current),u.current=setInterval(p,s),p(),()=>{u.current&&clearInterval(u.current)}),[p,s]);const m=E.useCallback(b=>{t(g=>g.filter(v=>v.id!==b)),n(g=>{const v=new Set(g);return v.delete(b),v}),l(0),o(3e4)},[]),y=E.useCallback(b=>{t(g=>g.filter(v=>v.id!==b)),n(g=>{const v=new Set(g);return v.delete(b),v})},[]);return i.jsx("div",{className:"fixed inset-0 pointer-events-none z-40",children:e.map(b=>i.jsx("div",{className:"pointer-events-auto",children:i.jsx(IP,{box:b,onClaim:m,onAnimationComplete:()=>y(b.id)})},`dropping-${b.id}`))})});$1.displayName="BoxDropManager";const z1=()=>{if(typeof window>"u")return!1;const e=navigator.userAgent.toLowerCase(),r=["android","webos","iphone","ipad","ipod","blackberry","windows phone","mobile"].some(c=>e.includes(c)),n=window.innerWidth<=768&&window.innerHeight<=1024,s="ontouchstart"in window||navigator.maxTouchPoints>0,o=window.devicePixelRatio>1,a=window.matchMedia&&window.matchMedia("(max-width: 768px)").matches;return r||n&&(s||o)||a},Xf=()=>{if(typeof window>"u")return{width:280,height:400};const e=window.innerWidth,t=window.innerHeight,r=Math.min(e-40,320),n=Math.min(t-120,500);return{width:r,height:n}},MP=()=>{if(typeof window>"u")return{x:20,y:60};const e=window.innerWidth,{width:t}=Xf();return{x:(e-t)/2,y:60}},B1=()=>{if(window.location.hostname!=="localhost")return window.location.origin;const e="http://localhost:8080";return window.location.protocol==="https:"&&e.startsWith("http:")?e.replace("http:","https:"):e},Oi=()=>`${B1()}/api`,vi=Tb((e,t)=>({noteId:1,content:"",isConnected:!1,isLoading:!1,error:null,hasEditPermission:!1,isLocked:!1,currentEditor:null,isRequestingEdit:!1,editRequestMessage:null,windowPosition:(()=>{try{const r=localStorage.getItem("turnBasedNoteWindowPosition");if(r)return JSON.parse(r)}catch(r){console.warn("Failed to restore window position from localStorage:",r)}if(z1()){const r=MP(),n=Xf();return{userId:0,xPosition:r.x,yPosition:r.y,width:n.width,height:n.height,updatedAt:new Date().toISOString()}}return{userId:0,xPosition:window.innerWidth-370,yPosition:140,width:350,height:600,updatedAt:new Date().toISOString()}})(),isWindowVisible:!1,isMinimized:!0,isMaximized:!1,typingIndicators:[],stompClient:null,sessionId:null,setContent:r=>e({content:r}),setNoteId:r=>e({noteId:r}),setWindowPosition:r=>e({windowPosition:r}),setWindowVisible:r=>e({isWindowVisible:r}),setMinimized:r=>e({isMinimized:r}),setMaximized:r=>e({isMaximized:r}),setError:r=>e({error:r}),setLoading:r=>e({isLoading:r}),requestEditControl:async()=>{var n;const r=t();if(!r.noteId||r.isRequestingEdit)return!1;e({isRequestingEdit:!0,editRequestMessage:null});try{const s=localStorage.getItem("token");if(!s)throw new Error("No authentication token");const o=await fetch(`${Oi()}/edit-control/request/${r.noteId}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({sessionId:r.sessionId})});if(!o.ok)throw new Error("Failed to request edit control");const a=await o.json();return a.granted?(e({hasEditPermission:!0,isLocked:!0,currentEditor:a.session.currentEditor,isRequestingEdit:!1,editRequestMessage:null}),(n=r.stompClient)!=null&&n.connected&&r.stompClient.publish({destination:"/app/shared-note/edit-control",body:JSON.stringify({type:"REQUEST_EDIT_CONTROL",noteId:r.noteId,sessionId:r.sessionId})}),!0):(e({hasEditPermission:!1,currentEditor:a.currentEditor||null,isRequestingEdit:!1,editRequestMessage:a.message||"Edit control denied"}),!1)}catch(s){return console.error("Error requesting edit control:",s),e({isRequestingEdit:!1,editRequestMessage:"Failed to request edit control",error:s instanceof Error?s.message:"Unknown error"}),!1}},releaseEditControl:async()=>{var n;const r=t();if(!(!r.noteId||!r.hasEditPermission))try{const s=localStorage.getItem("token");if(!s)throw new Error("No authentication token");if(!(await fetch(`${Oi()}/edit-control/release/${r.noteId}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}})).ok)throw new Error("Failed to release edit control");e({hasEditPermission:!1,isLocked:!1,currentEditor:null,editRequestMessage:null}),(n=r.stompClient)!=null&&n.connected&&r.stompClient.publish({destination:"/app/shared-note/edit-control",body:JSON.stringify({type:"RELEASE_EDIT_CONTROL",noteId:r.noteId,sessionId:r.sessionId})})}catch(s){console.error("Error releasing edit control:",s),e({error:s instanceof Error?s.message:"Unknown error"})}},updateContent:async r=>{var s;const n=t();if(!n.noteId||!n.hasEditPermission){console.warn("Cannot update content: no edit permission");return}try{const o=localStorage.getItem("token");if(!o)throw new Error("No authentication token");if(!(await fetch(`${Oi()}/edit-control/content/${n.noteId}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({content:r})})).ok)throw new Error("Failed to update content");(s=n.stompClient)!=null&&s.connected&&n.stompClient.publish({destination:"/app/shared-note/edit-control",body:JSON.stringify({type:"CONTENT_UPDATE",noteId:n.noteId,content:r,cursorPosition:0})})}catch(o){console.error("Error updating content:",o),e({error:o instanceof Error?o.message:"Unknown error"})}},connect:async r=>{var s;const n=t();if((s=n.stompClient)!=null&&s.connected||n.isLoading){console.log("Already connected or connecting to WebSocket, skipping connection");return}e({isLoading:!0,error:null});try{const o=B1();console.log("WebSocket URL:",o);const a=new F1(`${o}/ws`),l=Date.now()+Math.random().toString(36),c=new Pb({webSocketFactory:()=>a,connectHeaders:{Authorization:`Bearer ${r}`},debug:h=>{},reconnectDelay:5e3,heartbeatIncoming:4e3,heartbeatOutgoing:4e3});c.onConnect=h=>{console.log("Connected to turn-based note WebSocket:",h),e({isConnected:!0,isLoading:!1,stompClient:c,sessionId:l}),c.subscribe("/user/queue/shared-note/edit-control",u=>{const d=JSON.parse(u.body);_P(d)}),c.subscribe("/topic/shared-note/edit-control",u=>{const d=JSON.parse(u.body);LP(d)}),c.subscribe("/topic/shared-note/content",u=>{const d=JSON.parse(u.body);FP(d)}),c.subscribe("/topic/shared-note/typing",u=>{const d=JSON.parse(u.body);$P(d)}),c.subscribe("/user/queue/shared-note/updates",u=>{const d=JSON.parse(u.body);zP(d)}),setTimeout(()=>{c.publish({destination:"/app/shared-note/subscribe",body:JSON.stringify({})})},100)},c.onStompError=h=>{console.error("STOMP error:",h),e({error:"Connection error",isLoading:!1,isConnected:!1})},c.onDisconnect=()=>{console.log("Disconnected from turn-based note WebSocket"),e({isConnected:!1})},c.activate()}catch(o){console.error("Failed to connect to WebSocket:",o),e({error:"Failed to connect",isLoading:!1})}},disconnect:()=>{const r=t();r.stompClient&&(r.stompClient.deactivate(),e({stompClient:null,isConnected:!1,sessionId:null}))},sendTypingIndicator:r=>{var s;const n=t();!((s=n.stompClient)!=null&&s.connected)||!n.hasEditPermission||n.stompClient.publish({destination:"/app/shared-note/edit-control",body:JSON.stringify({type:"TYPING_STATUS",noteId:n.noteId,isTyping:r})})},updateWindowPosition:(r,n,s,o)=>{const a=t(),l={xPosition:r,yPosition:n,width:s,height:o},c={...a.windowPosition,...l,updatedAt:new Date().toISOString()};e({windowPosition:c}),localStorage.setItem("turnBasedNoteWindowPosition",JSON.stringify(c))},updateTypingIndicator:r=>{e(n=>({typingIndicators:r.isTyping?[...n.typingIndicators.filter(s=>s.userId!==r.userId),r]:n.typingIndicators.filter(s=>s.userId!==r.userId)}))},removeTypingIndicator:r=>{e(n=>({typingIndicators:n.typingIndicators.filter(s=>s.userId!==r)}))},fetchEditStatus:async()=>{const r=t();if(r.noteId)try{const n=localStorage.getItem("token");if(!n)return;const s=await fetch(`${Oi()}/edit-control/status/${r.noteId}`,{headers:{Authorization:`Bearer ${n}`}});if(s.ok){const o=await s.json();e({hasEditPermission:o.hasEditPermission,isLocked:o.isLocked,currentEditor:o.currentEditor})}}catch(n){console.error("Error fetching edit status:",n)}},fetchNoteContent:async()=>{const r=t();if(r.noteId)try{const n=localStorage.getItem("token");if(!n)return;const s=await fetch(`${Oi()}/edit-control/content/${r.noteId}`,{headers:{Authorization:`Bearer ${n}`}});if(s.ok){const o=await s.json();e({content:o.content,hasEditPermission:o.hasEditPermission})}}catch(n){console.error("Error fetching note content:",n)}}}));function _P(e){switch(console.log("Received edit control message:",e),vi.getState(),e.type){case"GRANT_EDIT_CONTROL":ii({hasEditPermission:!0,isLocked:!0,currentEditor:{id:e.userId,username:e.username||"Unknown"},isRequestingEdit:!1,editRequestMessage:null});break;case"DENY_EDIT_CONTROL":ii({hasEditPermission:!1,isRequestingEdit:!1,editRequestMessage:e.message||"Edit control denied"});break}}function LP(e){switch(console.log("Received edit control broadcast:",e),e.type){case"EDIT_CONTROL_GRANTED":ii({isLocked:!0,currentEditor:{id:e.userId,username:e.userName||e.username||"Unknown"}});break;case"EDIT_CONTROL_RELEASED":ii({isLocked:!1,currentEditor:null});break}}function FP(e){console.log("Received content update:",e);const t=vi.getState();e.content!==void 0&&!t.hasEditPermission&&ii({content:e.content})}function $P(e){if(console.log("Received typing update:",e),e.username&&e.isTyping!==void 0){const t={userId:e.userId,username:e.username,isTyping:e.isTyping,timestamp:new Date().toISOString()};vi.getState().updateTypingIndicator(t)}}function zP(e){e.type==="INITIAL_CONTENT"&&ii({content:e.content||"",noteId:e.noteId||1})}function ii(e){vi.setState(e)}const U1=({onClose:e})=>{const t=E.useRef(null),[r,n]=E.useState(0),[s,o]=E.useState(!1),a=E.useRef(),{user:l}=Dn(),{content:c,isConnected:h,isLoading:u,error:d,hasEditPermission:f,isLocked:p,currentEditor:m,isRequestingEdit:y,editRequestMessage:b,windowPosition:g,isMinimized:v,isMaximized:x,typingIndicators:C,setContent:R,setMinimized:S,setMaximized:I,connect:w,disconnect:j,requestEditControl:N,releaseEditControl:k,updateContent:T,sendTypingIndicator:D,updateWindowPosition:O}=vi();E.useEffect(()=>{if(typeof window<"u"&&window.localStorage){const V=localStorage.getItem("token");V&&V.trim()!==""&&!h&&!u&&w(V)}return()=>{j()}},[]);const M=E.useRef(),A=E.useCallback(V=>{if(!f){console.warn("User attempted to edit without permission");return}const Y=V.target.value;console.log("Text change detected:",{newContent:Y,hasEditPermission:f}),R(Y),M.current&&clearTimeout(M.current),M.current=setTimeout(()=>{T(Y)},300),s||(o(!0),D(!0)),a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{o(!1),D(!1)},1e3)},[f,R,T,s,D]),P=E.useCallback(V=>{const Y=V.target.selectionStart;n(Y)},[]),F=E.useCallback(async()=>{console.log("Requesting edit control...");const V=await N();console.log("Edit control request result:",V)},[N]),L=E.useCallback(async()=>{console.log("Releasing edit control..."),await k()},[k]),$=E.useCallback(()=>{S(!v)},[v,S]),[z,B]=E.useState(!1),[q,H]=E.useState({x:0,y:0}),U=E.useCallback(V=>{V.preventDefault(),B(!0);const J=V.currentTarget.parentElement;if(J){const te=J.getBoundingClientRect();H({x:V.clientX-te.left,y:V.clientY-te.top})}},[]),X=E.useCallback(V=>{V.preventDefault(),B(!0);const Y=V.touches[0],te=V.currentTarget.parentElement;if(te){const ne=te.getBoundingClientRect();H({x:Y.clientX-ne.left,y:Y.clientY-ne.top})}},[]),ee=E.useCallback(V=>{if(!z)return;const Y=V.clientX-q.x,J=V.clientY-q.y,te=(g==null?void 0:g.width)||350,ne=(g==null?void 0:g.height)||600,le=window.innerWidth-te,ce=window.innerHeight-ne,je=Math.max(0,Math.min(Y,le)),Ye=Math.max(0,Math.min(J,ce));O(je,Ye,te,ne)},[z,q,g,O]),ae=E.useCallback(V=>{if(!z)return;V.preventDefault();const Y=V.touches[0],J=Y.clientX-q.x,te=Y.clientY-q.y,ne=(g==null?void 0:g.width)||350,le=(g==null?void 0:g.height)||600,ce=window.innerWidth-ne,je=window.innerHeight-le,Ye=Math.max(0,Math.min(J,ce)),Hr=Math.max(0,Math.min(te,je));O(Ye,Hr,ne,le)},[z,q,g,O]),se=E.useCallback(()=>{B(!1)},[]),ie=E.useCallback(()=>{B(!1)},[]);E.useEffect(()=>{if(z)return document.addEventListener("mousemove",ee),document.addEventListener("mouseup",se),document.addEventListener("touchmove",ae,{passive:!1}),document.addEventListener("touchend",ie,{passive:!1}),()=>{document.removeEventListener("mousemove",ee),document.removeEventListener("mouseup",se),document.removeEventListener("touchmove",ae),document.removeEventListener("touchend",ie)}},[z,ee,se,ae,ie]);const me=u?{icon:fu,color:"text-blue-500",text:"Connecting...",spin:!0}:h?f?{icon:Zi,color:"text-green-500",text:"Editing"}:p&&m?{icon:Tf,color:"text-orange-500",text:`${m.username} is editing`}:{icon:Vv,color:"text-blue-500",text:"Viewing"}:{icon:sg,color:"text-red-500",text:"Disconnected"},Je=me.icon,ye=(()=>{const V=C.filter(Y=>Y.isTyping&&Y.userId!==(l==null?void 0:l.id));return V.length===0?null:V.length===1?`${V[0].username} is typing...`:`${V.length} users are typing...`})();if(v)return i.jsx("div",{className:"fixed bottom-4 right-4 cursor-pointer z-50 apple-shadow",onClick:V=>{V.preventDefault(),V.stopPropagation(),$()},style:{backgroundColor:"var(--apple-glass-bg)",border:"1px solid var(--apple-glass-border)",borderRadius:"12px",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease"},onMouseEnter:V=>{V.currentTarget.style.transform="translateY(-2px)",V.currentTarget.style.boxShadow="0 8px 25px rgba(0, 0, 0, 0.15)"},onMouseLeave:V=>{V.currentTarget.style.transform="translateY(0)",V.currentTarget.style.boxShadow="var(--apple-glass-shadow)"},children:i.jsxs("div",{className:"p-3 flex items-center space-x-2",children:[i.jsx(Je,{className:`w-4 h-4 ${me.color} ${me.spin?"animate-spin":""}`}),i.jsx("span",{className:"text-sm font-medium",style:{color:"var(--apple-label)",fontFamily:"var(--font-body)"},children:"Notes"})]})});const ge=z1(),_=ge?Xf():null;return i.jsxs("div",{className:"fixed z-50 flex flex-col apple-shadow",style:{left:(g==null?void 0:g.xPosition)||100,top:(g==null?void 0:g.yPosition)||100,width:ge?(_==null?void 0:_.width)||280:(g==null?void 0:g.width)||350,height:ge?(_==null?void 0:_.height)||400:(g==null?void 0:g.height)||600,minWidth:ge?250:300,minHeight:ge?300:400,maxWidth:ge?"95vw":"90vw",maxHeight:ge?"85vh":"90vh",backgroundColor:"var(--apple-system-background)",border:"1px solid var(--apple-glass-border)",borderRadius:ge?"8px":"12px",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",fontFamily:"var(--font-body)",overflow:"hidden",...ge&&{touchAction:"manipulation",WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"}},children:[i.jsxs("div",{className:"cursor-move flex items-center justify-between select-none",onMouseDown:U,onTouchStart:X,style:{backgroundColor:"var(--apple-secondary-background)",color:"var(--apple-label)",padding:"12px 16px",borderRadius:"12px 12px 0 0",borderBottom:"1px solid var(--apple-separator)",fontFamily:"var(--font-heading)"},children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("span",{className:"font-semibold text-base",children:"Notes"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[u?i.jsx(fu,{className:"w-4 h-4 text-blue-500 animate-spin"}):h?i.jsx(YE,{className:"w-4 h-4 text-green-500"}):i.jsx(sg,{className:"w-4 h-4 text-red-500"}),i.jsx("span",{className:"text-sm",style:{color:"var(--apple-secondary-label)"},children:u?"Connecting":h?"Connected":"Disconnected"})]}),i.jsx("div",{className:"w-px h-4",style:{backgroundColor:"var(--apple-separator)"}}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Je,{className:`w-4 h-4 ${me.color}`}),i.jsx("span",{className:"text-sm",style:{color:"var(--apple-secondary-label)"},children:me.text})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:V=>{V.preventDefault(),V.stopPropagation(),$()},className:"p-2 rounded-full transition-all duration-200",title:"Minimize",style:{color:"var(--apple-secondary-label)",backgroundColor:"transparent"},onMouseEnter:V=>{V.currentTarget.style.backgroundColor="var(--apple-gray-5)",V.currentTarget.style.color="var(--apple-label)"},onMouseLeave:V=>{V.currentTarget.style.backgroundColor="transparent",V.currentTarget.style.color="var(--apple-secondary-label)"},children:i.jsx(HE,{className:"w-4 h-4"})}),e&&i.jsx("button",{onClick:e,className:"p-2 rounded-full transition-all duration-200 text-lg font-medium",title:"Close",style:{color:"var(--apple-secondary-label)",backgroundColor:"transparent"},onMouseEnter:V=>{V.currentTarget.style.backgroundColor="var(--apple-gray-5)",V.currentTarget.style.color="var(--apple-label)"},onMouseLeave:V=>{V.currentTarget.style.backgroundColor="transparent",V.currentTarget.style.color="var(--apple-secondary-label)"},children:""})]})]}),(d||b)&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm",style:{padding:"8px 16px",borderBottom:"1px solid var(--apple-separator)",backgroundColor:d?"#FFEBEE":"#E3F2FD",color:d?"#FF3B30":"var(--apple-blue)",fontFamily:"var(--font-body)"},children:[d?i.jsx(Wt,{className:"w-4 h-4",style:{color:"#FF3B30"}}):i.jsx(Js,{className:"w-4 h-4",style:{color:"var(--apple-blue)"}}),i.jsx("span",{children:d||b})]}),i.jsxs("div",{className:"flex-1 relative",style:{backgroundColor:"var(--apple-system-background)"},children:[i.jsx("textarea",{ref:t,value:c,onChange:A,onSelect:P,placeholder:f?"Start writing your shared notes here...":p?`${(m==null?void 0:m.username)||"Another user"} is currently editing. You can read but not edit.`:"Click 'Request Edit' to start editing...",className:"w-full h-full resize-none border-none outline-none",style:{fontFamily:"var(--font-body)",fontSize:"14px",lineHeight:"1.5",padding:"16px",paddingBottom:"60px",backgroundColor:"transparent",color:"var(--apple-label)",cursor:"text"},readOnly:!f}),i.jsxs("div",{className:"absolute flex items-center space-x-2",style:{bottom:"16px",right:"16px",zIndex:10},children:[!f&&!p&&i.jsx("button",{onClick:F,disabled:y,className:"px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-1 shadow-lg",style:{backgroundColor:y?"var(--apple-gray-3)":"var(--apple-blue)",color:"white",border:"none",fontFamily:"var(--font-body)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},title:y?"Requesting edit permission...":"Request edit permission",children:y?i.jsxs(i.Fragment,{children:[i.jsx(fu,{className:"w-3 h-3 animate-spin"}),i.jsx("span",{children:"Requesting"})]}):i.jsxs(i.Fragment,{children:[i.jsx(Zi,{className:"w-3 h-3"}),i.jsx("span",{children:"Edit"})]})}),f&&i.jsxs("button",{onClick:L,className:"px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200 flex items-center space-x-1 shadow-lg",style:{backgroundColor:"#FF3B30",color:"white",border:"none",fontFamily:"var(--font-body)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},onMouseEnter:V=>{V.currentTarget.style.backgroundColor="#FF6B60"},onMouseLeave:V=>{V.currentTarget.style.backgroundColor="#FF3B30"},title:"Stop editing and release control",children:[i.jsx(Yv,{className:"w-3 h-3"}),i.jsx("span",{children:"Stop"})]})]}),ye&&i.jsxs("div",{className:"absolute flex items-center space-x-2 text-sm",style:{bottom:"12px",left:"16px",color:"var(--apple-secondary-label)",backgroundColor:"var(--apple-glass-bg)",padding:"6px 10px",borderRadius:"8px",border:"1px solid var(--apple-glass-border)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",fontFamily:"var(--font-body)"},children:[i.jsxs("div",{className:"flex space-x-1",children:[i.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{backgroundColor:"var(--apple-blue)",animationDelay:"0ms"}}),i.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{backgroundColor:"var(--apple-blue)",animationDelay:"150ms"}}),i.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{backgroundColor:"var(--apple-blue)",animationDelay:"300ms"}})]}),i.jsx("span",{children:ye})]})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs",style:{backgroundColor:"var(--apple-secondary-background)",padding:"8px 16px",borderTop:"1px solid var(--apple-separator)",borderRadius:"0 0 12px 12px",color:"var(--apple-secondary-label)",fontFamily:"var(--font-body)"},children:[i.jsx("div",{className:"flex items-center space-x-4",children:l&&i.jsx("span",{children:l.username})}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("span",{children:[c.length," characters"]}),f&&i.jsxs("div",{className:"flex items-center space-x-1 font-medium",style:{color:"var(--apple-blue)"},children:[i.jsx(Zi,{className:"w-3 h-3"}),i.jsx("span",{children:"Editing"})]})]})]})]})},BP=()=>{const[e,t]=E.useState(!document.hidden);return E.useEffect(()=>{const r=()=>{t(!document.hidden)};return document.addEventListener("visibilitychange",r),()=>{document.removeEventListener("visibilitychange",r)}},[]),e};function Qg(){const e=ic(),t=BP(),[r,n]=E.useState([]),[s,o]=E.useState([]),[a,l]=E.useState(!0),[c,h]=E.useState([]),[u,d]=E.useState({photos:0,memories:0,totalLove:0}),[f,p]=E.useState([]),[m,y]=E.useState(!1),{loadOwnedBoxes:b,loadReceivedBoxes:g,loadActiveBox:v,loadDroppedBoxes:x}=Yf(),C=(j=[])=>{let N=0,k;do{const T=Math.random()*70+15,D=Math.random()*70+15;if(k={top:`${T}%`,left:`${D}%`},j.every(M=>{const A=parseFloat(M.top),P=parseFloat(M.left);return Math.sqrt(Math.pow(T-A,2)+Math.pow(D-P,2))>15})||N>20)break;N++}while(N<=20);return k};E.useEffect(()=>{const j=[{emoji:"",title:"Meow! "},{emoji:"",title:"Happy kitty! "},{emoji:"",title:"Love you! "},{emoji:"",title:"Paw prints! "},{emoji:"",title:"Cute cat! "},{emoji:"",title:"Love! "}],N=[];j.forEach((k,T)=>{const D=C(N);N.push({id:`cat-${T}`,...D,emoji:k.emoji,title:k.title,isJumping:!1})}),p(N)},[]);const R=j=>{p(N=>N.map(k=>k.id===j?{...k,isJumping:!0}:k)),setTimeout(()=>{p(N=>{const k=N.filter(D=>D.id!==j),T=C(k);return N.map(D=>D.id===j?{...D,...T,isJumping:!1}:D)})},1e3)},S=j=>{sessionStorage.setItem("openMemoryId",j.toString()),e(`/memories?openMemory=${j}`)},I=async()=>{try{l(!0);const j=await K.get("/api/photos/random?limit=18");j.data&&Array.isArray(j.data)&&j.data.length>0?o(j.data):(console.warn("No photos available for carousel"),o([]))}catch(j){console.error("Error fetching random photos:",j),o([])}finally{l(!1)}};E.useEffect(()=>{w(),I(),b(),g(),x(),v()},[b,g,x,v]);const w=async()=>{var j;try{const N=await K.get("/api/photos?page=0&limit=50");console.log("Dashboard photos response:",N.data);const k=N.data.photos||N.data,T=((j=N.data.pagination)==null?void 0:j.total)||k.length;n(k.slice(0,6)),d(D=>({...D,photos:T}));try{const D=await K.get("/api/memories/dashboard/upcoming?limit=3");h(D.data)}catch{console.log("No upcoming memories endpoint, skipping"),h([])}try{const D=await K.get("/api/memories");d(O=>({...O,memories:D.data.length}))}catch{console.log("No memories endpoint, setting count to 0"),d(O=>({...O,memories:0}))}try{const D=await K.get("/api/love");d(O=>({...O,totalLove:D.data.totalCount||0}))}catch{console.log("No love stats endpoint, setting count to 0"),d(O=>({...O,totalLove:0}))}}catch(N){console.error("Error fetching dashboard data:",N)}};return i.jsxs("div",{className:"relative space-y-8 fade-in min-h-screen overflow-hidden bg-white",children:[i.jsx("div",{className:`fixed inset-0 z-0 pointer-events-none ${m?"opacity-20":""}`,children:f.map((j,N)=>{const k=["animate-float hover-bounce","animate-float-slow hover-wiggle","animate-pulse-glow hover-glow","animate-wiggle hover-bounce","animate-playful-spin hover-glow","animate-heart-bounce hover-wiggle"],T=k[N%k.length],D=["text-3xl","text-4xl","text-5xl","text-6xl","text-2xl","text-xl","text-lg"],O=D[N%D.length];return i.jsx("div",{className:`absolute ${O} ${j.isJumping?"animate-jump-bounce":T} cursor-pointer select-none transition-all duration-500 ease-out`,style:{top:j.top,left:j.left,animationDelay:`${N*.8}s`,zIndex:j.isJumping?10:1,filter:"drop-shadow(0 2px 8px rgba(0, 0, 0, 0.1))"},title:j.title,onClick:()=>R(j.id),onMouseEnter:M=>{M.currentTarget.style.transform="scale(1.3) rotate(10deg)",M.currentTarget.style.filter="drop-shadow(0 4px 16px rgba(255, 182, 193, 0.6))"},onMouseLeave:M=>{M.currentTarget.style.transform="",M.currentTarget.style.filter="drop-shadow(0 2px 8px rgba(0, 0, 0, 0.1))"},children:j.emoji},j.id)})}),i.jsx("div",{className:`relative max-w-6xl mx-auto px-6 py-8 z-20 pointer-events-none ${m?"opacity-30 pointer-events-none":""}`,children:i.jsx("div",{className:"slide-up mb-12",children:i.jsx("div",{className:"relative h-32 md:h-36 overflow-hidden rounded-2xl apple-shadow group",children:a?i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-pink-50 to-purple-50",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-4 h-4 bg-pink-400 rounded-full animate-bounce"}),i.jsx("div",{className:"w-4 h-4 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),i.jsx("div",{className:"w-4 h-4 bg-pink-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})}):s.length===0?i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-pink-50 to-purple-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),i.jsx("p",{className:"text-gray-600 text-sm",children:"No photos yet - start creating memories!"})]})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:`absolute inset-0 flex gap-2 ${t?"animate-infinite-slide-multi":""}`,children:[s.map((j,N)=>i.jsxs("div",{className:"w-48 md:w-56 h-full flex-shrink-0 relative rounded-lg overflow-hidden shadow-md",children:[i.jsx("img",{src:`${xr}/api/photos/image/${j.filename}?size=medium`,alt:j.caption||"Beautiful moment from our love story",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105",onError:k=>{k.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE0NCIgdmlld0JveD0iMCAwIDIwMCAxNDQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjIwMCIgaGVpZ2h0PSIxNDQiIGZpbGw9IiNGM0Y0RjYiLz48dGV4dCB4PSIxMDAiIHk9IjcyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSIgZm9udC1mYW1pbHk9InN5c3RlbS11aSIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OTk5OSI+SW1hZ2UgTm90IEZvdW5kPC90ZXh0Pjwvc3ZnPg=="}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent"}),i.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center opacity-80",children:i.jsx("span",{className:"text-white text-xs",children:N%3===0?"":N%3===1?"":""})})]},`first-${j.id}`)),s.map((j,N)=>i.jsxs("div",{className:"w-48 md:w-56 h-full flex-shrink-0 relative rounded-lg overflow-hidden shadow-md",children:[i.jsx("img",{src:`${xr}/api/photos/image/${j.filename}?size=medium`,alt:j.caption||"Beautiful moment from our love story",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105",onError:k=>{k.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE0NCIgdmlld0JveD0iMCAwIDIwMCAxNDQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjIwMCIgaGVpZ2h0PSIxNDQiIGZpbGw9IiNGM0Y0RjYiLz48dGV4dCB4PSIxMDAiIHk9IjcyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSIgZm9udC1mYW1pbHk9InN5c3RlbS11aSIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OTk5OSI+SW1hZ2UgTm90IEZvdW5kPC90ZXh0Pjwvc3ZnPg=="}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent"}),i.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center opacity-80",children:i.jsx("span",{className:"text-white text-xs",children:N%3===0?"":N%3===1?"":""})})]},`second-${j.id}`)),s.map((j,N)=>i.jsxs("div",{className:"w-48 md:w-56 h-full flex-shrink-0 relative rounded-lg overflow-hidden shadow-md",children:[i.jsx("img",{src:`${xr}/api/photos/image/${j.filename}?size=medium`,alt:j.caption||"Beautiful moment from our love story",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105",onError:k=>{k.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE0NCIgdmlld0JveD0iMCAwIDIwMCAxNDQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjIwMCIgaGVpZ2h0PSIxNDQiIGZpbGw9IiNGM0Y0RjYiLz48dGV4dCB4PSIxMDAiIHk9IjcyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSIgZm9udC1mYW1pbHk9InN5c3RlbS11aSIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OTk5OSI+SW1hZ2UgTm90IEZvdW5kPC90ZXh0Pjwvc3ZnPg=="}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent"}),i.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center opacity-80",children:i.jsx("span",{className:"text-white text-xs",children:N%3===0?"":N%3===1?"":""})})]},`third-${j.id}`))]}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black/40 to-transparent",children:i.jsx("p",{className:"text-white text-xs font-medium text-center",children:"Our beautiful journey together "})})]})})})}),i.jsxs("div",{className:`relative max-w-6xl mx-auto px-6 py-8 z-20 pointer-events-none ${m?"opacity-30 pointer-events-none":""}`,children:[i.jsx("style",{jsx:!0,children:`
          @keyframes infinite-slide-multi {
            0% { transform: translateX(0%); }
            100% { transform: translateX(-33.333%); }
          }
          
          .animate-infinite-slide-multi {
            animation: infinite-slide-multi 45s linear infinite;
            will-change: transform;
            transform: translate3d(0, 0, 0);
          }
          
          .animate-infinite-slide-multi:hover {
            animation-play-state: paused;
          }
        `}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[i.jsx(T4,{}),i.jsx(P4,{})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[i.jsxs(be,{to:"/gallery",className:"apple-card apple-card-hover p-6 apple-shadow transition-all duration-300 hover:scale-105 cursor-pointer group relative overflow-hidden bg-gradient-to-br from-pink-50 to-purple-50 border border-pink-100/50 pointer-events-auto",children:[i.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-pink-200/20 to-purple-200/20 rounded-full -translate-y-10 translate-x-10 group-hover:scale-150 transition-transform duration-500"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-gradient-to-tr from-pink-100/30 to-purple-100/30 rounded-full translate-y-8 -translate-x-8 group-hover:scale-125 transition-transform duration-700"}),i.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-purple-400 p-2 rounded-xl group-hover:scale-110 transition-transform duration-200",children:i.jsx(zr,{className:"h-6 w-6 text-white"})}),i.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-pink-600 to-purple-500 bg-clip-text text-transparent",children:u.photos})]}),i.jsx("div",{className:"text-lg font-semibold text-gray-800 group-hover:text-pink-600 transition-colors duration-200 mb-4 text-left flex items-center",children:" Photos Shared"}),r.length>0&&i.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:r.slice(0,4).map((j,N)=>i.jsx("div",{className:"aspect-square rounded-xl overflow-hidden bg-white shadow-sm border-2 border-pink-100 group-hover:border-pink-200 transition-all duration-300",style:{animationDelay:`${N*100}ms`},children:i.jsx("img",{src:`${xr}/api/photos/image/${j.filename}?size=thumbnail`,alt:j.caption||"Recent photo",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"})},j.id))}),i.jsx("div",{className:"text-sm text-gray-600 text-left mb-3",children:r.length>0?" Latest memories captured with love":" Ready to capture beautiful moments together"}),i.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[i.jsx("div",{className:"text-xs text-pink-500 font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"View Gallery "}),i.jsx("div",{className:"text-xs text-gray-400",children:" Made with love"})]})]})]}),i.jsxs(be,{to:"/memories",className:"apple-card apple-card-hover apple-shadow transition-all duration-200 hover:scale-105 cursor-pointer group pointer-events-auto relative z-10 overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-apple-blue/5 to-apple-purple/5 opacity-60"}),i.jsx("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-apple-blue/10 rounded-full blur-xl"}),i.jsx("div",{className:"absolute -bottom-4 -left-4 w-20 h-20 bg-apple-purple/10 rounded-full blur-xl"}),i.jsxs("div",{className:"relative p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"bg-apple-blue/10 p-3 rounded-xl group-hover:bg-apple-blue/20 transition-colors duration-200",children:i.jsx(at,{className:"h-6 w-6 text-apple-blue"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-2xl font-bold text-apple-label",children:u.memories}),i.jsx("div",{className:"text-xs text-apple-tertiary-label",children:"Total"})]})]}),i.jsx("h3",{className:"text-lg font-semibold text-apple-label mb-3 group-hover:text-apple-blue transition-colors duration-200",children:"Memories Created"}),c.length>0?i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-xs text-apple-tertiary-label font-medium",children:"Upcoming:"}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:c.slice(0,3).map((j,N)=>i.jsx("div",{className:"bg-apple-gray-6/20 backdrop-blur-sm rounded-lg p-2.5 transform transition-all duration-300 hover:bg-apple-blue/10 hover:scale-105 cursor-pointer",style:{animationDelay:`${N*.1}s`},onClick:()=>S(j.id),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"text-sm font-medium text-apple-label truncate flex-1 mr-2",children:j.title}),i.jsx("div",{className:"text-xs text-apple-tertiary-label whitespace-nowrap",children:(()=>{try{let k,T,D;if(Array.isArray(j.date))[k,T,D]=j.date;else if(typeof j.date=="string")[k,T,D]=(j.date.includes("T")?j.date.split("T")[0]:j.date).split("-").map(Number);else return"Invalid Date";const O=new Date(k,T-1,D);return isNaN(O.getTime())?"Invalid Date":O.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return"Invalid Date"}})()})]})},j.id))})]}):i.jsxs("div",{className:"text-center py-4",children:[i.jsx("div",{className:"text-sm text-apple-tertiary-label mb-2",children:"No upcoming memories"}),i.jsx("div",{className:"text-xs text-apple-quaternary-label",children:"Create your first memory"})]}),i.jsxs("div",{className:"mt-4 pt-3 border-t border-apple-separator/30",children:[i.jsx("div",{className:"text-xs text-apple-tertiary-label text-center",children:"Special moments we'll never forget"}),i.jsx("div",{className:"mt-1 text-xs text-apple-blue font-medium text-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Browse All Memories "})]})]})]})]}),i.jsxs("div",{className:"apple-card apple-shadow p-8 mb-8 pointer-events-auto",children:[i.jsx("h2",{className:"text-2xl font-semibold text-apple-label mb-6 text-center",children:"Create New Memories"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx(be,{to:"/gallery",className:"bg-apple-blue/5 border border-apple-blue/20 rounded-xl p-6 hover:bg-apple-blue/10 transition-all duration-300 group pointer-events-auto",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"bg-apple-blue/10 p-3 rounded-xl group-hover:bg-apple-blue/20 transition-colors",children:i.jsx(zr,{className:"h-6 w-6 text-apple-blue"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-apple-label",children:"Upload Photos"}),i.jsx("p",{className:"text-sm text-apple-secondary-label",children:"Add new memories to your gallery"})]})]})}),i.jsx(be,{to:"/memories",className:"bg-apple-blue/5 border border-apple-blue/20 rounded-xl p-6 hover:bg-apple-blue/10 transition-all duration-300 group pointer-events-auto",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"bg-apple-blue/10 p-3 rounded-xl group-hover:bg-apple-blue/20 transition-colors",children:i.jsx(at,{className:"h-6 w-6 text-apple-blue"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-apple-label",children:"Add Memory"}),i.jsx("p",{className:"text-sm text-apple-secondary-label",children:"Create a special moment"})]})]})}),i.jsx("div",{className:"bg-apple-blue/5 border border-apple-blue/20 rounded-xl p-6 hover:bg-apple-blue/10 transition-all duration-300 group cursor-pointer pointer-events-auto",onClick:()=>y(!0),children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"bg-apple-blue/10 p-3 rounded-xl group-hover:bg-apple-blue/20 transition-colors",children:i.jsx(Ve,{className:"h-6 w-6 text-apple-blue"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-apple-label",children:"Spin Prize Wheel"}),i.jsx("p",{className:"text-sm text-apple-secondary-label",children:"Win love points together"})]})]})})]})]}),i.jsx(U1,{}),r.length===0&&c.length===0&&i.jsxs("div",{className:"text-center py-16 pointer-events-auto",children:[i.jsx(ze,{className:"h-16 w-16 text-apple-blue/30 mx-auto mb-6"}),i.jsx("h3",{className:"text-2xl font-semibold text-apple-label mb-4",children:"Start Your Love Story"}),i.jsx("p",{className:"text-apple-secondary-label mb-8 max-w-md mx-auto",children:"Your beautiful journey together begins here. Use the quick actions above to upload your first photos and create special memories."})]})]}),i.jsx($1,{}),m&&i.jsx(wb,{onClose:()=>y(!1),level:1,onPrizeWon:async j=>{console.log("Prize won:",j)}})]})}const Kf=({photo:e,onClose:t,onPhotoUpdate:r,onPhotoDelete:n})=>{var C,R;const[s,o]=E.useState(!1),[a,l]=E.useState(e.caption||""),[c,h]=E.useState(((C=e.categories)==null?void 0:C.map(S=>S.id))||[]),[u,d]=E.useState([]),[f,p]=E.useState(!1);console.log("PhotoDetailModal rendered with photo:",e),E.useEffect(()=>{m()},[]);const m=async()=>{try{const S=await K.get("/api/categories");d(S.data)}catch(S){console.error("Error fetching categories:",S)}},y=async()=>{try{if(p(!0),console.log("Saving photo with categories:",c),console.log("Available categories:",u),a!==e.caption)try{await K.put(`/api/photos/${e.id}/caption`,{caption:a}),console.log("Caption updated successfully")}catch(w){console.error("Error updating caption:",w)}try{await K.put(`/api/photos/${e.id}/categories`,{categoryIds:c}),console.log("Categories updated successfully")}catch(w){console.error("Error updating categories:",w)}const S=u.filter(w=>c.includes(w.id)),I={...e,caption:a,categories:S};console.log("Calling onPhotoUpdate with:",I),r(I),o(!1),alert("Photo details updated successfully!")}catch(S){console.error("Error updating photo:",S),alert("Failed to update photo. Please try again.")}finally{p(!1)}},b=async()=>{try{const S=!e.isFavorite;await K.post(`/api/photos/${e.id}/favorite`,{favorite:S});const I={...e,isFavorite:S};r(I)}catch(S){console.error("Error toggling favorite:",S),alert("Failed to update favorite status. Please try again.")}},g=async()=>{if(window.confirm("Are you sure you want to delete this photo?"))try{p(!0),await K.delete(`/api/photos/${e.id}`),n(e.id),t(),alert("Photo deleted successfully!")}catch(S){console.error("Error deleting photo:",S),alert("Failed to delete photo. Please try again.")}finally{p(!1)}},v=async S=>{console.log("Toggling category:",S,"Current selected:",c);const I=c.includes(S)?c.filter(w=>w!==S):[...c,S];console.log("New selected categories:",I),h(I);try{console.log("Saving categories to backend:",I);const w=await K.put(`/api/photos/${e.id}/categories`,{categoryIds:I});console.log("Backend response:",w.data),r(w.data),console.log("Categories saved successfully")}catch(w){console.error("Error saving categories to backend:",w),h(c)}},x=S=>{try{let I;if(Array.isArray(S)){const[w,j,N,k=0,T=0,D=0]=S;I=new Date(w,j-1,N,k,T,D)}else{const w=S.includes("T")?S.split("T")[0]:S;I=new Date(w)}return isNaN(I.getTime())?"Invalid Date":I.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}};return i.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-2 sm:p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl sm:rounded-3xl max-w-6xl w-full h-full sm:max-h-[95vh] overflow-hidden shadow-2xl flex flex-col sm:flex-row",children:[i.jsxs("div",{className:"sm:hidden flex items-center justify-between p-4 border-b border-gray-200 bg-white",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Photo Details"}),i.jsx("button",{onClick:t,className:"w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 active:bg-gray-300 flex items-center justify-center transition-all duration-200",children:i.jsx($e,{className:"w-5 h-5 text-gray-600"})})]}),i.jsx("div",{className:"flex-1 bg-black flex items-center justify-center min-h-0 order-1 sm:order-none",children:i.jsx("img",{src:`${xr}/api/photos/image/${e.filename}`,alt:e.originalName,className:"max-w-full max-h-full object-contain w-full h-full sm:w-auto sm:h-auto"})}),i.jsxs("div",{className:"w-full sm:w-96 bg-white flex flex-col order-2 sm:order-none max-h-[40vh] sm:max-h-none",children:[i.jsxs("div",{className:"hidden sm:flex items-center justify-between p-6 border-b border-gray-200",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Photo Details"}),i.jsx("button",{onClick:t,className:"w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 active:bg-gray-300 flex items-center justify-center transition-all duration-200",children:i.jsx($e,{className:"w-5 h-5 text-gray-600"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 space-y-4 sm:space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-3 text-base sm:text-lg",children:"Information"}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[i.jsx(at,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),i.jsx("span",{className:"text-gray-700",children:x(e.createdAt)})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[i.jsx(hc,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),i.jsxs("span",{className:"text-gray-700",children:["Uploaded by ",((R=e.uploader)==null?void 0:R.name)||"Unknown"]})]})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"font-semibold text-gray-900 text-base sm:text-lg",children:"Caption"}),i.jsx("button",{onClick:()=>o(!s),className:"p-2 rounded-full bg-blue-50 hover:bg-blue-100 active:bg-blue-200 text-blue-600 transition-all duration-200",children:i.jsx(Zi,{className:"w-4 h-4"})})]}),s?i.jsx("textarea",{value:a,onChange:S=>l(S.target.value),placeholder:"Add a caption...",className:"w-full p-4 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 resize-none bg-white shadow-sm text-gray-900 placeholder-gray-500",rows:3}):i.jsx("div",{className:"max-h-24 overflow-y-auto",children:i.jsx("p",{className:"text-gray-700 text-sm p-4 bg-gray-50 rounded-xl break-words",children:a||"No caption added yet"})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"font-semibold text-gray-900 text-base sm:text-lg",children:"Categories"}),i.jsx(as,{className:"w-4 h-4 text-gray-500"})]}),i.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:u.filter(S=>{var I;return((I=S.name)==null?void 0:I.toLowerCase())!=="favorites"}).map(S=>i.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl hover:bg-gray-50 active:bg-gray-100 cursor-pointer transition-all duration-200 border border-transparent hover:border-gray-200",children:[i.jsx("input",{type:"checkbox",checked:c.includes(S.id),onChange:()=>v(S.id),className:"w-4 h-4 text-blue-500 bg-white border-gray-300 rounded focus:ring-blue-500 focus:ring-2 transition-colors"}),i.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0 shadow-sm",style:{backgroundColor:S.color}}),i.jsx("span",{className:"text-sm text-gray-700 truncate font-medium",children:S.name})]},S.id))})]})]}),i.jsx("div",{className:"p-4 sm:p-6 border-t border-gray-200 bg-white/80 backdrop-blur-sm",children:s?i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>{var S;o(!1),l(e.caption||""),h(((S=e.categories)==null?void 0:S.map(I=>I.id))||[])},className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 text-gray-700 rounded-xl font-semibold transition-all duration-200 min-h-[44px] flex items-center justify-center",children:"Cancel"}),i.jsxs("button",{onClick:y,disabled:f,className:"flex-1 px-4 py-3 bg-blue-500 hover:bg-blue-600 active:bg-blue-700 text-white rounded-xl font-semibold flex items-center justify-center gap-2 disabled:opacity-50 transition-all duration-200 min-h-[44px] shadow-sm",children:[i.jsx(Pf,{className:"w-4 h-4"}),f?"Saving...":"Save"]})]}):i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:b,className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 text-gray-700 rounded-xl font-semibold flex items-center justify-center gap-2 transition-all duration-200 min-h-[44px]",children:[i.jsx(ze,{className:`w-4 h-4 ${e.isFavorite?"text-red-500 fill-current":""}`}),i.jsx("span",{className:"hidden sm:inline",children:e.isFavorite?"Favorited":"Add to Favorites"}),i.jsx("span",{className:"sm:hidden",children:e.isFavorite?"Favorited":"Favorite"})]}),i.jsxs("button",{onClick:g,disabled:f,className:"px-4 py-3 bg-red-50 hover:bg-red-100 active:bg-red-200 text-red-600 rounded-xl font-semibold flex items-center justify-center gap-2 transition-all duration-200 disabled:opacity-50 min-h-[44px]",children:[i.jsx(Xt,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})})]})]})})};function UP(e,t){return t.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in e)){var s=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,s.get?s:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(e)}function V1(e,t){return new Promise(function(r,n){let s;return VP(e).then(function(o){try{return s=o,r(new Blob([t.slice(0,2),s,t.slice(2)],{type:"image/jpeg"}))}catch(a){return n(a)}},n)})}const VP=e=>new Promise((t,r)=>{const n=new FileReader;n.addEventListener("load",({target:{result:s}})=>{const o=new DataView(s);let a=0;if(o.getUint16(a)!==65496)return r("not a valid JPEG");for(a+=2;;){const l=o.getUint16(a);if(l===65498)break;const c=o.getUint16(a+2);if(l===65505&&o.getUint32(a+4)===1165519206){const h=a+10;let u;switch(o.getUint16(h)){case 18761:u=!0;break;case 19789:u=!1;break;default:return r("TIFF header contains invalid endian")}if(o.getUint16(h+2,u)!==42)return r("TIFF header contains invalid version");const d=o.getUint32(h+4,u),f=h+d+2+12*o.getUint16(h+d,u);for(let p=h+d+2;p<f;p+=12)if(o.getUint16(p,u)==274){if(o.getUint16(p+2,u)!==3)return r("Orientation data type is invalid");if(o.getUint32(p+4,u)!==1)return r("Orientation data count is invalid");o.setUint16(p+8,1,u);break}return t(s.slice(a,a+2+c))}a+=2+c}return t(new Blob)}),n.readAsArrayBuffer(e)});var Dl={},WP={get exports(){return Dl},set exports(e){Dl=e}};(function(e){var t,r,n={};WP.exports=n,n.parse=function(s,o){for(var a=n.bin.readUshort,l=n.bin.readUint,c=0,h={},u=new Uint8Array(s),d=u.length-4;l(u,d)!=101010256;)d--;c=d,c+=4;var f=a(u,c+=4);a(u,c+=2);var p=l(u,c+=2),m=l(u,c+=4);c+=4,c=m;for(var y=0;y<f;y++){l(u,c),c+=4,c+=4,c+=4,l(u,c+=4),p=l(u,c+=4);var b=l(u,c+=4),g=a(u,c+=4),v=a(u,c+2),x=a(u,c+4);c+=6;var C=l(u,c+=8);c+=4,c+=g+v+x,n._readLocal(u,C,h,p,b,o)}return h},n._readLocal=function(s,o,a,l,c,h){var u=n.bin.readUshort,d=n.bin.readUint;d(s,o),u(s,o+=4),u(s,o+=2);var f=u(s,o+=2);d(s,o+=2),d(s,o+=4),o+=4;var p=u(s,o+=8),m=u(s,o+=2);o+=2;var y=n.bin.readUTF8(s,o,p);if(o+=p,o+=m,h)a[y]={size:c,csize:l};else{var b=new Uint8Array(s.buffer,o);if(f==0)a[y]=new Uint8Array(b.buffer.slice(o,o+l));else{if(f!=8)throw"unknown compression method: "+f;var g=new Uint8Array(c);n.inflateRaw(b,g),a[y]=g}}},n.inflateRaw=function(s,o){return n.F.inflate(s,o)},n.inflate=function(s,o){return s[0],s[1],n.inflateRaw(new Uint8Array(s.buffer,s.byteOffset+2,s.length-6),o)},n.deflate=function(s,o){o==null&&(o={level:6});var a=0,l=new Uint8Array(50+Math.floor(1.1*s.length));l[a]=120,l[a+1]=156,a+=2,a=n.F.deflateRaw(s,l,a,o.level);var c=n.adler(s,0,s.length);return l[a+0]=c>>>24&255,l[a+1]=c>>>16&255,l[a+2]=c>>>8&255,l[a+3]=c>>>0&255,new Uint8Array(l.buffer,0,a+4)},n.deflateRaw=function(s,o){o==null&&(o={level:6});var a=new Uint8Array(50+Math.floor(1.1*s.length)),l=n.F.deflateRaw(s,a,l,o.level);return new Uint8Array(a.buffer,0,l)},n.encode=function(s,o){o==null&&(o=!1);var a=0,l=n.bin.writeUint,c=n.bin.writeUshort,h={};for(var u in s){var d=!n._noNeed(u)&&!o,f=s[u],p=n.crc.crc(f,0,f.length);h[u]={cpr:d,usize:f.length,crc:p,file:d?n.deflateRaw(f):f}}for(var u in h)a+=h[u].file.length+30+46+2*n.bin.sizeUTF8(u);a+=22;var m=new Uint8Array(a),y=0,b=[];for(var u in h){var g=h[u];b.push(y),y=n._writeHeader(m,y,u,g,0)}var v=0,x=y;for(var u in h)g=h[u],b.push(y),y=n._writeHeader(m,y,u,g,1,b[v++]);var C=y-x;return l(m,y,101010256),y+=4,c(m,y+=4,v),c(m,y+=2,v),l(m,y+=2,C),l(m,y+=4,x),y+=4,y+=2,m.buffer},n._noNeed=function(s){var o=s.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},n._writeHeader=function(s,o,a,l,c,h){var u=n.bin.writeUint,d=n.bin.writeUshort,f=l.file;return u(s,o,c==0?67324752:33639248),o+=4,c==1&&(o+=2),d(s,o,20),d(s,o+=2,0),d(s,o+=2,l.cpr?8:0),u(s,o+=2,0),u(s,o+=4,l.crc),u(s,o+=4,f.length),u(s,o+=4,l.usize),d(s,o+=4,n.bin.sizeUTF8(a)),d(s,o+=2,0),o+=2,c==1&&(o+=2,o+=2,u(s,o+=6,h),o+=4),o+=n.bin.writeUTF8(s,o,a),c==0&&(s.set(f,o),o+=f.length),o},n.crc={table:function(){for(var s=new Uint32Array(256),o=0;o<256;o++){for(var a=o,l=0;l<8;l++)1&a?a=3988292384^a>>>1:a>>>=1;s[o]=a}return s}(),update:function(s,o,a,l){for(var c=0;c<l;c++)s=n.crc.table[255&(s^o[a+c])]^s>>>8;return s},crc:function(s,o,a){return 4294967295^n.crc.update(4294967295,s,o,a)}},n.adler=function(s,o,a){for(var l=1,c=0,h=o,u=o+a;h<u;){for(var d=Math.min(h+5552,u);h<d;)c+=l+=s[h++];l%=65521,c%=65521}return c<<16|l},n.bin={readUshort:function(s,o){return s[o]|s[o+1]<<8},writeUshort:function(s,o,a){s[o]=255&a,s[o+1]=a>>8&255},readUint:function(s,o){return 16777216*s[o+3]+(s[o+2]<<16|s[o+1]<<8|s[o])},writeUint:function(s,o,a){s[o]=255&a,s[o+1]=a>>8&255,s[o+2]=a>>16&255,s[o+3]=a>>24&255},readASCII:function(s,o,a){for(var l="",c=0;c<a;c++)l+=String.fromCharCode(s[o+c]);return l},writeASCII:function(s,o,a){for(var l=0;l<a.length;l++)s[o+l]=a.charCodeAt(l)},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,o,a){for(var l,c="",h=0;h<a;h++)c+="%"+n.bin.pad(s[o+h].toString(16));try{l=decodeURIComponent(c)}catch{return n.bin.readASCII(s,o,a)}return l},writeUTF8:function(s,o,a){for(var l=a.length,c=0,h=0;h<l;h++){var u=a.charCodeAt(h);if(!(4294967168&u))s[o+c]=u,c++;else if(!(4294965248&u))s[o+c]=192|u>>6,s[o+c+1]=128|u>>0&63,c+=2;else if(!(4294901760&u))s[o+c]=224|u>>12,s[o+c+1]=128|u>>6&63,s[o+c+2]=128|u>>0&63,c+=3;else{if(4292870144&u)throw"e";s[o+c]=240|u>>18,s[o+c+1]=128|u>>12&63,s[o+c+2]=128|u>>6&63,s[o+c+3]=128|u>>0&63,c+=4}}return c},sizeUTF8:function(s){for(var o=s.length,a=0,l=0;l<o;l++){var c=s.charCodeAt(l);if(!(4294967168&c))a++;else if(!(4294965248&c))a+=2;else if(!(4294901760&c))a+=3;else{if(4292870144&c)throw"e";a+=4}}return a}},n.F={},n.F.deflateRaw=function(s,o,a,l){var c=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],h=n.F.U,u=n.F._goodIndex;n.F._hash;var d=n.F._putsE,f=0,p=a<<3,m=0,y=s.length;if(l==0){for(;f<y;)d(o,p,f+(k=Math.min(65535,y-f))==y?1:0),p=n.F._copyExact(s,f,k,o,p+8),f+=k;return p>>>3}var b=h.lits,g=h.strt,v=h.prev,x=0,C=0,R=0,S=0,I=0,w=0;for(y>2&&(g[w=n.F._hash(s,0)]=0),f=0;f<y;f++){if(I=w,f+1<y-2){w=n.F._hash(s,f+1);var j=f+1&32767;v[j]=g[w],g[w]=j}if(m<=f){(x>14e3||C>26697)&&y-f>100&&(m<f&&(b[x]=f-m,x+=2,m=f),p=n.F._writeBlock(f==y-1||m==y?1:0,b,x,S,s,R,f-R,o,p),x=C=S=0,R=f);var N=0;f<y-2&&(N=n.F._bestMatch(s,f,v,I,Math.min(c[2],y-f),c[3]));var k=N>>>16,T=65535&N;if(N!=0){T=65535&N;var D=u(k=N>>>16,h.of0);h.lhst[257+D]++;var O=u(T,h.df0);h.dhst[O]++,S+=h.exb[D]+h.dxb[O],b[x]=k<<23|f-m,b[x+1]=T<<16|D<<8|O,x+=2,m=f+k}else h.lhst[s[f]]++;C++}}for(R==f&&s.length!=0||(m<f&&(b[x]=f-m,x+=2,m=f),p=n.F._writeBlock(1,b,x,S,s,R,f-R,o,p),x=0,C=0,x=C=S=0,R=f);7&p;)p++;return p>>>3},n.F._bestMatch=function(s,o,a,l,c,h){var u=32767&o,d=a[u],f=u-d+32768&32767;if(d==u||l!=n.F._hash(s,o-f))return 0;for(var p=0,m=0,y=Math.min(32767,o);f<=y&&--h!=0&&d!=u;){if(p==0||s[o+p]==s[o+p-f]){var b=n.F._howLong(s,o,f);if(b>p){if(m=f,(p=b)>=c)break;f+2<b&&(b=f+2);for(var g=0,v=0;v<b-2;v++){var x=o-f+v+32768&32767,C=x-a[x]+32768&32767;C>g&&(g=C,d=x)}}}f+=(u=d)-(d=a[u])+32768&32767}return p<<16|m},n.F._howLong=function(s,o,a){if(s[o]!=s[o-a]||s[o+1]!=s[o+1-a]||s[o+2]!=s[o+2-a])return 0;var l=o,c=Math.min(s.length,o+258);for(o+=3;o<c&&s[o]==s[o-a];)o++;return o-l},n.F._hash=function(s,o){return(s[o]<<8|s[o+1])+(s[o+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(s,o,a,l,c,h,u,d,f){var p,m,y,b,g,v,x,C,R,S=n.F.U,I=n.F._putsF,w=n.F._putsE;S.lhst[256]++,m=(p=n.F.getTrees())[0],y=p[1],b=p[2],g=p[3],v=p[4],x=p[5],C=p[6],R=p[7];var j=32+(f+3&7?8-(f+3&7):0)+(u<<3),N=l+n.F.contSize(S.fltree,S.lhst)+n.F.contSize(S.fdtree,S.dhst),k=l+n.F.contSize(S.ltree,S.lhst)+n.F.contSize(S.dtree,S.dhst);k+=14+3*x+n.F.contSize(S.itree,S.ihst)+(2*S.ihst[16]+3*S.ihst[17]+7*S.ihst[18]);for(var T=0;T<286;T++)S.lhst[T]=0;for(T=0;T<30;T++)S.dhst[T]=0;for(T=0;T<19;T++)S.ihst[T]=0;var D=j<N&&j<k?0:N<k?1:2;if(I(d,f,s),I(d,f+1,D),f+=3,D==0){for(;7&f;)f++;f=n.F._copyExact(c,h,u,d,f)}else{var O,M;if(D==1&&(O=S.fltree,M=S.fdtree),D==2){n.F.makeCodes(S.ltree,m),n.F.revCodes(S.ltree,m),n.F.makeCodes(S.dtree,y),n.F.revCodes(S.dtree,y),n.F.makeCodes(S.itree,b),n.F.revCodes(S.itree,b),O=S.ltree,M=S.dtree,w(d,f,g-257),w(d,f+=5,v-1),w(d,f+=5,x-4),f+=4;for(var A=0;A<x;A++)w(d,f+3*A,S.itree[1+(S.ordr[A]<<1)]);f+=3*x,f=n.F._codeTiny(C,S.itree,d,f),f=n.F._codeTiny(R,S.itree,d,f)}for(var P=h,F=0;F<a;F+=2){for(var L=o[F],$=L>>>23,z=P+(8388607&L);P<z;)f=n.F._writeLit(c[P++],O,d,f);if($!=0){var B=o[F+1],q=B>>16,H=B>>8&255,U=255&B;w(d,f=n.F._writeLit(257+H,O,d,f),$-S.of0[H]),f+=S.exb[H],I(d,f=n.F._writeLit(U,M,d,f),q-S.df0[U]),f+=S.dxb[U],P+=$}}f=n.F._writeLit(256,O,d,f)}return f},n.F._copyExact=function(s,o,a,l,c){var h=c>>>3;return l[h]=a,l[h+1]=a>>>8,l[h+2]=255-l[h],l[h+3]=255-l[h+1],h+=4,l.set(new Uint8Array(s.buffer,o,a),h),c+(a+4<<3)},n.F.getTrees=function(){for(var s=n.F.U,o=n.F._hufTree(s.lhst,s.ltree,15),a=n.F._hufTree(s.dhst,s.dtree,15),l=[],c=n.F._lenCodes(s.ltree,l),h=[],u=n.F._lenCodes(s.dtree,h),d=0;d<l.length;d+=2)s.ihst[l[d]]++;for(d=0;d<h.length;d+=2)s.ihst[h[d]]++;for(var f=n.F._hufTree(s.ihst,s.itree,7),p=19;p>4&&s.itree[1+(s.ordr[p-1]<<1)]==0;)p--;return[o,a,f,c,u,p,l,h]},n.F.getSecond=function(s){for(var o=[],a=0;a<s.length;a+=2)o.push(s[a+1]);return o},n.F.nonZero=function(s){for(var o="",a=0;a<s.length;a+=2)s[a+1]!=0&&(o+=(a>>1)+",");return o},n.F.contSize=function(s,o){for(var a=0,l=0;l<o.length;l++)a+=o[l]*s[1+(l<<1)];return a},n.F._codeTiny=function(s,o,a,l){for(var c=0;c<s.length;c+=2){var h=s[c],u=s[c+1];l=n.F._writeLit(h,o,a,l);var d=h==16?2:h==17?3:7;h>15&&(n.F._putsE(a,l,u,d),l+=d)}return l},n.F._lenCodes=function(s,o){for(var a=s.length;a!=2&&s[a-1]==0;)a-=2;for(var l=0;l<a;l+=2){var c=s[l+1],h=l+3<a?s[l+3]:-1,u=l+5<a?s[l+5]:-1,d=l==0?-1:s[l-1];if(c==0&&h==c&&u==c){for(var f=l+5;f+2<a&&s[f+2]==c;)f+=2;(p=Math.min(f+1-l>>>1,138))<11?o.push(17,p-3):o.push(18,p-11),l+=2*p-2}else if(c==d&&h==c&&u==c){for(f=l+5;f+2<a&&s[f+2]==c;)f+=2;var p=Math.min(f+1-l>>>1,6);o.push(16,p-3),l+=2*p-2}else o.push(c,0)}return a>>>1},n.F._hufTree=function(s,o,a){var l=[],c=s.length,h=o.length,u=0;for(u=0;u<h;u+=2)o[u]=0,o[u+1]=0;for(u=0;u<c;u++)s[u]!=0&&l.push({lit:u,f:s[u]});var d=l.length,f=l.slice(0);if(d==0)return 0;if(d==1){var p=l[0].lit;return f=p==0?1:0,o[1+(p<<1)]=1,o[1+(f<<1)]=1,1}l.sort(function(C,R){return C.f-R.f});var m=l[0],y=l[1],b=0,g=1,v=2;for(l[0]={lit:-1,f:m.f+y.f,l:m,r:y,d:0};g!=d-1;)m=b!=g&&(v==d||l[b].f<l[v].f)?l[b++]:l[v++],y=b!=g&&(v==d||l[b].f<l[v].f)?l[b++]:l[v++],l[g++]={lit:-1,f:m.f+y.f,l:m,r:y};var x=n.F.setDepth(l[g-1],0);for(x>a&&(n.F.restrictDepth(f,a,x),x=a),u=0;u<d;u++)o[1+(f[u].lit<<1)]=f[u].d;return x},n.F.setDepth=function(s,o){return s.lit!=-1?(s.d=o,o):Math.max(n.F.setDepth(s.l,o+1),n.F.setDepth(s.r,o+1))},n.F.restrictDepth=function(s,o,a){var l=0,c=1<<a-o,h=0;for(s.sort(function(d,f){return f.d==d.d?d.f-f.f:f.d-d.d}),l=0;l<s.length&&s[l].d>o;l++){var u=s[l].d;s[l].d=o,h+=c-(1<<a-u)}for(h>>>=a-o;h>0;)(u=s[l].d)<o?(s[l].d++,h-=1<<o-u-1):l++;for(;l>=0;l--)s[l].d==o&&h<0&&(s[l].d--,h++);h!=0&&console.log("debt left")},n.F._goodIndex=function(s,o){var a=0;return o[16|a]<=s&&(a|=16),o[8|a]<=s&&(a|=8),o[4|a]<=s&&(a|=4),o[2|a]<=s&&(a|=2),o[1|a]<=s&&(a|=1),a},n.F._writeLit=function(s,o,a,l){return n.F._putsF(a,l,o[s<<1]),l+o[1+(s<<1)]},n.F.inflate=function(s,o){var a=Uint8Array;if(s[0]==3&&s[1]==0)return o||new a(0);var l=n.F,c=l._bitsF,h=l._bitsE,u=l._decodeTiny,d=l.makeCodes,f=l.codes2map,p=l._get17,m=l.U,y=o==null;y&&(o=new a(s.length>>>2<<3));for(var b,g,v=0,x=0,C=0,R=0,S=0,I=0,w=0,j=0,N=0;v==0;)if(v=c(s,N,1),x=c(s,N+1,2),N+=3,x!=0){if(y&&(o=n.F._check(o,j+(1<<17))),x==1&&(b=m.flmap,g=m.fdmap,I=511,w=31),x==2){C=h(s,N,5)+257,R=h(s,N+5,5)+1,S=h(s,N+10,4)+4,N+=14;for(var k=0;k<38;k+=2)m.itree[k]=0,m.itree[k+1]=0;var T=1;for(k=0;k<S;k++){var D=h(s,N+3*k,3);m.itree[1+(m.ordr[k]<<1)]=D,D>T&&(T=D)}N+=3*S,d(m.itree,T),f(m.itree,T,m.imap),b=m.lmap,g=m.dmap,N=u(m.imap,(1<<T)-1,C+R,s,N,m.ttree);var O=l._copyOut(m.ttree,0,C,m.ltree);I=(1<<O)-1;var M=l._copyOut(m.ttree,C,R,m.dtree);w=(1<<M)-1,d(m.ltree,O),f(m.ltree,O,b),d(m.dtree,M),f(m.dtree,M,g)}for(;;){var A=b[p(s,N)&I];N+=15&A;var P=A>>>4;if(!(P>>>8))o[j++]=P;else{if(P==256)break;var F=j+P-254;if(P>264){var L=m.ldef[P-257];F=j+(L>>>3)+h(s,N,7&L),N+=7&L}var $=g[p(s,N)&w];N+=15&$;var z=$>>>4,B=m.ddef[z],q=(B>>>4)+c(s,N,15&B);for(N+=15&B,y&&(o=n.F._check(o,j+(1<<17)));j<F;)o[j]=o[j++-q],o[j]=o[j++-q],o[j]=o[j++-q],o[j]=o[j++-q];j=F}}}else{7&N&&(N+=8-(7&N));var H=4+(N>>>3),U=s[H-4]|s[H-3]<<8;y&&(o=n.F._check(o,j+U)),o.set(new a(s.buffer,s.byteOffset+H,U),j),N=H+U<<3,j+=U}return o.length==j?o:o.slice(0,j)},n.F._check=function(s,o){var a=s.length;if(o<=a)return s;var l=new Uint8Array(Math.max(a<<1,o));return l.set(s,0),l},n.F._decodeTiny=function(s,o,a,l,c,h){for(var u=n.F._bitsE,d=n.F._get17,f=0;f<a;){var p=s[d(l,c)&o];c+=15&p;var m=p>>>4;if(m<=15)h[f]=m,f++;else{var y=0,b=0;m==16?(b=3+u(l,c,2),c+=2,y=h[f-1]):m==17?(b=3+u(l,c,3),c+=3):m==18&&(b=11+u(l,c,7),c+=7);for(var g=f+b;f<g;)h[f]=y,f++}}return c},n.F._copyOut=function(s,o,a,l){for(var c=0,h=0,u=l.length>>>1;h<a;){var d=s[h+o];l[h<<1]=0,l[1+(h<<1)]=d,d>c&&(c=d),h++}for(;h<u;)l[h<<1]=0,l[1+(h<<1)]=0,h++;return c},n.F.makeCodes=function(s,o){for(var a,l,c,h,u=n.F.U,d=s.length,f=u.bl_count,p=0;p<=o;p++)f[p]=0;for(p=1;p<d;p+=2)f[s[p]]++;var m=u.next_code;for(a=0,f[0]=0,l=1;l<=o;l++)a=a+f[l-1]<<1,m[l]=a;for(c=0;c<d;c+=2)(h=s[c+1])!=0&&(s[c]=m[h],m[h]++)},n.F.codes2map=function(s,o,a){for(var l=s.length,c=n.F.U.rev15,h=0;h<l;h+=2)if(s[h+1]!=0)for(var u=h>>1,d=s[h+1],f=u<<4|d,p=o-d,m=s[h]<<p,y=m+(1<<p);m!=y;)a[c[m]>>>15-o]=f,m++},n.F.revCodes=function(s,o){for(var a=n.F.U.rev15,l=15-o,c=0;c<s.length;c+=2){var h=s[c]<<o-s[c+1];s[c]=a[h]>>>l}},n.F._putsE=function(s,o,a){a<<=7&o;var l=o>>>3;s[l]|=a,s[l+1]|=a>>>8},n.F._putsF=function(s,o,a){a<<=7&o;var l=o>>>3;s[l]|=a,s[l+1]|=a>>>8,s[l+2]|=a>>>16},n.F._bitsE=function(s,o,a){return(s[o>>>3]|s[1+(o>>>3)]<<8)>>>(7&o)&(1<<a)-1},n.F._bitsF=function(s,o,a){return(s[o>>>3]|s[1+(o>>>3)]<<8|s[2+(o>>>3)]<<16)>>>(7&o)&(1<<a)-1},n.F._get17=function(s,o){return(s[o>>>3]|s[1+(o>>>3)]<<8|s[2+(o>>>3)]<<16)>>>(7&o)},n.F._get25=function(s,o){return(s[o>>>3]|s[1+(o>>>3)]<<8|s[2+(o>>>3)]<<16|s[3+(o>>>3)]<<24)>>>(7&o)},n.F.U=(t=Uint16Array,r=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var s=n.F.U,o=0;o<32768;o++){var a=o;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,s.rev15[o]=(a>>>16|a<<16)>>>17}function l(c,h,u){for(;h--!=0;)c.push(0,u)}for(o=0;o<32;o++)s.ldef[o]=s.of0[o]<<3|s.exb[o],s.ddef[o]=s.df0[o]<<4|s.dxb[o];l(s.fltree,144,8),l(s.fltree,112,9),l(s.fltree,24,7),l(s.fltree,8,8),n.F.makeCodes(s.fltree,9),n.F.codes2map(s.fltree,9,s.flmap),n.F.revCodes(s.fltree,9),l(s.fdtree,32,5),n.F.makeCodes(s.fdtree,5),n.F.codes2map(s.fdtree,5,s.fdmap),n.F.revCodes(s.fdtree,5),l(s.itree,19,0),l(s.ltree,286,0),l(s.dtree,30,0),l(s.ttree,320,0)}()})();var HP=UP({__proto__:null,default:Dl},[Dl]);const tr=function(){var e={nextZero(u,d){for(;u[d]!=0;)d++;return d},readUshort:(u,d)=>u[d]<<8|u[d+1],writeUshort(u,d,f){u[d]=f>>8&255,u[d+1]=255&f},readUint:(u,d)=>16777216*u[d]+(u[d+1]<<16|u[d+2]<<8|u[d+3]),writeUint(u,d,f){u[d]=f>>24&255,u[d+1]=f>>16&255,u[d+2]=f>>8&255,u[d+3]=255&f},readASCII(u,d,f){let p="";for(let m=0;m<f;m++)p+=String.fromCharCode(u[d+m]);return p},writeASCII(u,d,f){for(let p=0;p<f.length;p++)u[d+p]=f.charCodeAt(p)},readBytes(u,d,f){const p=[];for(let m=0;m<f;m++)p.push(u[d+m]);return p},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,d,f){let p,m="";for(let y=0;y<f;y++)m+=`%${e.pad(u[d+y].toString(16))}`;try{p=decodeURIComponent(m)}catch{return e.readASCII(u,d,f)}return p}};function t(u,d,f,p){const m=d*f,y=o(p),b=Math.ceil(d*y/8),g=new Uint8Array(4*m),v=new Uint32Array(g.buffer),{ctype:x}=p,{depth:C}=p,R=e.readUshort;if(x==6){const L=m<<2;if(C==8)for(var S=0;S<L;S+=4)g[S]=u[S],g[S+1]=u[S+1],g[S+2]=u[S+2],g[S+3]=u[S+3];if(C==16)for(S=0;S<L;S++)g[S]=u[S<<1]}else if(x==2){const L=p.tabs.tRNS;if(L==null){if(C==8)for(S=0;S<m;S++){var I=3*S;v[S]=255<<24|u[I+2]<<16|u[I+1]<<8|u[I]}if(C==16)for(S=0;S<m;S++)I=6*S,v[S]=255<<24|u[I+4]<<16|u[I+2]<<8|u[I]}else{var w=L[0];const $=L[1],z=L[2];if(C==8)for(S=0;S<m;S++){var j=S<<2;I=3*S,v[S]=255<<24|u[I+2]<<16|u[I+1]<<8|u[I],u[I]==w&&u[I+1]==$&&u[I+2]==z&&(g[j+3]=0)}if(C==16)for(S=0;S<m;S++)j=S<<2,I=6*S,v[S]=255<<24|u[I+4]<<16|u[I+2]<<8|u[I],R(u,I)==w&&R(u,I+2)==$&&R(u,I+4)==z&&(g[j+3]=0)}}else if(x==3){const L=p.tabs.PLTE,$=p.tabs.tRNS,z=$?$.length:0;if(C==1)for(var N=0;N<f;N++){var k=N*b,T=N*d;for(S=0;S<d;S++){j=T+S<<2;var D=3*(O=u[k+(S>>3)]>>7-((7&S)<<0)&1);g[j]=L[D],g[j+1]=L[D+1],g[j+2]=L[D+2],g[j+3]=O<z?$[O]:255}}if(C==2)for(N=0;N<f;N++)for(k=N*b,T=N*d,S=0;S<d;S++)j=T+S<<2,D=3*(O=u[k+(S>>2)]>>6-((3&S)<<1)&3),g[j]=L[D],g[j+1]=L[D+1],g[j+2]=L[D+2],g[j+3]=O<z?$[O]:255;if(C==4)for(N=0;N<f;N++)for(k=N*b,T=N*d,S=0;S<d;S++)j=T+S<<2,D=3*(O=u[k+(S>>1)]>>4-((1&S)<<2)&15),g[j]=L[D],g[j+1]=L[D+1],g[j+2]=L[D+2],g[j+3]=O<z?$[O]:255;if(C==8)for(S=0;S<m;S++){var O;j=S<<2,D=3*(O=u[S]),g[j]=L[D],g[j+1]=L[D+1],g[j+2]=L[D+2],g[j+3]=O<z?$[O]:255}}else if(x==4){if(C==8)for(S=0;S<m;S++){j=S<<2;var M=u[A=S<<1];g[j]=M,g[j+1]=M,g[j+2]=M,g[j+3]=u[A+1]}if(C==16)for(S=0;S<m;S++){var A;j=S<<2,M=u[A=S<<2],g[j]=M,g[j+1]=M,g[j+2]=M,g[j+3]=u[A+2]}}else if(x==0)for(w=p.tabs.tRNS?p.tabs.tRNS:-1,N=0;N<f;N++){const L=N*b,$=N*d;if(C==1)for(var P=0;P<d;P++){var F=(M=255*(u[L+(P>>>3)]>>>7-(7&P)&1))==255*w?0:255;v[$+P]=F<<24|M<<16|M<<8|M}else if(C==2)for(P=0;P<d;P++)F=(M=85*(u[L+(P>>>2)]>>>6-((3&P)<<1)&3))==85*w?0:255,v[$+P]=F<<24|M<<16|M<<8|M;else if(C==4)for(P=0;P<d;P++)F=(M=17*(u[L+(P>>>1)]>>>4-((1&P)<<2)&15))==17*w?0:255,v[$+P]=F<<24|M<<16|M<<8|M;else if(C==8)for(P=0;P<d;P++)F=(M=u[L+P])==w?0:255,v[$+P]=F<<24|M<<16|M<<8|M;else if(C==16)for(P=0;P<d;P++)M=u[L+(P<<1)],F=R(u,L+(P<<1))==w?0:255,v[$+P]=F<<24|M<<16|M<<8|M}return g}function r(u,d,f,p){const m=o(u),y=Math.ceil(f*m/8),b=new Uint8Array((y+1+u.interlace)*p);return d=u.tabs.CgBI?s(d,b):n(d,b),u.interlace==0?d=a(d,u,0,f,p):u.interlace==1&&(d=function(v,x){const C=x.width,R=x.height,S=o(x),I=S>>3,w=Math.ceil(C*S/8),j=new Uint8Array(R*w);let N=0;const k=[0,0,4,0,2,0,1],T=[0,4,0,2,0,1,0],D=[8,8,8,4,4,2,2],O=[8,8,4,4,2,2,1];let M=0;for(;M<7;){const P=D[M],F=O[M];let L=0,$=0,z=k[M];for(;z<R;)z+=P,$++;let B=T[M];for(;B<C;)B+=F,L++;const q=Math.ceil(L*S/8);a(v,x,N,L,$);let H=0,U=k[M];for(;U<R;){let X=T[M],ee=N+H*q<<3;for(;X<C;){var A;if(S==1&&(A=(A=v[ee>>3])>>7-(7&ee)&1,j[U*w+(X>>3)]|=A<<7-((7&X)<<0)),S==2&&(A=(A=v[ee>>3])>>6-(7&ee)&3,j[U*w+(X>>2)]|=A<<6-((3&X)<<1)),S==4&&(A=(A=v[ee>>3])>>4-(7&ee)&15,j[U*w+(X>>1)]|=A<<4-((1&X)<<2)),S>=8){const ae=U*w+X*I;for(let se=0;se<I;se++)j[ae+se]=v[(ee>>3)+se]}ee+=S,X+=F}H++,U+=P}L*$!=0&&(N+=$*(1+q)),M+=1}return j}(d,u)),d}function n(u,d){return s(new Uint8Array(u.buffer,2,u.length-6),d)}var s=function(){const u={H:{}};return u.H.N=function(d,f){const p=Uint8Array;let m,y,b=0,g=0,v=0,x=0,C=0,R=0,S=0,I=0,w=0;if(d[0]==3&&d[1]==0)return f||new p(0);const j=u.H,N=j.b,k=j.e,T=j.R,D=j.n,O=j.A,M=j.Z,A=j.m,P=f==null;for(P&&(f=new p(d.length>>>2<<5));b==0;)if(b=N(d,w,1),g=N(d,w+1,2),w+=3,g!=0){if(P&&(f=u.H.W(f,I+(1<<17))),g==1&&(m=A.J,y=A.h,R=511,S=31),g==2){v=k(d,w,5)+257,x=k(d,w+5,5)+1,C=k(d,w+10,4)+4,w+=14;let L=1;for(var F=0;F<38;F+=2)A.Q[F]=0,A.Q[F+1]=0;for(F=0;F<C;F++){const B=k(d,w+3*F,3);A.Q[1+(A.X[F]<<1)]=B,B>L&&(L=B)}w+=3*C,D(A.Q,L),O(A.Q,L,A.u),m=A.w,y=A.d,w=T(A.u,(1<<L)-1,v+x,d,w,A.v);const $=j.V(A.v,0,v,A.C);R=(1<<$)-1;const z=j.V(A.v,v,x,A.D);S=(1<<z)-1,D(A.C,$),O(A.C,$,m),D(A.D,z),O(A.D,z,y)}for(;;){const L=m[M(d,w)&R];w+=15&L;const $=L>>>4;if(!($>>>8))f[I++]=$;else{if($==256)break;{let z=I+$-254;if($>264){const X=A.q[$-257];z=I+(X>>>3)+k(d,w,7&X),w+=7&X}const B=y[M(d,w)&S];w+=15&B;const q=B>>>4,H=A.c[q],U=(H>>>4)+N(d,w,15&H);for(w+=15&H;I<z;)f[I]=f[I++-U],f[I]=f[I++-U],f[I]=f[I++-U],f[I]=f[I++-U];I=z}}}}else{7&w&&(w+=8-(7&w));const L=4+(w>>>3),$=d[L-4]|d[L-3]<<8;P&&(f=u.H.W(f,I+$)),f.set(new p(d.buffer,d.byteOffset+L,$),I),w=L+$<<3,I+=$}return f.length==I?f:f.slice(0,I)},u.H.W=function(d,f){const p=d.length;if(f<=p)return d;const m=new Uint8Array(p<<1);return m.set(d,0),m},u.H.R=function(d,f,p,m,y,b){const g=u.H.e,v=u.H.Z;let x=0;for(;x<p;){const C=d[v(m,y)&f];y+=15&C;const R=C>>>4;if(R<=15)b[x]=R,x++;else{let S=0,I=0;R==16?(I=3+g(m,y,2),y+=2,S=b[x-1]):R==17?(I=3+g(m,y,3),y+=3):R==18&&(I=11+g(m,y,7),y+=7);const w=x+I;for(;x<w;)b[x]=S,x++}}return y},u.H.V=function(d,f,p,m){let y=0,b=0;const g=m.length>>>1;for(;b<p;){const v=d[b+f];m[b<<1]=0,m[1+(b<<1)]=v,v>y&&(y=v),b++}for(;b<g;)m[b<<1]=0,m[1+(b<<1)]=0,b++;return y},u.H.n=function(d,f){const p=u.H.m,m=d.length;let y,b,g,v;const x=p.j;for(var C=0;C<=f;C++)x[C]=0;for(C=1;C<m;C+=2)x[d[C]]++;const R=p.K;for(y=0,x[0]=0,b=1;b<=f;b++)y=y+x[b-1]<<1,R[b]=y;for(g=0;g<m;g+=2)v=d[g+1],v!=0&&(d[g]=R[v],R[v]++)},u.H.A=function(d,f,p){const m=d.length,y=u.H.m.r;for(let b=0;b<m;b+=2)if(d[b+1]!=0){const g=b>>1,v=d[b+1],x=g<<4|v,C=f-v;let R=d[b]<<C;const S=R+(1<<C);for(;R!=S;)p[y[R]>>>15-f]=x,R++}},u.H.l=function(d,f){const p=u.H.m.r,m=15-f;for(let y=0;y<d.length;y+=2){const b=d[y]<<f-d[y+1];d[y]=p[b]>>>m}},u.H.M=function(d,f,p){p<<=7&f;const m=f>>>3;d[m]|=p,d[m+1]|=p>>>8},u.H.I=function(d,f,p){p<<=7&f;const m=f>>>3;d[m]|=p,d[m+1]|=p>>>8,d[m+2]|=p>>>16},u.H.e=function(d,f,p){return(d[f>>>3]|d[1+(f>>>3)]<<8)>>>(7&f)&(1<<p)-1},u.H.b=function(d,f,p){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16)>>>(7&f)&(1<<p)-1},u.H.Z=function(d,f){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16)>>>(7&f)},u.H.i=function(d,f){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16|d[3+(f>>>3)]<<24)>>>(7&f)},u.H.m=function(){const d=Uint16Array,f=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new f(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new f(286),Y:new f(30),a:new f(19),t:new f(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=u.H.m;for(var f=0;f<32768;f++){let m=f;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,d.r[f]=(m>>>16|m<<16)>>>17}function p(m,y,b){for(;y--!=0;)m.push(0,b)}for(f=0;f<32;f++)d.q[f]=d.S[f]<<3|d.T[f],d.c[f]=d.p[f]<<4|d.z[f];p(d._,144,8),p(d._,112,9),p(d._,24,7),p(d._,8,8),u.H.n(d._,9),u.H.A(d._,9,d.J),u.H.l(d._,9),p(d.$,32,5),u.H.n(d.$,5),u.H.A(d.$,5,d.h),u.H.l(d.$,5),p(d.Q,19,0),p(d.C,286,0),p(d.D,30,0),p(d.v,320,0)}(),u.H.N}();function o(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function a(u,d,f,p,m){let y=o(d);const b=Math.ceil(p*y/8);let g,v;y=Math.ceil(y/8);let x=u[f],C=0;if(x>1&&(u[f]=[0,0,1][x-2]),x==3)for(C=y;C<b;C++)u[C+1]=u[C+1]+(u[C+1-y]>>>1)&255;for(let R=0;R<m;R++)if(g=f+R*b,v=g+R+1,x=u[v-1],C=0,x==0)for(;C<b;C++)u[g+C]=u[v+C];else if(x==1){for(;C<y;C++)u[g+C]=u[v+C];for(;C<b;C++)u[g+C]=u[v+C]+u[g+C-y]}else if(x==2)for(;C<b;C++)u[g+C]=u[v+C]+u[g+C-b];else if(x==3){for(;C<y;C++)u[g+C]=u[v+C]+(u[g+C-b]>>>1);for(;C<b;C++)u[g+C]=u[v+C]+(u[g+C-b]+u[g+C-y]>>>1)}else{for(;C<y;C++)u[g+C]=u[v+C]+l(0,u[g+C-b],0);for(;C<b;C++)u[g+C]=u[v+C]+l(u[g+C-y],u[g+C-b],u[g+C-y-b])}return u}function l(u,d,f){const p=u+d-f,m=p-u,y=p-d,b=p-f;return m*m<=y*y&&m*m<=b*b?u:y*y<=b*b?d:f}function c(u,d,f){f.width=e.readUint(u,d),d+=4,f.height=e.readUint(u,d),d+=4,f.depth=u[d],d++,f.ctype=u[d],d++,f.compress=u[d],d++,f.filter=u[d],d++,f.interlace=u[d],d++}function h(u,d,f,p,m,y,b,g,v){const x=Math.min(d,m),C=Math.min(f,y);let R=0,S=0;for(let M=0;M<C;M++)for(let A=0;A<x;A++)if(b>=0&&g>=0?(R=M*d+A<<2,S=(g+M)*m+b+A<<2):(R=(-g+M)*d-b+A<<2,S=M*m+A<<2),v==0)p[S]=u[R],p[S+1]=u[R+1],p[S+2]=u[R+2],p[S+3]=u[R+3];else if(v==1){var I=u[R+3]*.00392156862745098,w=u[R]*I,j=u[R+1]*I,N=u[R+2]*I,k=p[S+3]*(1/255),T=p[S]*k,D=p[S+1]*k,O=p[S+2]*k;const P=1-I,F=I+k*P,L=F==0?0:1/F;p[S+3]=255*F,p[S+0]=(w+T*P)*L,p[S+1]=(j+D*P)*L,p[S+2]=(N+O*P)*L}else if(v==2)I=u[R+3],w=u[R],j=u[R+1],N=u[R+2],k=p[S+3],T=p[S],D=p[S+1],O=p[S+2],I==k&&w==T&&j==D&&N==O?(p[S]=0,p[S+1]=0,p[S+2]=0,p[S+3]=0):(p[S]=w,p[S+1]=j,p[S+2]=N,p[S+3]=I);else if(v==3){if(I=u[R+3],w=u[R],j=u[R+1],N=u[R+2],k=p[S+3],T=p[S],D=p[S+1],O=p[S+2],I==k&&w==T&&j==D&&N==O)continue;if(I<220&&k>20)return!1}return!0}return{decode:function(d){const f=new Uint8Array(d);let p=8;const m=e,y=m.readUshort,b=m.readUint,g={tabs:{},frames:[]},v=new Uint8Array(f.length);let x,C=0,R=0;const S=[137,80,78,71,13,10,26,10];for(var I=0;I<8;I++)if(f[I]!=S[I])throw"The input is not a PNG file!";for(;p<f.length;){const M=m.readUint(f,p);p+=4;const A=m.readASCII(f,p,4);if(p+=4,A=="IHDR")c(f,p,g);else if(A=="iCCP"){for(var w=p;f[w]!=0;)w++;m.readASCII(f,p,w-p),f[w+1];const P=f.slice(w+2,p+M);let F=null;try{F=n(P)}catch{F=s(P)}g.tabs[A]=F}else if(A=="CgBI")g.tabs[A]=f.slice(p,p+4);else if(A=="IDAT"){for(I=0;I<M;I++)v[C+I]=f[p+I];C+=M}else if(A=="acTL")g.tabs[A]={num_frames:b(f,p),num_plays:b(f,p+4)},x=new Uint8Array(f.length);else if(A=="fcTL"){R!=0&&((O=g.frames[g.frames.length-1]).data=r(g,x.slice(0,R),O.rect.width,O.rect.height),R=0);const P={x:b(f,p+12),y:b(f,p+16),width:b(f,p+4),height:b(f,p+8)};let F=y(f,p+22);F=y(f,p+20)/(F==0?100:F);const L={rect:P,delay:Math.round(1e3*F),dispose:f[p+24],blend:f[p+25]};g.frames.push(L)}else if(A=="fdAT"){for(I=0;I<M-4;I++)x[R+I]=f[p+I+4];R+=M-4}else if(A=="pHYs")g.tabs[A]=[m.readUint(f,p),m.readUint(f,p+4),f[p+8]];else if(A=="cHRM")for(g.tabs[A]=[],I=0;I<8;I++)g.tabs[A].push(m.readUint(f,p+4*I));else if(A=="tEXt"||A=="zTXt"){g.tabs[A]==null&&(g.tabs[A]={});var j=m.nextZero(f,p),N=m.readASCII(f,p,j-p),k=p+M-j-1;if(A=="tEXt")D=m.readASCII(f,j+1,k);else{var T=n(f.slice(j+2,j+2+k));D=m.readUTF8(T,0,T.length)}g.tabs[A][N]=D}else if(A=="iTXt"){g.tabs[A]==null&&(g.tabs[A]={}),j=0,w=p,j=m.nextZero(f,w),N=m.readASCII(f,w,j-w);const P=f[w=j+1];var D;f[w+1],w+=2,j=m.nextZero(f,w),m.readASCII(f,w,j-w),w=j+1,j=m.nextZero(f,w),m.readUTF8(f,w,j-w),k=M-((w=j+1)-p),P==0?D=m.readUTF8(f,w,k):(T=n(f.slice(w,w+k)),D=m.readUTF8(T,0,T.length)),g.tabs[A][N]=D}else if(A=="PLTE")g.tabs[A]=m.readBytes(f,p,M);else if(A=="hIST"){const P=g.tabs.PLTE.length/3;for(g.tabs[A]=[],I=0;I<P;I++)g.tabs[A].push(y(f,p+2*I))}else if(A=="tRNS")g.ctype==3?g.tabs[A]=m.readBytes(f,p,M):g.ctype==0?g.tabs[A]=y(f,p):g.ctype==2&&(g.tabs[A]=[y(f,p),y(f,p+2),y(f,p+4)]);else if(A=="gAMA")g.tabs[A]=m.readUint(f,p)/1e5;else if(A=="sRGB")g.tabs[A]=f[p];else if(A=="bKGD")g.ctype==0||g.ctype==4?g.tabs[A]=[y(f,p)]:g.ctype==2||g.ctype==6?g.tabs[A]=[y(f,p),y(f,p+2),y(f,p+4)]:g.ctype==3&&(g.tabs[A]=f[p]);else if(A=="IEND")break;p+=M,m.readUint(f,p),p+=4}var O;return R!=0&&((O=g.frames[g.frames.length-1]).data=r(g,x.slice(0,R),O.rect.width,O.rect.height)),g.data=r(g,v,g.width,g.height),delete g.compress,delete g.interlace,delete g.filter,g},toRGBA8:function(d){const f=d.width,p=d.height;if(d.tabs.acTL==null)return[t(d.data,f,p,d).buffer];const m=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const y=f*p*4,b=new Uint8Array(y),g=new Uint8Array(y),v=new Uint8Array(y);for(let C=0;C<d.frames.length;C++){const R=d.frames[C],S=R.rect.x,I=R.rect.y,w=R.rect.width,j=R.rect.height,N=t(R.data,w,j,d);if(C!=0)for(var x=0;x<y;x++)v[x]=b[x];if(R.blend==0?h(N,w,j,b,f,p,S,I,0):R.blend==1&&h(N,w,j,b,f,p,S,I,1),m.push(b.buffer.slice(0)),R.dispose!=0){if(R.dispose==1)h(g,w,j,b,f,p,S,I,0);else if(R.dispose==2)for(x=0;x<y;x++)b[x]=v[x]}}return m},_paeth:l,_copyTile:h,_bin:e}}();(function(){const{_copyTile:e}=tr,{_bin:t}=tr,r=tr._paeth;var n={table:function(){const w=new Uint32Array(256);for(let j=0;j<256;j++){let N=j;for(let k=0;k<8;k++)1&N?N=3988292384^N>>>1:N>>>=1;w[j]=N}return w}(),update(w,j,N,k){for(let T=0;T<k;T++)w=n.table[255&(w^j[N+T])]^w>>>8;return w},crc:(w,j,N)=>4294967295^n.update(4294967295,w,j,N)};function s(w,j,N,k){j[N]+=w[0]*k>>4,j[N+1]+=w[1]*k>>4,j[N+2]+=w[2]*k>>4,j[N+3]+=w[3]*k>>4}function o(w){return Math.max(0,Math.min(255,w))}function a(w,j){const N=w[0]-j[0],k=w[1]-j[1],T=w[2]-j[2],D=w[3]-j[3];return N*N+k*k+T*T+D*D}function l(w,j,N,k,T,D,O){O==null&&(O=1);const M=k.length,A=[];for(var P=0;P<M;P++){const U=k[P];A.push([U>>>0&255,U>>>8&255,U>>>16&255,U>>>24&255])}for(P=0;P<M;P++){let U=4294967295;for(var F=0,L=0;L<M;L++){var $=a(A[P],A[L]);L!=P&&$<U&&(U=$,F=L)}}const z=new Uint32Array(T.buffer),B=new Int16Array(j*N*4),q=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(P=0;P<q.length;P++)q[P]=255*((q[P]+.5)/16-.5);for(let U=0;U<N;U++)for(let X=0;X<j;X++){var H;P=4*(U*j+X),O!=2?H=[o(w[P]+B[P]),o(w[P+1]+B[P+1]),o(w[P+2]+B[P+2]),o(w[P+3]+B[P+3])]:($=q[4*(3&U)+(3&X)],H=[o(w[P]+$),o(w[P+1]+$),o(w[P+2]+$),o(w[P+3]+$)]),F=0;let ee=16777215;for(L=0;L<M;L++){const ie=a(H,A[L]);ie<ee&&(ee=ie,F=L)}const ae=A[F],se=[H[0]-ae[0],H[1]-ae[1],H[2]-ae[2],H[3]-ae[3]];O==1&&(X!=j-1&&s(se,B,P+4,7),U!=N-1&&(X!=0&&s(se,B,P+4*j-4,3),s(se,B,P+4*j,5),X!=j-1&&s(se,B,P+4*j+4,1))),D[P>>2]=F,z[P>>2]=k[F]}}function c(w,j,N,k,T){T==null&&(T={});const{crc:D}=n,O=t.writeUint,M=t.writeUshort,A=t.writeASCII;let P=8;const F=w.frames.length>1;let L,$=!1,z=33+(F?20:0);if(T.sRGB!=null&&(z+=13),T.pHYs!=null&&(z+=21),T.iCCP!=null&&(L=pako.deflate(T.iCCP),z+=21+L.length+4),w.ctype==3){for(var B=w.plte.length,q=0;q<B;q++)w.plte[q]>>>24!=255&&($=!0);z+=8+3*B+4+($?8+1*B+4:0)}for(var H=0;H<w.frames.length;H++)F&&(z+=38),z+=(ae=w.frames[H]).cimg.length+12,H!=0&&(z+=4);z+=12;const U=new Uint8Array(z),X=[137,80,78,71,13,10,26,10];for(q=0;q<8;q++)U[q]=X[q];if(O(U,P,13),P+=4,A(U,P,"IHDR"),P+=4,O(U,P,j),P+=4,O(U,P,N),P+=4,U[P]=w.depth,P++,U[P]=w.ctype,P++,U[P]=0,P++,U[P]=0,P++,U[P]=0,P++,O(U,P,D(U,P-17,17)),P+=4,T.sRGB!=null&&(O(U,P,1),P+=4,A(U,P,"sRGB"),P+=4,U[P]=T.sRGB,P++,O(U,P,D(U,P-5,5)),P+=4),T.iCCP!=null){const se=13+L.length;O(U,P,se),P+=4,A(U,P,"iCCP"),P+=4,A(U,P,"ICC profile"),P+=11,P+=2,U.set(L,P),P+=L.length,O(U,P,D(U,P-(se+4),se+4)),P+=4}if(T.pHYs!=null&&(O(U,P,9),P+=4,A(U,P,"pHYs"),P+=4,O(U,P,T.pHYs[0]),P+=4,O(U,P,T.pHYs[1]),P+=4,U[P]=T.pHYs[2],P++,O(U,P,D(U,P-13,13)),P+=4),F&&(O(U,P,8),P+=4,A(U,P,"acTL"),P+=4,O(U,P,w.frames.length),P+=4,O(U,P,T.loop!=null?T.loop:0),P+=4,O(U,P,D(U,P-12,12)),P+=4),w.ctype==3){for(O(U,P,3*(B=w.plte.length)),P+=4,A(U,P,"PLTE"),P+=4,q=0;q<B;q++){const se=3*q,ie=w.plte[q],de=255&ie,me=ie>>>8&255,Je=ie>>>16&255;U[P+se+0]=de,U[P+se+1]=me,U[P+se+2]=Je}if(P+=3*B,O(U,P,D(U,P-3*B-4,3*B+4)),P+=4,$){for(O(U,P,B),P+=4,A(U,P,"tRNS"),P+=4,q=0;q<B;q++)U[P+q]=w.plte[q]>>>24&255;P+=B,O(U,P,D(U,P-B-4,B+4)),P+=4}}let ee=0;for(H=0;H<w.frames.length;H++){var ae=w.frames[H];F&&(O(U,P,26),P+=4,A(U,P,"fcTL"),P+=4,O(U,P,ee++),P+=4,O(U,P,ae.rect.width),P+=4,O(U,P,ae.rect.height),P+=4,O(U,P,ae.rect.x),P+=4,O(U,P,ae.rect.y),P+=4,M(U,P,k[H]),P+=2,M(U,P,1e3),P+=2,U[P]=ae.dispose,P++,U[P]=ae.blend,P++,O(U,P,D(U,P-30,30)),P+=4);const se=ae.cimg;O(U,P,(B=se.length)+(H==0?0:4)),P+=4;const ie=P;A(U,P,H==0?"IDAT":"fdAT"),P+=4,H!=0&&(O(U,P,ee++),P+=4),U.set(se,P),P+=B,O(U,P,D(U,ie,P-ie)),P+=4}return O(U,P,0),P+=4,A(U,P,"IEND"),P+=4,O(U,P,D(U,P-4,4)),P+=4,U.buffer}function h(w,j,N){for(let k=0;k<w.frames.length;k++){const T=w.frames[k];T.rect.width;const D=T.rect.height,O=new Uint8Array(D*T.bpl+D);T.cimg=p(T.img,D,T.bpp,T.bpl,O,j,N)}}function u(w,j,N,k,T){const D=T[0],O=T[1],M=T[2],A=T[3],P=T[4],F=T[5];let L=6,$=8,z=255;for(var B=0;B<w.length;B++){const ge=new Uint8Array(w[B]);for(var q=ge.length,H=0;H<q;H+=4)z&=ge[H+3]}const U=z!=255,X=function(_,V,Y,J,te,ne){const le=[];for(var ce=0;ce<_.length;ce++){const dt=new Uint8Array(_[ce]),Jt=new Uint32Array(dt.buffer);var je;let _t=0,Er=0,dr=V,In=Y,Mc=J?1:0;if(ce!=0){const Nj=ne||J||ce==1||le[ce-2].dispose!=0?1:2;let _c=0,wp=1e9;for(let bi=0;bi<Nj;bi++){var Ye=new Uint8Array(_[ce-1-bi]);const Sj=new Uint32Array(_[ce-1-bi]);let qr=V,Gr=Y,vs=-1,wi=-1;for(let Mn=0;Mn<Y;Mn++)for(let _n=0;_n<V;_n++)Jt[Ze=Mn*V+_n]!=Sj[Ze]&&(_n<qr&&(qr=_n),_n>vs&&(vs=_n),Mn<Gr&&(Gr=Mn),Mn>wi&&(wi=Mn));vs==-1&&(qr=Gr=vs=wi=0),te&&((1&qr)==1&&qr--,(1&Gr)==1&&Gr--);const jp=(vs-qr+1)*(wi-Gr+1);jp<wp&&(wp=jp,_c=bi,_t=qr,Er=Gr,dr=vs-qr+1,In=wi-Gr+1)}Ye=new Uint8Array(_[ce-1-_c]),_c==1&&(le[ce-1].dispose=2),je=new Uint8Array(dr*In*4),e(Ye,V,Y,je,dr,In,-_t,-Er,0),Mc=e(dt,V,Y,je,dr,In,-_t,-Er,3)?1:0,Mc==1?f(dt,V,Y,je,{x:_t,y:Er,width:dr,height:In}):e(dt,V,Y,je,dr,In,-_t,-Er,0)}else je=dt.slice(0);le.push({rect:{x:_t,y:Er,width:dr,height:In},img:je,blend:Mc,dispose:0})}if(J)for(ce=0;ce<le.length;ce++){if((Rn=le[ce]).blend==1)continue;const dt=Rn.rect,Jt=le[ce-1].rect,_t=Math.min(dt.x,Jt.x),Er=Math.min(dt.y,Jt.y),dr={x:_t,y:Er,width:Math.max(dt.x+dt.width,Jt.x+Jt.width)-_t,height:Math.max(dt.y+dt.height,Jt.y+Jt.height)-Er};le[ce-1].dispose=1,ce-1!=0&&d(_,V,Y,le,ce-1,dr,te),d(_,V,Y,le,ce,dr,te)}let Hr=0;if(_.length!=1)for(var Ze=0;Ze<le.length;Ze++){var Rn;Hr+=(Rn=le[Ze]).rect.width*Rn.rect.height}return le}(w,j,N,D,O,M),ee={},ae=[],se=[];if(k!=0){const ge=[];for(H=0;H<X.length;H++)ge.push(X[H].img.buffer);const _=function(te){let ne=0;for(var le=0;le<te.length;le++)ne+=te[le].byteLength;const ce=new Uint8Array(ne);let je=0;for(le=0;le<te.length;le++){const Ye=new Uint8Array(te[le]),Hr=Ye.length;for(let Ze=0;Ze<Hr;Ze+=4){let Rn=Ye[Ze],dt=Ye[Ze+1],Jt=Ye[Ze+2];const _t=Ye[Ze+3];_t==0&&(Rn=dt=Jt=0),ce[je+Ze]=Rn,ce[je+Ze+1]=dt,ce[je+Ze+2]=Jt,ce[je+Ze+3]=_t}je+=Hr}return ce.buffer}(ge),V=y(_,k);for(H=0;H<V.plte.length;H++)ae.push(V.plte[H].est.rgba);let Y=0;for(H=0;H<X.length;H++){const J=(de=X[H]).img.length;var ie=new Uint8Array(V.inds.buffer,Y>>2,J>>2);se.push(ie);const te=new Uint8Array(V.abuf,Y,J);F&&l(de.img,de.rect.width,de.rect.height,ae,te,ie),de.img.set(te),Y+=J}}else for(B=0;B<X.length;B++){var de=X[B];const ge=new Uint32Array(de.img.buffer);var me=de.rect.width;for(q=ge.length,ie=new Uint8Array(q),se.push(ie),H=0;H<q;H++){const _=ge[H];if(H!=0&&_==ge[H-1])ie[H]=ie[H-1];else if(H>me&&_==ge[H-me])ie[H]=ie[H-me];else{let V=ee[_];if(V==null&&(ee[_]=V=ae.length,ae.push(_),ae.length>=300))break;ie[H]=V}}}const Je=ae.length;for(Je<=256&&P==0&&($=Je<=2?1:Je<=4?2:Je<=16?4:8,$=Math.max($,A)),B=0;B<X.length;B++){(de=X[B]).rect.x,de.rect.y,me=de.rect.width;const ge=de.rect.height;let _=de.img;new Uint32Array(_.buffer);let V=4*me,Y=4;if(Je<=256&&P==0){V=Math.ceil($*me/8);var Ge=new Uint8Array(V*ge);const J=se[B];for(let te=0;te<ge;te++){H=te*V;const ne=te*me;if($==8)for(var ye=0;ye<me;ye++)Ge[H+ye]=J[ne+ye];else if($==4)for(ye=0;ye<me;ye++)Ge[H+(ye>>1)]|=J[ne+ye]<<4-4*(1&ye);else if($==2)for(ye=0;ye<me;ye++)Ge[H+(ye>>2)]|=J[ne+ye]<<6-2*(3&ye);else if($==1)for(ye=0;ye<me;ye++)Ge[H+(ye>>3)]|=J[ne+ye]<<7-1*(7&ye)}_=Ge,L=3,Y=1}else if(U==0&&X.length==1){Ge=new Uint8Array(me*ge*3);const J=me*ge;for(H=0;H<J;H++){const te=3*H,ne=4*H;Ge[te]=_[ne],Ge[te+1]=_[ne+1],Ge[te+2]=_[ne+2]}_=Ge,L=2,Y=3,V=3*me}de.img=_,de.bpl=V,de.bpp=Y}return{ctype:L,depth:$,plte:ae,frames:X}}function d(w,j,N,k,T,D,O){const M=Uint8Array,A=Uint32Array,P=new M(w[T-1]),F=new A(w[T-1]),L=T+1<w.length?new M(w[T+1]):null,$=new M(w[T]),z=new A($.buffer);let B=j,q=N,H=-1,U=-1;for(let ee=0;ee<D.height;ee++)for(let ae=0;ae<D.width;ae++){const se=D.x+ae,ie=D.y+ee,de=ie*j+se,me=z[de];me==0||k[T-1].dispose==0&&F[de]==me&&(L==null||L[4*de+3]!=0)||(se<B&&(B=se),se>H&&(H=se),ie<q&&(q=ie),ie>U&&(U=ie))}H==-1&&(B=q=H=U=0),O&&((1&B)==1&&B--,(1&q)==1&&q--),D={x:B,y:q,width:H-B+1,height:U-q+1};const X=k[T];X.rect=D,X.blend=1,X.img=new Uint8Array(D.width*D.height*4),k[T-1].dispose==0?(e(P,j,N,X.img,D.width,D.height,-D.x,-D.y,0),f($,j,N,X.img,D)):e($,j,N,X.img,D.width,D.height,-D.x,-D.y,0)}function f(w,j,N,k,T){e(w,j,N,k,T.width,T.height,-T.x,-T.y,2)}function p(w,j,N,k,T,D,O){const M=[];let A,P=[0,1,2,3,4];D!=-1?P=[D]:(j*k>5e5||N==1)&&(P=[0]),O&&(A={level:0});const F=HP;for(var L=0;L<P.length;L++){for(let B=0;B<j;B++)m(T,w,B,k,N,P[L]);M.push(F.deflate(T,A))}let $,z=1e9;for(L=0;L<M.length;L++)M[L].length<z&&($=L,z=M[L].length);return M[$]}function m(w,j,N,k,T,D){const O=N*k;let M=O+N;if(w[M]=D,M++,D==0)if(k<500)for(var A=0;A<k;A++)w[M+A]=j[O+A];else w.set(new Uint8Array(j.buffer,O,k),M);else if(D==1){for(A=0;A<T;A++)w[M+A]=j[O+A];for(A=T;A<k;A++)w[M+A]=j[O+A]-j[O+A-T]+256&255}else if(N==0){for(A=0;A<T;A++)w[M+A]=j[O+A];if(D==2)for(A=T;A<k;A++)w[M+A]=j[O+A];if(D==3)for(A=T;A<k;A++)w[M+A]=j[O+A]-(j[O+A-T]>>1)+256&255;if(D==4)for(A=T;A<k;A++)w[M+A]=j[O+A]-r(j[O+A-T],0,0)+256&255}else{if(D==2)for(A=0;A<k;A++)w[M+A]=j[O+A]+256-j[O+A-k]&255;if(D==3){for(A=0;A<T;A++)w[M+A]=j[O+A]+256-(j[O+A-k]>>1)&255;for(A=T;A<k;A++)w[M+A]=j[O+A]+256-(j[O+A-k]+j[O+A-T]>>1)&255}if(D==4){for(A=0;A<T;A++)w[M+A]=j[O+A]+256-r(0,j[O+A-k],0)&255;for(A=T;A<k;A++)w[M+A]=j[O+A]+256-r(j[O+A-T],j[O+A-k],j[O+A-T-k])&255}}}function y(w,j){const N=new Uint8Array(w),k=N.slice(0),T=new Uint32Array(k.buffer),D=b(k,j),O=D[0],M=D[1],A=N.length,P=new Uint8Array(A>>2);let F;if(N.length<2e7)for(var L=0;L<A;L+=4)F=g(O,$=N[L]*(1/255),z=N[L+1]*(1/255),B=N[L+2]*(1/255),q=N[L+3]*(1/255)),P[L>>2]=F.ind,T[L>>2]=F.est.rgba;else for(L=0;L<A;L+=4){var $=N[L]*.00392156862745098,z=N[L+1]*(1/255),B=N[L+2]*(1/255),q=N[L+3]*(1/255);for(F=O;F.left;)F=v(F.est,$,z,B,q)<=0?F.left:F.right;P[L>>2]=F.ind,T[L>>2]=F.est.rgba}return{abuf:k.buffer,inds:P,plte:M}}function b(w,j,N){N==null&&(N=1e-4);const k=new Uint32Array(w.buffer),T={i0:0,i1:w.length,bst:null,est:null,tdst:0,left:null,right:null};T.bst=R(w,T.i0,T.i1),T.est=S(T.bst);const D=[T];for(;D.length<j;){let M=0,A=0;for(var O=0;O<D.length;O++)D[O].est.L>M&&(M=D[O].est.L,A=O);if(M<N)break;const P=D[A],F=x(w,k,P.i0,P.i1,P.est.e,P.est.eMq255);if(P.i0>=F||P.i1<=F){P.est.L=0;continue}const L={i0:P.i0,i1:F,bst:null,est:null,tdst:0,left:null,right:null};L.bst=R(w,L.i0,L.i1),L.est=S(L.bst);const $={i0:F,i1:P.i1,bst:null,est:null,tdst:0,left:null,right:null};for($.bst={R:[],m:[],N:P.bst.N-L.bst.N},O=0;O<16;O++)$.bst.R[O]=P.bst.R[O]-L.bst.R[O];for(O=0;O<4;O++)$.bst.m[O]=P.bst.m[O]-L.bst.m[O];$.est=S($.bst),P.left=L,P.right=$,D[A]=L,D.push($)}for(D.sort((M,A)=>A.bst.N-M.bst.N),O=0;O<D.length;O++)D[O].ind=O;return[T,D]}function g(w,j,N,k,T){if(w.left==null)return w.tdst=function(L,$,z,B,q){const H=$-L[0],U=z-L[1],X=B-L[2],ee=q-L[3];return H*H+U*U+X*X+ee*ee}(w.est.q,j,N,k,T),w;const D=v(w.est,j,N,k,T);let O=w.left,M=w.right;D>0&&(O=w.right,M=w.left);const A=g(O,j,N,k,T);if(A.tdst<=D*D)return A;const P=g(M,j,N,k,T);return P.tdst<A.tdst?P:A}function v(w,j,N,k,T){const{e:D}=w;return D[0]*j+D[1]*N+D[2]*k+D[3]*T-w.eMq}function x(w,j,N,k,T,D){for(k-=4;N<k;){for(;C(w,N,T)<=D;)N+=4;for(;C(w,k,T)>D;)k-=4;if(N>=k)break;const O=j[N>>2];j[N>>2]=j[k>>2],j[k>>2]=O,N+=4,k-=4}for(;C(w,N,T)>D;)N-=4;return N+4}function C(w,j,N){return w[j]*N[0]+w[j+1]*N[1]+w[j+2]*N[2]+w[j+3]*N[3]}function R(w,j,N){const k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T=[0,0,0,0],D=N-j>>2;for(let O=j;O<N;O+=4){const M=w[O]*.00392156862745098,A=w[O+1]*(1/255),P=w[O+2]*(1/255),F=w[O+3]*(1/255);T[0]+=M,T[1]+=A,T[2]+=P,T[3]+=F,k[0]+=M*M,k[1]+=M*A,k[2]+=M*P,k[3]+=M*F,k[5]+=A*A,k[6]+=A*P,k[7]+=A*F,k[10]+=P*P,k[11]+=P*F,k[15]+=F*F}return k[4]=k[1],k[8]=k[2],k[9]=k[6],k[12]=k[3],k[13]=k[7],k[14]=k[11],{R:k,m:T,N:D}}function S(w){const{R:j}=w,{m:N}=w,{N:k}=w,T=N[0],D=N[1],O=N[2],M=N[3],A=k==0?0:1/k,P=[j[0]-T*T*A,j[1]-T*D*A,j[2]-T*O*A,j[3]-T*M*A,j[4]-D*T*A,j[5]-D*D*A,j[6]-D*O*A,j[7]-D*M*A,j[8]-O*T*A,j[9]-O*D*A,j[10]-O*O*A,j[11]-O*M*A,j[12]-M*T*A,j[13]-M*D*A,j[14]-M*O*A,j[15]-M*M*A],F=P,L=I;let $=[Math.random(),Math.random(),Math.random(),Math.random()],z=0,B=0;if(k!=0)for(let H=0;H<16&&($=L.multVec(F,$),B=Math.sqrt(L.dot($,$)),$=L.sml(1/B,$),!(H!=0&&Math.abs(B-z)<1e-9));H++)z=B;const q=[T*A,D*A,O*A,M*A];return{Cov:P,q,e:$,L:z,eMq255:L.dot(L.sml(255,q),$),eMq:L.dot($,q),rgba:(Math.round(255*q[3])<<24|Math.round(255*q[2])<<16|Math.round(255*q[1])<<8|Math.round(255*q[0])<<0)>>>0}}var I={multVec:(w,j)=>[w[0]*j[0]+w[1]*j[1]+w[2]*j[2]+w[3]*j[3],w[4]*j[0]+w[5]*j[1]+w[6]*j[2]+w[7]*j[3],w[8]*j[0]+w[9]*j[1]+w[10]*j[2]+w[11]*j[3],w[12]*j[0]+w[13]*j[1]+w[14]*j[2]+w[15]*j[3]],dot:(w,j)=>w[0]*j[0]+w[1]*j[1]+w[2]*j[2]+w[3]*j[3],sml:(w,j)=>[w*j[0],w*j[1],w*j[2],w*j[3]]};tr.encode=function(j,N,k,T,D,O,M){T==null&&(T=0),M==null&&(M=!1);const A=u(j,N,k,T,[!1,!1,!1,0,M,!1]);return h(A,-1),c(A,N,k,D,O)},tr.encodeLL=function(j,N,k,T,D,O,M,A){const P={ctype:0+(T==1?0:2)+(D==0?0:4),depth:O,frames:[]},F=(T+D)*O,L=F*N;for(let $=0;$<j.length;$++)P.frames.push({rect:{x:0,y:0,width:N,height:k},img:new Uint8Array(j[$]),blend:0,dispose:1,bpp:Math.ceil(F/8),bpl:Math.ceil(L/8)});return h(P,0,!0),c(P,N,k,M,A)},tr.encode.compress=u,tr.encode.dither=l,tr.quantize=y,tr.quantize.getKDtree=b,tr.quantize.getNearest=g})();const W1={toArrayBuffer(e,t){const r=e.width,n=e.height,s=r<<2,o=e.getContext("2d").getImageData(0,0,r,n),a=new Uint32Array(o.data.buffer),l=(32*r+31)/32<<2,c=l*n,h=122+c,u=new ArrayBuffer(h),d=new DataView(u),f=1<<20;let p,m,y,b,g=f,v=0,x=0,C=0;function R(w){d.setUint16(x,w,!0),x+=2}function S(w){d.setUint32(x,w,!0),x+=4}function I(w){x+=w}R(19778),S(h),I(4),S(122),S(108),S(r),S(-n>>>0),R(1),R(32),S(3),S(c),S(2835),S(2835),I(8),S(16711680),S(65280),S(255),S(4278190080),S(1466527264),function w(){for(;v<n&&g>0;){for(b=122+v*l,p=0;p<s;)g--,m=a[C++],y=m>>>24,d.setUint32(b+p,m<<8|y),p+=4;v++}C<a.length?(g=f,setTimeout(w,W1._dly)):t(u)}()},toBlob(e,t){this.toArrayBuffer(e,r=>{t(new Blob([r],{type:"image/bmp"}))})},_dly:9};var vt={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},qP={[vt.CHROME]:16384,[vt.FIREFOX]:11180,[vt.DESKTOP_SAFARI]:16384,[vt.IE]:8192,[vt.IOS]:4096,[vt.ETC]:8192};const Qf=typeof window<"u",H1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Al=Qf&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),GP=(Qf||H1)&&(Al&&Al.getOriginalSymbol(window,"File")||typeof File<"u"&&File),q1=(Qf||H1)&&(Al&&Al.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Jf(e,t,r=Date.now()){return new Promise(n=>{const s=e.split(","),o=s[0].match(/:(.*?);/)[1],a=globalThis.atob(s[1]);let l=a.length;const c=new Uint8Array(l);for(;l--;)c[l]=a.charCodeAt(l);const h=new Blob([c],{type:o});h.name=t,h.lastModified=r,n(h)})}function G1(e){return new Promise((t,r)=>{const n=new q1;n.onload=()=>t(n.result),n.onerror=s=>r(s),n.readAsDataURL(e)})}function Y1(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=s=>r(s),n.src=e})}function Yn(){if(Yn.cachedResult!==void 0)return Yn.cachedResult;let e=vt.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=vt.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=vt.IOS:/Safari/i.test(t)?e=vt.DESKTOP_SAFARI:/Firefox/i.test(t)?e=vt.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(e=vt.IE),Yn.cachedResult=e,Yn.cachedResult}function X1(e,t){const r=Yn(),n=qP[r];let s=e,o=t,a=s*o;const l=s>o?o/s:s/o;for(;a>n*n;){const c=(n+s)/2,h=(n+o)/2;c<h?(o=h,s=h*l):(o=c*l,s=c),a=s*o}return{width:s,height:o}}function Ec(e,t){let r,n;try{if(r=new OffscreenCanvas(e,t),n=r.getContext("2d"),n===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{r=document.createElement("canvas"),n=r.getContext("2d")}return r.width=e,r.height=t,[r,n]}function K1(e,t){const{width:r,height:n}=X1(e.width,e.height),[s,o]=Ec(r,n);return t&&/jpe?g/.test(t)&&(o.fillStyle="white",o.fillRect(0,0,s.width,s.height)),o.drawImage(e,0,0,s.width,s.height),s}function Ja(){return Ja.cachedResult!==void 0||(Ja.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Ja.cachedResult}function Ol(e,t={}){return new Promise(function(r,n){let s,o;var a=function(){try{return o=K1(s,t.fileType||e.type),r([s,o])}catch(c){return n(c)}},l=function(c){try{var h=function(u){try{throw u}catch(d){return n(d)}};try{let u;return G1(e).then(function(d){try{return u=d,Y1(u).then(function(f){try{return s=f,function(){try{return a()}catch(p){return n(p)}}()}catch(p){return h(p)}},h)}catch(f){return h(f)}},h)}catch(u){h(u)}}catch(u){return n(u)}};try{if(Ja()||[vt.DESKTOP_SAFARI,vt.MOBILE_SAFARI].includes(Yn()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(c){try{return s=c,a()}catch{return l()}},l)}catch{l()}})}function Rl(e,t,r,n,s=1){return new Promise(function(o,a){let l;if(t==="image/png"){let h,u,d;return h=e.getContext("2d"),{data:u}=h.getImageData(0,0,e.width,e.height),d=tr.encode([u.buffer],e.width,e.height,4096*s),l=new Blob([d],{type:t}),l.name=r,l.lastModified=n,c.call(this)}{let h=function(){return c.call(this)};if(t==="image/bmp")return new Promise(u=>W1.toBlob(e,u)).then((function(u){try{return l=u,l.name=r,l.lastModified=n,h.call(this)}catch(d){return a(d)}}).bind(this),a);{let u=function(){return h.call(this)};if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:s}).then((function(d){try{return l=d,l.name=r,l.lastModified=n,u.call(this)}catch(f){return a(f)}}).bind(this),a);{let d;return d=e.toDataURL(t,s),Jf(d,r,n).then((function(f){try{return l=f,u.call(this)}catch(p){return a(p)}}).bind(this),a)}}}function c(){return o(l)}})}function mr(e){e.width=0,e.height=0}function Is(){return new Promise(function(e,t){let r,n,s,o;return Is.cachedResult!==void 0?e(Is.cachedResult):Jf("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return r=a,Ol(r).then(function(l){try{return n=l[1],Rl(n,r.type,r.name,r.lastModified).then(function(c){try{return s=c,mr(n),Ol(s).then(function(h){try{return o=h[0],Is.cachedResult=o.width===1&&o.height===2,e(Is.cachedResult)}catch(u){return t(u)}},t)}catch(h){return t(h)}},t)}catch(c){return t(c)}},t)}catch(l){return t(l)}},t)})}function Q1(e){return new Promise((t,r)=>{const n=new q1;n.onload=s=>{const o=new DataView(s.target.result);if(o.getUint16(0,!1)!=65496)return t(-2);const a=o.byteLength;let l=2;for(;l<a;){if(o.getUint16(l+2,!1)<=8)return t(-1);const c=o.getUint16(l,!1);if(l+=2,c==65505){if(o.getUint32(l+=2,!1)!=1165519206)return t(-1);const h=o.getUint16(l+=6,!1)==18761;l+=o.getUint32(l+4,h);const u=o.getUint16(l,h);l+=2;for(let d=0;d<u;d++)if(o.getUint16(l+12*d,h)==274)return t(o.getUint16(l+12*d+8,h))}else{if((65280&c)!=65280)break;l+=o.getUint16(l,!1)}}return t(-1)},n.onerror=s=>r(s),n.readAsArrayBuffer(e)})}function J1(e,t){const{width:r}=e,{height:n}=e,{maxWidthOrHeight:s}=t;let o,a=e;return isFinite(s)&&(r>s||n>s)&&([a,o]=Ec(r,n),r>n?(a.width=s,a.height=n/r*s):(a.width=r/n*s,a.height=s),o.drawImage(e,0,0,a.width,a.height),mr(e)),a}function Z1(e,t){const{width:r}=e,{height:n}=e,[s,o]=Ec(r,n);switch(t>4&&t<9?(s.width=n,s.height=r):(s.width=r,s.height=n),t){case 2:o.transform(-1,0,0,1,r,0);break;case 3:o.transform(-1,0,0,-1,r,n);break;case 4:o.transform(1,0,0,-1,0,n);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,n,0);break;case 7:o.transform(0,-1,-1,0,n,r);break;case 8:o.transform(0,-1,1,0,0,r)}return o.drawImage(e,0,0,r,n),mr(e),s}function Jg(e,t,r=0){return new Promise(function(n,s){let o,a,l,c,h,u,d,f,p,m,y,b,g,v,x,C,R,S,I,w;function j(k=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;o+=k,t.onProgress(Math.min(o,100))}function N(k){if(t.signal&&t.signal.aborted)throw t.signal.reason;o=Math.min(Math.max(k,o),100),t.onProgress(o)}return o=r,a=t.maxIteration||10,l=1024*t.maxSizeMB*1024,j(),Ol(e,t).then((function(k){try{return[,c]=k,j(),h=J1(c,t),j(),new Promise(function(T,D){var O;if(!(O=t.exifOrientation))return Q1(e).then((function(A){try{return O=A,M.call(this)}catch(P){return D(P)}}).bind(this),D);function M(){return T(O)}return M.call(this)}).then((function(T){try{return u=T,j(),Is().then((function(D){try{return d=D?h:Z1(h,u),j(),f=t.initialQuality||1,p=t.fileType||e.type,Rl(d,p,e.name,e.lastModified,f).then((function(O){try{{let A=function(){if(a--&&(x>l||x>g)){let F,L;return F=w?.95*I.width:I.width,L=w?.95*I.height:I.height,[R,S]=Ec(F,L),S.drawImage(I,0,0,F,L),f*=p==="image/png"?.85:.95,Rl(R,p,e.name,e.lastModified,f).then(function($){try{return C=$,mr(I),I=R,x=C.size,N(Math.min(99,Math.floor((v-x)/(v-l)*100))),A}catch(z){return s(z)}},s)}return[1]},P=function(){return mr(I),mr(R),mr(h),mr(d),mr(c),N(100),n(C)};if(m=O,j(),y=m.size>l,b=m.size>e.size,!y&&!b)return N(100),n(m);var M;return g=e.size,v=m.size,x=v,I=d,w=!t.alwaysKeepResolution&&y,(M=(function(F){for(;F;){if(F.then)return void F.then(M,s);try{if(F.pop){if(F.length)return F.pop()?P.call(this):F;F=A}else F=F.call(this)}catch(L){return s(L)}}}).bind(this))(A)}}catch(A){return s(A)}}).bind(this),s)}catch(O){return s(O)}}).bind(this),s)}catch(D){return s(D)}}).bind(this),s)}catch(T){return s(T)}}).bind(this),s)})}const YP=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Tu;function XP(e,t){return new Promise((r,n)=>{Tu||(Tu=function(a){const l=[];return l.push(a),URL.createObjectURL(new Blob(l))}(YP));const s=new Worker(Tu);s.addEventListener("message",function(a){if(t.signal&&t.signal.aborted)s.terminate();else if(a.data.progress===void 0){if(a.data.error)return n(new Error(a.data.error)),void s.terminate();r(a.data.file),s.terminate()}else t.onProgress(a.data.progress)}),s.addEventListener("error",n),t.signal&&t.signal.addEventListener("abort",()=>{n(t.signal.reason),s.terminate()}),s.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})})}function nt(e,t){return new Promise(function(r,n){let s,o,a,l,c,h;if(s={...t},a=0,{onProgress:l}=s,s.maxSizeMB=s.maxSizeMB||Number.POSITIVE_INFINITY,c=typeof s.useWebWorker!="boolean"||s.useWebWorker,delete s.useWebWorker,s.onProgress=p=>{a=p,typeof l=="function"&&l(a)},!(e instanceof Blob||e instanceof GP))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return n(new Error("The file given is not an image"));if(h=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!c||typeof Worker!="function"||h)return Jg(e,s).then((function(p){try{return o=p,f.call(this)}catch(m){return n(m)}}).bind(this),n);var u=(function(){try{return f.call(this)}catch(p){return n(p)}}).bind(this),d=function(p){try{return Jg(e,s).then(function(m){try{return o=m,u()}catch(y){return n(y)}},n)}catch(m){return n(m)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",XP(e,s).then(function(p){try{return o=p,u()}catch{return d()}},d)}catch{d()}function f(){try{o.name=e.name,o.lastModified=e.lastModified}catch{}try{s.preserveExif&&e.type==="image/jpeg"&&(!s.fileType||s.fileType&&s.fileType===e.type)&&(o=V1(e,o))}catch{}return r(o)}})}nt.getDataUrlFromFile=G1,nt.getFilefromDataUrl=Jf,nt.loadImage=Y1,nt.drawImageInCanvas=K1,nt.drawFileInCanvas=Ol,nt.canvasToFile=Rl,nt.getExifOrientation=Q1,nt.handleMaxWidthOrHeight=J1,nt.followExifOrientation=Z1,nt.cleanupCanvasMemory=mr,nt.isAutoOrientationInBrowser=Is,nt.approximateBelowMaximumCanvasSizeOfBrowser=X1,nt.copyExifWithoutOrientation=V1,nt.getBrowserName=Yn,nt.version="2.0.2";const ew=({onUploadComplete:e,onClose:t})=>{const[r,n]=E.useState([]),[s,o]=E.useState(!1),[a,l]=E.useState(!1),[c,h]=E.useState({success:0,total:0}),u=E.useRef(null),{showPhotoSuccess:d}=Uo(),f=async R=>{try{return await nt(R,{maxSizeMB:2,maxWidthOrHeight:1920,useWebWorker:!0,fileType:"image/jpeg",initialQuality:.8})}catch(S){return console.error("Image compression failed:",S),R}};console.log("PhotoUpload rendered",{files:r.length,isUploading:a,uploadStats:c});const p=R=>({file:R,id:Math.random().toString(36).substr(2,9),preview:URL.createObjectURL(R),status:"pending",progress:0}),m=E.useCallback(async R=>{if(!R)return;const S=Array.from(R).filter(k=>k.type.startsWith("image/")),I=S.map(k=>({...p(k),status:"uploading"}));n(k=>[...k,...I]);const w=await Promise.all(S.map(async(k,T)=>{try{console.log(`Compressing ${k.name} (${(k.size/1024/1024).toFixed(1)}MB)...`);const D=await f(k),O=((1-D.size/k.size)*100).toFixed(1);return console.log(`Compressed ${k.name} to ${(D.size/1024/1024).toFixed(1)}MB (${O}% reduction)`),{file:D,originalIndex:T,compressed:!0}}catch(D){console.error(`Failed to compress ${k.name}:`,D);const O=D instanceof Error?D.message:"Unknown compression error";return console.warn(`Using original file for ${k.name} due to compression error: ${O}`),{file:k,originalIndex:T,compressed:!1}}})),j=w.filter(k=>k.compressed).length,N=w.length;j<N?console.warn(`Compression completed: ${j}/${N} files compressed successfully`):console.log(`All ${N} files compressed successfully`),n(k=>{const T=[...k];return w.forEach(({file:D,originalIndex:O,compressed:M})=>{const A=T.length-S.length+O;T[A]&&(T[A]={...p(D),status:"pending"},!M&&D.size>5*1024*1024&&console.warn(`Large file ${D.name} (${(D.size/1024/1024).toFixed(1)}MB) will be uploaded without compression`))}),T})},[]),y=E.useCallback(R=>{R.preventDefault(),o(!1),m(R.dataTransfer.files)},[m]),b=E.useCallback(R=>{R.preventDefault(),o(!0)},[]),g=E.useCallback(R=>{R.preventDefault(),o(!1)},[]),v=R=>{n(S=>{const I=S.find(w=>w.id===R);return I&&URL.revokeObjectURL(I.preview),S.filter(w=>w.id!==R)})},x=async()=>{if(r.length===0)return;console.log("Starting sequential upload for",r.length,"files"),l(!0),h({success:0,total:r.length});let R=0,S=[];for(let I=0;I<r.length;I++){const w=r[I];try{n(k=>k.map((T,D)=>D===I?{...T,status:"uploading",progress:0}:T)),console.log(`Uploading file ${I+1}/${r.length}: ${w.file.name}`);const j=new FormData;j.append("photo",w.file);const N=await K.post("/api/photos/upload-single",j,{headers:{"Content-Type":void 0},timeout:12e4,onUploadProgress:k=>{if(k.total){const T=Math.round(k.loaded*100/k.total);n(D=>D.map((O,M)=>M===I?{...O,progress:Math.min(T,95)}:O))}}});if(N.status===200)n(k=>k.map((T,D)=>D===I?{...T,status:"success",progress:100}:T)),R++,h({success:R,total:r.length}),console.log(` Successfully uploaded: ${w.file.name}`);else throw new Error(`Upload failed with status: ${N.status}`)}catch(j){console.error(` Error uploading ${w.file.name}:`,j),n(N=>N.map((k,T)=>T===I?{...k,status:"error",progress:0}:k)),S.push(w.file.name)}}if(R>0&&d(R),S.length>0){const I=`${S.length} photo(s) failed to upload:
${S.join(", ")}

Would you like to retry the failed uploads?`;if(confirm(I)){n(j=>j.map(N=>N.status==="error"?{...N,status:"pending",progress:0}:N)),x();return}}setTimeout(()=>{e(),setTimeout(()=>{t()},2e3)},1e3),l(!1)},C=R=>{switch(R){case"success":return i.jsx(Js,{className:"w-5 h-5 text-green-500"});case"error":return i.jsx(Wt,{className:"w-5 h-5 text-red-500"});case"uploading":return i.jsx("div",{className:"w-5 h-5 border-2 border-apple-blue-light border-t-transparent rounded-full animate-spin"});default:return i.jsx(BE,{className:"w-5 h-5 text-apple-secondary-label"})}};return i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl apple-shadow max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-apple-separator",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-apple-blue-light/10 rounded-full flex items-center justify-center",children:i.jsx(zr,{className:"w-5 h-5 text-apple-blue-light"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-apple-label",children:"Upload Photos"}),i.jsx("p",{className:"text-sm text-apple-secondary-label",children:"Share your beautiful memories"})]})]}),i.jsx("button",{onClick:t,className:"w-8 h-8 rounded-full bg-apple-gray-6/10 hover:bg-apple-gray-6/20 flex items-center justify-center transition-colors",children:i.jsx($e,{className:"w-4 h-4 text-apple-secondary-label"})})]}),i.jsx("div",{className:"p-6",children:r.length===0?i.jsxs("div",{className:`border-2 border-dashed rounded-2xl p-12 text-center transition-all duration-200 ${s?"border-apple-blue-light bg-apple-blue-light/5":"border-apple-separator hover:border-apple-blue-light/50 hover:bg-apple-gray-6/5"}`,onDrop:y,onDragOver:b,onDragLeave:g,children:[i.jsx("div",{className:"w-16 h-16 bg-apple-blue-light/10 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Xv,{className:"w-8 h-8 text-apple-blue-light"})}),i.jsx("h3",{className:"text-lg font-medium text-apple-label mb-2",children:"Drop photos here or click to browse"}),i.jsx("p",{className:"text-apple-secondary-label mb-6",children:"Support for JPEG, PNG, HEIC and more. Images are automatically optimized for faster uploads!"}),i.jsx("button",{onClick:()=>{var R;return(R=u.current)==null?void 0:R.click()},className:"px-8 py-4 bg-apple-blue hover:bg-apple-blue-dark text-white rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:"Choose Photos"}),i.jsx("input",{ref:u,type:"file",multiple:!0,accept:"image/*",onChange:R=>m(R.target.files),className:"hidden"})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:r.map(R=>i.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-apple-gray-6/5 rounded-xl",children:[i.jsx("img",{src:R.preview,alt:R.file.name,className:"w-12 h-12 object-cover rounded-lg"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-sm font-medium text-apple-label truncate",children:R.file.name}),R.status==="uploading"&&i.jsx("span",{className:"text-xs text-apple-blue-light font-medium",children:"Uploading..."})]}),i.jsxs("p",{className:"text-xs text-apple-secondary-label",children:[(R.file.size/1024/1024).toFixed(1)," MB"]}),(R.status==="uploading"||R.status==="success")&&i.jsx("div",{className:"w-full bg-apple-gray-6/20 rounded-full h-1.5 mt-1",children:i.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${R.status==="success"?"bg-green-500":"bg-apple-blue-light"}`,style:{width:`${R.progress}%`}})}),R.status==="error"&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Upload failed"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[C(R.status),R.status==="pending"&&i.jsx("button",{onClick:()=>v(R.id),className:"w-6 h-6 rounded-full bg-apple-gray-6/10 hover:bg-red-500/10 flex items-center justify-center transition-colors",children:i.jsx($e,{className:"w-3 h-3 text-apple-secondary-label hover:text-red-500"})})]})]},R.id))}),!a&&i.jsxs("button",{onClick:()=>{var R;return(R=u.current)==null?void 0:R.click()},className:"w-full p-3 border border-dashed border-apple-separator rounded-xl text-apple-blue-light hover:bg-apple-blue-light/5 transition-colors flex items-center justify-center space-x-2",children:[i.jsx(lt,{className:"w-4 h-4"}),i.jsx("span",{children:"Add More Photos"})]}),i.jsx("input",{ref:u,type:"file",multiple:!0,accept:"image/*",onChange:R=>m(R.target.files),className:"hidden"})]})}),c.success>0&&c.success===c.total&&!a&&i.jsx("div",{className:"p-6 border-t border-apple-separator bg-gradient-to-r from-green-50 to-emerald-50",children:i.jsxs("div",{className:"text-center animate-bounce-in",children:[i.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Js,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:"text-xl font-semibold text-green-700 mb-2",children:"Upload Successful! "}),i.jsxs("p",{className:"text-green-600 mb-4",children:[c.success," photo",c.success!==1?"s":""," uploaded successfully"]}),i.jsx("div",{className:"flex justify-center space-x-2",children:[...Array(3)].map((R,S)=>i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-sparkle",style:{animationDelay:`${S*.2}s`}},S))})]})}),r.length>0&&!a&&c.success===0&&i.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-apple-separator bg-apple-gray-6/5",children:[i.jsx("div",{className:"text-sm text-apple-secondary-label",children:a?i.jsxs("span",{children:["Uploading ",c.success,"/",c.total," photos..."]}):i.jsxs("span",{children:[r.length," photo",r.length!==1?"s":""," selected"]})}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:t,disabled:a,className:"px-4 py-2 text-apple-secondary-label hover:text-apple-label transition-colors disabled:opacity-50",children:"Cancel"}),i.jsx("button",{onClick:x,disabled:a||r.length===0,className:"apple-button-primary px-6 py-2 rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Uploading...":`Upload ${r.length} Photo${r.length!==1?"s":""}`})]})]})]})})};function KP(){const[e,t]=E.useState([]),[r,n]=E.useState([]),[s,o]=E.useState(!0),[a,l]=E.useState(!1),[c,h]=E.useState("medium"),[u,d]=E.useState(null),[f,p]=E.useState(!1),[m,y]=E.useState(0);E.useEffect(()=>{b()},[]),E.useEffect(()=>{e.length>=0&&g()},[e]);const b=async()=>{try{o(!0);const N=await K.get("/api/photos/all");t(N.data),y(N.data.length)}catch(N){console.error("Error fetching photos:",N)}finally{o(!1)}},g=async()=>{try{const k=(await K.get("/api/categories")).data,T={id:-1,name:"Favorites",color:"#ef4444",photos:e.filter(D=>D.isFavorite),photoCount:e.filter(D=>D.isFavorite).length};n([T,...k])}catch(N){console.error("Error fetching categories:",N)}},v=async()=>{l(!1),await b(),await g()},x=async N=>{try{const k=e.find(D=>D.id===N),T=!(k!=null&&k.isFavorite);await K.post(`/api/photos/${N}/favorite`,{favorite:T}),t(D=>D.map(O=>O.id===N?{...O,isFavorite:T}:O)),await g()}catch(k){console.error("Error toggling favorite:",k)}},C=N=>{d(N),p(!0)},R=N=>{t(k=>k.map(T=>T.id===N.id?N:T)),d(N)},S=N=>{t(k=>k.filter(T=>T.id!==N)),p(!1),d(null)},I=()=>{switch(c){case"small":return"w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 lg:w-32 lg:h-32";case"medium":return"w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 lg:w-48 lg:h-48";case"large":return"w-32 h-32 sm:w-40 sm:h-40 md:w-52 md:h-52 lg:w-64 lg:h-64";default:return"w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 lg:w-48 lg:h-48"}},w=()=>{switch(c){case"small":return"grid-cols-4 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-8 xl:grid-cols-10";case"medium":return"grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7";case"large":return"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6";default:return"grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7"}},j=(N,k=!1)=>{const T=()=>{if(k)return N.length;switch(c){case"small":return Math.min(8,N.length);case"medium":return Math.min(6,N.length);case"large":return Math.min(5,N.length);default:return Math.min(6,N.length)}},D=N.slice(0,T());return i.jsx("div",{className:`grid ${w()} gap-4`,children:D.map(O=>i.jsx("div",{className:"relative group",children:i.jsxs("div",{className:`${I()} relative overflow-hidden rounded-lg cursor-pointer transition-transform hover:scale-105`,onClick:()=>C(O),children:[i.jsx("img",{src:`${xr}/api/photos/image/${O.filename}?size=thumbnail`,alt:O.originalName,className:"w-full h-full object-cover",loading:"lazy",onClick:()=>openModal(O)}),i.jsx("button",{onClick:M=>{M.stopPropagation(),x(O.id)},className:"absolute top-3 left-3 p-2 bg-white/90 backdrop-blur-sm rounded-full hover:bg-white active:scale-95 transition-all duration-200 opacity-0 group-hover:opacity-100 shadow-sm hover:shadow-md hidden md:block",children:i.jsx(ze,{className:`h-4 w-4 transition-all duration-200 ${O.isFavorite?"text-red-500 fill-current scale-110":"text-gray-600 hover:text-red-400"}`})})]})},O.id))})};return s?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})}):i.jsxs("div",{className:"space-y-6 fade-in",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Photo Gallery"}),i.jsx("p",{className:"text-gray-600",children:"Your beautiful memories organized by categories"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-2",children:[i.jsxs(be,{to:"/recycle-bin",className:"group bg-white/80 backdrop-blur-sm hover:bg-white/90 active:bg-gray-50 text-gray-700 px-4 py-3 sm:px-5 sm:py-2.5 rounded-2xl sm:rounded-xl transition-all duration-200 flex items-center justify-center gap-2.5 sm:gap-2 shadow-sm hover:shadow-md border border-gray-200/60 font-medium text-sm sm:text-base min-h-[44px] sm:min-h-[40px]",children:[i.jsx(Xt,{className:"w-4 h-4 text-gray-600 group-hover:text-gray-700 transition-colors"}),i.jsx("span",{className:"hidden sm:inline",children:"Recycle Bin"}),i.jsx("span",{className:"sm:hidden",children:"Recycle"})]}),i.jsxs(be,{to:"/categories",className:"group bg-white/80 backdrop-blur-sm hover:bg-white/90 active:bg-gray-50 text-gray-700 px-4 py-3 sm:px-5 sm:py-2.5 rounded-2xl sm:rounded-xl transition-all duration-200 flex items-center justify-center gap-2.5 sm:gap-2 shadow-sm hover:shadow-md border border-gray-200/60 font-medium text-sm sm:text-base min-h-[44px] sm:min-h-[40px]",children:[i.jsx(os,{className:"w-4 h-4 text-gray-600 group-hover:text-gray-700 transition-colors"}),i.jsx("span",{className:"hidden sm:inline",children:"Manage Categories"}),i.jsx("span",{className:"sm:hidden",children:"Categories"})]}),i.jsxs("button",{onClick:()=>l(!0),className:"group bg-blue-500 hover:bg-blue-600 active:bg-blue-700 text-white px-4 py-3 sm:px-5 sm:py-2.5 rounded-2xl sm:rounded-xl transition-all duration-200 flex items-center justify-center gap-2.5 sm:gap-2 shadow-sm hover:shadow-md font-medium text-sm sm:text-base min-h-[44px] sm:min-h-[40px]",children:[i.jsx(lt,{className:"w-4 h-4 transition-transform group-hover:scale-110"}),i.jsx("span",{className:"hidden sm:inline",children:"Add Photos"}),i.jsx("span",{className:"sm:hidden",children:"Add"})]})]})]}),i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(os,{className:"h-4 w-4 text-gray-500"}),i.jsxs("select",{value:c,onChange:N=>h(N.target.value),className:"px-3 py-2 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 bg-white/80 backdrop-blur-sm transition-all duration-200 font-medium text-gray-700 shadow-sm hover:shadow-md",children:[i.jsx("option",{value:"small",children:"Small"}),i.jsx("option",{value:"medium",children:"Medium"}),i.jsx("option",{value:"large",children:"Large"})]})]})}),i.jsxs("div",{className:"mb-12",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-apple-label",children:"All Photos"}),i.jsxs(be,{to:"/photos",className:"text-apple-blue hover:text-apple-blue-dark font-medium transition-colors",children:["View All (",m,")"]})]}),e.length>0?i.jsx("div",{children:j(e,!1)}):i.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl p-12 text-center",children:[i.jsx(zr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No photos yet"}),i.jsx("p",{className:"text-gray-500",children:"Start uploading to create your gallery!"})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Categories"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(N=>{const k=N.id===-1?e.filter(T=>T.isFavorite):e.filter(T=>T.categories.some(D=>D.id===N.id));return i.jsxs("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden border border-apple-separator",children:[i.jsx("div",{className:"p-4 border-b border-apple-separator",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:N.color}}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:N.name})]}),i.jsxs("span",{className:"text-sm text-gray-500",children:["(",k.length,")"]})]})}),i.jsxs("div",{className:"p-4",children:[k.length>0?i.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[k.slice(0,3).map(T=>i.jsx("div",{className:"aspect-square relative overflow-hidden rounded-lg",children:i.jsx("img",{src:`${xr}/api/photos/image/${T.filename}?size=thumbnail`,alt:T.originalName,className:"w-full h-full object-cover hover:scale-110 transition-transform duration-300 cursor-pointer",onClick:()=>C(T)})},T.id)),k.length>3&&i.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg flex items-center justify-center",children:i.jsxs("span",{className:"text-sm text-gray-500 font-medium",children:["+",k.length-3]})})]}):i.jsx("div",{className:"h-24 bg-gray-50 rounded-lg flex items-center justify-center mb-3",children:i.jsx("p",{className:"text-gray-400 text-sm",children:"No photos yet"})}),N.id===-1?i.jsx(be,{to:"/photos?filter=favorites",className:"block w-full text-center bg-white/80 backdrop-blur-sm hover:bg-white/90 active:bg-gray-50 text-gray-700 py-3 px-4 rounded-xl transition-all duration-200 text-sm font-medium border border-gray-200/60 shadow-sm hover:shadow-md",children:"View All Favorites"}):i.jsx(be,{to:`/category/${N.id}`,className:"block w-full text-center bg-white/80 backdrop-blur-sm hover:bg-white/90 active:bg-gray-50 text-gray-700 py-3 px-4 rounded-xl transition-all duration-200 text-sm font-medium border border-gray-200/60 shadow-sm hover:shadow-md",children:"View All Photos"})]})]},N.id)})})]}),e.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Xv,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No photos yet"}),i.jsx("p",{className:"text-gray-500 mb-6",children:"Start building your gallery by uploading your first photos!"}),i.jsxs("button",{onClick:()=>l(!0),className:"group inline-flex items-center px-8 py-4 bg-blue-500 hover:bg-blue-600 active:bg-blue-700 text-white rounded-2xl transition-all duration-200 font-medium shadow-sm hover:shadow-md gap-3",children:[i.jsx(lt,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),"Add Your First Photo"]})]}),a&&i.jsx(ew,{onClose:()=>l(!1),onUploadComplete:v}),f&&u&&i.jsx(Kf,{photo:u,onClose:()=>{p(!1),d(null)},onPhotoUpdate:R,onPhotoDelete:S})]})}function QP(){var k;const{id:e}=jv(),[t,r]=E.useState(null),[n,s]=E.useState([]),[o,a]=E.useState([]),[l,c]=E.useState(!0),[h,u]=E.useState(!1),[d,f]=E.useState(""),[p,m]=E.useState(!1),[y,b]=E.useState(!1),[g,v]=E.useState([]),x=T=>{try{let D;if(Array.isArray(T)){const[O,M,A,P=0,F=0,L=0]=T;D=new Date(O,M-1,A,P,F,L)}else{const O=T.includes("T")?T.split("T")[0]:T;D=new Date(O)}return isNaN(D.getTime())?"Invalid Date":D.toLocaleDateString()}catch{return"Invalid Date"}};E.useEffect(()=>{e&&(C(),R(),S())},[e]);const C=async()=>{try{const T=await K.get(`/api/photos/${e}`);r(T.data),v(T.data.categories.map(D=>D.id))}catch(T){console.error("Error fetching photo:",T)}finally{c(!1)}},R=async()=>{try{const T=await K.get(`/api/photos/${e}/notes`);s(T.data)}catch(T){console.error("Error fetching notes:",T)}},S=async()=>{try{const T=await K.get("/api/categories");a(T.data)}catch(T){console.error("Error fetching categories:",T)}},I=async()=>{try{await K.post(`/api/photos/${e}/favorite`),u(!h)}catch(T){console.error("Error toggling favorite:",T)}},w=async T=>{if(T.preventDefault(),!!d.trim()){m(!0);try{await K.post(`/api/photos/${e}/notes`,{content:d.trim()}),f(""),await R()}catch(D){console.error("Error adding note:",D),alert("Error adding note. Please try again.")}finally{m(!1)}}},j=async()=>{try{await K.put(`/api/photos/${e}/categories`,{categoryIds:g}),b(!1),await C()}catch(T){console.error("Error updating categories:",T),alert("Error updating categories. Please try again.")}},N=T=>{v(D=>D.includes(T)?D.filter(O=>O!==T):[...D,T])};return l?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})}):t?i.jsxs("div",{className:"space-y-6 fade-in",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(be,{to:"/gallery",className:"inline-flex items-center text-gray-500 hover:text-gray-700 transition-colors",children:[i.jsx(is,{className:"h-5 w-5 mr-2"}),"Back to Gallery"]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:I,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:i.jsx(ze,{className:`h-5 w-5 ${h?"text-red-500 fill-current":"text-gray-600"}`})}),i.jsx("button",{onClick:()=>b(!0),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:i.jsx(as,{className:"h-5 w-5 text-gray-600"})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsx("div",{className:"glass-effect rounded-xl overflow-hidden love-shadow",children:i.jsx("img",{src:`${xr}/api/photos/image/${t.filename}`,alt:t.originalName,className:"w-full h-auto max-h-96 object-contain bg-gray-50"})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:t.originalName}),t.caption&&i.jsx("p",{className:"text-gray-600 mb-4",children:t.caption}),i.jsxs("div",{className:"space-y-3 text-sm text-gray-500",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(hc,{className:"h-4 w-4 mr-2"}),i.jsxs("span",{children:["Uploaded by ",((k=t.uploader)==null?void 0:k.name)||"Unknown"]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(at,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:x(t.createdAt)})]})]})]}),i.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Categories"}),i.jsx("button",{onClick:()=>b(!0),className:"text-gray-500 hover:text-gray-700 transition-colors",children:i.jsx(ti,{className:"h-4 w-4"})})]}),t.categories.length>0?i.jsx("div",{className:"flex flex-wrap gap-2",children:t.categories.map(T=>i.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium text-white",style:{backgroundColor:T.color},children:T.name},T.id))}):i.jsx("p",{className:"text-gray-500 text-sm",children:"No categories assigned"})]}),i.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notes"}),i.jsx(WE,{className:"h-5 w-5 text-gray-500"})]}),i.jsx("form",{onSubmit:w,className:"mb-6",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("input",{type:"text",value:d,onChange:T=>f(T.target.value),placeholder:"Add a note...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent"}),i.jsx("button",{type:"submit",disabled:p||!d.trim(),className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?"...":i.jsx(lt,{className:"h-4 w-4"})})]})}),i.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:n.length>0?n.map(T=>{var D;return i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx("p",{className:"text-gray-800 mb-2",children:T.content}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[i.jsxs("span",{children:["By ",((D=T.author)==null?void 0:D.name)||"Unknown"]}),i.jsx("span",{children:x(T.createdAt)})]})]},T.id)}):i.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No notes yet. Be the first to add one!"})})]})]})]}),y&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Manage Categories"}),i.jsx("button",{onClick:()=>b(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:i.jsx($e,{className:"h-5 w-5"})})]}),i.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto mb-6",children:o.map(T=>i.jsxs("label",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:g.includes(T.id),onChange:()=>N(T.id),className:"rounded border-gray-300 text-gray-600 focus:ring-gray-400"}),i.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:T.color}}),i.jsx("span",{className:"text-gray-800",children:T.name})]},T.id))}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:()=>b(!1),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-lg transition-colors",children:"Cancel"}),i.jsx("button",{onClick:j,className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors",children:"Update"})]})]})})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-600 mb-4",children:"Photo not found"}),i.jsxs(be,{to:"/gallery",className:"inline-flex items-center text-gray-500 hover:text-gray-700 transition-colors",children:[i.jsx(is,{className:"h-5 w-5 mr-2"}),"Back to Gallery"]})]})}const JP=({onDayClick:e})=>{const[t,r]=E.useState(new Date),[n,s]=E.useState([]),[o,a]=E.useState(!1),l=new Date,c=t.getFullYear(),h=t.getMonth();E.useEffect(()=>{u()},[c,h]);const u=async()=>{a(!0);try{const w=await K.get("/api/memories");s(w.data)}catch(w){console.error("Error fetching memories:",w),s([])}finally{a(!1)}},d=new Date(c,h,1),f=new Date(c,h+1,0),p=d.getDay(),m=f.getDate(),y=n.filter(w=>{let j,N;if(Array.isArray(w.date))j=w.date[1],N=w.date[0];else{const T=w.date.toString(),[D,O,M]=T.split("-").map(Number);j=O,N=D}const k=j-1===h;if(w.type==="event"&&w.endDate){let T,D;Array.isArray(w.endDate)?(T=w.endDate[1],D=w.endDate[0]):[D,T]=w.endDate.toString().split("-").map(Number);const O=new Date(c,h,1),M=new Date(N,j-1,1),A=new Date(D,T-1,31),P=M<=O&&A>=O;return k||P}return k}),b={},g=(w,j)=>{b[w]||(b[w]=[]),b[w].push(j)};y.forEach(w=>{let j,N,k;if(Array.isArray(w.date))j=w.date[2],N=w.date[1],k=w.date[0];else{const T=w.date.toString(),[D,O,M]=T.split("-").map(Number);j=M,N=O,k=D}if(w.type==="event"&&w.endDate){let T,D,O;Array.isArray(w.endDate)?(T=w.endDate[2],D=w.endDate[1],O=w.endDate[0]):[O,D,T]=w.endDate.toString().split("-").map(Number);let M,A;N-1===h&&k===c?M=j:M=1,D-1===h&&O===c?A=T:D>h+1||O>c?A=m:A=M;for(let P=M;P<=A;P++)g(P,w)}else if(N-1===h){if(w.type==="event"&&k!==c)return;g(j,w)}});const v=w=>{r(j=>{const N=new Date(j);return w==="prev"?N.setMonth(j.getMonth()-1):N.setMonth(j.getMonth()+1),N})},x=w=>{const j=`${c}-${String(h+1).padStart(2,"0")}-${String(w).padStart(2,"0")}`,N=b[w]||[];e(j,N)},C=w=>{switch(w){case"anniversary":return"";case"milestone":return"";case"event":return"";default:return""}},R=()=>{const w=[];for(let j=0;j<p;j++)w.push(i.jsx("div",{className:"h-16"},`empty-${j}`));for(let j=1;j<=m;j++){const N=l.getFullYear()===c&&l.getMonth()===h&&l.getDate()===j,k=b[j]||[],T=k.length>0;w.push(i.jsxs("div",{onClick:()=>x(j),className:`h-10 md:h-16 flex flex-col items-center justify-center cursor-pointer rounded-lg transition-all duration-200 relative overflow-hidden ${N?"bg-gradient-to-br from-blue-500 to-blue-600 text-white font-semibold shadow-md":T?"bg-blue-50 text-blue-900 hover:bg-blue-100 border border-blue-200":"hover:bg-gray-50 text-gray-700 border border-transparent hover:border-gray-200"}`,children:[i.jsx("span",{className:`text-sm md:text-base font-medium ${N?"text-white":T?"text-blue-900":"text-gray-700"}`,children:j}),T&&i.jsxs("div",{className:"md:hidden flex items-center justify-center space-x-0.5 mt-1",children:[k.slice(0,3).map((D,O)=>i.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${N?"bg-white":"bg-blue-500"}`,title:D.title},D.id)),k.length>3&&i.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${N?"bg-white opacity-60":"bg-blue-300"}`})]}),T&&i.jsx("div",{className:"hidden md:flex flex-col items-center justify-center mt-1 w-full px-1 min-h-0 flex-1",children:k.length<=2?k.map((D,O)=>i.jsxs("div",{className:"flex items-center justify-center w-full mb-0.5 last:mb-0",children:[i.jsx("span",{className:"text-xs mr-1",children:C(D.type)}),i.jsx("span",{className:`text-xs truncate max-w-12 ${N?"text-white":"text-blue-700"}`,children:D.title})]},D.id)):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-center w-full mb-0.5",children:[i.jsx("span",{className:"text-xs mr-1",children:C(k[0].type)}),i.jsx("span",{className:`text-xs truncate max-w-12 ${N?"text-white":"text-blue-700"}`,children:k[0].title})]}),i.jsxs("span",{className:`text-xs font-semibold ${N?"text-white":"text-blue-600"}`,children:["+",k.length-1]})]})})]},j))}return w},S=["January","February","March","April","May","June","July","August","September","October","November","December"],I=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return i.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:[S[h]," ",c]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>v("prev"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:i.jsx(Wd,{className:"h-5 w-5 text-gray-600"})}),i.jsx("button",{onClick:()=>v("next"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:i.jsx(cn,{className:"h-5 w-5 text-gray-600"})})]})]}),i.jsx("div",{className:"grid grid-cols-7 gap-1 md:gap-2 mb-2",children:I.map(w=>i.jsxs("div",{className:"h-8 flex items-center justify-center text-xs md:text-sm font-semibold text-gray-600 bg-gray-50 rounded-md",children:[i.jsx("span",{className:"hidden sm:inline",children:w}),i.jsx("span",{className:"sm:hidden",children:w.charAt(0)})]},w))}),i.jsx("div",{className:"grid grid-cols-7 gap-1 md:gap-2",children:R()}),i.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 md:gap-6 mt-6 text-xs text-gray-500",children:[i.jsxs("div",{className:"flex items-center space-x-1.5",children:[i.jsx("span",{className:"text-sm",children:""}),i.jsx("span",{className:"hidden sm:inline",children:"Anniversary"})]}),i.jsxs("div",{className:"flex items-center space-x-1.5",children:[i.jsx("span",{className:"text-sm",children:""}),i.jsx("span",{className:"hidden sm:inline",children:"Milestone"})]}),i.jsxs("div",{className:"flex items-center space-x-1.5",children:[i.jsx("span",{className:"text-sm",children:""}),i.jsx("span",{className:"hidden sm:inline",children:"Special Moment"})]}),i.jsxs("div",{className:"flex items-center space-x-1.5",children:[i.jsx("span",{className:"text-sm",children:""}),i.jsx("span",{className:"hidden sm:inline",children:"Event"})]}),i.jsxs("div",{className:"flex items-center space-x-1.5",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),i.jsx("span",{className:"hidden sm:inline",children:"Today"})]}),i.jsxs("div",{className:"flex items-center space-x-1.5 md:hidden",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),i.jsx("span",{children:"Has memories"})]})]})]})},ZP=({isOpen:e,onClose:t,date:r,memories:n,onEdit:s,onDelete:o})=>{if(!e)return null;const a=c=>{switch(c){case"anniversary":return i.jsx(ze,{className:"h-5 w-5 text-red-500"});case"milestone":return i.jsx(ri,{className:"h-5 w-5 text-yellow-500"});case"event":return i.jsx(at,{className:"h-5 w-5 text-blue-500"});case"special_moment":return i.jsx(Ve,{className:"h-5 w-5 text-purple-400"});default:return i.jsx(Ve,{className:"h-5 w-5 text-purple-400"})}},l=c=>{try{const h=c.includes("T")?c.split("T")[0]:c,[u,d,f]=h.split("-").map(Number),p=new Date(u,d-1,f);return isNaN(p.getTime())?"Invalid Date":p.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return"Invalid Date"}};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Memories for ",l(r)]}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n.length," ",n.length===1?"memory":"memories"," found"]})]}),i.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx($e,{className:"h-5 w-5"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:n.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(at,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No memories found for this date"})]}):i.jsx("div",{className:"space-y-4",children:n.map(c=>{var h;return i.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 hover:border-gray-300 transition-colors",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a(c.type),i.jsx("h3",{className:"font-semibold text-gray-800",children:c.title})]}),i.jsx("p",{className:"text-gray-600 mb-3",children:c.description}),i.jsx("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:i.jsxs("span",{children:["Added by ",((h=c.creator)==null?void 0:h.name)||"Unknown"]})})]}),i.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[i.jsx("button",{onClick:()=>s(c),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Edit memory",children:i.jsx(ti,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>o(c.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Delete memory",children:i.jsx(Xt,{className:"h-4 w-4"})})]})]})},c.id)})})})]})})};function eD(){var ye,ge;const[e,t]=Cv(),[r,n]=E.useState([]),[s,o]=E.useState(!1);E.useEffect(()=>{console.log(" showForm state changed:",s)},[s]);const[a,l]=E.useState(null),[c,h]=E.useState({title:"",description:"",date:"",type:"special_moment",selectedPhotos:[]}),[u,d]=E.useState(!1),[f,p]=E.useState("all"),[m,y]=E.useState("all"),[b,g]=E.useState("asc"),[v,x]=E.useState(""),[C,R]=E.useState([]),[S,I]=E.useState(!1),[w,j]=E.useState([]),[N,k]=E.useState(null),[T,D]=E.useState(!1),[O,M]=E.useState(null),[A,P]=E.useState(!1);E.useEffect(()=>{F(),z()},[]),E.useEffect(()=>{$()},[f,m,b]);const F=async()=>{try{const _=await K.get("/api/memories");n(_.data)}catch(_){console.error("Error fetching memories:",_)}},L=()=>{let _=e.get("openMemory");if(_||(_=sessionStorage.getItem("openMemoryId")),console.log("Current URL:",window.location.href),console.log("SearchParams toString:",e.toString()),console.log("SessionStorage openMemoryId:",sessionStorage.getItem("openMemoryId")),console.log("Final openMemoryId:",_),console.log("Available memories:",r.length),_&&r.length>0){const V=r.find(Y=>Y.id===parseInt(_));console.log("Found memory to open:",V),V&&(console.log("Opening memory detail modal"),k(V),D(!0),sessionStorage.removeItem("openMemoryId"),setTimeout(()=>{t({})},100))}};E.useEffect(()=>{r.length>0&&L()},[r,e]);const $=async()=>{try{const _=new URLSearchParams;f!=="all"&&_.append("type",f),m!=="all"&&_.append("timeFilter",m),b&&_.append("sortOrder",b);const V=_.toString()?`/api/memories/filter?${_.toString()}`:"/api/memories",Y=await fetch(V);if(Y.ok){const J=await Y.json();n(J)}}catch(_){console.error("Error fetching filtered memories:",_)}},z=async()=>{try{const _=await K.get("/api/photos?limit=100");j(_.data.photos||[])}catch(_){console.error("Error fetching photos:",_)}},B=async _=>{if(console.log(" handleSubmit called",{event:_,formData:c,submitting:u}),_.preventDefault(),u){console.log(" Already submitting, returning early");return}if(!c.description.trim()){console.log(" Validation failed: empty description"),alert("Please enter a description for this memory.");return}console.log(" Starting memory submission..."),d(!0);try{const V={...c,selectedPhotos:(c.selectedPhotos||[]).map(J=>J.toString())};console.log(" Prepared memory data for backend:",V);let Y;if(a?(console.log(" Updating existing memory:",a.id),Y=await K.put(`/api/memories/${a.id}`,V)):(console.log(" Creating new memory with data:",V),Y=await K.post("/api/memories",V)),console.log(" Memory API response:",Y),c.type==="event"&&c.selectedPhotos&&c.selectedPhotos.length>0){const J=a?a.id:Y.data.memory.id,te=(c.selectedPhotos||[]).map(ne=>Number(ne));console.log(" Associating photos with memory:",{memoryId:J,photoIds:te});try{await K.post(`/api/memories/${J}/photos`,te),console.log(" Photos associated successfully")}catch(ne){console.error(" Error associating photos:",ne),alert("Memory created but failed to associate photos. You can edit the memory to add photos later.")}}console.log(" Refreshing memories list..."),await F(),console.log(" Memory created/updated successfully!"),U()}catch(V){console.error(" Error saving memory:",V),V.response&&(console.error(" Error response data:",V.response.data),console.error(" Error response status:",V.response.status)),alert("Error saving memory. Please try again.")}finally{d(!1),console.log(" Form submission completed")}},q=_=>{l(_),h({title:_.title,description:_.description,date:(()=>{if(Array.isArray(_.date)){const[V,Y,J]=_.date;return`${V}-${Y.toString().padStart(2,"0")}-${J.toString().padStart(2,"0")}`}else if(typeof _.date=="string")return _.date.includes("T")?_.date.split("T")[0]:_.date;return""})(),endDate:(()=>{if(Array.isArray(_.endDate)){const[V,Y,J]=_.endDate;return`${V}-${Y.toString().padStart(2,"0")}-${J.toString().padStart(2,"0")}`}else if(typeof _.endDate=="string")return _.endDate.includes("T")?_.endDate.split("T")[0]:_.endDate})(),type:_.type,selectedPhotos:_.photos?_.photos.map(V=>V.id):[]}),o(!0)},H=async _=>{if(confirm("Are you sure you want to delete this memory?"))try{console.log(" Deleting memory with ID:",_),console.log(" Current selectedDayMemories before deletion:",C),await K.delete(`/api/memories/${_}`),console.log(" Memory deleted successfully from backend"),R(V=>{const Y=V.filter(J=>J.id!==_);return console.log(" Updated selectedDayMemories after deletion:",Y),Y}),await F(),console.log(" Memories refetched successfully")}catch(V){console.error(" Error deleting memory:",V),alert("Error deleting memory. Please try again.")}},U=()=>{h({title:"",description:"",date:"",endDate:void 0,type:"special_moment",selectedPhotos:[]}),l(null),o(!1)},X=_=>{k(_),D(!0)},ee=()=>{k(null),D(!1)},ae=_=>{M(_),P(!0)},se=()=>{M(null),P(!1)},ie=(_,V)=>{console.log(" Day clicked in Memories component:",{date:_,memoriesCount:V.length,memories:V}),x(_),R(V),I(!0),console.log(" Modal state updated - showDayModal: true")},de=_=>{switch(_){case"anniversary":return i.jsx(ze,{className:"h-5 w-5 text-red-500",fill:"currentColor"});case"milestone":return i.jsx(ri,{className:"h-5 w-5 text-yellow-500",fill:"currentColor"});case"event":return i.jsx(at,{className:"h-5 w-5 text-blue-500"});default:return i.jsx(Ve,{className:"h-5 w-5 text-purple-400"})}},me=_=>{switch(_){case"anniversary":return"Anniversary";case"milestone":return"Milestone";case"event":return"Event";case"all":return"memory";default:return"Special Moment"}},Je=r,Ge=r.filter(_=>_.type!=="event").map(_=>{let V;if(Array.isArray(_.date)){const[le,ce,je]=_.date;V=new Date(le,ce-1,je)}else if(typeof _.date=="string"){const le=_.date.includes("T")?_.date.split("T")[0]:_.date,[ce,je,Ye]=le.split("-").map(Number);V=new Date(ce,je-1,Ye)}else V=new Date(_.date);if(isNaN(V.getTime()))return null;const Y=new Date,J=Y.getFullYear(),te=new Date(J,V.getMonth(),V.getDate()),ne=te>=Y?te:new Date(J+1,V.getMonth(),V.getDate());return{..._,nextAnniversaryDate:ne,daysUntil:Math.ceil((ne.getTime()-Y.getTime())/(1e3*60*60*24))}}).filter(_=>_!==null).sort((_,V)=>_.daysUntil-V.daysUntil).slice(0,3);return i.jsxs("div",{className:"space-y-6 fade-in",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"font-heading text-4xl text-gray-800 mb-2",children:"Our Memories"}),i.jsx("p",{className:"text-lg text-gray-600",children:"Special moments and milestones in our journey together"})]}),i.jsxs("button",{onClick:()=>{console.log(' "Add Memory" button clicked'),o(!0)},className:"flex items-center space-x-2 romantic-gradient text-white px-6 py-3 rounded-lg hover:opacity-90 transition-opacity",children:[i.jsx(lt,{className:"h-5 w-5"}),i.jsx("span",{children:"Add Memory"})]})]}),Ge.length>0&&i.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(ei,{className:"h-5 w-5 mr-2 text-purple-400"}),"Upcoming Anniversaries"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Ge.map(_=>{let V;try{if(_.date&&typeof _.date=="string"){const J=_.date.includes("T")?_.date.split("T")[0]:_.date,[te,ne,le]=J.split("-").map(Number);V=new Date(te,ne-1,le)}else V=new Date(_.date)}catch{V=new Date}const Y=_.nextAnniversaryDate&&!isNaN(_.nextAnniversaryDate.getTime())?_.nextAnniversaryDate.getFullYear()-V.getFullYear():0;return i.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-purple-50 rounded-lg p-4 border border-pink-200",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[de(_.type),i.jsx("span",{className:"text-xs text-gray-500",children:_.nextAnniversaryDate&&!isNaN(_.nextAnniversaryDate.getTime())?_.nextAnniversaryDate.toLocaleDateString():"Invalid Date"})]}),i.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:_.title}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:_.description}),i.jsxs("div",{className:"flex items-center justify-between",children:[Y>0&&i.jsxs("p",{className:"text-xs text-purple-500 font-medium",children:[Y," year",Y!==1?"s":""," anniversary"]}),i.jsx("p",{className:"text-xs text-gray-500",children:_.daysUntil===0?"Today!":`${_.daysUntil} days`})]})]},_.id)})})]}),i.jsx(JP,{onDayClick:ie}),i.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(at,{className:"h-5 w-5 mr-2 text-purple-400"}),"All Memories"]}),i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap items-stretch sm:items-center gap-4",children:[i.jsxs("div",{className:"relative flex-1 sm:flex-none sm:min-w-[140px]",children:[i.jsx("label",{className:"block text-gray-500 text-sm font-medium mb-1",children:"Type"}),i.jsxs("select",{value:f,onChange:_=>p(_.target.value),className:"w-full appearance-none bg-white border border-gray-300 rounded-lg px-4 py-3 pr-8 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 transition-colors touch-manipulation",children:[i.jsx("option",{value:"all",children:"All Types"}),i.jsx("option",{value:"anniversary",children:"Anniversary"}),i.jsx("option",{value:"milestone",children:"Milestone"}),i.jsx("option",{value:"special_moment",children:"Special Moment"}),i.jsx("option",{value:"event",children:"Event"})]}),i.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none mt-6",children:i.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),i.jsxs("div",{className:"relative flex-1 sm:flex-none sm:min-w-[140px]",children:[i.jsx("label",{className:"block text-gray-500 text-sm font-medium mb-1",children:"Time Period"}),i.jsxs("select",{value:m,onChange:_=>y(_.target.value),className:"w-full appearance-none bg-white border border-gray-300 rounded-lg px-4 py-3 pr-8 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 transition-colors touch-manipulation",children:[i.jsx("option",{value:"all",children:"All Time"}),i.jsx("option",{value:"thisMonth",children:"This Month"}),i.jsx("option",{value:"last6Months",children:"Last 6 Months"}),i.jsx("option",{value:"thisYear",children:"This Year"}),i.jsx("option",{value:"lastYear",children:"Last Year"}),i.jsx("option",{value:"older",children:"2+ Years Ago"})]}),i.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none mt-6",children:i.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),i.jsxs("div",{className:"relative flex-1 sm:flex-none sm:min-w-[140px]",children:[i.jsx("label",{className:"block text-gray-500 text-sm font-medium mb-1",children:"Sort Order"}),i.jsxs("select",{value:b,onChange:_=>g(_.target.value),className:"w-full appearance-none bg-white border border-gray-300 rounded-lg px-4 py-3 pr-8 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 transition-colors touch-manipulation",children:[i.jsx("option",{value:"desc",children:"Newest First"}),i.jsx("option",{value:"asc",children:"Oldest First"})]}),i.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none mt-6",children:i.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})}),Je.length>0?i.jsx("div",{className:"space-y-4",children:Je.map(_=>{var V;return i.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:shadow-md transition-all cursor-pointer group",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",onClick:()=>X(_),children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[de(_.type),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 group-hover:text-blue-600 transition-colors",children:_.title}),i.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:me(_.type)})]}),i.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:_.description}),_.type==="event"&&_.photos&&_.photos.length>0&&i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"flex flex-wrap gap-2",children:[_.photos.slice(0,4).map(Y=>i.jsx("div",{className:"relative",children:i.jsx("img",{src:`/api/photos/image/${Y.filename}`,alt:Y.originalName,className:"w-16 h-16 object-cover rounded-lg border border-gray-200",title:Y.caption||Y.originalName})},Y.id)),_.photos.length>4&&i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg border border-gray-200 flex items-center justify-center",children:i.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:["+",_.photos.length-4]})})]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[_.photos.length," photo",_.photos.length!==1?"s":""," attached"]})]}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(at,{className:"h-4 w-4"}),i.jsx("span",{children:_.type==="event"&&_.endDate?(()=>{try{let Y,J,te;if(Array.isArray(_.date))[Y,J,te]=_.date;else if(typeof _.date=="string")[Y,J,te]=(_.date.includes("T")?_.date.split("T")[0]:_.date).split("-").map(Number);else return"Invalid Date";let ne,le,ce;if(Array.isArray(_.endDate))[ne,le,ce]=_.endDate;else if(typeof _.endDate=="string")[ne,le,ce]=(_.endDate.includes("T")?_.endDate.split("T")[0]:_.endDate).split("-").map(Number);else return"Invalid Date";const je=new Date(Y,J-1,te),Ye=new Date(ne,le-1,ce);return`${isNaN(je.getTime())?"Invalid Date":je.toLocaleDateString()} - ${isNaN(Ye.getTime())?"Invalid Date":Ye.toLocaleDateString()}`}catch{return"Invalid Date"}})():(()=>{try{let Y,J,te;if(Array.isArray(_.date))[Y,J,te]=_.date;else if(typeof _.date=="string")[Y,J,te]=(_.date.includes("T")?_.date.split("T")[0]:_.date).split("-").map(Number);else return"Invalid Date";const ne=new Date(Y,J-1,te);return isNaN(ne.getTime())?"Invalid Date":ne.toLocaleDateString()}catch{return"Invalid Date"}})()})]}),i.jsx("span",{children:""}),i.jsxs("span",{children:["Added by ",((V=_.creator)==null?void 0:V.name)||"Unknown"]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 ml-4 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx("button",{onClick:Y=>{Y.stopPropagation(),q(_)},className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(ti,{className:"h-4 w-4"})}),i.jsx("button",{onClick:Y=>{Y.stopPropagation(),H(_.id)},className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:i.jsx(Xt,{className:"h-4 w-4"})})]})]})},_.id)})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(at,{className:"h-16 w-16 text-pink-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:f==="all"?"No memories yet":`No ${me(f).toLowerCase()}s yet`}),i.jsx("p",{className:"text-gray-500 mb-6",children:"Start documenting your special moments and milestones!"}),i.jsxs("button",{onClick:()=>{console.log(' "Add First Memory" button clicked'),o(!0)},className:"inline-flex items-center px-6 py-3 romantic-gradient text-white rounded-lg hover:opacity-90 transition-opacity",children:[i.jsx(lt,{className:"h-5 w-5 mr-2"}),"Add First Memory"]})]})]}),i.jsx(ZP,{isOpen:S,onClose:()=>I(!1),date:v,memories:C,onEdit:q,onDelete:H}),T&&N&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[85vh] overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:N.title}),i.jsx("button",{onClick:ee,className:"w-8 h-8 flex items-center justify-center rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors",children:""})]}),i.jsx("div",{className:"overflow-y-auto max-h-[calc(85vh-140px)] p-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[de(N.type),i.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 text-sm rounded-full",children:me(N.type)})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Description"}),i.jsx("p",{className:"text-gray-600 leading-relaxed",children:N.description})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Date"}),i.jsx("p",{className:"text-gray-600",children:N.type==="event"&&N.endDate?(()=>{try{let _,V,Y;if(Array.isArray(N.date))[_,V,Y]=N.date;else if(typeof N.date=="string")[_,V,Y]=(N.date.includes("T")?N.date.split("T")[0]:N.date).split("-").map(Number);else return"Invalid Date";let J,te,ne;if(Array.isArray(N.endDate))[J,te,ne]=N.endDate;else if(typeof N.endDate=="string")[J,te,ne]=(N.endDate.includes("T")?N.endDate.split("T")[0]:N.endDate).split("-").map(Number);else return"Invalid Date";const le=new Date(_,V-1,Y),ce=new Date(J,te-1,ne);return`${isNaN(le.getTime())?"Invalid Date":le.toLocaleDateString()} - ${isNaN(ce.getTime())?"Invalid Date":ce.toLocaleDateString()}`}catch{return"Invalid Date"}})():(()=>{try{let _,V,Y;if(Array.isArray(N.date))[_,V,Y]=N.date;else if(typeof N.date=="string")[_,V,Y]=(N.date.includes("T")?N.date.split("T")[0]:N.date).split("-").map(Number);else return"Invalid Date";const J=new Date(_,V-1,Y);return isNaN(J.getTime())?"Invalid Date":J.toLocaleDateString()}catch{return"Invalid Date"}})()})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Added by"}),i.jsx("p",{className:"text-gray-600",children:((ye=N.creator)==null?void 0:ye.name)||"Unknown"})]})]}),N.type==="event"&&N.photos&&N.photos.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:["Photos (",N.photos.length,")"]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:N.photos.map(_=>i.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>ae(_),children:[i.jsx("img",{src:`/api/photos/image/${_.filename}`,alt:_.originalName,className:"w-full h-24 object-cover rounded-lg border border-gray-200 group-hover:shadow-lg group-hover:scale-105 transition-all duration-200"}),i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 rounded-lg transition-all flex items-center justify-center",children:i.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity bg-white bg-opacity-90 rounded-full p-2",children:i.jsx("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})}),_.caption&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-60 text-white text-xs p-2 rounded-b-lg",children:i.jsx("p",{className:"truncate",children:_.caption})})]},_.id))})]})]})}),i.jsxs("div",{className:"flex space-x-3 p-6 border-t border-gray-100 bg-gray-50",children:[i.jsxs("button",{onClick:()=>{ee(),q(N)},className:"flex-1 px-6 py-3 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium flex items-center justify-center space-x-2",children:[i.jsx(ti,{className:"h-4 w-4"}),i.jsx("span",{children:"Edit Memory"})]}),i.jsx("button",{onClick:ee,className:"flex-1 px-6 py-3 romantic-gradient text-white rounded-lg hover:opacity-90 transition-colors font-medium",children:"Close"})]})]})}),A&&O&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"relative max-w-4xl max-h-full w-full h-full flex items-center justify-center",children:[i.jsx("button",{onClick:se,className:"absolute top-4 right-4 w-10 h-10 flex items-center justify-center rounded-full bg-black bg-opacity-50 text-white hover:bg-opacity-70 transition-colors z-10",children:""}),i.jsxs("div",{className:"relative max-w-full max-h-full",children:[i.jsx("img",{src:`/api/photos/image/${O.filename}`,alt:O.originalName,className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl"}),O.caption&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 text-white p-4 rounded-b-lg",children:i.jsx("p",{className:"text-center text-sm",children:O.caption})})]}),i.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-50 text-white px-4 py-2 rounded-full text-sm",children:O.originalName})]})}),s&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-2 md:p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[95vh] md:max-h-[85vh] overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center p-4 md:p-6 border-b border-gray-100",children:[i.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-800",children:a?"Edit Memory":"Create Memory"}),i.jsx("button",{onClick:U,className:"w-8 h-8 flex items-center justify-center rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors",children:""})]}),i.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-140px)] md:max-h-[calc(85vh-140px)]",children:i.jsxs("form",{onSubmit:B,className:"p-4 md:p-6 space-y-4 md:space-y-5",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),i.jsx("input",{type:"text",value:c.title,onChange:_=>h({...c,title:_.target.value}),className:"w-full px-3 md:px-4 py-2 md:py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all text-sm md:text-base",placeholder:"Enter memory title",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",c.type==="event"?"Start Date":"Date"]}),i.jsx("input",{type:"date",value:c.date,onChange:_=>h({...c,date:_.target.value}),className:"w-full px-3 md:px-4 py-2 md:py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all text-sm md:text-base",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),i.jsxs("select",{value:c.type,onChange:_=>h({...c,type:_.target.value}),className:"w-full px-3 md:px-4 py-2 md:py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all text-sm md:text-base",children:[i.jsx("option",{value:"special_moment",children:"Special Moment"}),i.jsx("option",{value:"anniversary",children:"Anniversary"}),i.jsx("option",{value:"milestone",children:"Milestone"}),i.jsx("option",{value:"event",children:"Event"})]})]})]}),c.type==="event"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" End Date (Optional)"}),i.jsx("input",{type:"date",value:c.endDate||"",onChange:_=>h({...c,endDate:_.target.value||void 0}),min:c.date,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty for single-day events"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),i.jsx("textarea",{value:c.description,onChange:_=>h({...c,description:_.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all resize-none",rows:3,placeholder:"Share the story behind this memory...",required:!0})]}),c.type==="event"&&i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Select Photos (",((ge=c.selectedPhotos)==null?void 0:ge.length)||0," selected)"]}),i.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:i.jsx("div",{className:"max-h-64 overflow-y-auto p-3",children:i.jsx("div",{className:"grid grid-cols-3 gap-3",children:w.map(_=>{var V,Y;return i.jsxs("div",{className:`relative cursor-pointer rounded-lg border-2 transition-all ${(V=c.selectedPhotos)!=null&&V.includes(_.id)?"border-pink-500 bg-pink-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{const J=c.selectedPhotos||[],ne=J.includes(_.id)?J.filter(le=>le!==_.id):[...J,_.id];h({...c,selectedPhotos:ne})},children:[i.jsx("img",{src:`/api/photos/image/${_.filename}`,alt:_.originalName,className:"w-full h-20 object-cover rounded-md"}),((Y=c.selectedPhotos)==null?void 0:Y.includes(_.id))&&i.jsx("div",{className:"absolute top-1 right-1 w-5 h-5 bg-pink-500 text-white rounded-full flex items-center justify-center text-xs",children:""}),_.caption&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-60 text-white text-xs p-1 rounded-b-md",children:i.jsx("p",{className:"truncate",children:_.caption})})]},_.id)})})})})]})]}),i.jsxs("div",{className:"flex space-x-3 pt-4 md:pt-6 border-t border-gray-100 bg-gray-50",children:[i.jsx("button",{type:"button",onClick:U,className:"flex-1 px-4 md:px-6 py-2 md:py-3 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm md:text-base",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:u,onClick:_=>{console.log(" Submit button clicked"),console.log(" Form data at submit:",c)},className:"flex-1 px-4 md:px-6 py-2 md:py-3 romantic-gradient text-white rounded-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium text-sm md:text-base",children:u?a?"Updating...":"Creating...":a?"Update Memory":"Create Memory"})]})]})})]})})]})}const tD=E.memo(eD),rD=({prizes:e,size:t=300})=>{const r=(u,d)=>u==="MONEY"?d>=500?i.jsx(Vt,{className:"w-4 h-4 text-yellow-400"}):d>=100?i.jsx(Vt,{className:"w-4 h-4 text-white"}):d>=50?i.jsx(Vt,{className:"w-4 h-4 text-white"}):d>=25?i.jsx(Vt,{className:"w-4 h-4 text-white"}):d>=10?i.jsx(Vt,{className:"w-4 h-4 text-gray-800"}):i.jsx(Vt,{className:"w-4 h-4 text-gray-600"}):i.jsx(Ve,{className:"w-4 h-4 text-white"}),n=u=>{const d=u.replace("#",""),f=parseInt(d.substr(0,2),16),p=parseInt(d.substr(2,2),16),m=parseInt(d.substr(4,2),16);return(.299*f+.587*p+.114*m)/255>.5?"#000000":"#FFFFFF"},s=t/2,o=s,a=s,l=e.map((u,d)=>{const f=360/e.length,p=d*f,m=(d+1)*f;return{...u,startAngle:p,endAngle:m,segmentAngle:f}}),c=(u,d)=>{const f=u*Math.PI/180,p=d*Math.PI/180,m=o+(s-20)*Math.cos(f),y=a+(s-20)*Math.sin(f),b=o+(s-20)*Math.cos(p),g=a+(s-20)*Math.sin(p),v=d-u<=180?"0":"1";return[`M ${o} ${a}`,`L ${m} ${y}`,`A ${s-20} ${s-20} 0 ${v} 1 ${b} ${g}`,"Z"].join(" ")},h=(u,d)=>{const f=(u+d)/2,p=d-u,m=s-20,y=.45,b=.8,g=Math.min(p/180,1),v=y+(b-y)*Math.sqrt(g),x=m*v,R=(f-90)*Math.PI/180;return{x:o+x*Math.cos(R),y:a+x*Math.sin(R)}};return e.length===0?i.jsx("div",{className:"flex items-center justify-center bg-gray-100 rounded-full border-4 border-gray-300",style:{width:t,height:t},children:i.jsx("p",{className:"text-gray-500 text-center px-4",children:"No prizes configured"})}):i.jsxs("div",{className:"relative",children:[i.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",children:[l.map((u,d)=>i.jsx("g",{children:i.jsx("path",{d:c(u.startAngle,u.endAngle),fill:u.color,stroke:"#ffffff",strokeWidth:"2"})},d)),i.jsx("circle",{cx:o,cy:a,r:"20",fill:"#ffffff",stroke:"#e5e7eb",strokeWidth:"2"})]}),i.jsx("div",{className:"absolute inset-0",children:l.map((u,d)=>{const f=h(u.startAngle,u.endAngle),p=n(u.color);return i.jsx("div",{className:"absolute flex flex-col items-center justify-center text-center pointer-events-none",style:{left:f.x,top:f.y,transform:"translate(-50%, -50%)",color:p,minWidth:"max-content"},children:i.jsxs("div",{className:"flex flex-col items-center space-y-1 px-1",children:[r(u.prizeType,u.prizeValue),i.jsx("div",{className:"text-xs font-medium max-w-16 truncate",title:u.prizeName,children:u.prizeName})]})},d)})}),i.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1",style:{marginTop:"10px"},children:i.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-b-8 border-l-transparent border-r-transparent border-b-red-500"})})]})},nD=`
  .slider {
    -webkit-appearance: none;
    appearance: none;
    height: 12px;
    border-radius: 6px;
    outline: none;
    transition: all 0.2s ease;
  }
  
  .slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: #3B82F6;
    cursor: pointer;
    border: 3px solid white;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    transition: all 0.2s ease;
  }
  
  .slider::-webkit-slider-thumb:hover {
    background: #2563EB;
    transform: scale(1.1);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  }
  
  .slider::-moz-range-thumb {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: #3B82F6;
    cursor: pointer;
    border: 3px solid white;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    transition: all 0.2s ease;
  }
  
  .slider::-moz-range-thumb:hover {
    background: #2563EB;
    transform: scale(1.1);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  }
`,sD=({targetUserId:e,targetUserName:t,onPrizesChange:r})=>{const[n,s]=E.useState([]),[o,a]=E.useState(!0),[l,c]=E.useState(!1),[h,u]=E.useState(!1),[d,f]=E.useState(new Set),{showToast:p}=Uo(),m=[{value:"#F3F4F6",name:"Light Gray"},{value:"#E5E7EB",name:"Gray"},{value:"#D1D5DB",name:"Medium Gray"},{value:"#9CA3AF",name:"Dark Gray"},{value:"#6B7280",name:"Slate Gray"},{value:"#4B5563",name:"Charcoal"},{value:"#374151",name:"Dark Charcoal"},{value:"#1F2937",name:"Black"},{value:"#FEF3C7",name:"Light Yellow"},{value:"#FDE68A",name:"Pale Yellow"},{value:"#FCD34D",name:"Yellow"},{value:"#F59E0B",name:"Orange Yellow"},{value:"#D97706",name:"Orange"},{value:"#92400E",name:"Dark Orange"},{value:"#78350F",name:"Brown"},{value:"#FEE2E2",name:"Light Pink"},{value:"#FECACA",name:"Pale Pink"},{value:"#FCA5A5",name:"Pink"},{value:"#F87171",name:"Rose"},{value:"#EF4444",name:"Red"},{value:"#DC2626",name:"Dark Red"},{value:"#B91C1C",name:"Crimson"},{value:"#991B1B",name:"Maroon"},{value:"#7F1D1D",name:"Dark Maroon"},{value:"#DBEAFE",name:"Light Blue"},{value:"#BFDBFE",name:"Pale Blue"},{value:"#93C5FD",name:"Sky Blue"},{value:"#60A5FA",name:"Blue"},{value:"#3B82F6",name:"Royal Blue"},{value:"#2563EB",name:"Dark Blue"},{value:"#1D4ED8",name:"Navy Blue"},{value:"#1E40AF",name:"Deep Blue"},{value:"#1E3A8A",name:"Midnight Blue"},{value:"#D1FAE5",name:"Light Green"},{value:"#A7F3D0",name:"Pale Green"},{value:"#6EE7B7",name:"Mint Green"},{value:"#34D399",name:"Green"},{value:"#10B981",name:"Emerald"},{value:"#059669",name:"Dark Green"},{value:"#047857",name:"Forest Green"}];E.useEffect(()=>{y()},[e]);const y=async()=>{try{a(!0);const N=e?`/api/wheel-config/other-user-wheel/${e}`:"/api/wheel-config/my-wheel",k=await K.get(N);if(k.data.hasConfiguration&&k.data.prizes)s(k.data.prizes.map((T,D)=>({id:T.id,prizeName:T.prizeName,prizeDescription:T.prizeDescription,prizeType:T.prizeType,prizeValue:T.prizeValue,probability:parseFloat(T.probability),color:T.color,displayOrder:T.displayOrder||D}))),u(!0),r&&r(k.data.prizes.map((T,D)=>({id:T.id,prizeName:T.prizeName,prizeDescription:T.prizeDescription,prizeType:T.prizeType,prizeValue:T.prizeValue,probability:parseFloat(T.probability),color:T.color,displayOrder:T.displayOrder||D})));else{const T=b();s(T),u(!1),r&&r(T)}}catch(N){console.error("Error loading wheel configuration:",N),p("Failed to load wheel configuration","general"),s(b()),u(!1)}finally{a(!1)}},b=()=>[{prizeName:"$1",prizeDescription:"Win $1 love points",prizeType:"MONEY",prizeValue:1,probability:45,color:"#F3F4F6",displayOrder:0},{prizeName:"$5",prizeDescription:"Win $5 love points",prizeType:"MONEY",prizeValue:5,probability:25,color:"#E5E7EB",displayOrder:1},{prizeName:"$10",prizeDescription:"Win $10 love points",prizeType:"MONEY",prizeValue:10,probability:15,color:"#D1D5DB",displayOrder:2},{prizeName:"$25",prizeDescription:"Win $25 love points",prizeType:"MONEY",prizeValue:25,probability:10,color:"#9CA3AF",displayOrder:3},{prizeName:"$77",prizeDescription:"Win $77 love points",prizeType:"MONEY",prizeValue:77,probability:2.5,color:"#6B7280",displayOrder:4},{prizeName:"$100",prizeDescription:"Win $100 love points",prizeType:"MONEY",prizeValue:100,probability:1.5,color:"#4B5563",displayOrder:5},{prizeName:"$500",prizeDescription:"Win $500 love points",prizeType:"MONEY",prizeValue:500,probability:.5,color:"#374151",displayOrder:6},{prizeName:"$1000",prizeDescription:"Win $1000 love points",prizeType:"MONEY",prizeValue:1e3,probability:.5,color:"#1F2937",displayOrder:7}],g=N=>{const k=new Set(d);k.has(N)?k.delete(N):k.add(N),f(k)},v=()=>{const N={prizeName:"New Prize",prizeDescription:"Description for new prize",prizeType:"MONEY",prizeValue:1,probability:1,color:m[Math.floor(Math.random()*m.length)].value,displayOrder:n.length},k=[...n,N];s(k),f(T=>new Set([...T,n.length])),r&&r(k)},x=N=>{if(n.length<=2){p("You must have at least 2 prizes","general");return}const k=n.filter((T,D)=>D!==N);s(k),r&&r(k)},C=(N,k,T)=>{const D=[...n];D[N]={...D[N],[k]:T},s(D),r&&r(D)},R=(N,k)=>{const T=[...n];T[N].probability=k,s(T),r&&r(T)},S=N=>{const k=[...n];k[N].locked=!k[N].locked,s(k),r&&r(k)},I=()=>{const N=b();s(N),p("Reset to default configuration","general"),r&&r(N)},w=async()=>{var N,k;try{c(!0);const T=n.reduce(($,z)=>$+z.probability,0);if(Math.abs(T-100)>.1){p("Total probability must equal 100%","general");return}for(const $ of n)if(!$.prizeName.trim()||!$.prizeDescription.trim()||$.prizeValue<=0){p("All prize fields must be filled with valid values","general");return}const D=e?`/api/wheel-config/save-for-user/${e}`:"/api/wheel-config/save",O=[...n],M=O.reduce(($,z)=>$+z.probability,0);console.log("Original total probability:",M);const A=100/M;O.forEach($=>{$.probability=$.probability*A});let P=0;for(let $=0;$<O.length-1;$++)O[$].probability=Math.round(O[$].probability*1e8)/1e8,P+=O[$].probability;O[O.length-1].probability=Math.round((100-P)*1e8)/1e8;const F=O.reduce(($,z)=>$+z.probability,0);console.log("Normalized total probability:",F);const L={prizes:O.map($=>({prizeName:$.prizeName,prizeDescription:$.prizeDescription,prizeType:$.prizeType,prizeValue:$.prizeValue,probability:$.probability,color:$.color}))};await K.post(D,L),p(e?`Successfully saved wheel configuration for ${t}`:"Successfully saved wheel configuration","general"),u(!0)}catch(T){console.error("Error saving wheel configuration:",T),p(((k=(N=T.response)==null?void 0:N.data)==null?void 0:k.message)||"Failed to save wheel configuration","general")}finally{c(!1)}},j=n.reduce((N,k)=>N+k.probability,0);return o?i.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),i.jsx("div",{className:"space-y-3",children:[1,2,3].map(N=>i.jsx("div",{className:"h-20 bg-gray-200 rounded"},N))})]})}):i.jsxs(i.Fragment,{children:[i.jsx("style",{children:nD}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-violet-50 p-6 border-b border-gray-100",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:i.jsx(os,{className:"w-5 h-5 text-purple-500"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?`${t}'s Wheel Configuration`:"My Wheel Configuration"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Configure prizes and probabilities"})]})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Math.abs(j-100)<.1?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:["Total: ",j.toFixed(1),"%"]})})]})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Live Preview"}),i.jsx("div",{className:"flex justify-center",children:i.jsx(rD,{prizes:n,size:280})})]}),i.jsxs("div",{className:"space-y-6 mb-8",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Prize Configuration"}),n.map((N,k)=>{var D;const T=d.has(k);return i.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl overflow-hidden hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>g(k),children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:N.color}}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium text-gray-900",children:N.prizeName}),i.jsxs("span",{className:"text-sm text-gray-500",children:[N.probability.toFixed(1),"% chance"]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:O=>{O.stopPropagation(),x(k)},disabled:n.length<=2,className:`p-2 rounded-lg transition-colors ${n.length<=2?"text-gray-400 cursor-not-allowed":"text-red-500 hover:text-red-700 hover:bg-red-50"}`,title:n.length<=2?"Minimum 2 prizes required":"Remove prize",children:i.jsx(Xt,{className:"w-4 h-4"})}),T?i.jsx(ln,{className:"w-5 h-5 text-gray-400"}):i.jsx(cn,{className:"w-5 h-5 text-gray-400"})]})]}),T&&i.jsx("div",{className:"px-4 pb-4 border-t border-gray-200",children:i.jsxs("div",{className:"pt-4",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prize Name"}),i.jsx("input",{type:"text",value:N.prizeName,onChange:O=>C(k,"prizeName",O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent",placeholder:"e.g., $10"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),i.jsx("input",{type:"text",value:N.prizeDescription,onChange:O=>C(k,"prizeDescription",O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent",placeholder:"Prize description"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),i.jsxs("select",{value:N.prizeType,onChange:O=>C(k,"prizeType",O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent",children:[i.jsx("option",{value:"MONEY",children:" Money"}),i.jsx("option",{value:"GIFT",children:" Gift"}),i.jsx("option",{value:"EXPERIENCE",children:" Experience"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Value"}),i.jsx("input",{type:"number",value:N.prizeValue,onChange:O=>C(k,"prizeValue",parseFloat(O.target.value)||0),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent",placeholder:"Value",min:"0",step:"0.01"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-center space-x-2 p-2 border border-gray-300 rounded-lg cursor-pointer hover:border-purple-400 transition-colors",onClick:()=>{const O=document.getElementById(`color-select-${k}`);O&&O.focus()},children:[i.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:N.color}}),i.jsx("span",{className:"text-sm text-gray-700",children:((D=m.find(O=>O.value===N.color))==null?void 0:D.name)||"Custom Color"}),i.jsx("svg",{className:"w-4 h-4 text-gray-400 ml-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i.jsx("select",{id:`color-select-${k}`,value:N.color,onChange:O=>C(k,"color",O.target.value),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",children:m.map(O=>i.jsx("option",{value:O.value,children:O.name},O.value))})]}),i.jsx("div",{className:"mt-2 grid grid-cols-8 gap-1",children:m.map(O=>i.jsx("button",{type:"button",onClick:()=>C(k,"color",O.value),className:`w-6 h-6 rounded-full border-2 hover:scale-110 transition-transform ${N.color===O.value?"border-purple-400 ring-2 ring-purple-200":"border-white shadow-sm"}`,style:{backgroundColor:O.value},title:O.name},O.value))})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Probability"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>S(k),className:`p-1 rounded transition-colors ${N.locked?"text-yellow-600 hover:text-yellow-700 bg-yellow-50 hover:bg-yellow-100":"text-gray-400 hover:text-gray-600 hover:bg-gray-50"}`,title:N.locked?"Unlock probability":"Lock probability",children:N.locked?i.jsx(Tf,{className:"w-4 h-4"}):i.jsx(Yv,{className:"w-4 h-4"})}),i.jsxs("span",{className:"text-sm font-semibold text-purple-500",children:[N.probability.toFixed(1),"%"]})]})]}),i.jsx("input",{type:"range",min:"0.1",max:"95",step:"0.1",value:N.probability,onChange:O=>R(k,parseFloat(O.target.value)),disabled:N.locked,className:`w-full h-3 bg-gray-200 rounded-lg appearance-none slider ${N.locked?"cursor-not-allowed opacity-50":"cursor-pointer"}`,style:{background:`linear-gradient(to right, ${N.color} 0%, ${N.color} ${N.probability}%, #e5e7eb ${N.probability}%, #e5e7eb 100%)`}}),"                    "]})]})})]},k)})]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[i.jsxs("button",{onClick:v,className:"flex items-center justify-center space-x-2 px-4 py-2.5 bg-gradient-to-r from-purple-400 to-purple-500 text-white rounded-lg hover:from-purple-500 hover:to-purple-600 transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 text-sm",children:[i.jsx(lt,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"Add Prize"})]}),i.jsxs("button",{onClick:I,className:"flex items-center justify-center space-x-2 px-4 py-2.5 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-lg hover:from-gray-600 hover:to-gray-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 text-sm",children:[i.jsx(Hd,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"Reset"})]}),i.jsxs("button",{onClick:()=>{const N=[...n],k=N.filter(A=>A.locked),T=N.filter(A=>!A.locked);if(T.length===0){p("Cannot normalize: all probabilities are locked","general");return}const O=100-k.reduce((A,P)=>A+P.probability,0);if(O<=0){p("Cannot normalize: locked probabilities exceed 100%","general");return}const M=T.reduce((A,P)=>A+P.probability,0);if(M>0){const A=O/M;T.forEach(P=>{P.probability=P.probability*A})}s(N),r&&r(N),p("Probabilities normalized to 100%","general")},disabled:Math.abs(j-100)<.1,className:`flex items-center justify-center space-x-2 px-4 py-2.5 rounded-lg font-medium transition-all duration-200 shadow-md transform text-sm ${Math.abs(j-100)<.1?"bg-gray-400 cursor-not-allowed text-white":"bg-gradient-to-r from-purple-400 to-purple-500 text-white hover:from-purple-500 hover:to-purple-600 hover:shadow-lg hover:-translate-y-0.5"}`,children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),i.jsx("span",{className:"font-medium",children:"Normalize"})]})]}),i.jsx("div",{className:"flex justify-center",children:i.jsxs("button",{onClick:w,disabled:l||Math.abs(j-100)>.1,className:`flex items-center justify-center space-x-2 px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-md transform ${l||Math.abs(j-100)>.1?"bg-gray-400 cursor-not-allowed text-white":"bg-gradient-to-r from-green-500 to-green-600 text-white hover:from-green-600 hover:to-green-700 hover:shadow-lg hover:-translate-y-0.5"}`,children:[i.jsx(Pf,{className:"w-5 h-5"}),i.jsx("span",{children:l?"Saving...":"Save Configuration"})]})})]}),Math.abs(j-100)>.1&&i.jsx("div",{className:"mt-6 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"text-amber-500",children:i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),i.jsxs("p",{className:"text-sm font-medium text-amber-800",children:["Total probability must equal 100% to save the configuration. Current total: ",j.toFixed(1),"%"]})]})})]})]})]})};function iD(){const{user:e}=Dn(),[t,r]=E.useState(null),[n,s]=E.useState([]),[o,a]=E.useState({totalPrizes:0,totalValue:0}),[l,c]=E.useState(!0),[h,u]=E.useState(0),[d,f]=E.useState(!0),[p,m]=E.useState(null),[y,b]=E.useState([]),[g,v]=E.useState([]),[x,C]=E.useState({relationship:!0,stats:!1,prizeHistory:!1,wheelConfig:!1}),R=I=>{C(w=>({...w,[I]:!w[I]}))};E.useEffect(()=>{const I=async()=>{try{const k=await K.get("/api/auth/relationship-info");r(k.data)}catch(k){console.error("Error fetching relationship info:",k)}},w=async()=>{try{c(!0);const[k,T]=await Promise.all([K.get("/api/wheel-prizes"),K.get("/api/wheel-prizes/stats")]);s(k.data.prizes||[]),a(T.data)}catch(k){console.error("Error fetching wheel prizes:",k)}finally{c(!1)}},j=async()=>{try{f(!0);const k=await K.get("/api/opportunities/stats");u(k.data.unused||0)}catch(k){console.error("Error fetching user data:",k)}finally{f(!1)}},N=async()=>{try{const k=await K.get("/api/auth/other-user");m(k.data)}catch(k){console.error("Error fetching other user:",k)}};I(),w(),j(),N()},[]),E.useEffect(()=>{p&&(async()=>{try{const w=await K.get("/api/wheel-config/my-wheel");w.data.hasConfiguration&&w.data.prizes&&b(w.data.prizes);const j=await K.get(`/api/wheel-config/other-user-wheel/${p.id}`);j.data.hasConfiguration&&j.data.prizes&&v(j.data.prizes)}catch(w){console.error("Error fetching wheel configurations:",w)}})()},[p]);const S=I=>{try{const w=I.includes("T")?I.split("T")[0]:I,[j,N,k]=w.split("-").map(Number),T=new Date(j,N-1,k);return isNaN(T.getTime())?"Invalid Date":T.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return"Invalid Date"}};return i.jsx("div",{className:"min-h-screen bg-apple-secondary-background",children:i.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs(be,{to:"/dashboard",className:"inline-flex items-center text-apple-purple hover:text-apple-purple/80 mb-6 transition-colors",children:[i.jsx(is,{className:"h-5 w-5 mr-2"}),"Back to Dashboard"]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"bg-apple-purple/10 p-4 rounded-2xl",children:i.jsx(ze,{className:"h-8 w-8 text-apple-purple",fill:"currentColor"})})}),i.jsx("h1",{className:"font-heading text-4xl font-semibold text-apple-label mb-3",children:"Relationship Settings"}),i.jsx("p",{className:"text-apple-secondary-label text-lg",children:"Customize your love story timeline"})]})]}),i.jsxs("div",{className:"apple-card apple-shadow overflow-hidden",children:[i.jsxs("button",{onClick:()=>R("relationship"),className:"w-full p-6 flex items-center justify-between hover:bg-apple-gray-6/5 transition-colors duration-200",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-apple-purple/10 p-3 rounded-xl mr-4",children:i.jsx(at,{className:"h-6 w-6 text-apple-purple"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("h2",{className:"font-heading text-xl font-semibold text-apple-label",children:"Relationship Timeline"}),i.jsx("p",{className:"text-sm text-apple-secondary-label",children:"Your love story details"})]})]}),i.jsx("div",{className:"transition-transform duration-200",children:x.relationship?i.jsx(ln,{className:"h-5 w-5 text-apple-secondary-label"}):i.jsx(cn,{className:"h-5 w-5 text-apple-secondary-label"})})]}),i.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${x.relationship?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:i.jsx("div",{className:"px-6 pb-6",children:i.jsx("div",{className:"bg-apple-purple/5 border border-apple-purple/20 rounded-xl p-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-apple-purple mb-3",children:""}),i.jsx("div",{className:"text-lg font-semibold text-apple-label mb-2",children:"Your Love Story"}),i.jsxs("div",{className:"text-apple-secondary-label mb-3",children:["Started on ",t?S(t.startDate):"June 8th, 2020"]}),i.jsx("div",{className:"text-sm text-apple-tertiary-label",children:"Watch your days together count up in real-time in the header!"})]})})})})]}),i.jsx("div",{className:"mt-6",children:i.jsxs("div",{className:"apple-card apple-shadow overflow-hidden",children:[i.jsxs("button",{onClick:()=>R("stats"),className:"w-full p-6 flex items-center justify-between hover:bg-apple-gray-6/5 transition-colors duration-200",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`p-3 rounded-xl mr-4 ${(e==null?void 0:e.username)==="scott"?"bg-purple-100":"bg-pink-100"}`,children:i.jsx(FE,{className:`h-6 w-6 ${(e==null?void 0:e.username)==="scott"?"text-purple-400":"text-pink-600"}`})}),i.jsxs("div",{className:"text-left",children:[i.jsxs("h2",{className:"font-heading text-xl font-semibold text-apple-label",children:[(e==null?void 0:e.name)||(e==null?void 0:e.username)||"Your"," Stats"]}),i.jsx("p",{className:"text-sm text-apple-secondary-label",children:"Personal statistics and opportunities"})]})]}),i.jsx("div",{className:"transition-transform duration-200",children:x.stats?i.jsx(ln,{className:"h-5 w-5 text-apple-secondary-label"}):i.jsx(cn,{className:"h-5 w-5 text-apple-secondary-label"})})]}),i.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${x.stats?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:i.jsx("div",{className:"px-6 pb-6",children:d?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-400 mx-auto mb-2"}),i.jsx("div",{className:"text-sm text-apple-secondary-label",children:"Loading your stats..."})]}):i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6 text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:h}),i.jsx("div",{className:"text-yellow-700 font-medium mb-1",children:"Saved Opportunities"}),i.jsx("div",{className:"text-sm text-yellow-600",children:"Ready to use on prize wheel"})]})})})]})}),i.jsx("div",{className:"mt-6",children:i.jsxs("div",{className:"apple-card apple-shadow overflow-hidden",children:[i.jsxs("button",{onClick:()=>R("prizeHistory"),className:"w-full p-6 flex items-center justify-between hover:bg-apple-gray-6/5 transition-colors duration-200",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-purple-100 p-3 rounded-xl mr-4",children:i.jsx(ng,{className:"h-6 w-6 text-purple-400"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("h2",{className:"font-heading text-xl font-semibold text-apple-label",children:"Prize Wheel History"}),i.jsxs("p",{className:"text-sm text-apple-secondary-label",children:[o.totalPrizes," prizes won  Total value: ",o.totalValue]})]})]}),i.jsx("div",{className:"transition-transform duration-200",children:x.prizeHistory?i.jsx(ln,{className:"h-5 w-5 text-apple-secondary-label"}):i.jsx(cn,{className:"h-5 w-5 text-apple-secondary-label"})})]}),i.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${x.prizeHistory?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:i.jsxs("div",{className:"px-6 pb-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-400 mb-1",children:o.totalPrizes}),i.jsx("div",{className:"text-sm text-purple-700",children:"Total Prizes Won"})]}),i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:o.totalValue}),i.jsx("div",{className:"text-sm text-green-700",children:"Total Value"})]})]}),l?i.jsx("div",{className:"text-center py-8",children:i.jsx("div",{className:"text-apple-secondary-label",children:"Loading prize history..."})}):n.length>0?i.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:n.map(I=>i.jsx("div",{className:"bg-apple-secondary-background border border-apple-separator rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-yellow-100 p-2 rounded-lg mr-3",children:i.jsx(Ve,{className:"h-4 w-4 text-yellow-600"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-apple-label",children:I.prizeDescription}),i.jsx("div",{className:"text-sm text-apple-secondary-label",children:new Date(I.wonAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-semibold text-green-600",children:["+",I.prizeValue]}),i.jsx("div",{className:"text-xs text-apple-tertiary-label",children:I.prizeType})]})]})},I.id))}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"bg-gray-100 p-4 rounded-2xl mb-4 inline-block",children:i.jsx(ng,{className:"h-8 w-8 text-gray-400"})}),i.jsx("div",{className:"text-apple-secondary-label mb-2",children:"No prizes won yet"}),i.jsx("div",{className:"text-sm text-apple-tertiary-label",children:"Start spinning the wheel to win prizes!"})]})]})})]})}),i.jsx("div",{className:"mt-6",children:i.jsxs("div",{className:"apple-card apple-shadow overflow-hidden",children:[i.jsxs("button",{onClick:()=>R("wheelConfig"),className:"w-full p-6 flex items-center justify-between hover:bg-apple-gray-6/5 transition-colors duration-200",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-purple-100 p-3 rounded-xl mr-4",children:i.jsx(zE,{className:"h-6 w-6 text-purple-400"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("h2",{className:"font-heading text-xl font-semibold text-apple-label",children:"Wheel Configuration"}),i.jsxs("p",{className:"text-sm text-apple-secondary-label",children:["Customize ",(p==null?void 0:p.displayName)||(p==null?void 0:p.username)||"your partner","'s prize wheel"]})]})]}),i.jsx("div",{className:"transition-transform duration-200",children:x.wheelConfig?i.jsx(ln,{className:"h-5 w-5 text-apple-secondary-label"}):i.jsx(cn,{className:"h-5 w-5 text-apple-secondary-label"})})]}),i.jsx("div",{className:`transition-all duration-300 ease-in-out ${x.wheelConfig?"max-h-96 opacity-100 overflow-y-auto":"max-h-0 opacity-0 overflow-hidden"}`,children:i.jsxs("div",{className:"px-6 pb-6",children:[i.jsx("div",{className:"text-center mb-6",children:i.jsx("p",{className:"text-apple-secondary-label",children:"Customize prize wheel settings and adjust winning probabilities"})}),i.jsx(sD,{targetUserId:p==null?void 0:p.id,targetUserName:(p==null?void 0:p.displayName)||(p==null?void 0:p.username),onPrizesChange:v})]})})]})})]})})}function oD({category:e,onClose:t,onCategoryUpdated:r}={}){const[n,s]=E.useState([]),[o,a]=E.useState(!0),[l,c]=E.useState(!1),[h,u]=E.useState(null),[d,f]=E.useState({name:"",description:"",color:"#3B82F6"}),p=[{value:"#EF4444",name:"Red"},{value:"#F59E0B",name:"Orange"},{value:"#10B981",name:"Green"},{value:"#3B82F6",name:"Blue"},{value:"#8B5CF6",name:"Purple"},{value:"#EC4899",name:"Pink"},{value:"#6B7280",name:"Gray"}];E.useEffect(()=>{m(),e&&(u(e),f({name:e.name,description:e.description||"",color:e.color})),t&&c(!0)},[e,t]);const m=async()=>{try{const x=await K.get("/api/categories");s(x.data)}catch(x){console.error("Error fetching categories:",x)}finally{a(!1)}},y=async x=>{var C,R;x.preventDefault();try{h?await K.put(`/api/categories/${h.id}`,d):await K.post("/api/categories",d),await m(),r==null||r(),v()}catch(S){console.error("Error saving category:",S),alert(((R=(C=S.response)==null?void 0:C.data)==null?void 0:R.message)||"Error saving category")}},b=async x=>{if(confirm("Are you sure you want to delete this category? This will remove it from all photos."))try{await K.delete(`/api/categories/${x}`),await m()}catch(C){console.error("Error deleting category:",C),alert("Error deleting category")}},g=x=>{u(x),f({name:x.name,description:x.description||"",color:x.color}),c(!0)},v=()=>{f({name:"",description:"",color:"#3B82F6"}),u(null),c(!1),t==null||t()};return o?i.jsx("div",{className:"flex items-center justify-center min-h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})}):i.jsxs("div",{className:"space-y-6 fade-in",children:[!t&&i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"font-heading text-4xl text-gray-800 mb-4",children:"Photo Categories"}),i.jsx("p",{className:"text-lg text-gray-600",children:"Organize your memories into meaningful collections"})]}),!t&&i.jsx("div",{className:"flex justify-center",children:i.jsxs("button",{onClick:()=>c(!0),className:"flex items-center space-x-2 bg-gray-800 hover:bg-gray-900 text-white px-6 py-3 rounded-lg transition-colors font-medium",children:[i.jsx(lt,{className:"h-5 w-5"}),i.jsx("span",{children:"Create New Category"})]})}),l&&i.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:h?"Edit Category":"Create New Category"}),i.jsx("button",{onClick:v,className:"text-gray-500 hover:text-gray-700 transition-colors",children:i.jsx($e,{className:"h-5 w-5"})})]}),i.jsxs("form",{onSubmit:y,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name"}),i.jsx("input",{type:"text",value:d.name,onChange:x=>f({...d,name:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent",placeholder:"Enter category name",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),i.jsx("textarea",{value:d.description,onChange:x=>f({...d,description:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent",placeholder:"Describe this category",rows:3})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(x=>i.jsx("button",{type:"button",onClick:()=>f({...d,color:x.value}),className:`w-8 h-8 rounded-full border-2 transition-all ${d.color===x.value?"border-gray-800 scale-110":"border-gray-300 hover:border-gray-500"}`,style:{backgroundColor:x.value},title:x.name,children:d.color===x.value&&i.jsx(Zs,{className:"h-4 w-4 text-white mx-auto"})},x.value))})]}),i.jsxs("div",{className:"flex space-x-3 pt-4",children:[i.jsx("button",{type:"submit",className:"flex-1 bg-gray-800 hover:bg-gray-900 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:h?"Update Category":"Create Category"}),i.jsx("button",{type:"button",onClick:v,className:"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"})]})]})]}),!t&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(x=>i.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:x.color}}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:x.name})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>g(x),className:"text-gray-500 hover:text-purple-500 transition-colors",children:i.jsx(ti,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>b(x.id),className:"text-gray-500 hover:text-red-600 transition-colors",children:i.jsx(Xt,{className:"h-4 w-4"})})]})]}),x.description&&i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:x.description}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[i.jsx(as,{className:"h-4 w-4"}),i.jsxs("span",{children:[x.photoCount," photos"]})]}),i.jsx("button",{onClick:()=>window.location.href=`/photos/category/${x.id}`,className:"text-gray-600 hover:text-gray-700 text-sm font-medium transition-colors",children:"View Photos"})]})]},x.id))}),n.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(as,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No categories yet"}),i.jsx("p",{className:"text-gray-500 mb-6",children:"Create your first category to start organizing your photos!"}),i.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center px-6 py-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg transition-colors",children:[i.jsx(lt,{className:"h-5 w-5 mr-2"}),"Create First Category"]})]})]})}function aD(){const[e,t]=E.useState([]),[r,n]=E.useState(!0),[s,o]=E.useState(!1),[a,l]=E.useState(null);E.useEffect(()=>{c()},[]);const c=async()=>{try{const p=await K.get("/api/categories");t(p.data)}catch(p){console.error("Error fetching categories:",p)}finally{n(!1)}},h=async p=>{if(confirm("Are you sure you want to delete this category? This will not delete the photos, only remove them from this category."))try{await K.delete(`/api/categories/${p}`),await c()}catch(m){console.error("Error deleting category:",m),alert("Error deleting category")}},u=()=>{c(),o(!1),l(null)},d=p=>{l(p),o(!0)},f=()=>{l(null),o(!0)};return r?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})}):i.jsxs("div",{className:"space-y-6 fade-in",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(be,{to:"/gallery",className:"inline-flex items-center text-gray-500 hover:text-gray-700 transition-colors p-2 hover:bg-gray-100 rounded-full",children:i.jsx(is,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Photo Categories"}),i.jsx("p",{className:"text-gray-600",children:"Organize your memories by themes and moments"})]})]}),i.jsxs("button",{onClick:f,className:"flex items-center space-x-2 bg-gray-800 hover:bg-gray-900 text-white px-6 py-3 rounded-lg transition-colors font-medium",children:[i.jsx(lt,{className:"h-5 w-5"}),i.jsx("span",{children:"New Category"})]})]}),s&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-xl max-w-md w-full",children:i.jsx(oD,{category:a,onClose:()=>{o(!1),l(null)},onCategoryUpdated:u})})}),e.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(p=>i.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow hover:scale-105 transition-transform group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:p.color}}),i.jsx("h3",{className:"font-semibold text-gray-800 truncate",children:p.name})]}),i.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx("button",{onClick:()=>d(p),className:"p-1 text-gray-500 hover:text-blue-600 transition-colors",title:"Edit category",children:i.jsx(ti,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>h(p.id),className:"p-1 text-gray-500 hover:text-red-600 transition-colors",title:"Delete category",children:i.jsx(Xt,{className:"h-4 w-4"})})]})]}),p.description&&i.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:p.description}),i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[i.jsx(as,{className:"h-4 w-4"}),i.jsxs("span",{children:[p.photoCount," ",p.photoCount===1?"photo":"photos"]})]})}),i.jsxs(be,{to:`/category/${p.id}`,className:"flex items-center justify-center space-x-2 w-full py-2 px-4 bg-gray-800 hover:bg-gray-900 text-white rounded-lg transition-colors font-medium",children:[i.jsx(Vv,{className:"h-4 w-4"}),i.jsx("span",{children:"View Photos"})]})]},p.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(as,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No categories yet"}),i.jsx("p",{className:"text-gray-500 mb-6",children:"Create your first category to start organizing your photos!"}),i.jsxs("button",{onClick:f,className:"inline-flex items-center px-6 py-3 bg-purple-400 hover:bg-purple-500 text-white rounded-lg transition-colors",children:[i.jsx(lt,{className:"h-5 w-5 mr-2"}),"Create First Category"]})]}),e.length>0&&i.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Category Overview"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-gray-700",children:e.length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Total Categories"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-gray-700",children:e.reduce((p,m)=>p+m.photoCount,0)}),i.jsx("div",{className:"text-sm text-gray-600",children:"Categorized Photos"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:Math.round(e.reduce((p,m)=>p+m.photoCount,0)/e.length)||0}),i.jsx("div",{className:"text-sm text-gray-600",children:"Avg Photos/Category"})]})]})]})]})}function lD(){var D,O;const{id:e}=jv(),[t,r]=E.useState([]),[n,s]=E.useState(null),[o,a]=E.useState(!0),[l,c]=E.useState(null),[h,u]=E.useState("medium"),[d,f]=E.useState(!1),[p,m]=E.useState(new Set),[y,b]=E.useState(null),[g,v]=E.useState(!1);E.useEffect(()=>{console.log("CategoryPhotos useEffect triggered with categoryId:",e),e?(console.log("Fetching data for categoryId:",e),x(),C()):console.log("No categoryId provided")},[e]);const x=async()=>{var M,A,P,F,L;console.log("fetchCategoryPhotos called for categoryId:",e);try{if(console.log("Setting loading to true"),a(!0),c(null),e==="-1"){console.log("Fetching favorite photos from /api/photos/favorites/all");const $=await K.get("/api/photos/favorites/all");console.log("Favorite photos response:",$.data),r($.data)}else{const $=`/api/categories/${e}/photos`;console.log("Fetching category photos from:",$);const z=await K.get($);console.log("Category photos response:",z.data),r(z.data)}console.log("Photos fetched successfully")}catch($){console.error("Error fetching category photos:",$),console.error("Error details:",{status:(M=$.response)==null?void 0:M.status,statusText:(A=$.response)==null?void 0:A.statusText,data:(P=$.response)==null?void 0:P.data,message:$.message}),((F=$.response)==null?void 0:F.status)===401||((L=$.response)==null?void 0:L.status)===403?c("Authentication required. Please log in."):c("Failed to load photos. Please try again."),r([])}finally{console.log("Setting loading to false"),a(!1)}},C=async()=>{var M,A,P,F,L;console.log("fetchCategoryInfo called for categoryId:",e);try{if(e==="-1")console.log("Setting favorites category info"),s({id:-1,name:"Favorites",color:"#ef4444"});else{const $=`/api/categories/${e}`;console.log("Fetching category info from:",$);const z=await K.get($);console.log("Category info response:",z.data),s(z.data)}console.log("Category info fetched successfully")}catch($){console.error("Error fetching category info:",$),console.error("Category info error details:",{status:(M=$.response)==null?void 0:M.status,statusText:(A=$.response)==null?void 0:A.statusText,data:(P=$.response)==null?void 0:P.data,message:$.message}),(((F=$.response)==null?void 0:F.status)===401||((L=$.response)==null?void 0:L.status)===403)&&console.error("Authentication required. Please log in."),s(null)}},R=async M=>{try{const A=t.find(F=>F.id===M),P=!(A!=null&&A.isFavorite);await K.post(`/api/photos/${M}/favorite`,{favorite:P}),r(F=>F.map(L=>L.id===M?{...L,isFavorite:P}:L)),e==="-1"&&!P&&r(F=>F.filter(L=>L.id!==M))}catch(A){console.error("Error toggling favorite:",A)}},S=M=>{m(A=>{const P=new Set(A);return P.has(M)?P.delete(M):P.add(M),P})},I=async()=>{if(p.size!==0&&confirm(`Are you sure you want to delete ${p.size} photo(s)?`))try{await K.delete("/api/photos/bulk",{data:{photoIds:Array.from(p)}}),m(new Set),f(!1),await x()}catch(M){console.error("Error deleting photos:",M),alert("Error deleting photos. Please try again.")}},w=M=>{b(M),v(!0)},j=M=>{r(A=>A.map(P=>P.id===M.id?M:P)),b(M)},N=M=>{r(A=>A.filter(P=>P.id!==M)),v(!1),b(null)},k=()=>{switch(h){case"small":return"w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 lg:w-32 lg:h-32";case"medium":return"w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 lg:w-48 lg:h-48";case"large":return"w-32 h-32 sm:w-40 sm:h-40 md:w-52 md:h-52 lg:w-64 lg:h-64";default:return"w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 lg:w-48 lg:h-48"}},T=()=>{switch(h){case"small":return"grid-cols-4 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-8 xl:grid-cols-10";case"medium":return"grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7";case"large":return"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6";default:return"grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7"}};return console.log("CategoryPhotos render - loading:",o,"error:",l,"photos.length:",t.length,"category:",n),o?(console.log("Rendering loading spinner"),i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})})):l?i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen space-y-4",children:[i.jsx("div",{className:"text-red-500 text-lg font-medium",children:l}),i.jsx("button",{onClick:()=>{c(null),x(),C()},className:"px-4 py-2 bg-purple-400 text-white rounded-lg hover:bg-purple-500 transition-colors",children:"Try Again"}),i.jsx(be,{to:"/photos",className:"text-purple-400 hover:text-purple-500 underline",children:"Back to Photos"})]}):i.jsxs("div",{className:"space-y-6 fade-in",children:[i.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(be,{to:"/photos",className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:i.jsx(is,{className:"h-5 w-5 text-gray-600"})}),i.jsxs("div",{className:"flex items-center space-x-3",children:[n&&i.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:n.color}}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:(n==null?void 0:n.name)||"Category"}),i.jsxs("p",{className:"text-gray-600",children:[t.length," photos"]})]})]})]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(os,{className:"h-4 w-4 text-gray-600"}),i.jsxs("select",{value:h,onChange:M=>u(M.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-purple-400",children:[i.jsx("option",{value:"small",children:"Small"}),i.jsx("option",{value:"medium",children:"Medium"}),i.jsx("option",{value:"large",children:"Large"})]})]}),i.jsx("button",{onClick:()=>{f(!d),m(new Set)},className:`px-3 py-1 rounded-md text-sm transition-colors ${d?"bg-purple-400 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:d?"Cancel Selection":"Select Photos"})]}),d&&p.size>0&&i.jsxs("button",{onClick:I,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[i.jsx(Xt,{className:"w-4 h-4"}),i.jsxs("span",{children:["Delete Selected (",p.size,")"]})]})]}),t.length>0?i.jsx("div",{className:`grid ${T()} gap-4`,children:t.map(M=>i.jsxs("div",{className:"relative group",children:[i.jsxs("div",{className:`${k()} relative overflow-hidden rounded-lg cursor-pointer transition-transform hover:scale-105 ${d&&p.has(M.id)?"ring-4 ring-purple-400":""}`,onClick:()=>d?S(M.id):w(M),children:[i.jsx("img",{src:`${xr}/api/photos/image/${M.filename}?size=thumbnail`,alt:M.originalName,className:"w-full h-full object-cover",loading:"lazy"}),d&&i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:p.has(M.id)&&i.jsx("div",{className:"bg-purple-400 text-white rounded-full p-1",children:i.jsx(Zs,{className:"h-4 w-4"})})}),!d&&i.jsx("button",{onClick:A=>{A.stopPropagation(),R(M.id)},className:"absolute top-2 left-2 p-1 bg-white/80 rounded-full hover:bg-white transition-colors opacity-0 group-hover:opacity-100 hidden md:block",children:i.jsx(ze,{className:`h-4 w-4 ${M.isFavorite?"text-red-500 fill-current":"text-gray-600"}`})})]}),M.caption&&i.jsx("div",{className:"mt-2",children:i.jsx("p",{className:"text-xs text-gray-600 truncate",children:M.caption})})]},M.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"text-gray-400 mb-4",children:n&&i.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center text-white text-2xl font-bold",style:{backgroundColor:n.color},children:((O=(D=n==null?void 0:n.name)==null?void 0:D.charAt(0))==null?void 0:O.toUpperCase())||"?"})}),i.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No photos in this category"}),i.jsx("p",{className:"text-gray-500",children:"Photos assigned to this category will appear here."})]}),g&&y&&i.jsx(Kf,{photo:y,onClose:()=>{v(!1),b(null)},onPhotoUpdate:j,onPhotoDelete:N})]})}function cD(){const[e]=Cv(),r=e.get("filter")==="favorites",[n,s]=E.useState([]),[o,a]=E.useState(!0),[l,c]=E.useState("medium"),[h,u]=E.useState(!1),[d,f]=E.useState(null),[p,m]=E.useState(!1),[y,b]=E.useState(0),[g,v]=E.useState(!1),[x,C]=E.useState(new Set),[R,S]=E.useState([]),[I,w]=E.useState(!1);E.useEffect(()=>{j()},[r]),E.useEffect(()=>{N()},[]);const j=async()=>{try{a(!0);const z=r?"/api/photos/favorites/all":"/api/photos/all",B=await K.get(z);s(B.data),b(B.data.length)}catch(z){console.error("Error fetching photos:",z)}finally{a(!1)}},N=async()=>{try{const z=await K.get("/api/categories");S(z.data)}catch(z){console.error("Error fetching categories:",z)}},k=async z=>{try{const B=n.find(H=>H.id===z),q=!(B!=null&&B.isFavorite);await K.post(`/api/photos/${z}/favorite`,{favorite:q}),s(H=>H.map(U=>U.id===z?{...U,isFavorite:q}:U))}catch(B){console.error("Error toggling favorite:",B)}},T=z=>{C(B=>{const q=new Set(B);return q.has(z)?q.delete(z):q.add(z),q})},D=async()=>{if(x.size!==0&&confirm(`Are you sure you want to delete ${x.size} photo(s)?`))try{await K.delete("/api/photos/bulk",{data:{photoIds:Array.from(x)}}),C(new Set),v(!1),await j()}catch(z){console.error("Error deleting photos:",z),alert("Error deleting photos. Please try again.")}},O=async z=>{if(x.size!==0)try{await K.put("/api/photos/bulk/categories",{photoIds:Array.from(x),categoryIds:z}),C(new Set),v(!1),w(!1),await j()}catch(B){console.error("Error assigning categories:",B),alert("Error assigning categories. Please try again.")}},M=z=>{f(z),u(!0)},A=z=>{s(B=>B.map(q=>q.id===z.id?z:q)),f(z)},P=z=>{s(B=>B.filter(q=>q.id!==z)),u(!1),f(null)},F=()=>{m(!1),j()},L=()=>{switch(l){case"small":return"grid-cols-4 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-8 xl:grid-cols-10";case"medium":return"grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7";case"large":return"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6";default:return"grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7"}},$=()=>{switch(l){case"small":return"aspect-square w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 lg:w-32 lg:h-32";case"medium":return"aspect-square w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 lg:w-48 lg:h-48";case"large":return"aspect-square w-32 h-32 sm:w-40 sm:h-40 md:w-52 md:h-52 lg:w-64 lg:h-64";default:return"aspect-square w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 lg:w-48 lg:h-48"}};return o?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-200 border-t-blue-500"})}):i.jsxs("div",{className:"space-y-6 fade-in",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(be,{to:"/gallery",className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:i.jsx(is,{className:"h-5 w-5 text-gray-600"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-apple-label",children:r?"Favorites":"All Photos"}),i.jsxs("p",{className:"text-apple-secondary-label",children:[y," photos"]})]})]}),i.jsx("div",{className:"flex items-center space-x-2",children:g?i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"text-sm text-apple-secondary-label",children:[x.size," selected"]}),x.size>0&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:D,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[i.jsx(Xt,{className:"w-4 h-4"}),i.jsx("span",{children:"Delete"})]}),i.jsxs("button",{onClick:()=>w(!0),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[i.jsx(as,{className:"w-4 h-4"}),i.jsx("span",{children:"Assign Categories"})]})]}),i.jsx("button",{onClick:()=>{v(!1),C(new Set)},className:"bg-apple-gray-6 hover:bg-apple-gray-5 text-apple-label px-4 py-2 rounded-lg transition-colors border border-apple-separator",children:"Cancel"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>v(!0),className:"bg-apple-gray-6 hover:bg-apple-gray-5 text-apple-label px-6 py-3 rounded-xl transition-all duration-300 flex items-center space-x-2 shadow-lg hover:shadow-xl transform hover:scale-105 font-medium border border-apple-separator",children:[i.jsx(Zs,{className:"w-5 h-5"}),i.jsx("span",{children:"Select"})]}),i.jsxs("button",{onClick:()=>m(!0),className:"bg-apple-gray-6 hover:bg-apple-gray-5 text-apple-label px-6 py-3 rounded-xl transition-all duration-300 flex items-center space-x-2 shadow-lg hover:shadow-xl transform hover:scale-105 font-medium border border-apple-separator",children:[i.jsx(lt,{className:"w-5 h-5"}),i.jsx("span",{children:"Add Photos"})]})]})})]}),i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(os,{className:"h-4 w-4 text-gray-600"}),i.jsxs("select",{value:l,onChange:z=>c(z.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-purple-400",children:[i.jsx("option",{value:"small",children:"Small"}),i.jsx("option",{value:"medium",children:"Medium"}),i.jsx("option",{value:"large",children:"Large"})]})]})}),n.length>0?i.jsx("div",{className:`grid ${L()} gap-2 sm:gap-3 md:gap-4 px-2 sm:px-0`,children:n.map(z=>i.jsx("div",{className:"relative group",children:i.jsxs("div",{className:`${$()} relative overflow-hidden rounded-xl cursor-pointer transition-all duration-300 hover:scale-[1.02] hover:shadow-lg shadow-sm bg-white`,onClick:()=>g?T(z.id):M(z),children:[i.jsx("img",{src:`${xr}/api/photos/image/${z.filename}?size=thumbnail`,alt:z.originalName,className:"w-full h-full object-cover rounded-xl",loading:"lazy"}),g&&i.jsx("div",{className:"absolute top-2 left-2 p-1.5 bg-white/95 backdrop-blur-sm rounded-full shadow-sm",children:i.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${x.has(z.id)?"bg-blue-500 border-blue-500 scale-110":"border-gray-300 bg-white hover:border-blue-400"}`,children:x.has(z.id)&&i.jsx(Zs,{className:"w-3.5 h-3.5 text-white"})})}),!g&&i.jsx("button",{onClick:B=>{B.stopPropagation(),k(z.id)},className:"absolute top-2 left-2 p-2 bg-white/95 backdrop-blur-sm rounded-full shadow-sm hover:bg-white transition-all duration-200 opacity-0 group-hover:opacity-100 hover:scale-110 hidden md:block",children:i.jsx(ze,{className:`h-4 w-4 transition-colors duration-200 ${z.isFavorite?"text-red-500 fill-current":"text-gray-600 hover:text-red-400"}`})})]})},z.id))}):i.jsxs("div",{className:"text-center py-16 px-4",children:[i.jsx("div",{className:"text-gray-300 mb-6",children:i.jsx(lt,{className:"w-20 h-20 mx-auto mb-6 stroke-1"})}),i.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-3",children:"No photos yet"}),i.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto leading-relaxed",children:"Start building your gallery by uploading your first photos!"}),i.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-8 py-4 bg-blue-500 hover:bg-blue-600 text-white rounded-xl transition-all duration-200 font-medium shadow-lg hover:shadow-xl hover:scale-105",children:[i.jsx(lt,{className:"w-5 h-5 mr-2"}),"Add Your First Photo"]})]}),p&&i.jsx(ew,{onClose:()=>m(!1),onUploadComplete:F}),h&&d&&i.jsx(Kf,{photo:d,onClose:()=>{u(!1),f(null)},onPhotoUpdate:A,onPhotoDelete:P}),I&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Assign Categories"}),i.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Select categories to assign to ",x.size," photo(s):"]}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto mb-4",children:R.map(z=>i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"rounded",value:z.id}),i.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:z.color}}),i.jsx("span",{className:"text-sm",children:z.name})]},z.id))}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),i.jsx("button",{onClick:()=>{const z=document.querySelectorAll('input[type="checkbox"]:checked'),B=Array.from(z).map(q=>parseInt(q.value));O(B)},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Assign"})]})]})})]})}function uD(){const{showToast:e}=Uo(),[t,r]=E.useState([]),[n,s]=E.useState(!0),[o,a]=E.useState(new Set),[l,c]=E.useState(0),[h,u]=E.useState(0),[d,f]=E.useState(0);E.useEffect(()=>{p()},[l]);const p=async()=>{try{s(!0);const S=await fetch(`/api/photos/recycle-bin?page=${l}&size=20`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(S.ok){const I=await S.json();r(I.photos),u(I.totalPages),f(I.totalElements)}else e("Failed to fetch deleted photos","general")}catch(S){console.error("Error fetching deleted photos:",S),e("Error loading recycle bin","general")}finally{s(!1)}},m=S=>{const I=new Set(o);I.has(S)?I.delete(S):I.add(S),a(I)},y=()=>{o.size===t.length?a(new Set):a(new Set(t.map(S=>S.id)))},b=async S=>{try{(await fetch(`/api/photos/${S}/recover`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok?(e("Photo recovered successfully","general"),p(),a(w=>{const j=new Set(w);return j.delete(S),j})):e("Failed to recover photo","general")}catch(I){console.error("Error recovering photo:",I),e("Error recovering photo","general")}},g=async S=>{if(confirm("Are you sure you want to permanently delete this photo? This action cannot be undone."))try{(await fetch(`/api/photos/${S}/permanent`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok?(e("Photo permanently deleted","general"),p(),a(w=>{const j=new Set(w);return j.delete(S),j})):e("Failed to delete photo","general")}catch(I){console.error("Error deleting photo:",I),e("Error deleting photo","general")}},v=async()=>{if(o.size===0){e("Please select photos to recover","general");return}try{const S=await fetch("/api/photos/bulk/recover",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({photoIds:Array.from(o)})});if(S.ok){const I=await S.json();e(I.message,"general"),p(),a(new Set)}else e("Failed to recover photos","general")}catch(S){console.error("Error recovering photos:",S),e("Error recovering photos","general")}},x=async()=>{if(o.size===0){e("Please select photos to delete","general");return}if(confirm(`Are you sure you want to permanently delete ${o.size} photo(s)? This action cannot be undone.`))try{const S=await fetch("/api/photos/bulk/permanent",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({photoIds:Array.from(o)})});if(S.ok){const I=await S.json();e(I.message,"general"),p(),a(new Set)}else e("Failed to delete photos","general")}catch(S){console.error("Error deleting photos:",S),e("Error deleting photos","general")}},C=S=>{if(S==null||isNaN(S))return"Unknown size";if(S===0)return"0 Bytes";const I=1024,w=["Bytes","KB","MB","GB"],j=Math.floor(Math.log(S)/Math.log(I));return parseFloat((S/Math.pow(I,j)).toFixed(2))+" "+w[j]},R=S=>{if(!S)return"Unknown date";try{const I=new Date(S);return isNaN(I.getTime())?"Invalid date":I.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid date"}};return n?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500"})}):i.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[i.jsx(be,{to:"/gallery",className:"inline-flex items-center text-gray-500 hover:text-gray-700 transition-colors p-2 hover:bg-gray-100 rounded-full",children:i.jsx(is,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Recycle Bin"}),i.jsxs("p",{className:"text-gray-600",children:[d," deleted photo",d!==1?"s":"","  Photos will be permanently deleted after 7 days"]})]})]})}),t.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Xt,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),i.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Recycle bin is empty"}),i.jsx("p",{className:"text-gray-500",children:"Deleted photos will appear here"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-6 flex flex-wrap gap-4 items-center",children:[i.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[o.size===t.length?i.jsx(Jm,{className:"h-4 w-4"}):i.jsx(rg,{className:"h-4 w-4"}),"Select All"]}),o.size>0&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[i.jsx(Hd,{className:"h-4 w-4"}),"Recover Selected (",o.size,")"]}),i.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[i.jsx(LE,{className:"h-4 w-4"}),"Permanently Delete (",o.size,")"]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(S=>{var I;return i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border flex flex-col h-full",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("img",{src:`/api/photos/image/${S.filename}`,alt:S.originalName,className:"w-full h-48 object-cover"}),i.jsx("div",{className:"absolute top-2 left-2",children:i.jsx("button",{onClick:()=>m(S.id),className:"p-1 bg-white bg-opacity-80 rounded hover:bg-opacity-100",children:o.has(S.id)?i.jsx(Jm,{className:"h-4 w-4 text-blue-600"}):i.jsx(rg,{className:"h-4 w-4 text-gray-600"})})})]}),i.jsxs("div",{className:"p-4 flex flex-col h-full",children:[i.jsx("h3",{className:"font-medium text-gray-900 mb-1 truncate",children:S.originalName}),S.caption&&i.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:S.caption}),i.jsxs("div",{className:"text-xs text-gray-500 mb-3",children:[i.jsxs("p",{children:["Deleted: ",R(S.deletedAt)]}),i.jsxs("p",{children:["Size: ",C(S.size)]}),i.jsxs("p",{children:["By: ",((I=S.uploader)==null?void 0:I.name)||"Unknown"]})]}),S.categories.length>0&&i.jsx("div",{className:"mb-3",children:i.jsx("div",{className:"flex flex-wrap gap-1",children:S.categories.map(w=>i.jsx("span",{className:"inline-block px-2 py-1 text-xs rounded-full text-white",style:{backgroundColor:w.color},children:w.name},w.id))})}),i.jsxs("div",{className:"flex gap-2 mt-auto",children:[i.jsxs("button",{onClick:()=>b(S.id),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-green-600 text-white text-sm rounded hover:bg-green-700 transition-colors duration-200 min-h-[36px]",children:[i.jsx(Hd,{className:"h-3 w-3 flex-shrink-0"}),i.jsx("span",{className:"truncate",children:"Recover"})]}),i.jsxs("button",{onClick:()=>g(S.id),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors duration-200 min-h-[36px]",children:[i.jsx(Xt,{className:"h-3 w-3 flex-shrink-0"}),i.jsx("span",{className:"truncate",children:"Delete"})]})]})]})]},S.id)})}),h>1&&i.jsxs("div",{className:"mt-8 flex justify-center gap-2",children:[i.jsx("button",{onClick:()=>c(S=>Math.max(0,S-1)),disabled:l===0,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),i.jsxs("span",{className:"px-4 py-2 text-gray-600",children:["Page ",l+1," of ",h]}),i.jsx("button",{onClick:()=>c(S=>Math.min(h-1,S+1)),disabled:l>=h-1,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})}const er=E.memo(function(){const{logout:t}=Dn(),r=hs(),[n,s]=E.useState(null),[o,a]=E.useState(!1),[l,c]=E.useState(!1),[h,u]=E.useState({days:0,hours:0,minutes:0,seconds:0}),d=E.useCallback(()=>{if(!(n!=null&&n.startDate)){const S=new Date("2020-06-08T00:00:00"),w=new Date().getTime()-S.getTime(),j=Math.floor(w/(1e3*60*60*24)),N=Math.floor(w%(1e3*60*60*24)/(1e3*60*60)),k=Math.floor(w%(1e3*60*60)/(1e3*60)),T=Math.floor(w%(1e3*60)/1e3);u({days:j,hours:N,minutes:k,seconds:T});return}const y=new Date(n.startDate),g=new Date().getTime()-y.getTime(),v=Math.floor(g/(1e3*60*60*24)),x=Math.floor(g%(1e3*60*60*24)/(1e3*60*60)),C=Math.floor(g%(1e3*60*60)/(1e3*60)),R=Math.floor(g%(1e3*60)/1e3);u({days:v,hours:x,minutes:C,seconds:R})},[n]),f=E.useCallback(async()=>{try{const y=await K.get("/api/auth/relationship-info");s(y.data)}catch(y){console.error("Error fetching relationship info:",y)}},[]);E.useEffect(()=>{f()},[f]),E.useEffect(()=>{d();const b=setInterval(d,o?1e3:5e3);return window.refreshRelationshipInfo=f,()=>{clearInterval(b),delete window.refreshRelationshipInfo}},[f,d,o]),E.useEffect(()=>{const y=b=>{o&&!b.target.closest(".relationship-dropdown")&&a(!1),l&&!b.target.closest(".mobile-menu")&&c(!1)};return(o||l)&&document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[o,l]);const p=E.useCallback(y=>r.pathname===y,[r.pathname]),m=E.useMemo(()=>i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-3",children:[i.jsx("div",{className:"text-2xl font-bold text-apple-purple",children:h.days}),i.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Days"})]}),i.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-3",children:[i.jsx("div",{className:"text-2xl font-bold text-apple-purple",children:h.hours}),i.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Hours"})]}),i.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-3",children:[i.jsx("div",{className:"text-2xl font-bold text-apple-purple",children:h.minutes}),i.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Minutes"})]}),i.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-3",children:[i.jsx("div",{className:"text-2xl font-bold text-apple-purple",children:h.seconds}),i.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Seconds"})]})]}),[h]);return i.jsx("header",{className:"apple-glass-effect border-b border-apple-separator sticky top-0 z-40 backdrop-blur-xl",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6",children:[i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs(be,{to:"/",className:"flex items-center space-x-3 group flex-shrink-0",children:[i.jsx(ze,{className:"h-6 w-6 sm:h-7 sm:w-7 text-apple-purple animate-heart-bounce hover-glow transition-all duration-500",fill:"currentColor",style:{filter:"drop-shadow(0 0 12px rgba(168, 85, 247, 0.4))"}}),i.jsx("span",{className:"font-semibold text-lg sm:text-xl text-apple-label group-hover:text-apple-purple transition-colors duration-300 hidden xs:block",children:"Scott & Zoe"})]}),n&&i.jsxs("div",{className:"relative hidden lg:block relationship-dropdown",children:[i.jsxs("button",{onClick:()=>a(!o),className:"flex items-center space-x-2 apple-glass-background rounded-xl px-4 py-2 apple-shadow hover:bg-apple-gray-6/10 transition-all duration-200",children:[i.jsx(ze,{className:"h-4 w-4 text-apple-purple",fill:"currentColor"}),i.jsx("span",{className:"text-sm font-medium text-apple-label",children:"Days Together"}),i.jsx(ln,{className:`h-4 w-4 text-apple-secondary-label transition-transform duration-200 ${o?"rotate-180":""}`})]}),o&&i.jsx("div",{className:"absolute top-full right-0 mt-2 bg-white/95 backdrop-blur-xl rounded-xl p-6 apple-shadow border border-apple-separator min-w-[280px] z-40",children:i.jsxs("div",{className:"text-center",children:[m,i.jsxs("div",{className:"text-apple-secondary-label border-t border-apple-separator pt-3",children:[i.jsx("div",{className:"text-xs",children:"Since June 8th, 2020"}),i.jsx("div",{className:"font-medium text-apple-label text-sm mt-1",children:" Every second counts! "})]})]})})]}),i.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[i.jsxs(be,{to:"/",className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${p("/")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[i.jsx(eg,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden lg:inline font-medium",children:"Home"})]}),i.jsxs(be,{to:"/gallery",className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${p("/gallery")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[i.jsx(zr,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden lg:inline font-medium",children:"Gallery"})]}),i.jsxs(be,{to:"/memories",className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${p("/memories")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[i.jsx(at,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden lg:inline font-medium",children:"Memories"})]}),i.jsxs(be,{to:"/surprise-boxes",className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${p("/surprise-boxes")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[i.jsx(Ve,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden lg:inline font-medium",children:"Surprises"})]}),i.jsxs(be,{to:"/settings",className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${p("/settings")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[i.jsx(os,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden lg:inline font-medium",children:"Settings"})]}),i.jsxs("button",{onClick:t,className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-apple-secondary-label hover:bg-red-500/10 hover:text-red-500 transition-all duration-200",children:[i.jsx(tg,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden lg:inline font-medium",children:"Logout"})]})]}),i.jsxs("div",{className:"md:hidden mobile-menu",children:[i.jsx("button",{onClick:()=>c(!l),className:"p-2 text-apple-secondary-label hover:text-apple-purple hover:bg-apple-purple/5 rounded-lg transition-colors",children:l?i.jsx($e,{className:"h-5 w-5"}):i.jsx(VE,{className:"h-5 w-5"})}),l&&i.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white/95 backdrop-blur-xl rounded-xl apple-shadow border border-apple-separator z-50",children:i.jsxs("div",{className:"p-2",children:[i.jsxs(be,{to:"/",onClick:()=>c(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 ${p("/")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[i.jsx(eg,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:"Home"})]}),i.jsxs(be,{to:"/gallery",onClick:()=>c(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 ${p("/gallery")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[i.jsx(zr,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:"Gallery"})]}),i.jsxs(be,{to:"/memories",onClick:()=>c(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 ${p("/memories")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[i.jsx(at,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:"Memories"})]}),i.jsxs(be,{to:"/surprise-boxes",onClick:()=>c(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 ${p("/surprise-boxes")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[i.jsx(Ve,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:"Surprises"})]}),i.jsxs(be,{to:"/settings",onClick:()=>c(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 ${p("/settings")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[i.jsx(os,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:"Settings"})]}),i.jsx("div",{className:"border-t border-apple-separator my-2"}),i.jsxs("button",{onClick:()=>{c(!1),t()},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-apple-secondary-label hover:bg-red-500/10 hover:text-red-500 transition-all duration-200",children:[i.jsx(tg,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:"Logout"})]})]})})]})]}),n&&!l&&i.jsx("div",{className:"lg:hidden pb-4 text-center",children:i.jsxs("div",{className:"relative inline-block relationship-dropdown",children:[i.jsxs("button",{onClick:()=>a(!o),className:"flex items-center space-x-2 apple-glass-background rounded-xl px-4 py-2 apple-shadow hover:bg-apple-gray-6/10 transition-all duration-200",children:[i.jsx(ze,{className:"h-4 w-4 text-apple-purple",fill:"currentColor"}),i.jsx("span",{className:"text-sm font-medium text-apple-label",children:"Days Together"}),i.jsx(ln,{className:`h-4 w-4 text-apple-secondary-label transition-transform duration-200 ${o?"rotate-180":""}`})]}),o&&i.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 bg-white/95 backdrop-blur-xl rounded-xl p-4 apple-shadow border border-apple-separator min-w-[200px] z-50",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[i.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-2",children:[i.jsx("div",{className:"text-lg font-bold text-apple-purple",children:h.days}),i.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Days"})]}),i.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-2",children:[i.jsx("div",{className:"text-lg font-bold text-apple-purple",children:h.hours}),i.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Hours"})]}),i.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-2",children:[i.jsx("div",{className:"text-lg font-bold text-apple-purple",children:h.minutes}),i.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Minutes"})]}),i.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-2",children:[i.jsx("div",{className:"text-lg font-bold text-apple-purple",children:h.seconds}),i.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Seconds"})]})]}),i.jsxs("div",{className:"text-apple-secondary-label border-t border-apple-separator pt-3",children:[i.jsx("div",{className:"text-xs",children:"Since June 8th, 2020"}),i.jsx("div",{className:"font-medium text-apple-label text-sm mt-1",children:" Every second counts! "})]})]})})]})})]})})});function dD(){return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[i.jsxs("div",{className:"relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 to-purple-600/5"}),i.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[i.jsx("div",{className:"flex justify-center lg:justify-start",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-80 h-80 rounded-2xl overflow-hidden shadow-2xl bg-gradient-to-br from-blue-50 to-purple-50",children:i.jsx("img",{src:"https://github.com/miaoti/Test/blob/main/ResumeICON.png?raw=true",alt:"Tingshuo Miao",className:"w-full h-full object-cover"})}),i.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl opacity-20"})]})}),i.jsxs("div",{className:"text-center lg:text-left space-y-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h1",{className:"text-5xl lg:text-6xl font-bold text-gray-900 leading-tight",children:["Tingshuo ",i.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"Miao"})]}),i.jsx("p",{className:"text-2xl text-gray-600 font-light",children:"PhD Student in Computer Science"}),i.jsx("p",{className:"text-lg text-gray-500 max-w-2xl leading-relaxed",children:"Passionate researcher specializing in microservice architecture, software engineering, and system quality assurance. Dedicated to advancing the field through innovative testing methodologies and robust system design."})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 justify-center lg:justify-start",children:[i.jsxs("a",{href:"mailto:tingshuo_miao2@baylor.edu",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:[i.jsx(Hv,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:"Email"})]}),i.jsxs("a",{href:"https://www.linkedin.com/in/tingshuo-miao-823912232",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-white text-gray-700 rounded-xl hover:bg-gray-50 transition-all duration-300 shadow-lg hover:shadow-xl border border-gray-200",children:[i.jsx(UE,{className:"h-5 w-5 text-blue-600"}),i.jsx("span",{className:"font-medium",children:"LinkedIn"})]}),i.jsxs("a",{href:"https://github.com/miaoti/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-white text-gray-700 rounded-xl hover:bg-gray-50 transition-all duration-300 shadow-lg hover:shadow-xl border border-gray-200",children:[i.jsx(Zm,{className:"h-5 w-5 text-gray-700"}),i.jsx("span",{className:"font-medium",children:"GitHub"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-6 border-t border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[i.jsx(dc,{className:"h-5 w-5 text-blue-500 flex-shrink-0"}),i.jsx("span",{children:"Waco/Dallas, TX (Open to Relocation)"})]}),i.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[i.jsx(Ya,{className:"h-5 w-5 text-blue-500 flex-shrink-0"}),i.jsx("span",{children:"F1 Visa (English & Native Mandarin)"})]})]})]})]})})]}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 space-y-20",children:[i.jsxs("section",{className:"relative",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Research & Expertise"}),i.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Advancing software engineering through innovative research in microservice architectures and quality assurance"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"group relative bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mb-6",children:i.jsx(hu,{className:"h-8 w-8 text-white"})}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Microservice Testing"}),i.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Developing comprehensive testing methodologies for distributed microservice architectures to ensure system reliability and performance."})]})]}),i.jsxs("div",{className:"group relative bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mb-6",children:i.jsx(El,{className:"h-8 w-8 text-white"})}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quality Assurance"}),i.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Researching innovative approaches to software quality metrics and system availability measurement in distributed environments."})]})]}),i.jsxs("div",{className:"group relative bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-50 to-teal-50 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mb-6",children:i.jsx(Vd,{className:"h-8 w-8 text-white"})}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Academic Research"}),i.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Contributing to the academic community through peer-reviewed publications and collaborative research initiatives."})]})]})]})]}),i.jsxs("section",{className:"relative",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Education"}),i.jsx("p",{className:"text-xl text-gray-600",children:"Academic foundation in computer science and mathematics"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"group relative bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center",children:i.jsx(Wv,{className:"h-8 w-8 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Baylor University"}),i.jsx("p",{className:"text-blue-600 font-medium",children:"Waco, TX"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"PhD in Computer Science"}),i.jsx("p",{className:"text-gray-500 font-medium",children:"Aug 2022 - Present"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),i.jsxs("p",{className:"text-gray-700",children:[i.jsx("strong",{children:"Research Focus:"})," Software Engineering, Microservice Testing & Quality Assurance"]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),i.jsxs("p",{className:"text-gray-700",children:[i.jsx("strong",{children:"Coursework:"})," Advanced Algorithms, Distributed Systems, Software Engineering Research Methods, Microservice Testing"]})]})]})]})]})]}),i.jsxs("div",{className:"group relative bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center",children:i.jsx(El,{className:"h-8 w-8 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"UMass Amherst"}),i.jsx("p",{className:"text-purple-600 font-medium",children:"Amherst, MA"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"BS in Applied Mathematics"}),i.jsx("p",{className:"text-gray-500 font-medium",children:"Sep 2018 - Jan 2022"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),i.jsxs("p",{className:"text-gray-700",children:[i.jsx("strong",{children:"Honors:"})," Dean's List (Fall 2019, Spring 2019, Fall 2020)"]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),i.jsxs("p",{className:"text-gray-700",children:[i.jsx("strong",{children:"Foundation:"})," Mathematical modeling and statistical analysis"]})]})]})]})]})]})]})]}),i.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[i.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[i.jsx(hu,{className:"h-6 w-6 text-blue-500"}),"Technical Skills"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Programming Languages"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["Java (8+)","Python","JavaScript/TypeScript","C++","HTML/CSS","Bash"].map(e=>i.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:e},e))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Frameworks & Libraries"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["Spring Boot","React","Node.js","Express","JUnit","Mockito","jQuery","NumPy","Pandas","TensorFlow"].map(e=>i.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:e},e))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Databases & Tools"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["PostgreSQL","MySQL","MongoDB","Git","Docker","AWS","Postman","IntelliJ","VS Code"].map(e=>i.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium",children:e},e))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Concepts & Methodologies"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["Microservice Architecture","REST APIs","System Availability","Metrics","Test Automation","Agile","CI/CD"].map(e=>i.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium",children:e},e))})]})]})]}),i.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[i.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[i.jsx(Uv,{className:"h-6 w-6 text-blue-500"}),"Professional Experience"]}),i.jsx("div",{className:"space-y-8",children:i.jsxs("div",{className:"border-l-4 border-blue-500 pl-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-2",children:[i.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"Graduate Teaching & Research Assistant"}),i.jsx("span",{className:"text-blue-600 font-medium",children:"Aug 2022 - Present"})]}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[i.jsx("p",{className:"text-gray-600 font-medium",children:"Baylor University"}),i.jsx("span",{className:"text-gray-500",children:"Waco, TX"})]}),i.jsxs("ul",{className:"text-gray-700 space-y-2",children:[i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Teaching Responsibilities:"})," Taught undergraduate CS courses, led discussion sections, held office hours, graded assignments, developed instructional materials"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Research Activities:"})," Supported faculty research, conducted literature reviews, collected/analyzed experimental data, co-authored publications on microservice testing"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Student Mentoring:"})," Mentored 50+ students in programming fundamentals, data structures, algorithms, and software development best practices"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Academic Contributions:"})," Contributed to research projects focusing on software engineering and microservice architecture quality assurance"]})]})]})})]}),i.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[i.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[i.jsx(hu,{className:"h-6 w-6 text-blue-500"}),"Featured Projects"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("a",{href:"https://qimiao.life",target:"_blank",rel:"noopener noreferrer",className:"block border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow hover:border-blue-300",children:[i.jsxs("h4",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:["Scott & Zoe Couple Website",i.jsx(Ya,{className:"h-4 w-4 text-blue-500"})]}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Full-stack web application for couples to share memories, photos, and special moments with beautiful UI/UX design."}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["React","TypeScript","Spring Boot","PostgreSQL","Railway","Docker"].map(e=>i.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-sm",children:e},e))}),i.jsxs("ul",{className:"text-gray-700 text-sm space-y-1",children:[i.jsx("li",{children:" Responsive design with modern UI components and animations"}),i.jsx("li",{children:" RESTful API with comprehensive error handling and validation"}),i.jsx("li",{children:" Deployed on Railway with CI/CD pipeline and custom domain"})]})]}),i.jsxs("a",{href:"https://khoemanh.info/",target:"_blank",rel:"noopener noreferrer",className:"block border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow hover:border-green-300",children:[i.jsxs("h4",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:["WellnessPathway v2  Health Management Platform",i.jsx(Ya,{className:"h-4 w-4 text-green-500"})]}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Microservice-based health monitoring system with real-time metrics and automated alerting capabilities."}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Spring Boot","Microservices","Grafana","Prometheus","Docker","GitLab CI"].map(e=>i.jsx("span",{className:"px-2 py-1 bg-green-50 text-green-700 rounded text-sm",children:e},e))}),i.jsxs("ul",{className:"text-gray-700 text-sm space-y-1",children:[i.jsx("li",{children:" Implemented health check endpoints with Spring Boot Actuator"}),i.jsx("li",{children:" Integrated monitoring dashboards with real-time alerting"}),i.jsx("li",{children:" Monitored system health via Grafana/Prometheus; participated in release cycles, backup strategies, and incident response"})]})]}),i.jsxs("a",{href:"https://github.com/miaoti/inventoryPro",target:"_blank",rel:"noopener noreferrer",className:"block border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow hover:border-purple-300",children:[i.jsxs("h4",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:["InventoryPro  Internal Inventory Management System",i.jsx(Zm,{className:"h-4 w-4 text-purple-500"})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Jun 2025  Sep 2025"}),i.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs font-medium",children:"Full-Stack Developer (Solo Project)"})]}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Designed and delivered a secure, scalable inventory system for internal company use, featuring role-based access, barcode scanning, audit logs, and low-stock alerts."}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Spring Boot","Next.js","TypeScript","MySQL","Docker","GCP","Flyway"].map(e=>i.jsx("span",{className:"px-2 py-1 bg-purple-50 text-purple-700 rounded text-sm",children:e},e))}),i.jsxs("ul",{className:"text-gray-700 text-sm space-y-1",children:[i.jsx("li",{children:" Implemented backend with Spring Security + JWT for authentication; used Flyway for version-controlled, repeatable database migrations"}),i.jsx("li",{children:" Developed responsive frontend with Next.js App Router + Redux; integrated real-time notifications and exportable reporting dashboards"}),i.jsx("li",{children:" Containerized deployment via Docker + Nginx reverse proxy with HTTPS; configured CI/CD on GitHub Actions for automated testing & deployment to GCP"}),i.jsx("li",{children:" Delivered audit trails, email alerts, and scheduled tasks to support operational compliance and decision-making"})]})]})]})]}),i.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[i.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[i.jsx(Vd,{className:"h-6 w-6 text-blue-500"}),"Publications"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"border-l-4 border-blue-500 pl-6",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:'"Systematic Mapping Study of Test Generation for Microservices: Approaches, Challenges, and Impact on System Quality"'}),i.jsxs("p",{className:"text-gray-600 mb-2",children:[i.jsx("strong",{children:"Miao, T."}),", Shaafi, A. I., & Song, E. (2025). ",i.jsx("em",{children:"Electronics"}),", 14(7), 1397."]}),i.jsx("p",{className:"text-gray-700 text-sm mb-2",children:"Comprehensive analysis of microservice testing methodologies and their impact on system reliability and performance."}),i.jsx("a",{href:"https://doi.org/10.3390/electronics14071397",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"https://doi.org/10.3390/electronics14071397"})]}),i.jsxs("div",{className:"border-l-4 border-green-500 pl-6",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:'"Service Availability Ratio (SAR): An Availability Metric for Microservices"'}),i.jsxs("p",{className:"text-gray-600 mb-2",children:[i.jsx("strong",{children:"Miao, T."}),", & Shaafi, A. I. (2025). In ",i.jsx("em",{children:"Lecture Notes in Computer Science"})," (Vol. 14678, pp. 112127). Springer."]}),i.jsx("p",{className:"text-gray-700 text-sm mb-2",children:"Novel availability metric for microservice architectures that considers end-to-end service dependencies and system reliability."}),i.jsx("a",{href:"https://doi.org/10.1007/978-3-031-86644-9_8",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"https://doi.org/10.1007/978-3-031-86644-9_8"})]})]})]})]})]})}function hD(){return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-purple-50",children:[i.jsx("div",{className:"bg-white shadow-lg",children:i.jsx("div",{className:"max-w-6xl mx-auto px-6 py-12",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-8",children:[i.jsx("div",{className:"w-48 h-48 bg-gradient-to-br from-pink-500 to-purple-600 rounded-full flex items-center justify-center text-white text-6xl font-bold shadow-xl",children:"Z"}),i.jsxs("div",{className:"flex-1 text-center md:text-left",children:[i.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"Zoe"}),i.jsx("h2",{className:"text-2xl text-pink-600 font-semibold mb-6",children:"Professional & Creative Specialist"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-600",children:[i.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[i.jsx(dc,{className:"h-5 w-5 text-pink-500"}),i.jsx("span",{children:"Location Available Upon Request"})]}),i.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[i.jsx(Hv,{className:"h-5 w-5 text-pink-500"}),i.jsx("a",{href:"mailto:zoe@example.com",className:"hover:text-pink-600 transition-colors",children:"zoe@example.com"})]}),i.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[i.jsx(GE,{className:"h-5 w-5 text-pink-500"}),i.jsx("span",{children:"Contact Available Upon Request"})]}),i.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[i.jsx(Ya,{className:"h-5 w-5 text-pink-500"}),i.jsx("span",{children:"Multilingual Professional"})]})]})]})]})})}),i.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12 space-y-12",children:[i.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[i.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[i.jsx(ze,{className:"h-6 w-6 text-pink-500"}),"About Me"]}),i.jsx("p",{className:"text-gray-700 leading-relaxed text-lg",children:"A dedicated professional with a passion for excellence and innovation. I bring creativity, analytical thinking, and strong communication skills to every project. Currently expanding my expertise and looking forward to new opportunities and challenges."})]}),i.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[i.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[i.jsx(Wv,{className:"h-6 w-6 text-pink-500"}),"Education"]}),i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"border-l-4 border-pink-500 pl-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-2",children:[i.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"Bachelor's Degree"}),i.jsx("span",{className:"text-pink-600 font-medium",children:"Location"})]}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-3",children:[i.jsx("p",{className:"text-gray-600",children:"University Name"}),i.jsx("span",{className:"text-gray-500",children:"Year - Year"})]}),i.jsxs("ul",{className:"text-gray-700 space-y-1",children:[i.jsx("li",{children:" Major: [To be updated]"}),i.jsx("li",{children:" Relevant coursework and achievements"}),i.jsx("li",{children:" Academic honors and distinctions"})]})]})})]}),i.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[i.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[i.jsx(El,{className:"h-6 w-6 text-pink-500"}),"Core Competencies"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Professional Skills"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["Communication","Project Management","Problem Solving","Leadership","Teamwork","Analysis"].map(e=>i.jsx("span",{className:"px-3 py-1 bg-pink-100 text-pink-800 rounded-full text-sm font-medium",children:e},e))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Technical Skills"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["Microsoft Office","Data Analysis","Research","Presentation","Documentation","Planning"].map(e=>i.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium",children:e},e))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Creative Skills"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["Design Thinking","Creative Writing","Visual Arts","Innovation","Brainstorming","Conceptualization"].map(e=>i.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm font-medium",children:e},e))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Languages"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["English (Fluent)","Additional Languages","Cross-Cultural Communication"].map(e=>i.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:e},e))})]})]})]}),i.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[i.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[i.jsx(Uv,{className:"h-6 w-6 text-pink-500"}),"Professional Experience"]}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"border-l-4 border-pink-500 pl-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-2",children:[i.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"Position Title"}),i.jsx("span",{className:"text-pink-600 font-medium",children:"Date - Date"})]}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[i.jsx("p",{className:"text-gray-600 font-medium",children:"Company/Organization Name"}),i.jsx("span",{className:"text-gray-500",children:"Location"})]}),i.jsxs("ul",{className:"text-gray-700 space-y-2",children:[i.jsx("li",{children:" Key responsibility and achievement"}),i.jsx("li",{children:" Major project or initiative led"}),i.jsx("li",{children:" Quantifiable results and impact"}),i.jsx("li",{children:" Skills developed and applied"})]})]}),i.jsxs("div",{className:"border-l-4 border-purple-500 pl-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-2",children:[i.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"Previous Position"}),i.jsx("span",{className:"text-purple-600 font-medium",children:"Date - Date"})]}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[i.jsx("p",{className:"text-gray-600 font-medium",children:"Previous Company/Organization"}),i.jsx("span",{className:"text-gray-500",children:"Location"})]}),i.jsxs("ul",{className:"text-gray-700 space-y-2",children:[i.jsx("li",{children:" Notable accomplishment or project"}),i.jsx("li",{children:" Leadership or collaborative experience"}),i.jsx("li",{children:" Process improvement or innovation"}),i.jsx("li",{children:" Professional growth and learning"})]})]})]})]}),i.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[i.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[i.jsx(El,{className:"h-6 w-6 text-pink-500"}),"Projects & Achievements"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[i.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Featured Project"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Description of a significant project, initiative, or accomplishment that demonstrates skills, creativity, and impact."}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Skill 1","Skill 2","Skill 3","Tool/Method"].map(e=>i.jsx("span",{className:"px-2 py-1 bg-pink-50 text-pink-700 rounded text-sm",children:e},e))}),i.jsxs("ul",{className:"text-gray-700 text-sm space-y-1",children:[i.jsx("li",{children:" Key outcome or result achieved"}),i.jsx("li",{children:" Methodology or approach used"}),i.jsx("li",{children:" Impact on organization or community"})]})]}),i.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[i.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Creative Initiative"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"A creative project or innovative solution that showcases problem-solving abilities and unique perspective."}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Creativity","Innovation","Design","Implementation"].map(e=>i.jsx("span",{className:"px-2 py-1 bg-purple-50 text-purple-700 rounded text-sm",children:e},e))}),i.jsxs("ul",{className:"text-gray-700 text-sm space-y-1",children:[i.jsx("li",{children:" Creative approach or unique solution"}),i.jsx("li",{children:" Collaboration and teamwork involved"}),i.jsx("li",{children:" Positive feedback or recognition received"})]})]}),i.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[i.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Leadership Experience"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Leadership role or initiative that demonstrates ability to guide, motivate, and achieve results through others."}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Leadership","Team Management","Strategy","Communication"].map(e=>i.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 rounded text-sm",children:e},e))}),i.jsxs("ul",{className:"text-gray-700 text-sm space-y-1",children:[i.jsx("li",{children:" Team size and scope of responsibility"}),i.jsx("li",{children:" Challenges overcome and solutions implemented"}),i.jsx("li",{children:" Measurable outcomes and team development"})]})]}),i.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[i.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Community Involvement"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Volunteer work, community service, or social impact initiative that demonstrates commitment to making a positive difference."}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Volunteer Work","Community Service","Social Impact","Organizing"].map(e=>i.jsx("span",{className:"px-2 py-1 bg-green-50 text-green-700 rounded text-sm",children:e},e))}),i.jsxs("ul",{className:"text-gray-700 text-sm space-y-1",children:[i.jsx("li",{children:" Organization or cause supported"}),i.jsx("li",{children:" Role and responsibilities undertaken"}),i.jsx("li",{children:" Impact on community or beneficiaries"})]})]})]})]}),i.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[i.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[i.jsx(Vd,{className:"h-6 w-6 text-pink-500"}),"Interests & Professional Goals"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Professional Interests"}),i.jsxs("ul",{className:"text-gray-700 space-y-2",children:[i.jsx("li",{children:" Continuous learning and professional development"}),i.jsx("li",{children:" Innovation and creative problem-solving"}),i.jsx("li",{children:" Collaborative team environments"}),i.jsx("li",{children:" Making meaningful contributions to projects"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Career Goals"}),i.jsxs("ul",{className:"text-gray-700 space-y-2",children:[i.jsx("li",{children:" Expanding expertise in chosen field"}),i.jsx("li",{children:" Taking on leadership responsibilities"}),i.jsx("li",{children:" Contributing to impactful projects"}),i.jsx("li",{children:" Building lasting professional relationships"})]})]})]})]}),i.jsxs("section",{className:"bg-gradient-to-r from-pink-500 to-purple-600 rounded-xl shadow-lg p-8 text-center text-white",children:[i.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Let's Connect"}),i.jsx("p",{className:"text-lg mb-6 opacity-90",children:"I'm always interested in new opportunities and meaningful connections. Feel free to reach out to discuss potential collaborations or just to say hello!"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsx("a",{href:"mailto:zoe@example.com",className:"bg-white text-pink-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Send Email"}),i.jsx("a",{href:"#",className:"border-2 border-white text-white px-6 py-3 rounded-lg font-semibold hover:bg-white hover:text-pink-600 transition-colors",children:"View LinkedIn"})]})]})]})]})}const tw=E.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Cc=E.createContext({}),Tc=E.createContext(null),Pc=typeof document<"u",Zf=Pc?E.useLayoutEffect:E.useEffect,rw=E.createContext({strict:!1}),ep=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),fD="framerAppearId",nw="data-"+ep(fD);function pD(e,t,r,n){const{visualElement:s}=E.useContext(Cc),o=E.useContext(rw),a=E.useContext(Tc),l=E.useContext(tw).reducedMotion,c=E.useRef();n=n||o.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:s,props:r,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const h=c.current;E.useInsertionEffect(()=>{h&&h.update(r,a)});const u=E.useRef(!!(r[nw]&&!window.HandoffComplete));return Zf(()=>{h&&(h.render(),u.current&&h.animationState&&h.animationState.animateChanges())}),E.useEffect(()=>{h&&(h.updateFeatures(),!u.current&&h.animationState&&h.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),h}function Ms(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function mD(e,t,r){return E.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Ms(r)&&(r.current=n))},[t])}function Do(e){return typeof e=="string"||Array.isArray(e)}function Dc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const tp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rp=["initial",...tp];function Ac(e){return Dc(e.animate)||rp.some(t=>Do(e[t]))}function sw(e){return!!(Ac(e)||e.variants)}function gD(e,t){if(Ac(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Do(r)?r:void 0,animate:Do(n)?n:void 0}}return e.inherit!==!1?t:{}}function xD(e){const{initial:t,animate:r}=gD(e,E.useContext(Cc));return E.useMemo(()=>({initial:t,animate:r}),[Zg(t),Zg(r)])}function Zg(e){return Array.isArray(e)?e.join(" "):e}const e0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ao={};for(const e in e0)Ao[e]={isEnabled:t=>e0[e].some(r=>!!t[r])};function yD(e){for(const t in e)Ao[t]={...Ao[t],...e[t]}}const np=E.createContext({}),iw=E.createContext({}),vD=Symbol.for("motionComponentSymbol");function bD({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&yD(e);function o(l,c){let h;const u={...E.useContext(tw),...l,layoutId:wD(l)},{isStatic:d}=u,f=xD(l),p=n(l,d);if(!d&&Pc){f.visualElement=pD(s,p,u,t);const m=E.useContext(iw),y=E.useContext(rw).strict;f.visualElement&&(h=f.visualElement.loadFeatures(u,y,e,m))}return E.createElement(Cc.Provider,{value:f},h&&f.visualElement?E.createElement(h,{visualElement:f.visualElement,...u}):null,r(s,l,mD(p,f.visualElement,c),p,d,f.visualElement))}const a=E.forwardRef(o);return a[vD]=s,a}function wD({layoutId:e}){const t=E.useContext(np).id;return t&&e!==void 0?t+"-"+e:e}function jD(e){function t(n,s={}){return bD(e(n,s))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,s)=>(r.has(s)||r.set(s,t(s)),r.get(s))})}const ND=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sp(e){return typeof e!="string"||e.includes("-")?!1:!!(ND.indexOf(e)>-1||/[A-Z]/.test(e))}const Il={};function SD(e){Object.assign(Il,e)}const ta=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xs=new Set(ta);function ow(e,{layout:t,layoutId:r}){return xs.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Il[e]||e==="opacity")}const Et=e=>!!(e&&e.getVelocity),kD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ED=ta.length;function CD(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,s){let o="";for(let a=0;a<ED;a++){const l=ta[a];if(e[l]!==void 0){const c=kD[l]||l;o+=`${c}(${e[l]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(e,n?"":o):r&&n&&(o="none"),o}const aw=e=>t=>typeof t=="string"&&t.startsWith(e),lw=aw("--"),lh=aw("var(--"),TD=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,PD=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Sn=(e,t,r)=>Math.min(Math.max(r,e),t),ys={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ro={...ys,transform:e=>Sn(0,1,e)},Aa={...ys,default:1},no=e=>Math.round(e*1e5)/1e5,Oc=/(-)?([\d]*\.?[\d])+/g,cw=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,DD=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ra(e){return typeof e=="string"}const na=e=>({test:t=>ra(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Kr=na("deg"),jr=na("%"),re=na("px"),AD=na("vh"),OD=na("vw"),t0={...jr,parse:e=>jr.parse(e)/100,transform:e=>jr.transform(e*100)},r0={...ys,transform:Math.round},uw={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,size:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,rotate:Kr,rotateX:Kr,rotateY:Kr,rotateZ:Kr,scale:Aa,scaleX:Aa,scaleY:Aa,scaleZ:Aa,skew:Kr,skewX:Kr,skewY:Kr,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:ro,originX:t0,originY:t0,originZ:re,zIndex:r0,fillOpacity:ro,strokeOpacity:ro,numOctaves:r0};function ip(e,t,r,n){const{style:s,vars:o,transform:a,transformOrigin:l}=e;let c=!1,h=!1,u=!0;for(const d in t){const f=t[d];if(lw(d)){o[d]=f;continue}const p=uw[d],m=PD(f,p);if(xs.has(d)){if(c=!0,a[d]=m,!u)continue;f!==(p.default||0)&&(u=!1)}else d.startsWith("origin")?(h=!0,l[d]=m):s[d]=m}if(t.transform||(c||n?s.transform=CD(e.transform,r,u,n):s.transform&&(s.transform="none")),h){const{originX:d="50%",originY:f="50%",originZ:p=0}=l;s.transformOrigin=`${d} ${f} ${p}`}}const op=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dw(e,t,r){for(const n in t)!Et(t[n])&&!ow(n,r)&&(e[n]=t[n])}function RD({transformTemplate:e},t,r){return E.useMemo(()=>{const n=op();return ip(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function ID(e,t,r){const n=e.style||{},s={};return dw(s,n,e),Object.assign(s,RD(e,t,r)),e.transformValues?e.transformValues(s):s}function MD(e,t,r){const n={},s=ID(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const _D=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ml(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||_D.has(e)}let hw=e=>!Ml(e);function LD(e){e&&(hw=t=>t.startsWith("on")?!Ml(t):e(t))}try{LD(require("@emotion/is-prop-valid").default)}catch{}function FD(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(hw(s)||r===!0&&Ml(s)||!t&&!Ml(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function n0(e,t,r){return typeof e=="string"?e:re.transform(t+r*e)}function $D(e,t,r){const n=n0(t,e.x,e.width),s=n0(r,e.y,e.height);return`${n} ${s}`}const zD={offset:"stroke-dashoffset",array:"stroke-dasharray"},BD={offset:"strokeDashoffset",array:"strokeDasharray"};function UD(e,t,r=1,n=0,s=!0){e.pathLength=1;const o=s?zD:BD;e[o.offset]=re.transform(-n);const a=re.transform(t),l=re.transform(r);e[o.array]=`${a} ${l}`}function ap(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:o,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},u,d,f){if(ip(e,h,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:y}=e;p.transform&&(y&&(m.transform=p.transform),delete p.transform),y&&(s!==void 0||o!==void 0||m.transform)&&(m.transformOrigin=$D(y,s!==void 0?s:.5,o!==void 0?o:.5)),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),a!==void 0&&UD(p,a,l,c,!1)}const fw=()=>({...op(),attrs:{}}),lp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function VD(e,t,r,n){const s=E.useMemo(()=>{const o=fw();return ap(o,t,{enableHardwareAcceleration:!1},lp(n),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};dw(o,e.style,e),s.style={...o,...s.style}}return s}function WD(e=!1){return(r,n,s,{latestValues:o},a)=>{const c=(sp(r)?VD:MD)(n,o,a,r),u={...FD(n,typeof r=="string",e),...c,ref:s},{children:d}=n,f=E.useMemo(()=>Et(d)?d.get():d,[d]);return E.createElement(r,{...u,children:f})}}function pw(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const o in r)e.style.setProperty(o,r[o])}const mw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gw(e,t,r,n){pw(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(mw.has(s)?s:ep(s),t.attrs[s])}function cp(e,t){const{style:r}=e,n={};for(const s in r)(Et(r[s])||t.style&&Et(t.style[s])||ow(s,e))&&(n[s]=r[s]);return n}function xw(e,t){const r=cp(e,t);for(const n in e)if(Et(e[n])||Et(t[n])){const s=ta.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[s]=e[n]}return r}function up(e,t,r,n={},s={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),t}function yw(e){const t=E.useRef(null);return t.current===null&&(t.current=e()),t.current}const _l=e=>Array.isArray(e),HD=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),qD=e=>_l(e)?e[e.length-1]||0:e;function Za(e){const t=Et(e)?e.get():e;return HD(t)?t.toValue():t}function GD({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,o){const a={latestValues:YD(n,s,o,e),renderState:t()};return r&&(a.mount=l=>r(n,l,a)),a}const vw=e=>(t,r)=>{const n=E.useContext(Cc),s=E.useContext(Tc),o=()=>GD(e,t,n,s);return r?o():yw(o)};function YD(e,t,r,n){const s={},o=n(e,{});for(const f in o)s[f]=Za(o[f]);let{initial:a,animate:l}=e;const c=Ac(e),h=sw(e);t&&h&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let u=r?r.initial===!1:!1;u=u||a===!1;const d=u?l:a;return d&&typeof d!="boolean"&&!Dc(d)&&(Array.isArray(d)?d:[d]).forEach(p=>{const m=up(e,p);if(!m)return;const{transitionEnd:y,transition:b,...g}=m;for(const v in g){let x=g[v];if(Array.isArray(x)){const C=u?x.length-1:0;x=x[C]}x!==null&&(s[v]=x)}for(const v in y)s[v]=y[v]}),s}const Me=e=>e;class s0{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function XD(e){let t=new s0,r=new s0,n=0,s=!1,o=!1;const a=new WeakSet,l={schedule:(c,h=!1,u=!1)=>{const d=u&&s,f=d?t:r;return h&&a.add(c),f.add(c)&&d&&s&&(n=t.order.length),c},cancel:c=>{r.remove(c),a.delete(c)},process:c=>{if(s){o=!0;return}if(s=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let h=0;h<n;h++){const u=t.order[h];u(c),a.has(u)&&(l.schedule(u),e())}s=!1,o&&(o=!1,l.process(c))}};return l}const Oa=["prepare","read","update","preRender","render","postRender"],KD=40;function QD(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=Oa.reduce((d,f)=>(d[f]=XD(()=>r=!0),d),{}),a=d=>o[d].process(s),l=()=>{const d=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(d-s.timestamp,KD),1),s.timestamp=d,s.isProcessing=!0,Oa.forEach(a),s.isProcessing=!1,r&&t&&(n=!1,e(l))},c=()=>{r=!0,n=!0,s.isProcessing||e(l)};return{schedule:Oa.reduce((d,f)=>{const p=o[f];return d[f]=(m,y=!1,b=!1)=>(r||c(),p.schedule(m,y,b)),d},{}),cancel:d=>Oa.forEach(f=>o[f].cancel(d)),state:s,steps:o}}const{schedule:ke,cancel:Br,state:st,steps:Pu}=QD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Me,!0),JD={useVisualState:vw({scrapeMotionValuesFromProps:xw,createRenderState:fw,onMount:(e,t,{renderState:r,latestValues:n})=>{ke.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),ke.render(()=>{ap(r,n,{enableHardwareAcceleration:!1},lp(t.tagName),e.transformTemplate),gw(t,r)})}})},ZD={useVisualState:vw({scrapeMotionValuesFromProps:cp,createRenderState:op})};function e6(e,{forwardMotionProps:t=!1},r,n){return{...sp(e)?JD:ZD,preloadedFeatures:r,useRender:WD(t),createVisualElement:n,Component:e}}function Ar(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const bw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Rc(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const t6=e=>t=>bw(t)&&e(t,Rc(t));function Ir(e,t,r,n){return Ar(e,t,t6(r),n)}const r6=(e,t)=>r=>t(e(r)),bn=(...e)=>e.reduce(r6);function ww(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const i0=ww("dragHorizontal"),o0=ww("dragVertical");function jw(e){let t=!1;if(e==="y")t=o0();else if(e==="x")t=i0();else{const r=i0(),n=o0();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function Nw(){const e=jw(!0);return e?(e(),!1):!0}class On{constructor(t){this.isMounted=!1,this.node=t}update(){}}function a0(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),s=(o,a)=>{if(o.pointerType==="touch"||Nw())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&ke.update(()=>l[n](o,a))};return Ir(e.current,r,s,{passive:!e.getProps()[n]})}class n6 extends On{mount(){this.unmount=bn(a0(this.node,!0),a0(this.node,!1))}unmount(){}}class s6 extends On{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bn(Ar(this.node.current,"focus",()=>this.onFocus()),Ar(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Sw=(e,t)=>t?e===t?!0:Sw(e,t.parentElement):!1;function Du(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,Rc(r))}class i6 extends On{constructor(){super(...arguments),this.removeStartListeners=Me,this.removeEndListeners=Me,this.removeAccessibleListeners=Me,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),o=Ir(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:h,onTapCancel:u,globalTapTarget:d}=this.node.getProps();ke.update(()=>{!d&&!Sw(this.node.current,l.target)?u&&u(l,c):h&&h(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),a=Ir(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=bn(o,a),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||Du("up",(c,h)=>{const{onTap:u}=this.node.getProps();u&&ke.update(()=>u(c,h))})};this.removeEndListeners(),this.removeEndListeners=Ar(this.node.current,"keyup",a),Du("down",(l,c)=>{this.startPress(l,c)})},r=Ar(this.node.current,"keydown",t),n=()=>{this.isPressing&&Du("cancel",(o,a)=>this.cancelPress(o,a))},s=Ar(this.node.current,"blur",n);this.removeAccessibleListeners=bn(r,s)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&ke.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Nw()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&ke.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=Ir(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Ar(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=bn(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ch=new WeakMap,Au=new WeakMap,o6=e=>{const t=ch.get(e.target);t&&t(e)},a6=e=>{e.forEach(o6)};function l6({root:e,...t}){const r=e||document;Au.has(r)||Au.set(r,{});const n=Au.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(a6,{root:e,...t})),n[s]}function c6(e,t,r){const n=l6(t);return ch.set(e,r),n.observe(e),()=>{ch.delete(e),n.unobserve(e)}}const u6={some:0,all:1};class d6 extends On{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:o}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:u6[s]},l=c=>{const{isIntersecting:h}=c;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=h?u:d;f&&f(c)};return c6(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(h6(t,r))&&this.startObserver()}unmount(){}}function h6({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const f6={inView:{Feature:d6},tap:{Feature:i6},focus:{Feature:s6},hover:{Feature:n6}};function kw(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function p6(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function m6(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function Ic(e,t,r){const n=e.getProps();return up(n,t,r!==void 0?r:n.custom,p6(e),m6(e))}let dp=Me;const Zn=e=>e*1e3,Mr=e=>e/1e3,g6={current:!1},Ew=e=>Array.isArray(e)&&typeof e[0]=="number";function Cw(e){return!!(!e||typeof e=="string"&&Tw[e]||Ew(e)||Array.isArray(e)&&e.every(Cw))}const Ui=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Tw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ui([0,.65,.55,1]),circOut:Ui([.55,0,1,.45]),backIn:Ui([.31,.01,.66,-.59]),backOut:Ui([.33,1.53,.69,.99])};function Pw(e){if(e)return Ew(e)?Ui(e):Array.isArray(e)?e.map(Pw):Tw[e]}function x6(e,t,r,{delay:n=0,duration:s,repeat:o=0,repeatType:a="loop",ease:l,times:c}={}){const h={[t]:r};c&&(h.offset=c);const u=Pw(l);return Array.isArray(u)&&(h.easing=u),e.animate(h,{delay:n,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}function y6(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const Dw=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,v6=1e-7,b6=12;function w6(e,t,r,n,s){let o,a,l=0;do a=t+(r-t)/2,o=Dw(a,n,s)-e,o>0?r=a:t=a;while(Math.abs(o)>v6&&++l<b6);return a}function sa(e,t,r,n){if(e===t&&r===n)return Me;const s=o=>w6(o,0,1,e,r);return o=>o===0||o===1?o:Dw(s(o),t,n)}const j6=sa(.42,0,1,1),N6=sa(0,0,.58,1),Aw=sa(.42,0,.58,1),S6=e=>Array.isArray(e)&&typeof e[0]!="number",Ow=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Rw=e=>t=>1-e(1-t),hp=e=>1-Math.sin(Math.acos(e)),Iw=Rw(hp),k6=Ow(hp),Mw=sa(.33,1.53,.69,.99),fp=Rw(Mw),E6=Ow(fp),C6=e=>(e*=2)<1?.5*fp(e):.5*(2-Math.pow(2,-10*(e-1))),T6={linear:Me,easeIn:j6,easeInOut:Aw,easeOut:N6,circIn:hp,circInOut:k6,circOut:Iw,backIn:fp,backInOut:E6,backOut:Mw,anticipate:C6},l0=e=>{if(Array.isArray(e)){dp(e.length===4);const[t,r,n,s]=e;return sa(t,r,n,s)}else if(typeof e=="string")return T6[e];return e},pp=(e,t)=>r=>!!(ra(r)&&DD.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),_w=(e,t,r)=>n=>{if(!ra(n))return n;const[s,o,a,l]=n.match(Oc);return{[e]:parseFloat(s),[t]:parseFloat(o),[r]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},P6=e=>Sn(0,255,e),Ou={...ys,transform:e=>Math.round(P6(e))},Xn={test:pp("rgb","red"),parse:_w("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Ou.transform(e)+", "+Ou.transform(t)+", "+Ou.transform(r)+", "+no(ro.transform(n))+")"};function D6(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const uh={test:pp("#"),parse:D6,transform:Xn.transform},_s={test:pp("hsl","hue"),parse:_w("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+jr.transform(no(t))+", "+jr.transform(no(r))+", "+no(ro.transform(n))+")"},ht={test:e=>Xn.test(e)||uh.test(e)||_s.test(e),parse:e=>Xn.test(e)?Xn.parse(e):_s.test(e)?_s.parse(e):uh.parse(e),transform:e=>ra(e)?e:e.hasOwnProperty("red")?Xn.transform(e):_s.transform(e)},De=(e,t,r)=>-r*e+r*t+e;function Ru(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function A6({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,o=0,a=0;if(!t)s=o=a=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=Ru(c,l,e+1/3),o=Ru(c,l,e),a=Ru(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:n}}const Iu=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},O6=[uh,Xn,_s],R6=e=>O6.find(t=>t.test(e));function c0(e){const t=R6(e);let r=t.parse(e);return t===_s&&(r=A6(r)),r}const Lw=(e,t)=>{const r=c0(e),n=c0(t),s={...r};return o=>(s.red=Iu(r.red,n.red,o),s.green=Iu(r.green,n.green,o),s.blue=Iu(r.blue,n.blue,o),s.alpha=De(r.alpha,n.alpha,o),Xn.transform(s))};function I6(e){var t,r;return isNaN(e)&&ra(e)&&(((t=e.match(Oc))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(cw))===null||r===void 0?void 0:r.length)||0)>0}const Fw={regex:TD,countKey:"Vars",token:"${v}",parse:Me},$w={regex:cw,countKey:"Colors",token:"${c}",parse:ht.parse},zw={regex:Oc,countKey:"Numbers",token:"${n}",parse:ys.parse};function Mu(e,{regex:t,countKey:r,token:n,parse:s}){const o=e.tokenised.match(t);o&&(e["num"+r]=o.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...o.map(s)))}function Ll(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Mu(r,Fw),Mu(r,$w),Mu(r,zw),r}function Bw(e){return Ll(e).values}function Uw(e){const{values:t,numColors:r,numVars:n,tokenised:s}=Ll(e),o=t.length;return a=>{let l=s;for(let c=0;c<o;c++)c<n?l=l.replace(Fw.token,a[c]):c<n+r?l=l.replace($w.token,ht.transform(a[c])):l=l.replace(zw.token,no(a[c]));return l}}const M6=e=>typeof e=="number"?0:e;function _6(e){const t=Bw(e);return Uw(e)(t.map(M6))}const kn={test:I6,parse:Bw,createTransformer:Uw,getAnimatableNone:_6},Vw=(e,t)=>r=>`${r>0?t:e}`;function Ww(e,t){return typeof e=="number"?r=>De(e,t,r):ht.test(e)?Lw(e,t):e.startsWith("var(")?Vw(e,t):qw(e,t)}const Hw=(e,t)=>{const r=[...e],n=r.length,s=e.map((o,a)=>Ww(o,t[a]));return o=>{for(let a=0;a<n;a++)r[a]=s[a](o);return r}},L6=(e,t)=>{const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=Ww(e[s],t[s]));return s=>{for(const o in n)r[o]=n[o](s);return r}},qw=(e,t)=>{const r=kn.createTransformer(t),n=Ll(e),s=Ll(t);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?bn(Hw(n.values,s.values),r):Vw(e,t)},Oo=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},u0=(e,t)=>r=>De(e,t,r);function F6(e){return typeof e=="number"?u0:typeof e=="string"?ht.test(e)?Lw:qw:Array.isArray(e)?Hw:typeof e=="object"?L6:u0}function $6(e,t,r){const n=[],s=r||F6(e[0]),o=e.length-1;for(let a=0;a<o;a++){let l=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||Me:t;l=bn(c,l)}n.push(l)}return n}function Gw(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const o=e.length;if(dp(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=$6(t,n,s),l=a.length,c=h=>{let u=0;if(l>1)for(;u<e.length-2&&!(h<e[u+1]);u++);const d=Oo(e[u],e[u+1],h);return a[u](d)};return r?h=>c(Sn(e[0],e[o-1],h)):c}function z6(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Oo(0,t,n);e.push(De(r,1,s))}}function B6(e){const t=[0];return z6(t,e.length-1),t}function U6(e,t){return e.map(r=>r*t)}function V6(e,t){return e.map(()=>t||Aw).splice(0,e.length-1)}function Fl({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=S6(n)?n.map(l0):l0(n),o={done:!1,value:t[0]},a=U6(r&&r.length===t.length?r:B6(t),e),l=Gw(a,t,{ease:Array.isArray(s)?s:V6(t,s)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}function Yw(e,t){return t?e*(1e3/t):0}const W6=5;function Xw(e,t,r){const n=Math.max(t-W6,0);return Yw(r-e(n),t-n)}const _u=.001,H6=.01,q6=10,G6=.05,Y6=1;function X6({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let s,o,a=1-t;a=Sn(G6,Y6,a),e=Sn(H6,q6,Mr(e)),a<1?(s=h=>{const u=h*a,d=u*e,f=u-r,p=dh(h,a),m=Math.exp(-d);return _u-f/p*m},o=h=>{const d=h*a*e,f=d*r+r,p=Math.pow(a,2)*Math.pow(h,2)*e,m=Math.exp(-d),y=dh(Math.pow(h,2),a);return(-s(h)+_u>0?-1:1)*((f-p)*m)/y}):(s=h=>{const u=Math.exp(-h*e),d=(h-r)*e+1;return-_u+u*d},o=h=>{const u=Math.exp(-h*e),d=(r-h)*(e*e);return u*d});const l=5/e,c=Q6(s,o,l);if(e=Zn(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const h=Math.pow(c,2)*n;return{stiffness:h,damping:a*2*Math.sqrt(n*h),duration:e}}}const K6=12;function Q6(e,t,r){let n=r;for(let s=1;s<K6;s++)n=n-e(n)/t(n);return n}function dh(e,t){return e*Math.sqrt(1-t*t)}const J6=["duration","bounce"],Z6=["stiffness","damping","mass"];function d0(e,t){return t.some(r=>e[r]!==void 0)}function eA(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!d0(e,Z6)&&d0(e,J6)){const r=X6(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function Kw({keyframes:e,restDelta:t,restSpeed:r,...n}){const s=e[0],o=e[e.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:h,duration:u,velocity:d,isResolvedFromDuration:f}=eA({...n,velocity:-Mr(n.velocity||0)}),p=d||0,m=c/(2*Math.sqrt(l*h)),y=o-s,b=Mr(Math.sqrt(l/h)),g=Math.abs(y)<5;r||(r=g?.01:2),t||(t=g?.005:.5);let v;if(m<1){const x=dh(b,m);v=C=>{const R=Math.exp(-m*b*C);return o-R*((p+m*b*y)/x*Math.sin(x*C)+y*Math.cos(x*C))}}else if(m===1)v=x=>o-Math.exp(-b*x)*(y+(p+b*y)*x);else{const x=b*Math.sqrt(m*m-1);v=C=>{const R=Math.exp(-m*b*C),S=Math.min(x*C,300);return o-R*((p+m*b*y)*Math.sinh(S)+x*y*Math.cosh(S))/x}}return{calculatedDuration:f&&u||null,next:x=>{const C=v(x);if(f)a.done=x>=u;else{let R=p;x!==0&&(m<1?R=Xw(v,x,C):R=0);const S=Math.abs(R)<=r,I=Math.abs(o-C)<=t;a.done=S&&I}return a.value=a.done?o:C,a}}}function h0({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:h=.5,restSpeed:u}){const d=e[0],f={done:!1,value:d},p=w=>l!==void 0&&w<l||c!==void 0&&w>c,m=w=>l===void 0?c:c===void 0||Math.abs(l-w)<Math.abs(c-w)?l:c;let y=r*t;const b=d+y,g=a===void 0?b:a(b);g!==b&&(y=g-d);const v=w=>-y*Math.exp(-w/n),x=w=>g+v(w),C=w=>{const j=v(w),N=x(w);f.done=Math.abs(j)<=h,f.value=f.done?g:N};let R,S;const I=w=>{p(f.value)&&(R=w,S=Kw({keyframes:[f.value,m(f.value)],velocity:Xw(x,w,f.value),damping:s,stiffness:o,restDelta:h,restSpeed:u}))};return I(0),{calculatedDuration:null,next:w=>{let j=!1;return!S&&R===void 0&&(j=!0,C(w),I(w)),R!==void 0&&w>R?S.next(w-R):(!j&&C(w),f)}}}const tA=e=>{const t=({timestamp:r})=>e(r);return{start:()=>ke.update(t,!0),stop:()=>Br(t),now:()=>st.isProcessing?st.timestamp:performance.now()}},f0=2e4;function p0(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<f0;)t+=r,n=e.next(t);return t>=f0?1/0:t}const rA={decay:h0,inertia:h0,tween:Fl,keyframes:Fl,spring:Kw};function $l({autoplay:e=!0,delay:t=0,driver:r=tA,keyframes:n,type:s="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:h,onComplete:u,onUpdate:d,...f}){let p=1,m=!1,y,b;const g=()=>{b=new Promise(z=>{y=z})};g();let v;const x=rA[s]||Fl;let C;x!==Fl&&typeof n[0]!="number"&&(C=Gw([0,100],n,{clamp:!1}),n=[0,100]);const R=x({...f,keyframes:n});let S;l==="mirror"&&(S=x({...f,keyframes:[...n].reverse(),velocity:-(f.velocity||0)}));let I="idle",w=null,j=null,N=null;R.calculatedDuration===null&&o&&(R.calculatedDuration=p0(R));const{calculatedDuration:k}=R;let T=1/0,D=1/0;k!==null&&(T=k+a,D=T*(o+1)-a);let O=0;const M=z=>{if(j===null)return;p>0&&(j=Math.min(j,z)),p<0&&(j=Math.min(z-D/p,j)),w!==null?O=w:O=Math.round(z-j)*p;const B=O-t*(p>=0?1:-1),q=p>=0?B<0:B>D;O=Math.max(B,0),I==="finished"&&w===null&&(O=D);let H=O,U=R;if(o){const se=Math.min(O,D)/T;let ie=Math.floor(se),de=se%1;!de&&se>=1&&(de=1),de===1&&ie--,ie=Math.min(ie,o+1),!!(ie%2)&&(l==="reverse"?(de=1-de,a&&(de-=a/T)):l==="mirror"&&(U=S)),H=Sn(0,1,de)*T}const X=q?{done:!1,value:n[0]}:U.next(H);C&&(X.value=C(X.value));let{done:ee}=X;!q&&k!==null&&(ee=p>=0?O>=D:O<=0);const ae=w===null&&(I==="finished"||I==="running"&&ee);return d&&d(X.value),ae&&F(),X},A=()=>{v&&v.stop(),v=void 0},P=()=>{I="idle",A(),y(),g(),j=N=null},F=()=>{I="finished",u&&u(),A(),y()},L=()=>{if(m)return;v||(v=r(M));const z=v.now();c&&c(),w!==null?j=z-w:(!j||I==="finished")&&(j=z),I==="finished"&&g(),N=j,w=null,I="running",v.start()};e&&L();const $={then(z,B){return b.then(z,B)},get time(){return Mr(O)},set time(z){z=Zn(z),O=z,w!==null||!v||p===0?w=z:j=v.now()-z/p},get duration(){const z=R.calculatedDuration===null?p0(R):R.calculatedDuration;return Mr(z)},get speed(){return p},set speed(z){z===p||!v||(p=z,$.time=Mr(O))},get state(){return I},play:L,pause:()=>{I="paused",w=O},stop:()=>{m=!0,I!=="idle"&&(I="idle",h&&h(),P())},cancel:()=>{N!==null&&M(N),P()},complete:()=>{I="finished"},sample:z=>(j=0,M(z))};return $}function nA(e){let t;return()=>(t===void 0&&(t=e()),t)}const sA=nA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),iA=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ra=10,oA=2e4,aA=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Cw(t.ease);function lA(e,t,{onUpdate:r,onComplete:n,...s}){if(!(sA()&&iA.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let a=!1,l,c,h=!1;const u=()=>{c=new Promise(x=>{l=x})};u();let{keyframes:d,duration:f=300,ease:p,times:m}=s;if(aA(t,s)){const x=$l({...s,repeat:0,delay:0});let C={done:!1,value:d[0]};const R=[];let S=0;for(;!C.done&&S<oA;)C=x.sample(S),R.push(C.value),S+=Ra;m=void 0,d=R,f=S-Ra,p="linear"}const y=x6(e.owner.current,t,d,{...s,duration:f,ease:p,times:m}),b=()=>{h=!1,y.cancel()},g=()=>{h=!0,ke.update(b),l(),u()};return y.onfinish=()=>{h||(e.set(y6(d,s)),n&&n(),g())},{then(x,C){return c.then(x,C)},attachTimeline(x){return y.timeline=x,y.onfinish=null,Me},get time(){return Mr(y.currentTime||0)},set time(x){y.currentTime=Zn(x)},get speed(){return y.playbackRate},set speed(x){y.playbackRate=x},get duration(){return Mr(f)},play:()=>{a||(y.play(),Br(b))},pause:()=>y.pause(),stop:()=>{if(a=!0,y.playState==="idle")return;const{currentTime:x}=y;if(x){const C=$l({...s,autoplay:!1});e.setWithVelocity(C.sample(x-Ra).value,C.sample(x).value,Ra)}g()},complete:()=>{h||y.finish()},cancel:g}}function cA({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const s=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Me,pause:Me,stop:Me,then:o=>(o(),Promise.resolve()),cancel:Me,complete:Me});return t?$l({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const uA={type:"spring",stiffness:500,damping:25,restSpeed:10},dA=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),hA={type:"keyframes",duration:.8},fA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pA=(e,{keyframes:t})=>t.length>2?hA:xs.has(e)?e.startsWith("scale")?dA(t[1]):uA:fA,hh=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(kn.test(t)||t==="0")&&!t.startsWith("url(")),mA=new Set(["brightness","contrast","saturate","opacity"]);function gA(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Oc)||[];if(!n)return e;const s=r.replace(n,"");let o=mA.has(t)?1:0;return n!==r&&(o*=100),t+"("+o+s+")"}const xA=/([a-z-]*)\(.*?\)/g,fh={...kn,getAnimatableNone:e=>{const t=e.match(xA);return t?t.map(gA).join(" "):e}},yA={...uw,color:ht,backgroundColor:ht,outlineColor:ht,fill:ht,stroke:ht,borderColor:ht,borderTopColor:ht,borderRightColor:ht,borderBottomColor:ht,borderLeftColor:ht,filter:fh,WebkitFilter:fh},mp=e=>yA[e];function Qw(e,t){let r=mp(e);return r!==fh&&(r=kn),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Jw=e=>/^0[^.\s]+$/.test(e);function vA(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Jw(e)}function bA(e,t,r,n){const s=hh(t,r);let o;Array.isArray(r)?o=[...r]:o=[null,r];const a=n.from!==void 0?n.from:e.get();let l;const c=[];for(let h=0;h<o.length;h++)o[h]===null&&(o[h]=h===0?a:o[h-1]),vA(o[h])&&c.push(h),typeof o[h]=="string"&&o[h]!=="none"&&o[h]!=="0"&&(l=o[h]);if(s&&c.length&&l)for(let h=0;h<c.length;h++){const u=c[h];o[u]=Qw(t,l)}return o}function wA({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:h,...u}){return!!Object.keys(u).length}function gp(e,t){return e[t]||e.default||e}const jA={skipAnimations:!1},xp=(e,t,r,n={})=>s=>{const o=gp(n,e)||{},a=o.delay||n.delay||0;let{elapsed:l=0}=n;l=l-Zn(a);const c=bA(t,e,r,o),h=c[0],u=c[c.length-1],d=hh(e,h),f=hh(e,u);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:m=>{t.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}};if(wA(o)||(p={...p,...pA(e,p)}),p.duration&&(p.duration=Zn(p.duration)),p.repeatDelay&&(p.repeatDelay=Zn(p.repeatDelay)),!d||!f||g6.current||o.type===!1||jA.skipAnimations)return cA(p);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const m=lA(t,e,p);if(m)return m}return $l(p)};function zl(e){return!!(Et(e)&&e.add)}const Zw=e=>/^\-?\d*\.?\d+$/.test(e);function yp(e,t){e.indexOf(t)===-1&&e.push(t)}function vp(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class bp{constructor(){this.subscriptions=[]}add(t){return yp(this.subscriptions,t),()=>vp(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let o=0;o<s;o++){const a=this.subscriptions[o];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const NA=e=>!isNaN(parseFloat(e));class SA{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{this.prev=this.current,this.current=n;const{delta:o,timestamp:a}=st;this.lastUpdated!==a&&(this.timeDelta=o,this.lastUpdated=a,ke.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ke.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=NA(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new bp);const n=this.events[t].add(r);return t==="change"?()=>{n(),ke.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Yw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function oi(e,t){return new SA(e,t)}const ej=e=>t=>t.test(e),kA={test:e=>e==="auto",parse:e=>e},tj=[ys,re,jr,Kr,OD,AD,kA],Ri=e=>tj.find(ej(e)),EA=[...tj,ht,kn],CA=e=>EA.find(ej(e));function TA(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,oi(r))}function PA(e,t){const r=Ic(e,t);let{transitionEnd:n={},transition:s={},...o}=r?e.makeTargetAnimatable(r,!1):{};o={...o,...n};for(const a in o){const l=qD(o[a]);TA(e,a,l)}}function DA(e,t,r){var n,s;const o=Object.keys(t).filter(l=>!e.hasValue(l)),a=o.length;if(a)for(let l=0;l<a;l++){const c=o[l],h=t[c];let u=null;Array.isArray(h)&&(u=h[0]),u===null&&(u=(s=(n=r[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&s!==void 0?s:t[c]),u!=null&&(typeof u=="string"&&(Zw(u)||Jw(u))?u=parseFloat(u):!CA(u)&&kn.test(h)&&(u=Qw(c,h)),e.addValue(c,oi(u,{owner:e})),r[c]===void 0&&(r[c]=u),u!==null&&e.setBaseTarget(c,u))}}function AA(e,t){return t?(t[e]||t.default||t).from:void 0}function OA(e,t,r){const n={};for(const s in e){const o=AA(s,t);if(o!==void 0)n[s]=o;else{const a=r.getValue(s);a&&(n[s]=a.get())}}return n}function RA({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function IA(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function rj(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(o=n);const h=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const f=e.getValue(d),p=l[d];if(!f||p===void 0||u&&RA(u,d))continue;const m={delay:r,elapsed:0,...gp(o||{},d)};if(window.HandoffAppearAnimations){const g=e.getProps()[nw];if(g){const v=window.HandoffAppearAnimations(g,d,f,ke);v!==null&&(m.elapsed=v,m.isHandoff=!0)}}let y=!m.isHandoff&&!IA(f,p);if(m.type==="spring"&&(f.getVelocity()||m.velocity)&&(y=!1),f.animation&&(y=!1),y)continue;f.start(xp(d,f,p,e.shouldReduceMotion&&xs.has(d)?{type:!1}:m));const b=f.animation;zl(c)&&(c.add(d),b.then(()=>c.remove(d))),h.push(b)}return a&&Promise.all(h).then(()=>{a&&PA(e,a)}),h}function ph(e,t,r={}){const n=Ic(e,t,r.custom);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const o=n?()=>Promise.all(rj(e,n,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:u,staggerDirection:d}=s;return MA(e,t,h+c,u,d,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,h]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>h())}else return Promise.all([o(),a(r.delay)])}function MA(e,t,r=0,n=0,s=1,o){const a=[],l=(e.variantChildren.size-1)*n,c=s===1?(h=0)=>h*n:(h=0)=>l-h*n;return Array.from(e.variantChildren).sort(_A).forEach((h,u)=>{h.notify("AnimationStart",t),a.push(ph(h,t,{...o,delay:r+c(u)}).then(()=>h.notify("AnimationComplete",t)))}),Promise.all(a)}function _A(e,t){return e.sortNodePosition(t)}function LA(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(o=>ph(e,o,r));n=Promise.all(s)}else if(typeof t=="string")n=ph(e,t,r);else{const s=typeof t=="function"?Ic(e,t,r.custom):t;n=Promise.all(rj(e,s,r))}return n.then(()=>e.notify("AnimationComplete",t))}const FA=[...tp].reverse(),$A=tp.length;function zA(e){return t=>Promise.all(t.map(({animation:r,options:n})=>LA(e,r,n)))}function BA(e){let t=zA(e);const r=VA();let n=!0;const s=(c,h)=>{const u=Ic(e,h);if(u){const{transition:d,transitionEnd:f,...p}=u;c={...c,...p,...f}}return c};function o(c){t=c(e)}function a(c,h){const u=e.getProps(),d=e.getVariantContext(!0)||{},f=[],p=new Set;let m={},y=1/0;for(let g=0;g<$A;g++){const v=FA[g],x=r[v],C=u[v]!==void 0?u[v]:d[v],R=Do(C),S=v===h?x.isActive:null;S===!1&&(y=g);let I=C===d[v]&&C!==u[v]&&R;if(I&&n&&e.manuallyAnimateOnMount&&(I=!1),x.protectedKeys={...m},!x.isActive&&S===null||!C&&!x.prevProp||Dc(C)||typeof C=="boolean")continue;let j=UA(x.prevProp,C)||v===h&&x.isActive&&!I&&R||g>y&&R,N=!1;const k=Array.isArray(C)?C:[C];let T=k.reduce(s,{});S===!1&&(T={});const{prevResolvedValues:D={}}=x,O={...D,...T},M=A=>{j=!0,p.has(A)&&(N=!0,p.delete(A)),x.needsAnimating[A]=!0};for(const A in O){const P=T[A],F=D[A];if(m.hasOwnProperty(A))continue;let L=!1;_l(P)&&_l(F)?L=!kw(P,F):L=P!==F,L?P!==void 0?M(A):p.add(A):P!==void 0&&p.has(A)?M(A):x.protectedKeys[A]=!0}x.prevProp=C,x.prevResolvedValues=T,x.isActive&&(m={...m,...T}),n&&e.blockInitialAnimation&&(j=!1),j&&(!I||N)&&f.push(...k.map(A=>({animation:A,options:{type:v,...c}})))}if(p.size){const g={};p.forEach(v=>{const x=e.getBaseTarget(v);x!==void 0&&(g[v]=x)}),f.push({animation:g})}let b=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(b=!1),n=!1,b?t(f):Promise.resolve()}function l(c,h,u){var d;if(r[c].isActive===h)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(c,h)}),r[c].isActive=h;const f=a(u,c);for(const p in r)r[p].protectedKeys={};return f}return{animateChanges:a,setActive:l,setAnimateFunction:o,getState:()=>r}}function UA(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!kw(t,e):!1}function Ln(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function VA(){return{animate:Ln(!0),whileInView:Ln(),whileHover:Ln(),whileTap:Ln(),whileDrag:Ln(),whileFocus:Ln(),exit:Ln()}}class WA extends On{constructor(t){super(t),t.animationState||(t.animationState=BA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Dc(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let HA=0;class qA extends On{constructor(){super(...arguments),this.id=HA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&o.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const GA={animation:{Feature:WA},exit:{Feature:qA}},m0=(e,t)=>Math.abs(e-t);function YA(e,t){const r=m0(e.x,t.x),n=m0(e.y,t.y);return Math.sqrt(r**2+n**2)}class nj{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Fu(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=YA(d.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:m}=d,{timestamp:y}=st;this.history.push({...m,timestamp:y});const{onStart:b,onMove:g}=this.handlers;f||(b&&b(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Lu(f,this.transformPagePoint),ke.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Fu(d.type==="pointercancel"?this.lastMoveEventInfo:Lu(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,b),m&&m(d,b)},!bw(t))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const a=Rc(t),l=Lu(a,this.transformPagePoint),{point:c}=l,{timestamp:h}=st;this.history=[{...c,timestamp:h}];const{onSessionStart:u}=r;u&&u(t,Fu(l,this.history)),this.removeListeners=bn(Ir(this.contextWindow,"pointermove",this.handlePointerMove),Ir(this.contextWindow,"pointerup",this.handlePointerUp),Ir(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Br(this.updatePoint)}}function Lu(e,t){return t?{point:t(e.point)}:e}function g0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Fu({point:e},t){return{point:e,delta:g0(e,sj(t)),offset:g0(e,XA(t)),velocity:KA(t,.1)}}function XA(e){return e[0]}function sj(e){return e[e.length-1]}function KA(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=sj(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Zn(t)));)r--;if(!n)return{x:0,y:0};const o=Mr(s.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const a={x:(s.x-n.x)/o,y:(s.y-n.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Rt(e){return e.max-e.min}function mh(e,t=0,r=.01){return Math.abs(e-t)<=r}function x0(e,t,r,n=.5){e.origin=n,e.originPoint=De(t.min,t.max,e.origin),e.scale=Rt(r)/Rt(t),(mh(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=De(r.min,r.max,e.origin)-e.originPoint,(mh(e.translate)||isNaN(e.translate))&&(e.translate=0)}function so(e,t,r,n){x0(e.x,t.x,r.x,n?n.originX:void 0),x0(e.y,t.y,r.y,n?n.originY:void 0)}function y0(e,t,r){e.min=r.min+t.min,e.max=e.min+Rt(t)}function QA(e,t,r){y0(e.x,t.x,r.x),y0(e.y,t.y,r.y)}function v0(e,t,r){e.min=t.min-r.min,e.max=e.min+Rt(t)}function io(e,t,r){v0(e.x,t.x,r.x),v0(e.y,t.y,r.y)}function JA(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?De(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?De(r,e,n.max):Math.min(e,r)),e}function b0(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function ZA(e,{top:t,left:r,bottom:n,right:s}){return{x:b0(e.x,r,s),y:b0(e.y,t,n)}}function w0(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function eO(e,t){return{x:w0(e.x,t.x),y:w0(e.y,t.y)}}function tO(e,t){let r=.5;const n=Rt(e),s=Rt(t);return s>n?r=Oo(t.min,t.max-n,e.min):n>s&&(r=Oo(e.min,e.max-s,t.min)),Sn(0,1,r)}function rO(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const gh=.35;function nO(e=gh){return e===!1?e=0:e===!0&&(e=gh),{x:j0(e,"left","right"),y:j0(e,"top","bottom")}}function j0(e,t,r){return{min:N0(e,t),max:N0(e,r)}}function N0(e,t){return typeof e=="number"?e:e[t]||0}const S0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ls=()=>({x:S0(),y:S0()}),k0=()=>({min:0,max:0}),Le=()=>({x:k0(),y:k0()});function $t(e){return[e("x"),e("y")]}function ij({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function sO({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function iO(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function $u(e){return e===void 0||e===1}function xh({scale:e,scaleX:t,scaleY:r}){return!$u(e)||!$u(t)||!$u(r)}function zn(e){return xh(e)||oj(e)||e.z||e.rotate||e.rotateX||e.rotateY}function oj(e){return E0(e.x)||E0(e.y)}function E0(e){return e&&e!=="0%"}function Bl(e,t,r){const n=e-r,s=t*n;return r+s}function C0(e,t,r,n,s){return s!==void 0&&(e=Bl(e,s,n)),Bl(e,r,n)+t}function yh(e,t=0,r=1,n,s){e.min=C0(e.min,t,r,n,s),e.max=C0(e.max,t,r,n,s)}function aj(e,{x:t,y:r}){yh(e.x,t.translate,t.scale,t.originPoint),yh(e.y,r.translate,r.scale,r.originPoint)}function oO(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let o,a;for(let l=0;l<s;l++){o=r[l],a=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Fs(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,aj(e,a)),n&&zn(o.latestValues)&&Fs(e,o.latestValues))}t.x=T0(t.x),t.y=T0(t.y)}function T0(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Zr(e,t){e.min=e.min+t,e.max=e.max+t}function P0(e,t,[r,n,s]){const o=t[s]!==void 0?t[s]:.5,a=De(e.min,e.max,o);yh(e,t[r],t[n],a,t.scale)}const aO=["x","scaleX","originX"],lO=["y","scaleY","originY"];function Fs(e,t){P0(e.x,t,aO),P0(e.y,t,lO)}function lj(e,t){return ij(iO(e.getBoundingClientRect(),t))}function cO(e,t,r){const n=lj(e,r),{scroll:s}=t;return s&&(Zr(n.x,s.offset.x),Zr(n.y,s.offset.y)),n}const cj=({current:e})=>e?e.ownerDocument.defaultView:null,uO=new WeakMap;class dO{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Le(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Rc(u,"page").point)},o=(u,d)=>{const{drag:f,dragPropagation:p,onDragStart:m}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=jw(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$t(b=>{let g=this.getAxisMotionValue(b).get()||0;if(jr.test(g)){const{projection:v}=this.visualElement;if(v&&v.layout){const x=v.layout.layoutBox[b];x&&(g=Rt(x)*(parseFloat(g)/100))}}this.originPoint[b]=g}),m&&ke.update(()=>m(u,d),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(u,d)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:m,onDrag:y}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:b}=d;if(p&&this.currentDirection===null){this.currentDirection=hO(b),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,b),this.updateAxis("y",d.point,b),this.visualElement.render(),y&&y(u,d)},l=(u,d)=>this.stop(u,d),c=()=>$t(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new nj(t,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:cj(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&ke.update(()=>o(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Ia(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=JA(a,this.constraints[t],this.elastic[t])),o.set(a)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;r&&Ms(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=ZA(s.layoutBox,r):this.constraints=!1,this.elastic=nO(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&$t(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=rO(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Ms(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=cO(n,s.root,this.visualElement.getTransformPagePoint());let a=eO(s.layout.layoutBox,o);if(r){const l=r(sO(a));this.hasMutatedConstraints=!!l,l&&(a=ij(l))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},h=$t(u=>{if(!Ia(u,r,this.currentDirection))return;let d=c&&c[u]||{};a&&(d={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,m={type:"inertia",velocity:n?t[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(h).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(xp(t,n,0,r))}stopAnimation(){$t(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){$t(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){$t(r=>{const{drag:n}=this.getProps();if(!Ia(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(r);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[r];o.set(t[r]-De(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Ms(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};$t(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();s[a]=tO({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),$t(a=>{if(!Ia(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:h}=this.constraints[a];l.set(De(c,h,s[a]))})}addListeners(){if(!this.visualElement.current)return;uO.set(this.visualElement,this);const t=this.visualElement.current,r=Ir(t,"pointerdown",c=>{const{drag:h,dragListener:u=!0}=this.getProps();h&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Ms(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const a=Ar(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h})=>{this.isDragging&&h&&($t(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=c[u].translate,d.set(d.get()+c[u].translate))}),this.visualElement.render())});return()=>{a(),r(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:a=gh,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:o,dragElastic:a,dragMomentum:l}}}function Ia(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function hO(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class fO extends On{constructor(t){super(t),this.removeGroupControls=Me,this.removeListeners=Me,this.controls=new dO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Me}unmount(){this.removeGroupControls(),this.removeListeners()}}const D0=e=>(t,r)=>{e&&ke.update(()=>e(t,r))};class pO extends On{constructor(){super(...arguments),this.removePointerDownListener=Me}onPointerDown(t){this.session=new nj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:D0(t),onStart:D0(r),onMove:n,onEnd:(o,a)=>{delete this.session,s&&ke.update(()=>s(o,a))}}}mount(){this.removePointerDownListener=Ir(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function mO(){const e=E.useContext(Tc);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,s=E.useId();return E.useEffect(()=>n(s),[]),!t&&r?[!1,()=>r&&r(s)]:[!0]}const el={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function A0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ii={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(re.test(e))e=parseFloat(e);else return e;const r=A0(e,t.target.x),n=A0(e,t.target.y);return`${r}% ${n}%`}},gO={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=kn.parse(e);if(s.length>5)return n;const o=kn.createTransformer(e),a=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+a]/=l,s[1+a]/=c;const h=De(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=h),typeof s[3+a]=="number"&&(s[3+a]/=h),o(s)}};class xO extends cs.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:o}=t;SD(yO),o&&(r.group&&r.group.add(o),n&&n.register&&s&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),el.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:o}=this.props,a=n.projection;return a&&(a.isPresent=o,s||t.layoutDependency!==r||r===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?a.promote():a.relegate()||ke.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function uj(e){const[t,r]=mO(),n=E.useContext(np);return cs.createElement(xO,{...e,layoutGroup:n,switchLayoutGroup:E.useContext(iw),isPresent:t,safeToRemove:r})}const yO={borderRadius:{...Ii,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ii,borderTopRightRadius:Ii,borderBottomLeftRadius:Ii,borderBottomRightRadius:Ii,boxShadow:gO},dj=["TopLeft","TopRight","BottomLeft","BottomRight"],vO=dj.length,O0=e=>typeof e=="string"?parseFloat(e):e,R0=e=>typeof e=="number"||re.test(e);function bO(e,t,r,n,s,o){s?(e.opacity=De(0,r.opacity!==void 0?r.opacity:1,wO(n)),e.opacityExit=De(t.opacity!==void 0?t.opacity:1,0,jO(n))):o&&(e.opacity=De(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let a=0;a<vO;a++){const l=`border${dj[a]}Radius`;let c=I0(t,l),h=I0(r,l);if(c===void 0&&h===void 0)continue;c||(c=0),h||(h=0),c===0||h===0||R0(c)===R0(h)?(e[l]=Math.max(De(O0(c),O0(h),n),0),(jr.test(h)||jr.test(c))&&(e[l]+="%")):e[l]=h}(t.rotate||r.rotate)&&(e.rotate=De(t.rotate||0,r.rotate||0,n))}function I0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const wO=hj(0,.5,Iw),jO=hj(.5,.95,Me);function hj(e,t,r){return n=>n<e?0:n>t?1:r(Oo(e,t,n))}function M0(e,t){e.min=t.min,e.max=t.max}function Ft(e,t){M0(e.x,t.x),M0(e.y,t.y)}function _0(e,t,r,n,s){return e-=t,e=Bl(e,1/r,n),s!==void 0&&(e=Bl(e,1/s,n)),e}function NO(e,t=0,r=1,n=.5,s,o=e,a=e){if(jr.test(t)&&(t=parseFloat(t),t=De(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=De(o.min,o.max,n);e===o&&(l-=t),e.min=_0(e.min,t,r,l,s),e.max=_0(e.max,t,r,l,s)}function L0(e,t,[r,n,s],o,a){NO(e,t[r],t[n],t[s],t.scale,o,a)}const SO=["x","scaleX","originX"],kO=["y","scaleY","originY"];function F0(e,t,r,n){L0(e.x,t,SO,r?r.x:void 0,n?n.x:void 0),L0(e.y,t,kO,r?r.y:void 0,n?n.y:void 0)}function $0(e){return e.translate===0&&e.scale===1}function fj(e){return $0(e.x)&&$0(e.y)}function EO(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function pj(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function z0(e){return Rt(e.x)/Rt(e.y)}class CO{constructor(){this.members=[]}add(t){yp(this.members,t),t.scheduleRender()}remove(t){if(vp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function B0(e,t,r){let n="";const s=e.x.translate/t.x,o=e.y.translate/t.y;if((s||o)&&(n=`translate3d(${s}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:h,rotateY:u}=r;c&&(n+=`rotate(${c}deg) `),h&&(n+=`rotateX(${h}deg) `),u&&(n+=`rotateY(${u}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const TO=(e,t)=>e.depth-t.depth;class PO{constructor(){this.children=[],this.isDirty=!1}add(t){yp(this.children,t),this.isDirty=!0}remove(t){vp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(TO),this.isDirty=!1,this.children.forEach(t)}}function DO(e,t){const r=performance.now(),n=({timestamp:s})=>{const o=s-r;o>=t&&(Br(n),e(o-t))};return ke.read(n,!0),()=>Br(n)}function AO(e){window.MotionDebug&&window.MotionDebug.record(e)}function OO(e){return e instanceof SVGElement&&e.tagName!=="svg"}function RO(e,t,r){const n=Et(e)?e:oi(e);return n.start(xp("",n,t,r)),n.animation}const U0=["","X","Y","Z"],IO={visibility:"hidden"},V0=1e3;let MO=0;const Bn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function mj({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(a={},l=t==null?void 0:t()){this.id=MO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Bn.totalNodes=Bn.resolvedTargetDeltas=Bn.recalculatedProjection=0,this.nodes.forEach(FO),this.nodes.forEach(VO),this.nodes.forEach(WO),this.nodes.forEach($O),AO(Bn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new PO)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new bp),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=OO(a),this.instance=a;const{layoutId:c,layout:h,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(h||c)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=DO(f,250),el.hasAnimatedSinceResize&&(el.hasAnimatedSinceResize=!1,this.nodes.forEach(H0))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||h)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||XO,{onLayoutAnimationStart:b,onLayoutAnimationComplete:g}=u.getProps(),v=!this.targetLayout||!pj(this.targetLayout,m)||p,x=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const C={...gp(y,"layout"),onPlay:b,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else f||H0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Br(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HO),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(W0);return}this.isUpdating||this.nodes.forEach(BO),this.isUpdating=!1,this.nodes.forEach(UO),this.nodes.forEach(_O),this.nodes.forEach(LO),this.clearAllSnapshots();const l=performance.now();st.delta=Sn(0,1e3/60,l-st.timestamp),st.timestamp=l,st.isProcessing=!0,Pu.update.process(st),Pu.preRender.process(st),Pu.render.process(st),st.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(zO),this.sharedNodes.forEach(qO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!fj(this.projectionDelta),c=this.getTransformTemplate(),h=c?c(this.latestValues,""):void 0,u=h!==this.prevTransformTemplateValue;a&&(l||zn(this.latestValues)||u)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),KO(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Le();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&(Zr(l.x,c.offset.x),Zr(l.y,c.offset.y)),l}removeElementScroll(a){const l=Le();Ft(l,a);for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:u,options:d}=h;if(h!==this.root&&u&&d.layoutScroll){if(u.isRoot){Ft(l,a);const{scroll:f}=this.root;f&&(Zr(l.x,-f.offset.x),Zr(l.y,-f.offset.y))}Zr(l.x,u.offset.x),Zr(l.y,u.offset.y)}}return l}applyTransform(a,l=!1){const c=Le();Ft(c,a);for(let h=0;h<this.path.length;h++){const u=this.path[h];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Fs(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),zn(u.latestValues)&&Fs(c,u.latestValues)}return zn(this.latestValues)&&Fs(c,this.latestValues),c}removeTransform(a){const l=Le();Ft(l,a);for(let c=0;c<this.path.length;c++){const h=this.path[c];if(!h.instance||!zn(h.latestValues))continue;xh(h.latestValues)&&h.updateSnapshot();const u=Le(),d=h.measurePageBox();Ft(u,d),F0(l,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,u)}return zn(this.latestValues)&&F0(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==st.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(a||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=st.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),io(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Le(),this.targetWithTransforms=Le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ft(this.target,this.layout.layoutBox),aj(this.target,this.targetDelta)):Ft(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),io(this.relativeTargetOrigin,this.target,p.target),Ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Bn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||xh(this.parent.latestValues)||oj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===st.timestamp&&(h=!1),h)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ft(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;oO(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:m}=l;if(!m){this.projectionTransform&&(this.projectionDelta=Ls(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ls(),this.projectionDeltaWithTransform=Ls());const y=this.projectionTransform;so(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=B0(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Bn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,h=c?c.latestValues:{},u={...this.latestValues},d=Ls();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Le(),p=c?c.source:void 0,m=this.layout?this.layout.source:void 0,y=p!==m,b=this.getStack(),g=!b||b.members.length<=1,v=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(YO));this.animationProgress=0;let x;this.mixTargetDelta=C=>{const R=C/1e3;q0(d.x,a.x,R),q0(d.y,a.y,R),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(io(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),GO(this.relativeTarget,this.relativeTargetOrigin,f,R),x&&EO(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Le()),Ft(x,this.relativeTarget)),y&&(this.animationValues=u,bO(u,h,this.latestValues,R,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Br(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ke.update(()=>{el.hasAnimatedSinceResize=!0,this.currentAnimation=RO(0,V0,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(V0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:h,latestValues:u}=a;if(!(!l||!c||!h)){if(this!==a&&this.layout&&h&&gj(this.options.animationType,this.layout.layoutBox,h.layoutBox)){c=this.target||Le();const d=Rt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+d;const f=Rt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}Ft(l,c),Fs(l,u),so(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new CO),this.sharedNodes.get(a).add(l);const h=l.options.initialPromotionConfig;l.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const h=this.getStack();h&&h.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const h={};for(let u=0;u<U0.length;u++){const d="rotate"+U0[u];c[d]&&(h[d]=c[d],a.setStaticValue(d,0))}a.render();for(const u in h)a.setStaticValue(u,h[u]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return IO;const h={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Za(a==null?void 0:a.pointerEvents)||"",h.transform=u?u(this.latestValues,""):"none",h;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Za(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!zn(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),h.transform=B0(this.projectionDeltaWithTransform,this.treeScale,f),u&&(h.transform=u(f,h.transform));const{x:p,y:m}=this.projectionDelta;h.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?h.opacity=d===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:h.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in Il){if(f[y]===void 0)continue;const{correct:b,applyTo:g}=Il[y],v=h.transform==="none"?f[y]:b(f[y],d);if(g){const x=g.length;for(let C=0;C<x;C++)h[g[C]]=v}else h[y]=v}return this.options.layoutId&&(h.pointerEvents=d===this?Za(a==null?void 0:a.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(W0),this.root.sharedNodes.clear()}}}function _O(e){e.updateLayout()}function LO(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:o}=e.options,a=r.source!==e.layout.source;o==="size"?$t(d=>{const f=a?r.measuredBox[d]:r.layoutBox[d],p=Rt(f);f.min=n[d].min,f.max=f.min+p}):gj(o,r.layoutBox,n)&&$t(d=>{const f=a?r.measuredBox[d]:r.layoutBox[d],p=Rt(n[d]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const l=Ls();so(l,n,r.layoutBox);const c=Ls();a?so(c,e.applyTransform(s,!0),r.measuredBox):so(c,n,r.layoutBox);const h=!fj(l);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const m=Le();io(m,r.layoutBox,f.layoutBox);const y=Le();io(y,n,p.layoutBox),pj(m,y)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=m,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:h,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function FO(e){Bn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $O(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function zO(e){e.clearSnapshot()}function W0(e){e.clearMeasurements()}function BO(e){e.isLayoutDirty=!1}function UO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function H0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function VO(e){e.resolveTargetDelta()}function WO(e){e.calcProjection()}function HO(e){e.resetRotation()}function qO(e){e.removeLeadSnapshot()}function q0(e,t,r){e.translate=De(t.translate,0,r),e.scale=De(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function G0(e,t,r,n){e.min=De(t.min,r.min,n),e.max=De(t.max,r.max,n)}function GO(e,t,r,n){G0(e.x,t.x,r.x,n),G0(e.y,t.y,r.y,n)}function YO(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const XO={duration:.45,ease:[.4,0,.1,1]},Y0=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),X0=Y0("applewebkit/")&&!Y0("chrome/")?Math.round:Me;function K0(e){e.min=X0(e.min),e.max=X0(e.max)}function KO(e){K0(e.x),K0(e.y)}function gj(e,t,r){return e==="position"||e==="preserve-aspect"&&!mh(z0(t),z0(r),.2)}const QO=mj({attachResizeListener:(e,t)=>Ar(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zu={current:void 0},xj=mj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!zu.current){const e=new QO({});e.mount(window),e.setOptions({layoutScroll:!0}),zu.current=e}return zu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),JO={pan:{Feature:pO},drag:{Feature:fO,ProjectionNode:xj,MeasureLayout:uj}},ZO=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function e3(e){const t=ZO.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function vh(e,t,r=1){const[n,s]=e3(e);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const a=o.trim();return Zw(a)?parseFloat(a):a}else return lh(s)?vh(s,t,r+1):s}function t3(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(s=>{const o=s.get();if(!lh(o))return;const a=vh(o,n);a&&s.set(a)});for(const s in t){const o=t[s];if(!lh(o))continue;const a=vh(o,n);a&&(t[s]=a,r||(r={}),r[s]===void 0&&(r[s]=o))}return{target:t,transitionEnd:r}}const r3=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),yj=e=>r3.has(e),n3=e=>Object.keys(e).some(yj),Q0=e=>e===ys||e===re,J0=(e,t)=>parseFloat(e.split(", ")[t]),Z0=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return J0(s[1],t);{const o=n.match(/^matrix\((.+)\)$/);return o?J0(o[1],e):0}},s3=new Set(["x","y","z"]),i3=ta.filter(e=>!s3.has(e));function o3(e){const t=[];return i3.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const ai={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Z0(4,13),y:Z0(5,14)};ai.translateX=ai.x;ai.translateY=ai.y;const a3=(e,t,r)=>{const n=t.measureViewportBox(),s=t.current,o=getComputedStyle(s),{display:a}=o,l={};a==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(h=>{l[h]=ai[h](n,o)}),t.render();const c=t.measureViewportBox();return r.forEach(h=>{const u=t.getValue(h);u&&u.jump(l[h]),e[h]=ai[h](c,o)}),e},l3=(e,t,r={},n={})=>{t={...t},n={...n};const s=Object.keys(t).filter(yj);let o=[],a=!1;const l=[];if(s.forEach(c=>{const h=e.getValue(c);if(!e.hasValue(c))return;let u=r[c],d=Ri(u);const f=t[c];let p;if(_l(f)){const m=f.length,y=f[0]===null?1:0;u=f[y],d=Ri(u);for(let b=y;b<m&&f[b]!==null;b++)p?dp(Ri(f[b])===p):p=Ri(f[b])}else p=Ri(f);if(d!==p)if(Q0(d)&&Q0(p)){const m=h.get();typeof m=="string"&&h.set(parseFloat(m)),typeof f=="string"?t[c]=parseFloat(f):Array.isArray(f)&&p===re&&(t[c]=f.map(parseFloat))}else d!=null&&d.transform&&(p!=null&&p.transform)&&(u===0||f===0)?u===0?h.set(p.transform(u)):t[c]=d.transform(f):(a||(o=o3(e),a=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],h.jump(f))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,h=a3(t,e,l);return o.length&&o.forEach(([u,d])=>{e.getValue(u).set(d)}),e.render(),Pc&&c!==null&&window.scrollTo({top:c}),{target:h,transitionEnd:n}}else return{target:t,transitionEnd:n}};function c3(e,t,r,n){return n3(t)?l3(e,t,r,n):{target:t,transitionEnd:n}}const u3=(e,t,r,n)=>{const s=t3(e,t,n);return t=s.target,n=s.transitionEnd,c3(e,t,r,n)},bh={current:null},vj={current:!1};function d3(){if(vj.current=!0,!!Pc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>bh.current=e.matches;e.addListener(t),t()}else bh.current=!1}function h3(e,t,r){const{willChange:n}=t;for(const s in t){const o=t[s],a=r[s];if(Et(o))e.addValue(s,o),zl(n)&&n.add(s);else if(Et(a))e.addValue(s,oi(o,{owner:e})),zl(n)&&n.remove(s);else if(a!==o)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(o)}else{const l=e.getStaticValue(s);e.addValue(s,oi(l!==void 0?l:o,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const ex=new WeakMap,bj=Object.keys(Ao),f3=bj.length,tx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],p3=rp.length;class m3{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ke.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.isControllingVariants=Ac(r),this.isVariantNode=sw(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...u}=this.scrapeMotionValuesFromProps(r,{});for(const d in u){const f=u[d];l[d]!==void 0&&Et(f)&&(f.set(l[d],!1),zl(h)&&h.add(d))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,ex.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),vj.current||d3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ex.delete(this.current),this.projection&&this.projection.unmount(),Br(this.notifyUpdate),Br(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=xs.has(t),s=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ke.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,s,o){let a,l;for(let c=0;c<f3;c++){const h=bj[c],{isEnabled:u,Feature:d,ProjectionNode:f,MeasureLayout:p}=Ao[h];f&&(a=f),u(r)&&(!this.features[h]&&d&&(this.features[h]=new d(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:h,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:p}=r;this.projection.setOptions({layoutId:c,layout:h,alwaysMeasureLayout:!!u||d&&Ms(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof h=="string"?h:"both",initialPromotionConfig:o,layoutScroll:f,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Le()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<tx.length;n++){const s=tx[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o=t["on"+s];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=h3(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<p3;n++){const s=rp[n],o=this.props[s];(Do(o)||o===!1)&&(r[s]=o)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=oi(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,s=typeof n=="string"||typeof n=="object"?(r=up(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Et(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new bp),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class wj extends m3{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:s},o){let a=OA(n,t||{},this);if(s&&(r&&(r=s(r)),n&&(n=s(n)),a&&(a=s(a))),o){DA(this,n,a);const l=u3(this,n,a,r);r=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:r,...n}}}function g3(e){return window.getComputedStyle(e)}class x3 extends wj{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(xs.has(r)){const n=mp(r);return n&&n.default||0}else{const n=g3(t),s=(lw(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return lj(t,r)}build(t,r,n,s){ip(t,r,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,r){return cp(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Et(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,s){pw(t,r,n,s)}}class y3 extends wj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(xs.has(r)){const n=mp(r);return n&&n.default||0}return r=mw.has(r)?r:ep(r),t.getAttribute(r)}measureInstanceViewportBox(){return Le()}scrapeMotionValuesFromProps(t,r){return xw(t,r)}build(t,r,n,s){ap(t,r,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,r,n,s){gw(t,r,n,s)}mount(t){this.isSVGTag=lp(t.tagName),super.mount(t)}}const v3=(e,t)=>sp(e)?new y3(t,{enableHardwareAcceleration:!1}):new x3(t,{enableHardwareAcceleration:!0}),b3={layout:{ProjectionNode:xj,MeasureLayout:uj}},w3={...GA,...f6,...JO,...b3},Ne=jD((e,t)=>e6(e,t,w3,v3));function jj(){const e=E.useRef(!1);return Zf(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function j3(){const e=jj(),[t,r]=E.useState(0),n=E.useCallback(()=>{e.current&&r(t+1)},[t]);return[E.useCallback(()=>ke.postRender(n),[n]),t]}class N3 extends E.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function S3({children:e,isPresent:t}){const r=E.useId(),n=E.useRef(null),s=E.useRef({width:0,height:0,top:0,left:0});return E.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(t||!n.current||!o||!a)return;n.current.dataset.motionPopId=r;const h=document.createElement("style");return document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),E.createElement(N3,{isPresent:t,childRef:n,sizeRef:s},E.cloneElement(e,{ref:n}))}const Bu=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:o,mode:a})=>{const l=yw(k3),c=E.useId(),h=E.useMemo(()=>({id:c,initial:t,isPresent:r,custom:s,onExitComplete:u=>{l.set(u,!0);for(const d of l.values())if(!d)return;n&&n()},register:u=>(l.set(u,!1),()=>l.delete(u))}),o?void 0:[r]);return E.useMemo(()=>{l.forEach((u,d)=>l.set(d,!1))},[r]),E.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),a==="popLayout"&&(e=E.createElement(S3,{isPresent:r},e)),E.createElement(Tc.Provider,{value:h},e)};function k3(){return new Map}function E3(e){return E.useEffect(()=>()=>e(),[])}const Un=e=>e.key||"";function C3(e,t){e.forEach(r=>{const n=Un(r);t.set(n,r)})}function T3(e){const t=[];return E.Children.forEach(e,r=>{E.isValidElement(r)&&t.push(r)}),t}const un=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:a="sync"})=>{const l=E.useContext(np).forceRender||j3()[0],c=jj(),h=T3(e);let u=h;const d=E.useRef(new Map).current,f=E.useRef(u),p=E.useRef(new Map).current,m=E.useRef(!0);if(Zf(()=>{m.current=!1,C3(h,p),f.current=u}),E3(()=>{m.current=!0,p.clear(),d.clear()}),m.current)return E.createElement(E.Fragment,null,u.map(v=>E.createElement(Bu,{key:Un(v),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:o,mode:a},v)));u=[...u];const y=f.current.map(Un),b=h.map(Un),g=y.length;for(let v=0;v<g;v++){const x=y[v];b.indexOf(x)===-1&&!d.has(x)&&d.set(x,void 0)}return a==="wait"&&d.size&&(u=[]),d.forEach((v,x)=>{if(b.indexOf(x)!==-1)return;const C=p.get(x);if(!C)return;const R=y.indexOf(x);let S=v;if(!S){const I=()=>{d.delete(x);const w=Array.from(p.keys()).filter(j=>!b.includes(j));if(w.forEach(j=>p.delete(j)),f.current=h.filter(j=>{const N=Un(j);return N===x||w.includes(N)}),!d.size){if(c.current===!1)return;l(),n&&n()}};S=E.createElement(Bu,{key:Un(C),isPresent:!1,onExitComplete:I,custom:t,presenceAffectsLayout:o,mode:a},C),d.set(x,S)}u.splice(R,0,S)}),u=u.map(v=>{const x=v.key;return d.has(x)?v:E.createElement(Bu,{key:Un(v),isPresent:!0,presenceAffectsLayout:o,mode:a},v)}),E.createElement(E.Fragment,null,d.size?u:u.map(v=>E.cloneElement(v)))},Uu=E.memo(({targetDate:e,className:t="",onExpire:r,showSeconds:n=!0,compact:s=!1})=>{const[o,a]=E.useState({days:0,hours:0,minutes:0,seconds:0,total:0}),[l,c]=E.useState(!1),h=()=>{let p;try{if(Array.isArray(e)){const[y,b,g,v=0,x=0,C=0]=e;p=new Date(y,b-1,g,v,x,C).getTime()}else{const y=String(e);if(y.includes("T"))p=new Date(y).getTime();else{const b=y.replace(" ","T")+"Z";p=new Date(b).getTime()}}}catch(y){console.error("Failed to parse target date:",e,y),p=0}if(isNaN(p)||p===0)return console.error("Invalid target time calculated:",p,"from:",e),{days:0,hours:0,minutes:0,seconds:0,total:0};const m=p-new Date().getTime();return m>0?{days:Math.floor(m/(1e3*60*60*24)),hours:Math.floor(m/(1e3*60*60)%24),minutes:Math.floor(m/1e3/60%60),seconds:Math.floor(m/1e3%60),total:m}:{days:0,hours:0,minutes:0,seconds:0,total:0}};E.useEffect(()=>{const m=setInterval(()=>{const b=h();a(b),b.total<=0&&!l&&(c(!0),r&&r())},n?5e3:6e4),y=h();return a(y),y.total<=0&&(c(!0),r&&r()),()=>clearInterval(m)},[e,r,l,n]);const u=p=>p.toString().padStart(2,"0"),d=()=>l?"text-red-600":o.total<60*60*1e3?"text-red-500":o.total<24*60*60*1e3?"text-amber-500":"text-gray-600";if(l)return i.jsx("span",{className:`${t} text-red-600 font-medium`,children:"Expired"});if(s)return o.days>0?i.jsxs("span",{className:`${t} ${d()}`,children:[o.days,"d ",u(o.hours),"h"]}):o.hours>0?i.jsxs("span",{className:`${t} ${d()}`,children:[o.hours,"h ",u(o.minutes),"m"]}):i.jsxs("span",{className:`${t} ${d()}`,children:[o.minutes,"m ",n?`${u(o.seconds)}s`:""]});const f=[];return o.days>0&&f.push({label:"day",value:o.days,plural:"days"}),(o.hours>0||o.days>0)&&f.push({label:"hour",value:o.hours,plural:"hours"}),f.push({label:"minute",value:o.minutes,plural:"minutes"}),n&&o.days===0&&f.push({label:"second",value:o.seconds,plural:"seconds"}),i.jsx("div",{className:`${t} flex items-center space-x-1`,children:f.map((p,m)=>i.jsxs(cs.Fragment,{children:[i.jsxs(Ne.div,{initial:{scale:1.2,opacity:0},animate:{scale:1,opacity:1},className:"flex items-center space-x-1",children:[i.jsx(Ne.span,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.2},className:`font-mono font-bold ${d()}`,children:u(p.value)},p.value),i.jsx("span",{className:`text-xs ${d()}`,children:p.value===1?p.label:p.plural})]},`${p.label}-${p.value}`),m<f.length-1&&i.jsx("span",{className:`text-xs ${d()}`,children:":"})]},p.label))})}),P3=({box:e,onClose:t,onSuccess:r})=>{const{updateBox:n,isLoading:s,error:o}=Yf(),[a,l]=E.useState({prizeName:e.prizeName||"",prizeDescription:e.prizeDescription||"",completionType:e.completionType||"TASK",priceAmount:e.priceAmount||0,taskDescription:e.taskDescription||"",expirationMinutes:e.expirationMinutes||60}),c=async u=>{u.preventDefault();try{await n(e.id,a),r==null||r(),t()}catch(d){console.error("Failed to update box:",d)}},h=u=>{const{name:d,value:f}=u.target;l(p=>({...p,[d]:d==="priceAmount"||d==="expirationMinutes"?Number(f):f}))};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Edit Surprise Box"}),i.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:i.jsx($e,{className:"w-5 h-5"})})]}),o&&i.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:o}),i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prize Name *"}),i.jsx("input",{type:"text",name:"prizeName",value:a.prizeName,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"What's the prize?"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prize Description"}),i.jsx("textarea",{name:"prizeDescription",value:a.prizeDescription,onChange:h,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"Describe the prize in detail..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Completion Type *"}),i.jsxs("select",{name:"completionType",value:a.completionType,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",children:[i.jsx("option",{value:"TASK",children:"Task"}),i.jsx("option",{value:"PHOTO",children:"Photo"}),i.jsx("option",{value:"LOCATION",children:"Location"}),i.jsx("option",{value:"TIME",children:"Time-based"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price Amount ($)"}),i.jsx("input",{type:"number",name:"priceAmount",value:a.priceAmount,onChange:h,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"0.00"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Description"}),i.jsx("textarea",{name:"taskDescription",value:a.taskDescription,onChange:h,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"Additional task details..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiration (minutes)"}),i.jsx("input",{type:"number",name:"expirationMinutes",value:a.expirationMinutes,onChange:h,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"60"})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),i.jsxs("button",{type:"submit",disabled:s,className:"flex-1 bg-pink-500 text-white px-4 py-2 rounded-md hover:bg-pink-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:[i.jsx(Pf,{className:"w-4 h-4"}),s?"Updating...":"Update Box"]})]})]})]})})},wh=e=>{if(!e)return null;try{if(Array.isArray(e)){const[n,s,o,a=0,l=0,c=0,h=0]=e;return new Date(n,s-1,o,a,l,c,Math.floor(h/1e6))}const t=e;if(t.includes("T"))return new Date(t);const r=t.replace(" ","T");return new Date(r)}catch(t){return console.error("Failed to parse date:",e,t),null}},rx=(e,t=!1)=>{const r=wh(e);return!r||isNaN(r.getTime())?"Invalid Date":t?r.toLocaleString():r.toLocaleDateString()},nx=E.memo(({box:e,isOwner:t=!1})=>{var Ge,ye,ge;const{openBox:r,completeBox:n,approveCompletion:s,rejectCompletion:o,cancelBox:a,claimBox:l,isLoading:c}=ea(),[h,u]=E.useState(!1),[d,f]=E.useState(!1),[p,m]=E.useState(!1),[y,b]=E.useState(!1),[g,v]=E.useState(!1),[x,C]=E.useState(""),[R,S]=E.useState(""),[I,w]=E.useState(!1),j=_=>{switch(_){case"PHOTO":return zr;case"TASK":return Gv;case"LOCATION":return dc;case"TIME":return qv;case"PAYMENT":return Vt;default:return Ve}},N=_=>{switch(_){case"CREATED":return"bg-blue-100 text-blue-800";case"DROPPED":return"bg-green-100 text-green-800";case"OPENED":return"bg-indigo-100 text-indigo-800";case"WAITING_APPROVAL":return"bg-amber-100 text-amber-800";case"APPROVED":return"bg-emerald-100 text-emerald-800";case"REJECTED":return"bg-red-100 text-red-800";case"CLAIMED":return"bg-purple-100 text-purple-800";case"EXPIRED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},k=_=>{switch(_){case"CREATED":return"Scheduled";case"DROPPED":return"Available";case"OPENED":return"Opened";case"WAITING_APPROVAL":return"Pending Approval";case"APPROVED":return"Approved";case"REJECTED":return"Rejected";case"CLAIMED":return"Claimed";case"EXPIRED":return"Expired";default:return _}},T=!t&&e.status==="DROPPED"&&!e.isExpired,D=!t&&e.status==="OPENED"&&!e.isExpired,O=!t&&e.status==="APPROVED";!t&&e.status==="APPROVED"&&console.log(" canClaim debug for APPROVED box (SIMPLIFIED):",{boxId:e.id,isOwner:t,status:e.status,rejectionReason:e.rejectionReason,rejectionReasonType:typeof e.rejectionReason,isExpired:e.isExpired,isExpiredType:typeof e.isExpired,canClaim:O});const M=t&&e.status==="WAITING_APPROVAL",A=t&&["CREATED","DROPPED"].includes(e.status),P=t&&e.status==="CREATED",F=t&&["DROPPED","OPENED"].includes(e.status)&&!e.isExpired,L=!t&&e.status==="WAITING_APPROVAL"&&e.rejectionReason===null,$=async()=>{try{await r(e.id),u(!1)}catch{}},z=async()=>{if(x.trim())try{await n(e.id,x),b(!1),C("")}catch{}},B=()=>{b(!1),C("")},q=async()=>{try{await s(e.id)}catch{}},H=async()=>{if(R.trim())try{await o(e.id,R),f(!1),S("")}catch{}},U=async()=>{if(window.confirm("Are you sure you want to cancel this surprise box?"))try{await a(e.id)}catch{}},X=async()=>{try{await l(e.id),v(!0)}catch{}},ee=j(e.completionType),ae=wh(e.expiresAt),se=wh(e.dropAt),ie=e.status!=="CLAIMED"&&(e.isExpired||!1);e.isDropping;const de=se?se.getTime()-new Date().getTime():0,me=ae?ae.getTime()-new Date().getTime():0,Je=e.openedAt&&!ie&&e.status!=="COMPLETED"&&e.status!=="CLAIMED"&&e.status!=="APPROVED";return i.jsxs(i.Fragment,{children:[i.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white/90 backdrop-blur-sm rounded-lg apple-shadow border transition-all duration-200 hover:shadow-md ${e.status==="OPENED"?"md:col-span-2 md:row-span-2 border-indigo-300 shadow-lg":["WAITING_APPROVAL","APPROVED"].includes(e.status)?"md:col-span-2 md:row-span-1 border-indigo-300 shadow-lg":ie?"border-red-200 hover:border-red-300":T?"border-green-200 hover:border-green-300":D?"border-indigo-200 hover:border-indigo-300":M?"border-amber-200 hover:border-amber-300":"border-gray-200 hover:border-purple-300"}`,children:[i.jsx("div",{className:`${e.status==="OPENED"?"px-4 py-3 md:px-6 md:py-4":["WAITING_APPROVAL","APPROVED","AVALIABLE"].includes(e.status)?"px-4 py-2 md:px-6 md:py-3":"px-3 py-2"} rounded-t-lg ${ie?"bg-red-50":T?"bg-green-50":D?"bg-indigo-50":M?"bg-amber-50":e.status==="CLAIMED"?"bg-gradient-to-r from-purple-50 to-pink-50":"bg-purple-50"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[i.jsx("div",{className:`${["OPENED","WAITING_APPROVAL","APPROVED"].includes(e.status)?"p-1.5 md:p-2":"p-1"} rounded-md flex-shrink-0 ${ie?"bg-red-200 text-red-700":T?"bg-green-200 text-green-700":D?"bg-indigo-200 text-indigo-700":M?"bg-amber-200 text-amber-700":e.status==="CLAIMED"?"bg-gradient-to-r from-purple-200 to-pink-200 text-purple-700":"bg-purple-200 text-purple-700"}`,children:i.jsx(Ve,{className:["OPENED","WAITING_APPROVAL","APPROVED"].includes(e.status)?"w-4 h-4 md:w-5 md:h-5":"w-3 h-3"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:`font-medium text-gray-800 leading-tight ${["OPENED","WAITING_APPROVAL","APPROVED"].includes(e.status)?"text-base md:text-lg mb-1":"text-xs truncate"}`,children:e.prizeName}),e.status!=="CLAIMED"&&i.jsx("div",{className:`flex items-center space-x-1 ${["OPENED","WAITING_APPROVAL","APPROVED"].includes(e.status)?"mt-1":"mt-0.5"}`,children:i.jsx("span",{className:`px-1 py-0.5 rounded font-medium ${["OPENED","WAITING_APPROVAL","APPROVED"].includes(e.status)?"px-2 py-1 text-xs md:text-sm":"text-xs"} ${N(e.status)}`,children:k(e.status)})})]})]}),e.status!=="CLAIMED"&&i.jsx("button",{onClick:()=>w(!I),className:`text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0 ${["OPENED","WAITING_APPROVAL","APPROVED"].includes(e.status)?"p-0.5 md:p-1":"p-0.5"}`,children:I?i.jsx($E,{className:(["OPENED","WAITING_APPROVAL","APPROVED"].includes(e.status),"w-3 h-3 md:w-4 md:h-4")}):i.jsx(ln,{className:(["OPENED","WAITING_APPROVAL","APPROVED"].includes(e.status),"w-3 h-3 md:w-4 md:h-4")})})]})}),i.jsx("div",{className:e.status==="OPENED"?"px-4 py-3 md:px-6 md:py-4":["WAITING_APPROVAL","APPROVED"].includes(e.status)?"px-4 py-2 md:px-6 md:py-3":"px-3 py-2",children:e.status==="CLAIMED"?i.jsxs("div",{className:"text-center py-4",children:[i.jsx("div",{className:"text-4xl mb-3",children:""}),i.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 border border-purple-200 rounded-xl p-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"text-sm text-gray-700",children:[i.jsx("span",{className:"font-medium",children:"Prize:"})," ",e.prizeName]}),e.priceAmount&&i.jsxs("div",{className:"text-sm text-gray-700",children:[i.jsx("span",{className:"font-medium",children:"Price:"})," $",e.priceAmount]})]})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:`flex items-center justify-between text-gray-600 mb-1 ${e.status==="OPENED"?"text-xs md:text-sm mb-2 md:mb-3":"text-xs"}`,children:[i.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(hc,{className:e.status==="OPENED"?"w-3 h-3 md:w-4 md:h-4 mr-0.5 md:mr-1":"w-3 h-3 mr-0.5"}),i.jsx("span",{className:e.status==="OPENED"?"max-w-20 md:max-w-32 truncate":"truncate max-w-16",children:t?((Ge=e.recipient)==null?void 0:Ge.name)||"Unknown":((ye=e.owner)==null?void 0:ye.name)||"Unknown"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Vt,{className:e.status==="OPENED"?"w-3 h-3 md:w-4 md:h-4 mr-0.5 md:mr-1":"w-3 h-3 mr-0.5"}),i.jsxs("span",{className:"font-medium",children:["$",e.priceAmount||0]})]})]}),e.status==="CREATED"&&de>0&&i.jsxs("div",{className:"flex items-center text-blue-600",children:[i.jsx(ei,{className:"w-3 h-3 mr-0.5"}),i.jsx(Uu,{targetDate:e.dropAt,className:"font-medium text-xs"})]}),Je&&!["OPENED","WAITING_APPROVAL","APPROVED"].includes(e.status)&&i.jsxs("div",{className:"flex items-center text-red-600",children:[i.jsx(Wt,{className:"w-3 h-3 mr-0.5"}),i.jsx(Uu,{targetDate:e.expiresAt,className:"font-medium text-xs",onExpire:()=>window.location.reload()})]}),ie&&i.jsxs("div",{className:"flex items-center text-red-600",children:[i.jsx($e,{className:"w-3 h-3 mr-0.5"}),i.jsx("span",{className:"text-xs",children:"Expired"})]})]}),e.status==="OPENED"&&e.prizeDescription&&i.jsx("div",{className:"mb-3 md:mb-4 p-2 md:p-3 bg-indigo-50 border border-indigo-200 rounded-lg",children:i.jsx("p",{className:"text-xs md:text-sm text-indigo-700",children:e.prizeDescription})}),e.status==="OPENED"&&e.taskDescription&&i.jsxs("div",{className:"mb-3 md:mb-4 p-2 md:p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("h4",{className:"text-xs md:text-sm font-semibold text-blue-800 mb-1",children:"Task:"}),i.jsx("p",{className:"text-xs md:text-sm text-blue-700",children:e.taskDescription})]}),e.status==="OPENED"&&e.rejectionReason&&i.jsxs("div",{className:"mb-3 md:mb-4 p-2 md:p-3 bg-red-50 border border-red-200 rounded-lg",children:[i.jsxs("h4",{className:"text-xs md:text-sm font-semibold text-red-800 mb-1 flex items-center",children:[i.jsx($e,{className:"w-3 h-3 md:w-4 md:h-4 mr-1"}),"Rejection Feedback:"]}),i.jsx("p",{className:"text-xs md:text-sm text-red-700",children:e.rejectionReason}),i.jsx("p",{className:"text-xs text-red-600 mt-1 italic",children:"Please complete the task again with the feedback above."})]}),i.jsx(un,{children:I&&i.jsxs(Ne.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:`border-t border-gray-100 mt-2 pt-2 space-y-1 ${e.status==="OPENED"?"mt-4 pt-4 space-y-2":""}`,children:[e.prizeDescription&&e.status!=="OPENED"&&i.jsxs("div",{children:[i.jsx("span",{className:`font-medium text-gray-700 ${e.status==="OPENED"?"text-sm":"text-xs"}`,children:"Prize: "}),i.jsx("span",{className:e.status==="OPENED"?"text-sm text-gray-600":"text-xs text-gray-600",children:e.prizeDescription})]}),e.taskDescription&&e.status!=="OPENED"&&i.jsxs("div",{children:[i.jsx("span",{className:`font-medium text-gray-700 ${e.status==="OPENED"?"text-sm":"text-xs"}`,children:"Task: "}),i.jsx("span",{className:e.status==="OPENED"?"text-sm text-gray-600":"text-xs text-gray-600",children:e.taskDescription})]}),i.jsxs("div",{className:`flex items-center justify-between ${e.status==="OPENED"?"text-sm":"text-xs"} text-gray-500`,children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(at,{className:e.status==="OPENED"?"w-4 h-4 mr-1":"w-3 h-3 mr-0.5"}),i.jsxs("span",{children:["Drops: ",rx(e.dropAt)]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(ei,{className:e.status==="OPENED"?"w-4 h-4 mr-1":"w-3 h-3 mr-0.5"}),i.jsxs("span",{children:["Expires: ",rx(e.expiresAt)]})]})]}),i.jsxs("div",{className:`flex items-center text-gray-500 ${e.status==="OPENED"?"text-sm":"text-xs"}`,children:[i.jsx(ee,{className:e.status==="OPENED"?"w-4 h-4 mr-1":"w-3 h-3 mr-1"}),i.jsx("span",{children:((ge=e.completionType)==null?void 0:ge.toLowerCase())||"unknown"})]}),e.status==="DROPPED"&&!e.openedAt&&!ie&&i.jsx("div",{className:"bg-blue-50 rounded px-2 py-1",children:i.jsx("p",{className:e.status==="OPENED"?"text-sm text-blue-600":"text-xs text-blue-600",children:"Tap to open and start timer"})}),e.status==="WAITING_APPROVAL"&&e.completionData&&i.jsx("div",{className:"bg-gray-50 rounded px-2 py-1",children:i.jsx("p",{className:e.status==="OPENED"?"text-sm text-gray-800":"text-xs text-gray-800 line-clamp-2",children:e.completionData})}),e.rejectionReason&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded px-2 py-1",children:i.jsx("p",{className:e.status==="OPENED"?"text-sm text-red-800":"text-xs text-red-800 line-clamp-2",children:e.rejectionReason})})]})}),Je&&me>0&&i.jsx("div",{className:`mt-2 p-2 bg-amber-50 border border-amber-200 rounded-lg ${e.status==="OPENED"?"mt-4 p-3":["WAITING_APPROVAL","APPROVED"].includes(e.status)?"mt-3 p-2":""}`,children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Wt,{className:["OPENED","WAITING_APPROVAL","APPROVED"].includes(e.status)?"w-4 h-4 text-amber-600":"w-3 h-3 text-amber-600"}),i.jsx("span",{className:`font-medium text-amber-800 ${["OPENED","WAITING_APPROVAL","APPROVED"].includes(e.status)?"text-sm":"text-xs"}`,children:i.jsx(Uu,{targetDate:ae})})]})}),i.jsxs("div",{className:`flex items-center gap-2 mt-2 ${e.status==="OPENED"?"mt-3 md:mt-4 gap-2 md:gap-3":["WAITING_APPROVAL","APPROVED"].includes(e.status)?"mt-2 gap-2":""}`,children:[T&&i.jsx("button",{onClick:$,disabled:c,className:"flex-1 px-2 py-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded text-xs font-medium disabled:opacity-50 hover:from-green-600 hover:to-emerald-600 transition-all duration-200",children:c?"Opening...":"Open"}),D&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>b(!0),className:`flex-1 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded font-medium hover:from-indigo-600 hover:to-purple-600 transition-all duration-200 ${e.status==="OPENED"?"px-3 py-1.5 md:px-4 md:py-2 text-xs md:text-sm":"px-2 py-1 text-xs"}`,children:[i.jsx("span",{className:"hidden sm:inline",children:"Complete Task"}),i.jsx("span",{className:"sm:hidden",children:"Complete"})]}),i.jsxs("button",{onClick:()=>{C(`Paid $${e.priceAmount||0} for prize`),b(!0)},className:`bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded font-medium hover:from-yellow-600 hover:to-orange-600 transition-all duration-200 flex items-center space-x-1 ${e.status==="OPENED"?"px-2 py-1.5 md:px-3 md:py-2 text-xs md:text-sm":"px-2 py-1 text-xs"}`,children:[i.jsx(Vt,{className:e.status==="OPENED"?"w-3 h-3 md:w-4 md:h-4":"w-3 h-3"}),i.jsxs("span",{children:["$",e.priceAmount||0]})]})]}),O&&i.jsxs("button",{onClick:X,disabled:c,className:"flex-1 px-2 py-1 bg-gradient-to-r from-emerald-500 to-green-500 text-white rounded text-xs font-medium hover:from-emerald-600 hover:to-green-600 transition-all duration-200 disabled:opacity-50",children:["Claim $",e.prizeName||0]}),M&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:q,disabled:c,className:"flex-1 px-2 py-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded text-xs font-medium hover:from-green-600 hover:to-emerald-600 transition-all duration-200 disabled:opacity-50",children:c?"Approving...":"Approve"}),i.jsx("button",{onClick:()=>f(!0),className:"px-2 py-1 bg-red-500 text-white rounded text-xs font-medium hover:bg-red-600 transition-colors",children:i.jsx($e,{className:"w-3 h-3"})})]}),P&&i.jsx("button",{onClick:()=>m(!0),className:"px-2 py-1 text-blue-600 hover:text-blue-700 rounded text-xs",children:i.jsx(qE,{className:"w-3 h-3"})}),A&&i.jsx("button",{onClick:U,disabled:c,className:"px-2 py-1 text-red-600 hover:text-red-700 rounded text-xs disabled:opacity-50",children:i.jsx(Xt,{className:"w-3 h-3"})}),F&&i.jsx("div",{className:"flex-1 text-center",children:i.jsx("span",{className:"text-xs text-gray-500",children:e.status==="DROPPED"?"Waiting for recipient to open":"Waiting for completion"})}),L&&i.jsx("div",{className:"flex-1 text-center",children:i.jsx("span",{className:"text-xs text-amber-600",children:"Waiting for approval"})})]})]})})]}),i.jsx(un,{children:y&&i.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:_=>_.target===_.currentTarget&&B(),children:i.jsx(Ne.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:`p-2 rounded-lg ${x.startsWith("Paid $")?"bg-yellow-100":"bg-indigo-100"}`,children:i.jsx(ee,{className:`w-6 h-6 ${x.startsWith("Paid $")?"text-yellow-600":"text-indigo-600"}`})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:x.startsWith("Paid $")?"Pay for Prize":"Complete Task"}),i.jsx("p",{className:"text-sm text-gray-600",children:e.prizeName})]})]}),e.taskDescription&&i.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Task:"}),i.jsx("p",{className:"text-sm text-blue-700",children:e.taskDescription})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:x.startsWith("Paid $")?"Confirm payment details:":e.completionType==="PHOTO"?"Describe the photo you took:":e.completionType==="TEXT"?"Enter your response:":e.completionType==="LOCATION"?"Confirm your location:":e.completionType==="TIMER"?"Confirm completion:":"Complete the challenge:"}),i.jsx("textarea",{value:x,onChange:_=>C(_.target.value),placeholder:x.startsWith("Paid $")?"Enter payment confirmation or receipt details...":e.completionType==="PHOTO"?"Describe what you photographed...":e.completionType==="TASK"?"Enter your answer...":e.completionType==="LOCATION"?"Confirm you are at the location...":e.completionType==="TIME"?"Confirm you have completed the challenge...":"Enter completion details...",rows:3,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent resize-none ${x.startsWith("Paid $")?"focus:ring-yellow-500":"focus:ring-indigo-500"}`})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("button",{onClick:B,className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:z,disabled:!x.trim()||c,className:`flex-1 px-4 py-2 text-white rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${x.startsWith("Paid $")?"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600":"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600"}`,children:c?"Submitting...":x.startsWith("Paid $")?"Confirm Payment":"Submit Completion"})]})]})})})}),i.jsx(un,{children:d&&i.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:_=>_.target===_.currentTarget&&f(!1),children:i.jsx(Ne.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:i.jsx($e,{className:"w-6 h-6 text-red-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Reject Completion"}),i.jsx("p",{className:"text-sm text-gray-600",children:e.prizeName})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for rejection:"}),i.jsx("textarea",{value:R,onChange:_=>S(_.target.value),placeholder:"Explain why this completion doesn't meet the requirements...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("button",{onClick:()=>f(!1),className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:H,disabled:!R.trim()||c,className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Rejecting...":"Reject"})]})]})})})}),p&&i.jsx(P3,{box:e,onClose:()=>m(!1),onSuccess:()=>{m(!1)}}),i.jsx(un,{children:g&&i.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:_=>_.target===_.currentTarget&&v(!1),children:i.jsxs(Ne.div,{initial:{scale:.8,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:20},className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-br from-purple-500 via-pink-500 to-yellow-400 p-8 text-center relative overflow-hidden",children:[i.jsx(Ne.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"text-6xl mb-4",children:""}),i.jsx(Ne.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-2xl font-bold text-white mb-2",children:"Congratulations!"}),i.jsx(Ne.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-white/90 text-lg",children:"You've earned your prize!"}),i.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(6)].map((_,V)=>i.jsx(Ne.div,{initial:{y:100,opacity:0,rotate:0},animate:{y:-100,opacity:[0,1,0],rotate:360,x:[0,Math.random()*40-20]},transition:{duration:3,delay:V*.2,repeat:1/0,repeatDelay:2},className:`absolute text-2xl ${V%3===0?"left-1/4":V%3===1?"left-1/2":"left-3/4"}`,style:{top:"100%"},children:["","","","","",""][V]},V))})]}),i.jsxs("div",{className:"p-6",children:[i.jsx(Ne.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-2xl p-4 mb-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-4xl mb-3",children:""}),i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:e.prizeName}),e.priceAmount&&i.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",e.priceAmount||0]}),e.prizeDescription&&i.jsx("p",{className:"text-gray-600 text-sm mt-2",children:e.prizeDescription})]})}),i.jsx(Ne.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},onClick:()=>v(!1),className:"w-full px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-semibold hover:from-purple-600 hover:to-pink-600 transition-all duration-200 transform hover:scale-105",children:"Awesome! "})]})]})})})]})}),D3=({onClose:e})=>{const{createBox:t,isLoading:r}=ea(),[n,s]=E.useState({prizeName:"",prizeDescription:"",completionType:"PHOTO",expirationMinutes:1440,taskDescription:"",priceAmount:0,isInstantDrop:!0}),[o,a]=E.useState({}),[l,c]=E.useState(1),h=[{type:"PHOTO",icon:zr,title:"Photo Challenge",description:"Recipient must take a specific photo to claim the prize"},{type:"TASK",icon:Gv,title:"Task Completion",description:"Recipient must complete a specific task"},{type:"LOCATION",icon:dc,title:"Location Check-in",description:"Recipient must visit a specific location"},{type:"TIME",icon:qv,title:"Time Challenge",description:"Recipient must wait for a specific duration"}],u=()=>{const b={};return n.prizeName.trim()||(b.prizeName="Prize name is required"),(!n.expirationMinutes||n.expirationMinutes<5)&&(b.expirationMinutes="Expiration duration must be at least 5 minutes"),n.priceAmount<0?b.priceAmount="Price cannot be negative":n.priceAmount===0&&(b.priceAmount="Prize price is required"),a(b),Object.keys(b).length===0},d=async b=>{if(b.preventDefault(),l===2&&u())try{const g={...n};await t(g),e()}catch{}},f=(b,g)=>{s(v=>({...v,[b]:g})),o[b]&&a(v=>({...v,[b]:""}))},p=b=>{if(b&&b.preventDefault(),l===1){const g={};if(n.prizeName.trim()||(g.prizeName="Prize name is required to continue"),n.prizeDescription.trim()||(g.prizeDescription="Prize description is required to continue"),n.taskDescription.trim()||(g.taskDescription="Task description is required to continue"),n.priceAmount<=0&&(g.priceAmount="Prize price must be greater than 0 to continue"),Object.keys(g).length>0){a(g);return}}c(l+1)},m=()=>{c(l-1)},y=b=>{b.key==="Enter"&&l===1&&(b.preventDefault(),p())};return i.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:b=>b.target===b.currentTarget&&e(),children:i.jsxs(Ne.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg",children:i.jsx(Ve,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Create Surprise Box"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Step ",l," of 2"]})]})]}),i.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx($e,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"px-6 py-4",children:i.jsx("div",{className:"flex items-center space-x-2",children:[1,2].map(b=>i.jsxs(cs.Fragment,{children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${b<=l?"bg-purple-600 text-white":"bg-gray-200 text-gray-600"}`,children:b}),b<2&&i.jsx("div",{className:`flex-1 h-1 rounded transition-colors ${b<l?"bg-purple-600":"bg-gray-200"}`})]},b))})}),i.jsxs("form",{onSubmit:d,onKeyDown:y,children:[i.jsx("div",{className:"p-6",children:i.jsxs(un,{mode:"wait",children:[l===1&&i.jsx(Ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Prize Details"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prize Name *"}),i.jsx("input",{type:"text",value:n.prizeName,onChange:b=>f("prizeName",b.target.value),placeholder:"e.g., Dinner at your favorite restaurant",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors ${o.prizeName?"border-red-300":"border-gray-300"}`}),o.prizeName&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[i.jsx(Wt,{className:"w-4 h-4"}),i.jsx("span",{children:o.prizeName})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prize Description *"}),i.jsx("textarea",{value:n.prizeDescription,onChange:b=>f("prizeDescription",b.target.value),placeholder:"Add more details about this surprise...",rows:3,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors resize-none ${o.prizeDescription?"border-red-300":"border-gray-300"}`}),o.prizeDescription&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[i.jsx(Wt,{className:"w-4 h-4"}),i.jsx("span",{children:o.prizeDescription})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prize Price *"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),i.jsx("input",{type:"number",step:"0.01",min:"0",value:n.priceAmount||"",onChange:b=>f("priceAmount",parseFloat(b.target.value)||0),placeholder:"0.00",className:`w-full pl-8 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors ${o.priceAmount?"border-red-300":"border-gray-300"}`})]}),o.priceAmount&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[i.jsx(Wt,{className:"w-4 h-4"}),i.jsx("span",{children:o.priceAmount})]}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Recipients can pay this amount to claim the prize without completing the task"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Description *"}),i.jsx("textarea",{value:n.taskDescription,onChange:b=>f("taskDescription",b.target.value),placeholder:"Describe the task to complete",rows:3,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors resize-none ${o.taskDescription?"border-red-300":"border-gray-300"}`}),o.taskDescription&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[i.jsx(Wt,{className:"w-4 h-4"}),i.jsx("span",{children:o.taskDescription})]})]})]})]})},"step1"),l===2&&i.jsx(Ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"How should they claim it?"}),i.jsx("div",{className:"grid gap-4 md:grid-cols-2 mb-6",children:h.map(b=>{const g=b.icon,v=n.completionType===b.type;return i.jsx(Ne.button,{type:"button",onClick:()=>f("completionType",b.type),whileHover:{scale:1.02},whileTap:{scale:.98},className:`p-4 border-2 rounded-xl text-left transition-all ${v?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300 hover:bg-purple-25"}`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${v?"bg-purple-500 text-white":"bg-gray-100 text-gray-600"}`,children:i.jsx(g,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-gray-800",children:b.title}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:b.description})]})]})},b.type)})}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[i.jsx(ei,{className:"w-4 h-4 inline mr-1"}),"Expiration Duration *"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Hours"}),i.jsx("input",{type:"number",min:"0",max:"168",value:Math.floor(n.expirationMinutes/60),onChange:b=>{const g=parseInt(b.target.value)||0,v=n.expirationMinutes%60;f("expirationMinutes",g*60+v)},className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors ${o.expirationMinutes?"border-red-300":"border-gray-300"}`,placeholder:"24"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Minutes"}),i.jsx("input",{type:"number",min:"0",max:"59",value:n.expirationMinutes%60,onChange:b=>{const g=parseInt(b.target.value)||0,v=Math.floor(n.expirationMinutes/60);f("expirationMinutes",v*60+g)},className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors ${o.expirationMinutes?"border-red-300":"border-gray-300"}`,placeholder:"0"})]})]}),o.expirationMinutes&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[i.jsx(Wt,{className:"w-4 h-4"}),i.jsx("span",{children:o.expirationMinutes})]}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"How long the recipient has to complete the box after opening it. Countdown starts when they open the box."})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:[i.jsx(ig,{className:"w-4 h-4 inline mr-1"}),"Drop Timing *"]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsx(Ne.button,{type:"button",onClick:()=>f("isInstantDrop",!0),whileHover:{scale:1.02},whileTap:{scale:.98},className:`p-4 border-2 rounded-xl text-left transition-all ${n.isInstantDrop?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-blue-25"}`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${n.isInstantDrop?"bg-blue-500 text-white":"bg-gray-100 text-gray-600"}`,children:i.jsx(ig,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-gray-800",children:"Instant Drop Enabled"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Box drops immediately and re-appears every 20 seconds until claimed"})]})]})}),i.jsx(Ne.button,{type:"button",onClick:()=>f("isInstantDrop",!1),whileHover:{scale:1.02},whileTap:{scale:.98},className:`p-4 border-2 rounded-xl text-left transition-all ${n.isInstantDrop?"border-gray-200 hover:border-green-300 hover:bg-green-25":"border-green-500 bg-green-50"}`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${n.isInstantDrop?"bg-gray-100 text-gray-600":"bg-green-500 text-white"}`,children:i.jsx(at,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-gray-800",children:"Drop Later"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"System will automatically schedule the drop within 1-7 days for surprise timing"})]})]})})]}),!n.isInstantDrop&&i.jsxs("div",{className:"mt-4 bg-green-50 border border-green-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[i.jsx(at,{className:"w-5 h-5"}),i.jsx("h3",{className:"font-medium",children:"Scheduled Drop"})]}),i.jsx("p",{className:"mt-2 text-sm text-green-600",children:"The system will randomly schedule your surprise box to drop between 1-7 days from now, creating anticipation and surprise for the recipient."})]})]})]})},"step2")]})}),i.jsxs("div",{className:"flex items-center justify-between p-6 border-t bg-gray-50",children:[i.jsx("button",{type:"button",onClick:l===1?e:m,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:l===1?"Cancel":"Back"}),i.jsx("div",{className:"flex items-center space-x-3",children:l<2?i.jsx("button",{type:"button",onClick:b=>p(b),className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-200",children:"Next"}):i.jsxs("button",{type:"submit",disabled:r,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[r&&i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),i.jsx("span",{children:r?"Creating...":"Create Box"})]})})]})]})]})})},A3=E.memo(D3),O3=()=>{const{ownedBoxes:e,receivedBoxes:t,isLoading:r,error:n,showCreateForm:s,isConnected:o,setShowCreateForm:a,loadOwnedBoxes:l,loadReceivedBoxes:c,connectWebSocket:h,disconnectWebSocket:u,getBoxesWaitingApproval:d,getActiveBoxesCount:f,setError:p}=Yf(),[m,y]=E.useState("received"),[b,g]=E.useState(0),[v,x]=E.useState(0),C=20;E.useEffect(()=>{const D=localStorage.getItem("token");return D&&(l(),c(),h(D)),()=>{u()}},[]);const R=d();f();const S=()=>{p(null)},I=(D,O)=>{const M=O*C;return D.slice(M,M+C)},w=D=>Math.ceil(D.length/C),j=I(t,b),N=I(e,v),k=w(t),T=w(e);return i.jsxs("div",{className:"min-h-screen bg-apple-system-background",children:[i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[i.jsx(Ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-xl rounded-2xl apple-shadow border border-apple-separator p-4 mb-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-apple-purple/10 rounded-xl",children:i.jsx(Ve,{className:"w-6 h-6 text-apple-purple"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-semibold text-apple-label",children:"Surprise Boxes"}),i.jsxs("p",{className:"text-sm text-apple-secondary-label flex items-center",children:["Create and manage surprise boxes for each other",o&&i.jsxs("span",{className:"ml-2 flex items-center text-green-600",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1 animate-pulse"}),"Live"]})]})]})]}),i.jsx("div",{className:"flex items-center space-x-3 w-full sm:w-auto",children:i.jsxs("button",{onClick:()=>a(!0),className:"flex items-center justify-center space-x-2 px-4 py-2 rounded-xl transition-all duration-200 apple-shadow bg-apple-purple text-white hover:bg-apple-purple/90 min-w-0 flex-shrink-0",title:"Create a new surprise box",children:[i.jsx(lt,{className:"w-4 h-4 flex-shrink-0"}),i.jsx("span",{className:"hidden xs:inline font-medium",children:"Create Box"})]})})]})}),i.jsx(un,{children:n&&i.jsx(Ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-red-800",children:[i.jsx(Wt,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:n})]}),i.jsx("button",{onClick:S,className:"text-red-600 hover:text-red-700",children:i.jsx($e,{className:"w-4 h-4"})})]})})}),i.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl apple-shadow border border-apple-separator overflow-hidden",children:[i.jsxs("div",{className:"flex border-b border-apple-separator",children:[i.jsxs("button",{onClick:()=>{y("received"),g(0)},className:`flex-1 px-6 py-3 text-center font-medium transition-colors ${m==="received"?"bg-apple-purple/5 text-apple-purple border-b-2 border-apple-purple":"text-apple-secondary-label hover:text-apple-purple hover:bg-apple-purple/5"}`,children:["Received (",t.length,")"]}),i.jsxs("button",{onClick:()=>{y("owned"),x(0)},className:`flex-1 px-6 py-3 text-center font-medium transition-colors ${m==="owned"?"bg-apple-purple/5 text-apple-purple border-b-2 border-apple-purple":"text-apple-secondary-label hover:text-apple-purple hover:bg-apple-purple/5"}`,children:["Created (",e.length,")",R.length>0&&i.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs bg-amber-100 text-amber-800",children:[R.length," pending"]})]})]}),i.jsx("div",{className:"p-4",children:r?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-apple-purple"})}):i.jsx(un,{mode:"wait",children:i.jsx(Ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:m==="received"?i.jsx("div",{children:t.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ve,{className:"w-16 h-16 text-apple-tertiary-label mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-apple-secondary-label mb-2",children:"No received boxes"}),i.jsx("p",{className:"text-apple-tertiary-label",children:"Surprise boxes from your partner will appear here"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4 auto-rows-min",children:j.map(D=>{var M,A;return console.log(" Received box debug:",{boxId:D.id,status:D.status,isOwner:!1,currentUserId:(()=>{try{const P=localStorage.getItem("token");return P?JSON.parse(atob(P.split(".")[1])).userId:null}catch{return null}})(),ownerId:(M=D.owner)==null?void 0:M.id,recipientId:(A=D.recipient)==null?void 0:A.id,rejectionReason:D.rejectionReason,rejectionReasonType:typeof D.rejectionReason}),i.jsx(nx,{box:D,isOwner:!1},D.id)})}),k>1&&i.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-4",children:[i.jsx("button",{onClick:()=>g(Math.max(0,b-1)),disabled:b===0,className:"p-2 rounded-lg text-apple-secondary-label hover:text-apple-purple hover:bg-apple-purple/5 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i.jsx(Wd,{className:"w-5 h-5"})}),i.jsxs("span",{className:"text-sm text-apple-secondary-label",children:["Page ",b+1," of ",k]}),i.jsx("button",{onClick:()=>g(Math.min(k-1,b+1)),disabled:b>=k-1,className:"p-2 rounded-lg text-apple-secondary-label hover:text-apple-purple hover:bg-apple-purple/5 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i.jsx(cn,{className:"w-5 h-5"})})]})]})}):i.jsx("div",{children:e.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(lt,{className:"w-16 h-16 text-apple-tertiary-label mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-apple-secondary-label mb-2",children:"No created boxes"}),i.jsx("p",{className:"text-apple-tertiary-label mb-4",children:"Create your first surprise box for your partner"}),i.jsx("button",{onClick:()=>a(!0),className:"px-6 py-2 rounded-xl transition-all duration-200 bg-apple-purple text-white hover:bg-apple-purple/90 apple-shadow",title:"Create a new surprise box",children:"Create Box"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4 auto-rows-min",children:N.map(D=>i.jsx(nx,{box:D,isOwner:!0},D.id))}),T>1&&i.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-4",children:[i.jsx("button",{onClick:()=>x(Math.max(0,v-1)),disabled:v===0,className:"p-2 rounded-lg text-apple-secondary-label hover:text-apple-purple hover:bg-apple-purple/5 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i.jsx(Wd,{className:"w-5 h-5"})}),i.jsxs("span",{className:"text-sm text-apple-secondary-label",children:["Page ",v+1," of ",T]}),i.jsx("button",{onClick:()=>x(Math.min(T-1,v+1)),disabled:v>=T-1,className:"p-2 rounded-lg text-apple-secondary-label hover:text-apple-purple hover:bg-apple-purple/5 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i.jsx(cn,{className:"w-5 h-5"})})]})]})})},m)})})]})]}),i.jsx(un,{children:s&&i.jsx(A3,{onClose:()=>a(!1)})})]})},R3=E.memo(O3),I3=({type:e,message:t,requesterName:r,onAccept:n,onDeny:s,onClose:o,autoClose:a=!0,duration:l=5e3})=>{const[c,h]=E.useState(!0),[u,d]=E.useState(l/1e3);E.useEffect(()=>{if(a&&e!=="request"){const y=setTimeout(()=>{h(!1),o==null||o()},l);return()=>clearTimeout(y)}},[a,l,o,e]),E.useEffect(()=>{if(e==="request"&&u>0){const y=setTimeout(()=>{d(b=>b-1)},1e3);return()=>clearTimeout(y)}else e==="request"&&u<=0&&(s==null||s())},[e,u,s]);const p=(()=>{switch(e){case"request":return{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:Zi,iconColor:"text-blue-500"};case"granted":return{bg:"bg-green-50 border-green-200",text:"text-green-800",icon:Js,iconColor:"text-green-500"};case"denied":return{bg:"bg-red-50 border-red-200",text:"text-red-800",icon:$e,iconColor:"text-red-500"};case"released":return{bg:"bg-gray-50 border-gray-200",text:"text-gray-800",icon:Js,iconColor:"text-gray-500"};case"timeout":return{bg:"bg-orange-50 border-orange-200",text:"text-orange-800",icon:ei,iconColor:"text-orange-500"};case"error":return{bg:"bg-red-50 border-red-200",text:"text-red-800",icon:Wt,iconColor:"text-red-500"};default:return{bg:"bg-gray-50 border-gray-200",text:"text-gray-800",icon:Wt,iconColor:"text-gray-500"}}})(),m=p.icon;return c?i.jsx("div",{className:`fixed top-4 right-4 max-w-md w-full ${p.bg} border rounded-lg shadow-lg z-50 animate-slide-in-right`,children:i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(m,{className:`w-5 h-5 ${p.iconColor} mt-0.5 flex-shrink-0`}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:`text-sm font-medium ${p.text}`,children:[e==="request"&&r&&i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[i.jsx(hc,{className:"w-4 h-4"}),i.jsxs("span",{children:["Edit Request from ",r]})]}),i.jsx("p",{className:"break-words",children:t}),e==="request"&&u>0&&i.jsxs("div",{className:"mt-2 flex items-center space-x-2 text-xs text-blue-600",children:[i.jsx(ei,{className:"w-3 h-3"}),i.jsxs("span",{children:["Expires in ",u,"s"]}),i.jsx("div",{className:"flex-1 bg-blue-200 rounded-full h-1",children:i.jsx("div",{className:"bg-blue-500 h-1 rounded-full transition-all duration-1000",style:{width:`${u/(l/1e3)*100}%`}})})]})]}),e==="request"&&(n||s)&&i.jsxs("div",{className:"mt-3 flex space-x-2",children:[n&&i.jsx("button",{onClick:n,className:"px-3 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600 transition-colors",children:"Grant Access"}),s&&i.jsx("button",{onClick:s,className:"px-3 py-1 bg-gray-300 text-gray-700 text-xs rounded hover:bg-gray-400 transition-colors",children:"Deny"})]})]}),o&&i.jsx("button",{onClick:()=>{h(!1),o()},className:`${p.text} hover:opacity-70 transition-opacity flex-shrink-0`,children:i.jsx($e,{className:"w-4 h-4"})})]})})}):null},M3=()=>{const[e,t]=E.useState([]),{editRequestMessage:r,error:n,hasEditPermission:s,isLocked:o,currentEditor:a,grantEditControl:l,denyEditControl:c,clearEditRequestMessage:h,clearError:u}=vi(),d=m=>{l(),p(m)},f=m=>{c(),p(m)},p=m=>{t(y=>y.filter(b=>b.id!==m))};return i.jsx("div",{className:"fixed top-0 right-0 z-50 pointer-events-none",children:i.jsx("div",{className:"flex flex-col space-y-2 p-4 pointer-events-auto",children:e.map(m=>i.jsx(I3,{type:m.type,message:m.message,requesterName:m.requesterName,onAccept:m.type==="request"?()=>d(m.id):void 0,onDeny:m.type==="request"?()=>f(m.id):void 0,onClose:()=>p(m.id),duration:m.duration,autoClose:m.type!=="request"},m.id))})})};function _3(){const{isAuthenticated:e,loading:t}=Dn();return t?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):i.jsxs(i.Fragment,{children:[i.jsxs(VS,{children:[i.jsx(rt,{path:"/scott",element:i.jsx(dD,{})}),i.jsx(rt,{path:"/zoe",element:i.jsx(hD,{})}),i.jsx(rt,{path:"/login",element:e?i.jsx(Ct,{to:"/",replace:!0}):i.jsx(k4,{})}),i.jsx(rt,{path:"/",element:e?i.jsxs("div",{className:"min-h-screen",children:[i.jsx(er,{}),i.jsx("main",{className:"container mx-auto px-4 py-8",children:i.jsx(Qg,{})})]}):i.jsx(Ct,{to:"/login",replace:!0})}),i.jsx(rt,{path:"/dashboard",element:e?i.jsxs("div",{className:"min-h-screen",children:[i.jsx(er,{}),i.jsx("main",{className:"container mx-auto px-4 py-8",children:i.jsx(Qg,{})})]}):i.jsx(Ct,{to:"/login",replace:!0})}),i.jsx(rt,{path:"/gallery",element:e?i.jsxs("div",{className:"min-h-screen",children:[i.jsx(er,{}),i.jsx("main",{className:"container mx-auto px-4 py-8",children:i.jsx(KP,{})})]}):i.jsx(Ct,{to:"/login",replace:!0})}),i.jsx(rt,{path:"/photos",element:e?i.jsxs("div",{className:"min-h-screen",children:[i.jsx(er,{}),i.jsx("main",{className:"container mx-auto px-4 py-8",children:i.jsx(cD,{})})]}):i.jsx(Ct,{to:"/login",replace:!0})}),i.jsx(rt,{path:"/category/:id",element:e?i.jsxs("div",{className:"min-h-screen",children:[i.jsx(er,{}),i.jsx("main",{className:"container mx-auto px-4 py-8",children:i.jsx(lD,{})})]}):i.jsx(Ct,{to:"/login",replace:!0})}),i.jsx(rt,{path:"/photo/:id",element:e?i.jsxs("div",{className:"min-h-screen",children:[i.jsx(er,{}),i.jsx("main",{className:"container mx-auto px-4 py-8",children:i.jsx(QP,{})})]}):i.jsx(Ct,{to:"/login",replace:!0})}),i.jsx(rt,{path:"/memories",element:e?i.jsxs("div",{className:"min-h-screen",children:[i.jsx(er,{}),i.jsx("main",{className:"container mx-auto px-4 py-8",children:i.jsx(tD,{})})]}):i.jsx(Ct,{to:"/login",replace:!0})}),i.jsx(rt,{path:"/categories",element:e?i.jsxs("div",{className:"min-h-screen",children:[i.jsx(er,{}),i.jsx("main",{className:"container mx-auto px-4 py-8",children:i.jsx(aD,{})})]}):i.jsx(Ct,{to:"/login",replace:!0})}),i.jsx(rt,{path:"/recycle-bin",element:e?i.jsxs("div",{className:"min-h-screen",children:[i.jsx(er,{}),i.jsx("main",{className:"container mx-auto px-4 py-8",children:i.jsx(uD,{})})]}):i.jsx(Ct,{to:"/login",replace:!0})}),i.jsx(rt,{path:"/settings",element:e?i.jsxs("div",{className:"min-h-screen",children:[i.jsx(er,{}),i.jsx("main",{className:"container mx-auto px-4 py-8",children:i.jsx(iD,{})})]}):i.jsx(Ct,{to:"/login",replace:!0})}),i.jsx(rt,{path:"/surprise-boxes",element:e?i.jsxs("div",{className:"min-h-screen",children:[i.jsx(er,{}),i.jsx("main",{className:"container mx-auto px-4 py-8",children:i.jsx(R3,{})})]}):i.jsx(Ct,{to:"/login",replace:!0})}),i.jsx(rt,{path:"*",element:i.jsx(Ct,{to:"/login",replace:!0})})]}),e&&i.jsx(U1,{})]})}function L3(){return i.jsx(S4,{children:i.jsx(C4,{children:i.jsx(yE,{backend:IE,children:i.jsxs(QS,{children:[i.jsx(_3,{}),i.jsx(M3,{})]})})})})}Vu.createRoot(document.getElementById("root")).render(i.jsx(cs.StrictMode,{children:i.jsx(L3,{})}));
