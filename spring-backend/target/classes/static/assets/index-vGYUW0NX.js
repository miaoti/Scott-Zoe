function fw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Jd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var m0={exports:{}},Pl={},g0={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wi=Symbol.for("react.element"),pw=Symbol.for("react.portal"),mw=Symbol.for("react.fragment"),gw=Symbol.for("react.strict_mode"),xw=Symbol.for("react.profiler"),yw=Symbol.for("react.provider"),vw=Symbol.for("react.context"),bw=Symbol.for("react.forward_ref"),ww=Symbol.for("react.suspense"),jw=Symbol.for("react.memo"),Nw=Symbol.for("react.lazy"),qf=Symbol.iterator;function Sw(e){return e===null||typeof e!="object"?null:(e=qf&&e[qf]||e["@@iterator"],typeof e=="function"?e:null)}var x0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y0=Object.assign,v0={};function Zs(e,t,n){this.props=e,this.context=t,this.refs=v0,this.updater=n||x0}Zs.prototype.isReactComponent={};Zs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function b0(){}b0.prototype=Zs.prototype;function Zd(e,t,n){this.props=e,this.context=t,this.refs=v0,this.updater=n||x0}var eh=Zd.prototype=new b0;eh.constructor=Zd;y0(eh,Zs.prototype);eh.isPureReactComponent=!0;var Kf=Array.isArray,w0=Object.prototype.hasOwnProperty,th={current:null},j0={key:!0,ref:!0,__self:!0,__source:!0};function N0(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)w0.call(t,r)&&!j0.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:wi,type:e,key:i,ref:a,props:s,_owner:th.current}}function kw(e,t){return{$$typeof:wi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nh(e){return typeof e=="object"&&e!==null&&e.$$typeof===wi}function Cw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xf=/\/+/g;function xc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Cw(""+e.key):t.toString(36)}function wa(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case wi:case pw:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+xc(a,0):r,Kf(s)?(n="",e!=null&&(n=e.replace(Xf,"$&/")+"/"),wa(s,t,n,"",function(h){return h})):s!=null&&(nh(s)&&(s=kw(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Xf,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Kf(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+xc(i,l);a+=wa(i,t,n,c,s)}else if(c=Sw(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+xc(i,l++),a+=wa(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Gi(e,t,n){if(e==null)return e;var r=[],s=0;return wa(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Ew(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},ja={transition:null},Pw={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:ja,ReactCurrentOwner:th};function S0(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Gi,forEach:function(e,t,n){Gi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gi(e,function(){t++}),t},toArray:function(e){return Gi(e,function(t){return t})||[]},only:function(e){if(!nh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=Zs;ae.Fragment=mw;ae.Profiler=xw;ae.PureComponent=Zd;ae.StrictMode=gw;ae.Suspense=ww;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pw;ae.act=S0;ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=y0({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=th.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w0.call(t,c)&&!j0.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:wi,type:e.type,key:s,ref:i,props:r,_owner:a}};ae.createContext=function(e){return e={$$typeof:vw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yw,_context:e},e.Consumer=e};ae.createElement=N0;ae.createFactory=function(e){var t=N0.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:bw,render:e}};ae.isValidElement=nh;ae.lazy=function(e){return{$$typeof:Nw,_payload:{_status:-1,_result:e},_init:Ew}};ae.memo=function(e,t){return{$$typeof:jw,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=ja.transition;ja.transition={};try{e()}finally{ja.transition=t}};ae.unstable_act=S0;ae.useCallback=function(e,t){return ht.current.useCallback(e,t)};ae.useContext=function(e){return ht.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};ae.useEffect=function(e,t){return ht.current.useEffect(e,t)};ae.useId=function(){return ht.current.useId()};ae.useImperativeHandle=function(e,t,n){return ht.current.useImperativeHandle(e,t,n)};ae.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return ht.current.useMemo(e,t)};ae.useReducer=function(e,t,n){return ht.current.useReducer(e,t,n)};ae.useRef=function(e){return ht.current.useRef(e)};ae.useState=function(e){return ht.current.useState(e)};ae.useSyncExternalStore=function(e,t,n){return ht.current.useSyncExternalStore(e,t,n)};ae.useTransition=function(){return ht.current.useTransition()};ae.version="18.3.1";g0.exports=ae;var E=g0.exports;const eo=Jd(E),Tw=fw({__proto__:null,default:eo},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw=E,Dw=Symbol.for("react.element"),Rw=Symbol.for("react.fragment"),_w=Object.prototype.hasOwnProperty,Mw=Aw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ow={key:!0,ref:!0,__self:!0,__source:!0};function k0(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)_w.call(t,r)&&!Ow.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Dw,type:e,key:i,ref:a,props:s,_owner:Mw.current}}Pl.Fragment=Rw;Pl.jsx=k0;Pl.jsxs=k0;m0.exports=Pl;var o=m0.exports,bu={},C0={exports:{}},_t={},E0={exports:{}},P0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,L){var $=I.length;I.push(L);e:for(;0<$;){var V=$-1>>>1,z=I[V];if(0<s(z,L))I[V]=L,I[$]=z,$=V;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var L=I[0],$=I.pop();if($!==L){I[0]=$;e:for(var V=0,z=I.length,H=z>>>1;V<H;){var W=2*(V+1)-1,B=I[W],G=W+1,Q=I[G];if(0>s(B,$))G<z&&0>s(Q,B)?(I[V]=Q,I[G]=$,V=G):(I[V]=B,I[W]=$,V=W);else if(G<z&&0>s(Q,$))I[V]=Q,I[G]=$,V=G;else break e}}return L}function s(I,L){var $=I.sortIndex-L.sortIndex;return $!==0?$:I.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],h=[],d=1,u=null,f=3,p=!1,m=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(I){for(var L=n(h);L!==null;){if(L.callback===null)r(h);else if(L.startTime<=I)r(h),L.sortIndex=L.expirationTime,t(c,L);else break;L=n(h)}}function j(I){if(v=!1,g(I),!m)if(n(c)!==null)m=!0,T(R);else{var L=n(h);L!==null&&k(j,L.startTime-I)}}function R(I,L){m=!1,v&&(v=!1,y(x),x=-1),p=!0;var $=f;try{for(g(L),u=n(c);u!==null&&(!(u.expirationTime>L)||I&&!A());){var V=u.callback;if(typeof V=="function"){u.callback=null,f=u.priorityLevel;var z=V(u.expirationTime<=L);L=e.unstable_now(),typeof z=="function"?u.callback=z:u===n(c)&&r(c),g(L)}else r(c);u=n(c)}if(u!==null)var H=!0;else{var W=n(h);W!==null&&k(j,W.startTime-L),H=!1}return H}finally{u=null,f=$,p=!1}}var b=!1,D=null,x=-1,N=5,C=-1;function A(){return!(e.unstable_now()-C<N)}function P(){if(D!==null){var I=e.unstable_now();C=I;var L=!0;try{L=D(!0,I)}finally{L?M():(b=!1,D=null)}}else b=!1}var M;if(typeof w=="function")M=function(){w(P)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,O=_.port2;_.port1.onmessage=P,M=function(){O.postMessage(null)}}else M=function(){S(P,0)};function T(I){D=I,b||(b=!0,M())}function k(I,L){x=S(function(){I(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,T(R))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(I){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var $=f;f=L;try{return I()}finally{f=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,L){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var $=f;f=I;try{return L()}finally{f=$}},e.unstable_scheduleCallback=function(I,L,$){var V=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?V+$:V):$=V,I){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=$+z,I={id:d++,callback:L,priorityLevel:I,startTime:$,expirationTime:z,sortIndex:-1},$>V?(I.sortIndex=$,t(h,I),n(c)===null&&I===n(h)&&(v?(y(x),x=-1):v=!0,k(j,$-V))):(I.sortIndex=z,t(c,I),m||p||(m=!0,T(R))),I},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(I){var L=f;return function(){var $=f;f=L;try{return I.apply(this,arguments)}finally{f=$}}}})(P0);E0.exports=P0;var Lw=E0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iw=E,Dt=Lw;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var T0=new Set,Xo={};function ns(e,t){$s(e,t),$s(e+"Capture",t)}function $s(e,t){for(Xo[e]=t,e=0;e<t.length;e++)T0.add(t[e])}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wu=Object.prototype.hasOwnProperty,Fw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yf={},Qf={};function $w(e){return wu.call(Qf,e)?!0:wu.call(Yf,e)?!1:Fw.test(e)?Qf[e]=!0:(Yf[e]=!0,!1)}function Bw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zw(e,t,n,r){if(t===null||typeof t>"u"||Bw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ft(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qe[t]=new ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var rh=/[\-:]([a-z])/g;function sh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rh,sh);qe[t]=new ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rh,sh);qe[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rh,sh);qe[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new ft(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function oh(e,t,n,r){var s=qe.hasOwnProperty(t)?qe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zw(t,n,s,r)&&(n=null),r||s===null?$w(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var In=Iw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qi=Symbol.for("react.element"),ms=Symbol.for("react.portal"),gs=Symbol.for("react.fragment"),ih=Symbol.for("react.strict_mode"),ju=Symbol.for("react.profiler"),A0=Symbol.for("react.provider"),D0=Symbol.for("react.context"),ah=Symbol.for("react.forward_ref"),Nu=Symbol.for("react.suspense"),Su=Symbol.for("react.suspense_list"),lh=Symbol.for("react.memo"),Hn=Symbol.for("react.lazy"),R0=Symbol.for("react.offscreen"),Jf=Symbol.iterator;function po(e){return e===null||typeof e!="object"?null:(e=Jf&&e[Jf]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,yc;function Co(e){if(yc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);yc=t&&t[1]||""}return`
`+yc+e}var vc=!1;function bc(e,t){if(!e||vc)return"";vc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{vc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Co(e):""}function Uw(e){switch(e.tag){case 5:return Co(e.type);case 16:return Co("Lazy");case 13:return Co("Suspense");case 19:return Co("SuspenseList");case 0:case 2:case 15:return e=bc(e.type,!1),e;case 11:return e=bc(e.type.render,!1),e;case 1:return e=bc(e.type,!0),e;default:return""}}function ku(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gs:return"Fragment";case ms:return"Portal";case ju:return"Profiler";case ih:return"StrictMode";case Nu:return"Suspense";case Su:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case D0:return(e.displayName||"Context")+".Consumer";case A0:return(e._context.displayName||"Context")+".Provider";case ah:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lh:return t=e.displayName||null,t!==null?t:ku(e.type)||"Memo";case Hn:t=e._payload,e=e._init;try{return ku(e(t))}catch{}}return null}function Vw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ku(t);case 8:return t===ih?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ww(e){var t=_0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ki(e){e._valueTracker||(e._valueTracker=Ww(e))}function M0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ba(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cu(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Zf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=fr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function O0(e,t){t=t.checked,t!=null&&oh(e,"checked",t,!1)}function Eu(e,t){O0(e,t);var n=fr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pu(e,t.type,fr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ep(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Pu(e,t,n){(t!=="number"||Ba(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Eo=Array.isArray;function _s(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+fr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Tu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(Eo(n)){if(1<n.length)throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fr(n)}}function L0(e,t){var n=fr(t.value),r=fr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function np(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function I0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Au(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?I0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xi,F0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xi=Xi||document.createElement("div"),Xi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Mo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hw=["Webkit","ms","Moz","O"];Object.keys(Mo).forEach(function(e){Hw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mo[t]=Mo[e]})});function $0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Mo.hasOwnProperty(e)&&Mo[e]?(""+t).trim():t+"px"}function B0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Gw=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Du(e,t){if(t){if(Gw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function Ru(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _u=null;function ch(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mu=null,Ms=null,Os=null;function rp(e){if(e=Si(e)){if(typeof Mu!="function")throw Error(q(280));var t=e.stateNode;t&&(t=_l(t),Mu(e.stateNode,e.type,t))}}function z0(e){Ms?Os?Os.push(e):Os=[e]:Ms=e}function U0(){if(Ms){var e=Ms,t=Os;if(Os=Ms=null,rp(e),t)for(e=0;e<t.length;e++)rp(t[e])}}function V0(e,t){return e(t)}function W0(){}var wc=!1;function H0(e,t,n){if(wc)return e(t,n);wc=!0;try{return V0(e,t,n)}finally{wc=!1,(Ms!==null||Os!==null)&&(W0(),U0())}}function Qo(e,t){var n=e.stateNode;if(n===null)return null;var r=_l(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var Ou=!1;if(Rn)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){Ou=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{Ou=!1}function qw(e,t,n,r,s,i,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(d){this.onError(d)}}var Oo=!1,za=null,Ua=!1,Lu=null,Kw={onError:function(e){Oo=!0,za=e}};function Xw(e,t,n,r,s,i,a,l,c){Oo=!1,za=null,qw.apply(Kw,arguments)}function Yw(e,t,n,r,s,i,a,l,c){if(Xw.apply(this,arguments),Oo){if(Oo){var h=za;Oo=!1,za=null}else throw Error(q(198));Ua||(Ua=!0,Lu=h)}}function rs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function G0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sp(e){if(rs(e)!==e)throw Error(q(188))}function Qw(e){var t=e.alternate;if(!t){if(t=rs(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return sp(s),e;if(i===r)return sp(s),t;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function q0(e){return e=Qw(e),e!==null?K0(e):null}function K0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=K0(e);if(t!==null)return t;e=e.sibling}return null}var X0=Dt.unstable_scheduleCallback,op=Dt.unstable_cancelCallback,Jw=Dt.unstable_shouldYield,Zw=Dt.unstable_requestPaint,Re=Dt.unstable_now,ej=Dt.unstable_getCurrentPriorityLevel,uh=Dt.unstable_ImmediatePriority,Y0=Dt.unstable_UserBlockingPriority,Va=Dt.unstable_NormalPriority,tj=Dt.unstable_LowPriority,Q0=Dt.unstable_IdlePriority,Tl=null,pn=null;function nj(e){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Tl,e,void 0,(e.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:oj,rj=Math.log,sj=Math.LN2;function oj(e){return e>>>=0,e===0?32:31-(rj(e)/sj|0)|0}var Yi=64,Qi=4194304;function Po(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Po(l):(i&=a,i!==0&&(r=Po(i)))}else a=n&~s,a!==0?r=Po(a):i!==0&&(r=Po(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-nn(t),s=1<<n,r|=e[n],t&=~s;return r}function ij(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aj(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-nn(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=ij(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Iu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function J0(){var e=Yi;return Yi<<=1,!(Yi&4194240)&&(Yi=64),e}function jc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ji(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nn(t),e[t]=n}function lj(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-nn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function dh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-nn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var xe=0;function Z0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ex,hh,tx,nx,rx,Fu=!1,Ji=[],rr=null,sr=null,or=null,Jo=new Map,Zo=new Map,Kn=[],cj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ip(e,t){switch(e){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":Jo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(t.pointerId)}}function go(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Si(t),t!==null&&hh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function uj(e,t,n,r,s){switch(t){case"focusin":return rr=go(rr,e,t,n,r,s),!0;case"dragenter":return sr=go(sr,e,t,n,r,s),!0;case"mouseover":return or=go(or,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Jo.set(i,go(Jo.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Zo.set(i,go(Zo.get(i)||null,e,t,n,r,s)),!0}return!1}function sx(e){var t=Lr(e.target);if(t!==null){var n=rs(t);if(n!==null){if(t=n.tag,t===13){if(t=G0(n),t!==null){e.blockedOn=t,rx(e.priority,function(){tx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Na(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$u(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);_u=r,n.target.dispatchEvent(r),_u=null}else return t=Si(n),t!==null&&hh(t),e.blockedOn=n,!1;t.shift()}return!0}function ap(e,t,n){Na(e)&&n.delete(t)}function dj(){Fu=!1,rr!==null&&Na(rr)&&(rr=null),sr!==null&&Na(sr)&&(sr=null),or!==null&&Na(or)&&(or=null),Jo.forEach(ap),Zo.forEach(ap)}function xo(e,t){e.blockedOn===t&&(e.blockedOn=null,Fu||(Fu=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,dj)))}function ei(e){function t(s){return xo(s,e)}if(0<Ji.length){xo(Ji[0],e);for(var n=1;n<Ji.length;n++){var r=Ji[n];r.blockedOn===e&&(r.blockedOn=null)}}for(rr!==null&&xo(rr,e),sr!==null&&xo(sr,e),or!==null&&xo(or,e),Jo.forEach(t),Zo.forEach(t),n=0;n<Kn.length;n++)r=Kn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Kn.length&&(n=Kn[0],n.blockedOn===null);)sx(n),n.blockedOn===null&&Kn.shift()}var Ls=In.ReactCurrentBatchConfig,Ha=!0;function hj(e,t,n,r){var s=xe,i=Ls.transition;Ls.transition=null;try{xe=1,fh(e,t,n,r)}finally{xe=s,Ls.transition=i}}function fj(e,t,n,r){var s=xe,i=Ls.transition;Ls.transition=null;try{xe=4,fh(e,t,n,r)}finally{xe=s,Ls.transition=i}}function fh(e,t,n,r){if(Ha){var s=$u(e,t,n,r);if(s===null)Rc(e,t,r,Ga,n),ip(e,r);else if(uj(s,e,t,n,r))r.stopPropagation();else if(ip(e,r),t&4&&-1<cj.indexOf(e)){for(;s!==null;){var i=Si(s);if(i!==null&&ex(i),i=$u(e,t,n,r),i===null&&Rc(e,t,r,Ga,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Rc(e,t,r,null,n)}}var Ga=null;function $u(e,t,n,r){if(Ga=null,e=ch(r),e=Lr(e),e!==null)if(t=rs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=G0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ga=e,null}function ox(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ej()){case uh:return 1;case Y0:return 4;case Va:case tj:return 16;case Q0:return 536870912;default:return 16}default:return 16}}var Jn=null,ph=null,Sa=null;function ix(){if(Sa)return Sa;var e,t=ph,n=t.length,r,s="value"in Jn?Jn.value:Jn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Sa=s.slice(e,1<r?1-r:void 0)}function ka(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zi(){return!0}function lp(){return!1}function Mt(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zi:lp,this.isPropagationStopped=lp,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),t}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mh=Mt(to),Ni=Pe({},to,{view:0,detail:0}),pj=Mt(Ni),Nc,Sc,yo,Al=Pe({},Ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yo&&(yo&&e.type==="mousemove"?(Nc=e.screenX-yo.screenX,Sc=e.screenY-yo.screenY):Sc=Nc=0,yo=e),Nc)},movementY:function(e){return"movementY"in e?e.movementY:Sc}}),cp=Mt(Al),mj=Pe({},Al,{dataTransfer:0}),gj=Mt(mj),xj=Pe({},Ni,{relatedTarget:0}),kc=Mt(xj),yj=Pe({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),vj=Mt(yj),bj=Pe({},to,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wj=Mt(bj),jj=Pe({},to,{data:0}),up=Mt(jj),Nj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kj[e])?!!t[e]:!1}function gh(){return Cj}var Ej=Pe({},Ni,{key:function(e){if(e.key){var t=Nj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ka(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gh,charCode:function(e){return e.type==="keypress"?ka(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ka(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pj=Mt(Ej),Tj=Pe({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dp=Mt(Tj),Aj=Pe({},Ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gh}),Dj=Mt(Aj),Rj=Pe({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),_j=Mt(Rj),Mj=Pe({},Al,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Oj=Mt(Mj),Lj=[9,13,27,32],xh=Rn&&"CompositionEvent"in window,Lo=null;Rn&&"documentMode"in document&&(Lo=document.documentMode);var Ij=Rn&&"TextEvent"in window&&!Lo,ax=Rn&&(!xh||Lo&&8<Lo&&11>=Lo),hp=" ",fp=!1;function lx(e,t){switch(e){case"keyup":return Lj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xs=!1;function Fj(e,t){switch(e){case"compositionend":return cx(t);case"keypress":return t.which!==32?null:(fp=!0,hp);case"textInput":return e=t.data,e===hp&&fp?null:e;default:return null}}function $j(e,t){if(xs)return e==="compositionend"||!xh&&lx(e,t)?(e=ix(),Sa=ph=Jn=null,xs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ax&&t.locale!=="ko"?null:t.data;default:return null}}var Bj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bj[e.type]:t==="textarea"}function ux(e,t,n,r){z0(r),t=qa(t,"onChange"),0<t.length&&(n=new mh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Io=null,ti=null;function zj(e){wx(e,0)}function Dl(e){var t=bs(e);if(M0(t))return e}function Uj(e,t){if(e==="change")return t}var dx=!1;if(Rn){var Cc;if(Rn){var Ec="oninput"in document;if(!Ec){var mp=document.createElement("div");mp.setAttribute("oninput","return;"),Ec=typeof mp.oninput=="function"}Cc=Ec}else Cc=!1;dx=Cc&&(!document.documentMode||9<document.documentMode)}function gp(){Io&&(Io.detachEvent("onpropertychange",hx),ti=Io=null)}function hx(e){if(e.propertyName==="value"&&Dl(ti)){var t=[];ux(t,ti,e,ch(e)),H0(zj,t)}}function Vj(e,t,n){e==="focusin"?(gp(),Io=t,ti=n,Io.attachEvent("onpropertychange",hx)):e==="focusout"&&gp()}function Wj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dl(ti)}function Hj(e,t){if(e==="click")return Dl(t)}function Gj(e,t){if(e==="input"||e==="change")return Dl(t)}function qj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sn=typeof Object.is=="function"?Object.is:qj;function ni(e,t){if(sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!wu.call(t,s)||!sn(e[s],t[s]))return!1}return!0}function xp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yp(e,t){var n=xp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xp(n)}}function fx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function px(){for(var e=window,t=Ba();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ba(e.document)}return t}function yh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Kj(e){var t=px(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fx(n.ownerDocument.documentElement,n)){if(r!==null&&yh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=yp(n,i);var a=yp(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xj=Rn&&"documentMode"in document&&11>=document.documentMode,ys=null,Bu=null,Fo=null,zu=!1;function vp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zu||ys==null||ys!==Ba(r)||(r=ys,"selectionStart"in r&&yh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fo&&ni(Fo,r)||(Fo=r,r=qa(Bu,"onSelect"),0<r.length&&(t=new mh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ys)))}function ea(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vs={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionend:ea("Transition","TransitionEnd")},Pc={},mx={};Rn&&(mx=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Rl(e){if(Pc[e])return Pc[e];if(!vs[e])return e;var t=vs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mx)return Pc[e]=t[n];return e}var gx=Rl("animationend"),xx=Rl("animationiteration"),yx=Rl("animationstart"),vx=Rl("transitionend"),bx=new Map,bp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vr(e,t){bx.set(e,t),ns(t,[e])}for(var Tc=0;Tc<bp.length;Tc++){var Ac=bp[Tc],Yj=Ac.toLowerCase(),Qj=Ac[0].toUpperCase()+Ac.slice(1);vr(Yj,"on"+Qj)}vr(gx,"onAnimationEnd");vr(xx,"onAnimationIteration");vr(yx,"onAnimationStart");vr("dblclick","onDoubleClick");vr("focusin","onFocus");vr("focusout","onBlur");vr(vx,"onTransitionEnd");$s("onMouseEnter",["mouseout","mouseover"]);$s("onMouseLeave",["mouseout","mouseover"]);$s("onPointerEnter",["pointerout","pointerover"]);$s("onPointerLeave",["pointerout","pointerover"]);ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jj=new Set("cancel close invalid load scroll toggle".split(" ").concat(To));function wp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Yw(r,t,void 0,e),e.currentTarget=null}function wx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;wp(s,l,h),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;wp(s,l,h),i=c}}}if(Ua)throw e=Lu,Ua=!1,Lu=null,e}function je(e,t){var n=t[Gu];n===void 0&&(n=t[Gu]=new Set);var r=e+"__bubble";n.has(r)||(jx(t,e,2,!1),n.add(r))}function Dc(e,t,n){var r=0;t&&(r|=4),jx(n,e,r,t)}var ta="_reactListening"+Math.random().toString(36).slice(2);function ri(e){if(!e[ta]){e[ta]=!0,T0.forEach(function(n){n!=="selectionchange"&&(Jj.has(n)||Dc(n,!1,e),Dc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ta]||(t[ta]=!0,Dc("selectionchange",!1,t))}}function jx(e,t,n,r){switch(ox(t)){case 1:var s=hj;break;case 4:s=fj;break;default:s=fh}n=s.bind(null,t,n,e),s=void 0,!Ou||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Rc(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Lr(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}H0(function(){var h=i,d=ch(n),u=[];e:{var f=bx.get(e);if(f!==void 0){var p=mh,m=e;switch(e){case"keypress":if(ka(n)===0)break e;case"keydown":case"keyup":p=Pj;break;case"focusin":m="focus",p=kc;break;case"focusout":m="blur",p=kc;break;case"beforeblur":case"afterblur":p=kc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=cp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=gj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Dj;break;case gx:case xx:case yx:p=vj;break;case vx:p=_j;break;case"scroll":p=pj;break;case"wheel":p=Oj;break;case"copy":case"cut":case"paste":p=wj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=dp}var v=(t&4)!==0,S=!v&&e==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var w=h,g;w!==null;){g=w;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,y!==null&&(j=Qo(w,y),j!=null&&v.push(si(w,j,g)))),S)break;w=w.return}0<v.length&&(f=new p(f,m,null,n,d),u.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==_u&&(m=n.relatedTarget||n.fromElement)&&(Lr(m)||m[_n]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=h,m=m?Lr(m):null,m!==null&&(S=rs(m),m!==S||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=h),p!==m)){if(v=cp,j="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(v=dp,j="onPointerLeave",y="onPointerEnter",w="pointer"),S=p==null?f:bs(p),g=m==null?f:bs(m),f=new v(j,w+"leave",p,n,d),f.target=S,f.relatedTarget=g,j=null,Lr(d)===h&&(v=new v(y,w+"enter",m,n,d),v.target=g,v.relatedTarget=S,j=v),S=j,p&&m)t:{for(v=p,y=m,w=0,g=v;g;g=ps(g))w++;for(g=0,j=y;j;j=ps(j))g++;for(;0<w-g;)v=ps(v),w--;for(;0<g-w;)y=ps(y),g--;for(;w--;){if(v===y||y!==null&&v===y.alternate)break t;v=ps(v),y=ps(y)}v=null}else v=null;p!==null&&jp(u,f,p,v,!1),m!==null&&S!==null&&jp(u,S,m,v,!0)}}e:{if(f=h?bs(h):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var R=Uj;else if(pp(f))if(dx)R=Gj;else{R=Wj;var b=Vj}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=Hj);if(R&&(R=R(e,h))){ux(u,R,n,d);break e}b&&b(e,f,h),e==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&Pu(f,"number",f.value)}switch(b=h?bs(h):window,e){case"focusin":(pp(b)||b.contentEditable==="true")&&(ys=b,Bu=h,Fo=null);break;case"focusout":Fo=Bu=ys=null;break;case"mousedown":zu=!0;break;case"contextmenu":case"mouseup":case"dragend":zu=!1,vp(u,n,d);break;case"selectionchange":if(Xj)break;case"keydown":case"keyup":vp(u,n,d)}var D;if(xh)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else xs?lx(e,n)&&(x="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(ax&&n.locale!=="ko"&&(xs||x!=="onCompositionStart"?x==="onCompositionEnd"&&xs&&(D=ix()):(Jn=d,ph="value"in Jn?Jn.value:Jn.textContent,xs=!0)),b=qa(h,x),0<b.length&&(x=new up(x,e,null,n,d),u.push({event:x,listeners:b}),D?x.data=D:(D=cx(n),D!==null&&(x.data=D)))),(D=Ij?Fj(e,n):$j(e,n))&&(h=qa(h,"onBeforeInput"),0<h.length&&(d=new up("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:h}),d.data=D))}wx(u,t)})}function si(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qa(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Qo(e,n),i!=null&&r.unshift(si(e,i,s)),i=Qo(e,t),i!=null&&r.push(si(e,i,s))),e=e.return}return r}function ps(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jp(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,s?(c=Qo(n,i),c!=null&&a.unshift(si(n,c,l))):s||(c=Qo(n,i),c!=null&&a.push(si(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Zj=/\r\n?/g,eN=/\u0000|\uFFFD/g;function Np(e){return(typeof e=="string"?e:""+e).replace(Zj,`
`).replace(eN,"")}function na(e,t,n){if(t=Np(t),Np(e)!==t&&n)throw Error(q(425))}function Ka(){}var Uu=null,Vu=null;function Wu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hu=typeof setTimeout=="function"?setTimeout:void 0,tN=typeof clearTimeout=="function"?clearTimeout:void 0,Sp=typeof Promise=="function"?Promise:void 0,nN=typeof queueMicrotask=="function"?queueMicrotask:typeof Sp<"u"?function(e){return Sp.resolve(null).then(e).catch(rN)}:Hu;function rN(e){setTimeout(function(){throw e})}function _c(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ei(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ei(t)}function ir(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var no=Math.random().toString(36).slice(2),fn="__reactFiber$"+no,oi="__reactProps$"+no,_n="__reactContainer$"+no,Gu="__reactEvents$"+no,sN="__reactListeners$"+no,oN="__reactHandles$"+no;function Lr(e){var t=e[fn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_n]||n[fn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=kp(e);e!==null;){if(n=e[fn])return n;e=kp(e)}return t}e=n,n=e.parentNode}return null}function Si(e){return e=e[fn]||e[_n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function _l(e){return e[oi]||null}var qu=[],ws=-1;function br(e){return{current:e}}function Ne(e){0>ws||(e.current=qu[ws],qu[ws]=null,ws--)}function be(e,t){ws++,qu[ws]=e.current,e.current=t}var pr={},ot=br(pr),yt=br(!1),Gr=pr;function Bs(e,t){var n=e.type.contextTypes;if(!n)return pr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function vt(e){return e=e.childContextTypes,e!=null}function Xa(){Ne(yt),Ne(ot)}function Cp(e,t,n){if(ot.current!==pr)throw Error(q(168));be(ot,t),be(yt,n)}function Nx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(q(108,Vw(e)||"Unknown",s));return Pe({},n,r)}function Ya(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pr,Gr=ot.current,be(ot,e),be(yt,yt.current),!0}function Ep(e,t,n){var r=e.stateNode;if(!r)throw Error(q(169));n?(e=Nx(e,t,Gr),r.__reactInternalMemoizedMergedChildContext=e,Ne(yt),Ne(ot),be(ot,e)):Ne(yt),be(yt,n)}var Sn=null,Ml=!1,Mc=!1;function Sx(e){Sn===null?Sn=[e]:Sn.push(e)}function iN(e){Ml=!0,Sx(e)}function wr(){if(!Mc&&Sn!==null){Mc=!0;var e=0,t=xe;try{var n=Sn;for(xe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Sn=null,Ml=!1}catch(s){throw Sn!==null&&(Sn=Sn.slice(e+1)),X0(uh,wr),s}finally{xe=t,Mc=!1}}return null}var js=[],Ns=0,Qa=null,Ja=0,Ft=[],$t=0,qr=null,kn=1,Cn="";function Ar(e,t){js[Ns++]=Ja,js[Ns++]=Qa,Qa=e,Ja=t}function kx(e,t,n){Ft[$t++]=kn,Ft[$t++]=Cn,Ft[$t++]=qr,qr=e;var r=kn;e=Cn;var s=32-nn(r)-1;r&=~(1<<s),n+=1;var i=32-nn(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,kn=1<<32-nn(t)+s|n<<s|r,Cn=i+e}else kn=1<<i|n<<s|r,Cn=e}function vh(e){e.return!==null&&(Ar(e,1),kx(e,1,0))}function bh(e){for(;e===Qa;)Qa=js[--Ns],js[Ns]=null,Ja=js[--Ns],js[Ns]=null;for(;e===qr;)qr=Ft[--$t],Ft[$t]=null,Cn=Ft[--$t],Ft[$t]=null,kn=Ft[--$t],Ft[$t]=null}var At=null,Tt=null,Se=!1,tn=null;function Cx(e,t){var n=zt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Pp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,At=e,Tt=ir(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,At=e,Tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=qr!==null?{id:kn,overflow:Cn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=zt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,At=e,Tt=null,!0):!1;default:return!1}}function Ku(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xu(e){if(Se){var t=Tt;if(t){var n=t;if(!Pp(e,t)){if(Ku(e))throw Error(q(418));t=ir(n.nextSibling);var r=At;t&&Pp(e,t)?Cx(r,n):(e.flags=e.flags&-4097|2,Se=!1,At=e)}}else{if(Ku(e))throw Error(q(418));e.flags=e.flags&-4097|2,Se=!1,At=e}}}function Tp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;At=e}function ra(e){if(e!==At)return!1;if(!Se)return Tp(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wu(e.type,e.memoizedProps)),t&&(t=Tt)){if(Ku(e))throw Ex(),Error(q(418));for(;t;)Cx(e,t),t=ir(t.nextSibling)}if(Tp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Tt=ir(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Tt=null}}else Tt=At?ir(e.stateNode.nextSibling):null;return!0}function Ex(){for(var e=Tt;e;)e=ir(e.nextSibling)}function zs(){Tt=At=null,Se=!1}function wh(e){tn===null?tn=[e]:tn.push(e)}var aN=In.ReactCurrentBatchConfig;function vo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function sa(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ap(e){var t=e._init;return t(e._payload)}function Px(e){function t(y,w){if(e){var g=y.deletions;g===null?(y.deletions=[w],y.flags|=16):g.push(w)}}function n(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function s(y,w){return y=ur(y,w),y.index=0,y.sibling=null,y}function i(y,w,g){return y.index=g,e?(g=y.alternate,g!==null?(g=g.index,g<w?(y.flags|=2,w):g):(y.flags|=2,w)):(y.flags|=1048576,w)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,w,g,j){return w===null||w.tag!==6?(w=zc(g,y.mode,j),w.return=y,w):(w=s(w,g),w.return=y,w)}function c(y,w,g,j){var R=g.type;return R===gs?d(y,w,g.props.children,j,g.key):w!==null&&(w.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Hn&&Ap(R)===w.type)?(j=s(w,g.props),j.ref=vo(y,w,g),j.return=y,j):(j=Ra(g.type,g.key,g.props,null,y.mode,j),j.ref=vo(y,w,g),j.return=y,j)}function h(y,w,g,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==g.containerInfo||w.stateNode.implementation!==g.implementation?(w=Uc(g,y.mode,j),w.return=y,w):(w=s(w,g.children||[]),w.return=y,w)}function d(y,w,g,j,R){return w===null||w.tag!==7?(w=Vr(g,y.mode,j,R),w.return=y,w):(w=s(w,g),w.return=y,w)}function u(y,w,g){if(typeof w=="string"&&w!==""||typeof w=="number")return w=zc(""+w,y.mode,g),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qi:return g=Ra(w.type,w.key,w.props,null,y.mode,g),g.ref=vo(y,null,w),g.return=y,g;case ms:return w=Uc(w,y.mode,g),w.return=y,w;case Hn:var j=w._init;return u(y,j(w._payload),g)}if(Eo(w)||po(w))return w=Vr(w,y.mode,g,null),w.return=y,w;sa(y,w)}return null}function f(y,w,g,j){var R=w!==null?w.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return R!==null?null:l(y,w,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case qi:return g.key===R?c(y,w,g,j):null;case ms:return g.key===R?h(y,w,g,j):null;case Hn:return R=g._init,f(y,w,R(g._payload),j)}if(Eo(g)||po(g))return R!==null?null:d(y,w,g,j,null);sa(y,g)}return null}function p(y,w,g,j,R){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(g)||null,l(w,y,""+j,R);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case qi:return y=y.get(j.key===null?g:j.key)||null,c(w,y,j,R);case ms:return y=y.get(j.key===null?g:j.key)||null,h(w,y,j,R);case Hn:var b=j._init;return p(y,w,g,b(j._payload),R)}if(Eo(j)||po(j))return y=y.get(g)||null,d(w,y,j,R,null);sa(w,j)}return null}function m(y,w,g,j){for(var R=null,b=null,D=w,x=w=0,N=null;D!==null&&x<g.length;x++){D.index>x?(N=D,D=null):N=D.sibling;var C=f(y,D,g[x],j);if(C===null){D===null&&(D=N);break}e&&D&&C.alternate===null&&t(y,D),w=i(C,w,x),b===null?R=C:b.sibling=C,b=C,D=N}if(x===g.length)return n(y,D),Se&&Ar(y,x),R;if(D===null){for(;x<g.length;x++)D=u(y,g[x],j),D!==null&&(w=i(D,w,x),b===null?R=D:b.sibling=D,b=D);return Se&&Ar(y,x),R}for(D=r(y,D);x<g.length;x++)N=p(D,y,x,g[x],j),N!==null&&(e&&N.alternate!==null&&D.delete(N.key===null?x:N.key),w=i(N,w,x),b===null?R=N:b.sibling=N,b=N);return e&&D.forEach(function(A){return t(y,A)}),Se&&Ar(y,x),R}function v(y,w,g,j){var R=po(g);if(typeof R!="function")throw Error(q(150));if(g=R.call(g),g==null)throw Error(q(151));for(var b=R=null,D=w,x=w=0,N=null,C=g.next();D!==null&&!C.done;x++,C=g.next()){D.index>x?(N=D,D=null):N=D.sibling;var A=f(y,D,C.value,j);if(A===null){D===null&&(D=N);break}e&&D&&A.alternate===null&&t(y,D),w=i(A,w,x),b===null?R=A:b.sibling=A,b=A,D=N}if(C.done)return n(y,D),Se&&Ar(y,x),R;if(D===null){for(;!C.done;x++,C=g.next())C=u(y,C.value,j),C!==null&&(w=i(C,w,x),b===null?R=C:b.sibling=C,b=C);return Se&&Ar(y,x),R}for(D=r(y,D);!C.done;x++,C=g.next())C=p(D,y,x,C.value,j),C!==null&&(e&&C.alternate!==null&&D.delete(C.key===null?x:C.key),w=i(C,w,x),b===null?R=C:b.sibling=C,b=C);return e&&D.forEach(function(P){return t(y,P)}),Se&&Ar(y,x),R}function S(y,w,g,j){if(typeof g=="object"&&g!==null&&g.type===gs&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case qi:e:{for(var R=g.key,b=w;b!==null;){if(b.key===R){if(R=g.type,R===gs){if(b.tag===7){n(y,b.sibling),w=s(b,g.props.children),w.return=y,y=w;break e}}else if(b.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Hn&&Ap(R)===b.type){n(y,b.sibling),w=s(b,g.props),w.ref=vo(y,b,g),w.return=y,y=w;break e}n(y,b);break}else t(y,b);b=b.sibling}g.type===gs?(w=Vr(g.props.children,y.mode,j,g.key),w.return=y,y=w):(j=Ra(g.type,g.key,g.props,null,y.mode,j),j.ref=vo(y,w,g),j.return=y,y=j)}return a(y);case ms:e:{for(b=g.key;w!==null;){if(w.key===b)if(w.tag===4&&w.stateNode.containerInfo===g.containerInfo&&w.stateNode.implementation===g.implementation){n(y,w.sibling),w=s(w,g.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else t(y,w);w=w.sibling}w=Uc(g,y.mode,j),w.return=y,y=w}return a(y);case Hn:return b=g._init,S(y,w,b(g._payload),j)}if(Eo(g))return m(y,w,g,j);if(po(g))return v(y,w,g,j);sa(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,w!==null&&w.tag===6?(n(y,w.sibling),w=s(w,g),w.return=y,y=w):(n(y,w),w=zc(g,y.mode,j),w.return=y,y=w),a(y)):n(y,w)}return S}var Us=Px(!0),Tx=Px(!1),Za=br(null),el=null,Ss=null,jh=null;function Nh(){jh=Ss=el=null}function Sh(e){var t=Za.current;Ne(Za),e._currentValue=t}function Yu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){el=e,jh=Ss=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gt=!0),e.firstContext=null)}function Vt(e){var t=e._currentValue;if(jh!==e)if(e={context:e,memoizedValue:t,next:null},Ss===null){if(el===null)throw Error(q(308));Ss=e,el.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var Ir=null;function kh(e){Ir===null?Ir=[e]:Ir.push(e)}function Ax(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,kh(t)):(n.next=s.next,s.next=n),t.interleaved=n,Mn(e,r)}function Mn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Gn=!1;function Ch(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ar(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Mn(e,n)}return s=r.interleaved,s===null?(t.next=t,kh(r)):(t.next=s.next,s.next=t),r.interleaved=t,Mn(e,n)}function Ca(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dh(e,n)}}function Dp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function tl(e,t,n,r){var s=e.updateQueue;Gn=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?i=h:a.next=h,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=c))}if(i!==null){var u=s.baseState;a=0,d=h=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,v=l;switch(f=t,p=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){u=m.call(p,u,f);break e}u=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,f=typeof m=="function"?m.call(p,u,f):m,f==null)break e;u=Pe({},u,f);break e;case 2:Gn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=p,c=u):d=d.next=p,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=u),s.baseState=c,s.firstBaseUpdate=h,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Xr|=a,e.lanes=a,e.memoizedState=u}}function Rp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var ki={},mn=br(ki),ii=br(ki),ai=br(ki);function Fr(e){if(e===ki)throw Error(q(174));return e}function Eh(e,t){switch(be(ai,t),be(ii,e),be(mn,ki),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Au(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Au(t,e)}Ne(mn),be(mn,t)}function Vs(){Ne(mn),Ne(ii),Ne(ai)}function Rx(e){Fr(ai.current);var t=Fr(mn.current),n=Au(t,e.type);t!==n&&(be(ii,e),be(mn,n))}function Ph(e){ii.current===e&&(Ne(mn),Ne(ii))}var ke=br(0);function nl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oc=[];function Th(){for(var e=0;e<Oc.length;e++)Oc[e]._workInProgressVersionPrimary=null;Oc.length=0}var Ea=In.ReactCurrentDispatcher,Lc=In.ReactCurrentBatchConfig,Kr=0,Ee=null,$e=null,Ue=null,rl=!1,$o=!1,li=0,lN=0;function Ye(){throw Error(q(321))}function Ah(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sn(e[n],t[n]))return!1;return!0}function Dh(e,t,n,r,s,i){if(Kr=i,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ea.current=e===null||e.memoizedState===null?hN:fN,e=n(r,s),$o){i=0;do{if($o=!1,li=0,25<=i)throw Error(q(301));i+=1,Ue=$e=null,t.updateQueue=null,Ea.current=pN,e=n(r,s)}while($o)}if(Ea.current=sl,t=$e!==null&&$e.next!==null,Kr=0,Ue=$e=Ee=null,rl=!1,t)throw Error(q(300));return e}function Rh(){var e=li!==0;return li=0,e}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Ee.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function Wt(){if($e===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=Ue===null?Ee.memoizedState:Ue.next;if(t!==null)Ue=t,$e=e;else{if(e===null)throw Error(q(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Ue===null?Ee.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function ci(e,t){return typeof t=="function"?t(e):t}function Ic(e){var t=Wt(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=$e,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,h=i;do{var d=h.lane;if((Kr&d)===d)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var u={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=u,a=r):c=c.next=u,Ee.lanes|=d,Xr|=d}h=h.next}while(h!==null&&h!==i);c===null?a=r:c.next=l,sn(r,t.memoizedState)||(gt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ee.lanes|=i,Xr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fc(e){var t=Wt(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);sn(i,t.memoizedState)||(gt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function _x(){}function Mx(e,t){var n=Ee,r=Wt(),s=t(),i=!sn(r.memoizedState,s);if(i&&(r.memoizedState=s,gt=!0),r=r.queue,_h(Ix.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,ui(9,Lx.bind(null,n,r,s,t),void 0,null),Ve===null)throw Error(q(349));Kr&30||Ox(n,t,s)}return s}function Ox(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Lx(e,t,n,r){t.value=n,t.getSnapshot=r,Fx(t)&&$x(e)}function Ix(e,t,n){return n(function(){Fx(t)&&$x(e)})}function Fx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sn(e,n)}catch{return!0}}function $x(e){var t=Mn(e,1);t!==null&&rn(t,e,1,-1)}function _p(e){var t=dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:e},t.queue=e,e=e.dispatch=dN.bind(null,Ee,e),[t.memoizedState,e]}function ui(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Bx(){return Wt().memoizedState}function Pa(e,t,n,r){var s=dn();Ee.flags|=e,s.memoizedState=ui(1|t,n,void 0,r===void 0?null:r)}function Ol(e,t,n,r){var s=Wt();r=r===void 0?null:r;var i=void 0;if($e!==null){var a=$e.memoizedState;if(i=a.destroy,r!==null&&Ah(r,a.deps)){s.memoizedState=ui(t,n,i,r);return}}Ee.flags|=e,s.memoizedState=ui(1|t,n,i,r)}function Mp(e,t){return Pa(8390656,8,e,t)}function _h(e,t){return Ol(2048,8,e,t)}function zx(e,t){return Ol(4,2,e,t)}function Ux(e,t){return Ol(4,4,e,t)}function Vx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wx(e,t,n){return n=n!=null?n.concat([e]):null,Ol(4,4,Vx.bind(null,t,e),n)}function Mh(){}function Hx(e,t){var n=Wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ah(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gx(e,t){var n=Wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ah(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qx(e,t,n){return Kr&21?(sn(n,t)||(n=J0(),Ee.lanes|=n,Xr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=n)}function cN(e,t){var n=xe;xe=n!==0&&4>n?n:4,e(!0);var r=Lc.transition;Lc.transition={};try{e(!1),t()}finally{xe=n,Lc.transition=r}}function Kx(){return Wt().memoizedState}function uN(e,t,n){var r=cr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xx(e))Yx(t,n);else if(n=Ax(e,t,n,r),n!==null){var s=dt();rn(n,e,r,s),Qx(n,t,r)}}function dN(e,t,n){var r=cr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xx(e))Yx(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,sn(l,a)){var c=t.interleaved;c===null?(s.next=s,kh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Ax(e,t,s,r),n!==null&&(s=dt(),rn(n,e,r,s),Qx(n,t,r))}}function Xx(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function Yx(e,t){$o=rl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dh(e,n)}}var sl={readContext:Vt,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useInsertionEffect:Ye,useLayoutEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useMutableSource:Ye,useSyncExternalStore:Ye,useId:Ye,unstable_isNewReconciler:!1},hN={readContext:Vt,useCallback:function(e,t){return dn().memoizedState=[e,t===void 0?null:t],e},useContext:Vt,useEffect:Mp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Pa(4194308,4,Vx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=dn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=dn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=uN.bind(null,Ee,e),[r.memoizedState,e]},useRef:function(e){var t=dn();return e={current:e},t.memoizedState=e},useState:_p,useDebugValue:Mh,useDeferredValue:function(e){return dn().memoizedState=e},useTransition:function(){var e=_p(!1),t=e[0];return e=cN.bind(null,e[1]),dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ee,s=dn();if(Se){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),Ve===null)throw Error(q(349));Kr&30||Ox(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Mp(Ix.bind(null,r,i,e),[e]),r.flags|=2048,ui(9,Lx.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=dn(),t=Ve.identifierPrefix;if(Se){var n=Cn,r=kn;n=(r&~(1<<32-nn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=li++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=lN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fN={readContext:Vt,useCallback:Hx,useContext:Vt,useEffect:_h,useImperativeHandle:Wx,useInsertionEffect:zx,useLayoutEffect:Ux,useMemo:Gx,useReducer:Ic,useRef:Bx,useState:function(){return Ic(ci)},useDebugValue:Mh,useDeferredValue:function(e){var t=Wt();return qx(t,$e.memoizedState,e)},useTransition:function(){var e=Ic(ci)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:_x,useSyncExternalStore:Mx,useId:Kx,unstable_isNewReconciler:!1},pN={readContext:Vt,useCallback:Hx,useContext:Vt,useEffect:_h,useImperativeHandle:Wx,useInsertionEffect:zx,useLayoutEffect:Ux,useMemo:Gx,useReducer:Fc,useRef:Bx,useState:function(){return Fc(ci)},useDebugValue:Mh,useDeferredValue:function(e){var t=Wt();return $e===null?t.memoizedState=e:qx(t,$e.memoizedState,e)},useTransition:function(){var e=Fc(ci)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:_x,useSyncExternalStore:Mx,useId:Kx,unstable_isNewReconciler:!1};function Zt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ll={isMounted:function(e){return(e=e._reactInternals)?rs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dt(),s=cr(e),i=Pn(r,s);i.payload=t,n!=null&&(i.callback=n),t=ar(e,i,s),t!==null&&(rn(t,e,s,r),Ca(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dt(),s=cr(e),i=Pn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ar(e,i,s),t!==null&&(rn(t,e,s,r),Ca(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dt(),r=cr(e),s=Pn(n,r);s.tag=2,t!=null&&(s.callback=t),t=ar(e,s,r),t!==null&&(rn(t,e,r,n),Ca(t,e,r))}};function Op(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!ni(n,r)||!ni(s,i):!0}function Jx(e,t,n){var r=!1,s=pr,i=t.contextType;return typeof i=="object"&&i!==null?i=Vt(i):(s=vt(t)?Gr:ot.current,r=t.contextTypes,i=(r=r!=null)?Bs(e,s):pr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ll,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Lp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ll.enqueueReplaceState(t,t.state,null)}function Ju(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ch(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Vt(i):(i=vt(t)?Gr:ot.current,s.context=Bs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Qu(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ll.enqueueReplaceState(s,s.state,null),tl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ws(e,t){try{var n="",r=t;do n+=Uw(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function $c(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Zu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var mN=typeof WeakMap=="function"?WeakMap:Map;function Zx(e,t,n){n=Pn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){il||(il=!0,cd=r),Zu(e,t)},n}function ey(e,t,n){n=Pn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Zu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Zu(e,t),typeof r!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Ip(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new mN;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=TN.bind(null,e,t,n),t.then(e,e))}function Fp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $p(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pn(-1,1),t.tag=2,ar(n,t,1))),n.lanes|=1),e)}var gN=In.ReactCurrentOwner,gt=!1;function ct(e,t,n,r){t.child=e===null?Tx(t,null,n,r):Us(t,e.child,n,r)}function Bp(e,t,n,r,s){n=n.render;var i=t.ref;return Is(t,s),r=Dh(e,t,n,r,i,s),n=Rh(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,On(e,t,s)):(Se&&n&&vh(t),t.flags|=1,ct(e,t,r,s),t.child)}function zp(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Uh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ty(e,t,i,r,s)):(e=Ra(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:ni,n(a,r)&&e.ref===t.ref)return On(e,t,s)}return t.flags|=1,e=ur(i,r),e.ref=t.ref,e.return=t,t.child=e}function ty(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ni(i,r)&&e.ref===t.ref)if(gt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(gt=!0);else return t.lanes=e.lanes,On(e,t,s)}return ed(e,t,n,r,s)}function ny(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(Cs,Et),Et|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,be(Cs,Et),Et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,be(Cs,Et),Et|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,be(Cs,Et),Et|=r;return ct(e,t,s,n),t.child}function ry(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ed(e,t,n,r,s){var i=vt(n)?Gr:ot.current;return i=Bs(t,i),Is(t,s),n=Dh(e,t,n,r,i,s),r=Rh(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,On(e,t,s)):(Se&&r&&vh(t),t.flags|=1,ct(e,t,n,s),t.child)}function Up(e,t,n,r,s){if(vt(n)){var i=!0;Ya(t)}else i=!1;if(Is(t,s),t.stateNode===null)Ta(e,t),Jx(t,n,r),Ju(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=Vt(h):(h=vt(n)?Gr:ot.current,h=Bs(t,h));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==h)&&Lp(t,a,r,h),Gn=!1;var f=t.memoizedState;a.state=f,tl(t,r,a,s),c=t.memoizedState,l!==r||f!==c||yt.current||Gn?(typeof d=="function"&&(Qu(t,n,d,r),c=t.memoizedState),(l=Gn||Op(t,n,l,r,f,c,h))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Dx(e,t),l=t.memoizedProps,h=t.type===t.elementType?l:Zt(t.type,l),a.props=h,u=t.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Vt(c):(c=vt(n)?Gr:ot.current,c=Bs(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==u||f!==c)&&Lp(t,a,r,c),Gn=!1,f=t.memoizedState,a.state=f,tl(t,r,a,s);var m=t.memoizedState;l!==u||f!==m||yt.current||Gn?(typeof p=="function"&&(Qu(t,n,p,r),m=t.memoizedState),(h=Gn||Op(t,n,h,r,f,m,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return td(e,t,n,r,i,s)}function td(e,t,n,r,s,i){ry(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Ep(t,n,!1),On(e,t,i);r=t.stateNode,gN.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Us(t,e.child,null,i),t.child=Us(t,null,l,i)):ct(e,t,l,i),t.memoizedState=r.state,s&&Ep(t,n,!0),t.child}function sy(e){var t=e.stateNode;t.pendingContext?Cp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cp(e,t.context,!1),Eh(e,t.containerInfo)}function Vp(e,t,n,r,s){return zs(),wh(s),t.flags|=256,ct(e,t,n,r),t.child}var nd={dehydrated:null,treeContext:null,retryLane:0};function rd(e){return{baseLanes:e,cachePool:null,transitions:null}}function oy(e,t,n){var r=t.pendingProps,s=ke.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),be(ke,s&1),e===null)return Xu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=$l(a,r,0,null),e=Vr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=rd(n),t.memoizedState=nd,e):Oh(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return xN(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=ur(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ur(l,i):(i=Vr(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?rd(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=nd,r}return i=e.child,e=i.sibling,r=ur(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Oh(e,t){return t=$l({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oa(e,t,n,r){return r!==null&&wh(r),Us(t,e.child,null,n),e=Oh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xN(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=$c(Error(q(422))),oa(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=$l({mode:"visible",children:r.children},s,0,null),i=Vr(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Us(t,e.child,null,a),t.child.memoizedState=rd(a),t.memoizedState=nd,i);if(!(t.mode&1))return oa(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(q(419)),r=$c(i,r,void 0),oa(e,t,a,r)}if(l=(a&e.childLanes)!==0,gt||l){if(r=Ve,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Mn(e,s),rn(r,e,s,-1))}return zh(),r=$c(Error(q(421))),oa(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=AN.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Tt=ir(s.nextSibling),At=t,Se=!0,tn=null,e!==null&&(Ft[$t++]=kn,Ft[$t++]=Cn,Ft[$t++]=qr,kn=e.id,Cn=e.overflow,qr=t),t=Oh(t,r.children),t.flags|=4096,t)}function Wp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Yu(e.return,t,n)}function Bc(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function iy(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(ct(e,t,r.children,n),r=ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wp(e,n,t);else if(e.tag===19)Wp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(be(ke,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&nl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Bc(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&nl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Bc(t,!0,n,null,i);break;case"together":Bc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ta(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function On(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=ur(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ur(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function yN(e,t,n){switch(t.tag){case 3:sy(t),zs();break;case 5:Rx(t);break;case 1:vt(t.type)&&Ya(t);break;case 4:Eh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;be(Za,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(be(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?oy(e,t,n):(be(ke,ke.current&1),e=On(e,t,n),e!==null?e.sibling:null);be(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return iy(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),be(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,ny(e,t,n)}return On(e,t,n)}var ay,sd,ly,cy;ay=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sd=function(){};ly=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Fr(mn.current);var i=null;switch(n){case"input":s=Cu(e,s),r=Cu(e,r),i=[];break;case"select":s=Pe({},s,{value:void 0}),r=Pe({},r,{value:void 0}),i=[];break;case"textarea":s=Tu(e,s),r=Tu(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ka)}Du(n,r);var a;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var l=s[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Xo.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var c=r[h];if(l=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Xo.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&je("scroll",e),i||l===c||(i=[])):(i=i||[]).push(h,c))}n&&(i=i||[]).push("style",n);var h=i;(t.updateQueue=h)&&(t.flags|=4)}};cy=function(e,t,n,r){n!==r&&(t.flags|=4)};function bo(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vN(e,t,n){var r=t.pendingProps;switch(bh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return vt(t.type)&&Xa(),Qe(t),null;case 3:return r=t.stateNode,Vs(),Ne(yt),Ne(ot),Th(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ra(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tn!==null&&(hd(tn),tn=null))),sd(e,t),Qe(t),null;case 5:Ph(t);var s=Fr(ai.current);if(n=t.type,e!==null&&t.stateNode!=null)ly(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(q(166));return Qe(t),null}if(e=Fr(mn.current),ra(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[fn]=t,r[oi]=i,e=(t.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(s=0;s<To.length;s++)je(To[s],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":Zf(r,i),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},je("invalid",r);break;case"textarea":tp(r,i),je("invalid",r)}Du(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&na(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&na(r.textContent,l,e),s=["children",""+l]):Xo.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&je("scroll",r)}switch(n){case"input":Ki(r),ep(r,i,!0);break;case"textarea":Ki(r),np(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ka)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=I0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[fn]=t,e[oi]=r,ay(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ru(n,r),n){case"dialog":je("cancel",e),je("close",e),s=r;break;case"iframe":case"object":case"embed":je("load",e),s=r;break;case"video":case"audio":for(s=0;s<To.length;s++)je(To[s],e);s=r;break;case"source":je("error",e),s=r;break;case"img":case"image":case"link":je("error",e),je("load",e),s=r;break;case"details":je("toggle",e),s=r;break;case"input":Zf(e,r),s=Cu(e,r),je("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Pe({},r,{value:void 0}),je("invalid",e);break;case"textarea":tp(e,r),s=Tu(e,r),je("invalid",e);break;default:s=r}Du(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?B0(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&F0(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Yo(e,c):typeof c=="number"&&Yo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&je("scroll",e):c!=null&&oh(e,i,c,a))}switch(n){case"input":Ki(e),ep(e,r,!1);break;case"textarea":Ki(e),np(e);break;case"option":r.value!=null&&e.setAttribute("value",""+fr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?_s(e,!!r.multiple,i,!1):r.defaultValue!=null&&_s(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ka)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)cy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));if(n=Fr(ai.current),Fr(mn.current),ra(t)){if(r=t.stateNode,n=t.memoizedProps,r[fn]=t,(i=r.nodeValue!==n)&&(e=At,e!==null))switch(e.tag){case 3:na(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&na(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fn]=t,t.stateNode=r}return Qe(t),null;case 13:if(Ne(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&Tt!==null&&t.mode&1&&!(t.flags&128))Ex(),zs(),t.flags|=98560,i=!1;else if(i=ra(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(q(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[fn]=t}else zs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qe(t),i=!1}else tn!==null&&(hd(tn),tn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?Be===0&&(Be=3):zh())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return Vs(),sd(e,t),e===null&&ri(t.stateNode.containerInfo),Qe(t),null;case 10:return Sh(t.type._context),Qe(t),null;case 17:return vt(t.type)&&Xa(),Qe(t),null;case 19:if(Ne(ke),i=t.memoizedState,i===null)return Qe(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)bo(i,!1);else{if(Be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=nl(e),a!==null){for(t.flags|=128,bo(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return be(ke,ke.current&1|2),t.child}e=e.sibling}i.tail!==null&&Re()>Hs&&(t.flags|=128,r=!0,bo(i,!1),t.lanes=4194304)}else{if(!r)if(e=nl(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),bo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Se)return Qe(t),null}else 2*Re()-i.renderingStartTime>Hs&&n!==1073741824&&(t.flags|=128,r=!0,bo(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Re(),t.sibling=null,n=ke.current,be(ke,r?n&1|2:n&1),t):(Qe(t),null);case 22:case 23:return Bh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Et&1073741824&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function bN(e,t){switch(bh(t),t.tag){case 1:return vt(t.type)&&Xa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vs(),Ne(yt),Ne(ot),Th(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ph(t),null;case 13:if(Ne(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));zs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(ke),null;case 4:return Vs(),null;case 10:return Sh(t.type._context),null;case 22:case 23:return Bh(),null;case 24:return null;default:return null}}var ia=!1,tt=!1,wN=typeof WeakSet=="function"?WeakSet:Set,J=null;function ks(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){De(e,t,r)}else n.current=null}function od(e,t,n){try{n()}catch(r){De(e,t,r)}}var Hp=!1;function jN(e,t){if(Uu=Ha,e=px(),yh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,d=0,u=e,f=null;t:for(;;){for(var p;u!==n||s!==0&&u.nodeType!==3||(l=a+s),u!==i||r!==0&&u.nodeType!==3||(c=a+r),u.nodeType===3&&(a+=u.nodeValue.length),(p=u.firstChild)!==null;)f=u,u=p;for(;;){if(u===e)break t;if(f===n&&++h===s&&(l=a),f===i&&++d===r&&(c=a),(p=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vu={focusedElem:e,selectionRange:n},Ha=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,S=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:Zt(t.type,v),S);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(j){De(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return m=Hp,Hp=!1,m}function Bo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&od(t,n,i)}s=s.next}while(s!==r)}}function Il(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function id(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function uy(e){var t=e.alternate;t!==null&&(e.alternate=null,uy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fn],delete t[oi],delete t[Gu],delete t[sN],delete t[oN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dy(e){return e.tag===5||e.tag===3||e.tag===4}function Gp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ad(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ka));else if(r!==4&&(e=e.child,e!==null))for(ad(e,t,n),e=e.sibling;e!==null;)ad(e,t,n),e=e.sibling}function ld(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ld(e,t,n),e=e.sibling;e!==null;)ld(e,t,n),e=e.sibling}var We=null,en=!1;function Un(e,t,n){for(n=n.child;n!==null;)hy(e,t,n),n=n.sibling}function hy(e,t,n){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Tl,n)}catch{}switch(n.tag){case 5:tt||ks(n,t);case 6:var r=We,s=en;We=null,Un(e,t,n),We=r,en=s,We!==null&&(en?(e=We,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):We.removeChild(n.stateNode));break;case 18:We!==null&&(en?(e=We,n=n.stateNode,e.nodeType===8?_c(e.parentNode,n):e.nodeType===1&&_c(e,n),ei(e)):_c(We,n.stateNode));break;case 4:r=We,s=en,We=n.stateNode.containerInfo,en=!0,Un(e,t,n),We=r,en=s;break;case 0:case 11:case 14:case 15:if(!tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&od(n,t,a),s=s.next}while(s!==r)}Un(e,t,n);break;case 1:if(!tt&&(ks(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){De(n,t,l)}Un(e,t,n);break;case 21:Un(e,t,n);break;case 22:n.mode&1?(tt=(r=tt)||n.memoizedState!==null,Un(e,t,n),tt=r):Un(e,t,n);break;default:Un(e,t,n)}}function qp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new wN),t.forEach(function(r){var s=DN.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Xt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:We=l.stateNode,en=!1;break e;case 3:We=l.stateNode.containerInfo,en=!0;break e;case 4:We=l.stateNode.containerInfo,en=!0;break e}l=l.return}if(We===null)throw Error(q(160));hy(i,a,s),We=null,en=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(h){De(s,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fy(t,e),t=t.sibling}function fy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xt(t,e),cn(e),r&4){try{Bo(3,e,e.return),Il(3,e)}catch(v){De(e,e.return,v)}try{Bo(5,e,e.return)}catch(v){De(e,e.return,v)}}break;case 1:Xt(t,e),cn(e),r&512&&n!==null&&ks(n,n.return);break;case 5:if(Xt(t,e),cn(e),r&512&&n!==null&&ks(n,n.return),e.flags&32){var s=e.stateNode;try{Yo(s,"")}catch(v){De(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&O0(s,i),Ru(l,a);var h=Ru(l,i);for(a=0;a<c.length;a+=2){var d=c[a],u=c[a+1];d==="style"?B0(s,u):d==="dangerouslySetInnerHTML"?F0(s,u):d==="children"?Yo(s,u):oh(s,d,u,h)}switch(l){case"input":Eu(s,i);break;case"textarea":L0(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?_s(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?_s(s,!!i.multiple,i.defaultValue,!0):_s(s,!!i.multiple,i.multiple?[]:"",!1))}s[oi]=i}catch(v){De(e,e.return,v)}}break;case 6:if(Xt(t,e),cn(e),r&4){if(e.stateNode===null)throw Error(q(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){De(e,e.return,v)}}break;case 3:if(Xt(t,e),cn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ei(t.containerInfo)}catch(v){De(e,e.return,v)}break;case 4:Xt(t,e),cn(e);break;case 13:Xt(t,e),cn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Fh=Re())),r&4&&qp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(tt=(h=tt)||d,Xt(t,e),tt=h):Xt(t,e),cn(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!d&&e.mode&1)for(J=e,d=e.child;d!==null;){for(u=J=d;J!==null;){switch(f=J,p=f.child,f.tag){case 0:case 11:case 14:case 15:Bo(4,f,f.return);break;case 1:ks(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){De(r,n,v)}}break;case 5:ks(f,f.return);break;case 22:if(f.memoizedState!==null){Xp(u);continue}}p!==null?(p.return=f,J=p):Xp(u)}d=d.sibling}e:for(d=null,u=e;;){if(u.tag===5){if(d===null){d=u;try{s=u.stateNode,h?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=u.stateNode,c=u.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=$0("display",a))}catch(v){De(e,e.return,v)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=h?"":u.memoizedProps}catch(v){De(e,e.return,v)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Xt(t,e),cn(e),r&4&&qp(e);break;case 21:break;default:Xt(t,e),cn(e)}}function cn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dy(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Yo(s,""),r.flags&=-33);var i=Gp(e);ld(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Gp(e);ad(e,l,a);break;default:throw Error(q(161))}}catch(c){De(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function NN(e,t,n){J=e,py(e)}function py(e,t,n){for(var r=(e.mode&1)!==0;J!==null;){var s=J,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||ia;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||tt;l=ia;var h=tt;if(ia=a,(tt=c)&&!h)for(J=s;J!==null;)a=J,c=a.child,a.tag===22&&a.memoizedState!==null?Yp(s):c!==null?(c.return=a,J=c):Yp(s);for(;i!==null;)J=i,py(i),i=i.sibling;J=s,ia=l,tt=h}Kp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,J=i):Kp(e)}}function Kp(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tt||Il(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!tt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Zt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Rp(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Rp(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&ei(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}tt||t.flags&512&&id(t)}catch(f){De(t,t.return,f)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function Xp(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function Yp(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Il(4,t)}catch(c){De(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){De(t,s,c)}}var i=t.return;try{id(t)}catch(c){De(t,i,c)}break;case 5:var a=t.return;try{id(t)}catch(c){De(t,a,c)}}}catch(c){De(t,t.return,c)}if(t===e){J=null;break}var l=t.sibling;if(l!==null){l.return=t.return,J=l;break}J=t.return}}var SN=Math.ceil,ol=In.ReactCurrentDispatcher,Lh=In.ReactCurrentOwner,Ut=In.ReactCurrentBatchConfig,fe=0,Ve=null,Le=null,Ge=0,Et=0,Cs=br(0),Be=0,di=null,Xr=0,Fl=0,Ih=0,zo=null,pt=null,Fh=0,Hs=1/0,Nn=null,il=!1,cd=null,lr=null,aa=!1,Zn=null,al=0,Uo=0,ud=null,Aa=-1,Da=0;function dt(){return fe&6?Re():Aa!==-1?Aa:Aa=Re()}function cr(e){return e.mode&1?fe&2&&Ge!==0?Ge&-Ge:aN.transition!==null?(Da===0&&(Da=J0()),Da):(e=xe,e!==0||(e=window.event,e=e===void 0?16:ox(e.type)),e):1}function rn(e,t,n,r){if(50<Uo)throw Uo=0,ud=null,Error(q(185));ji(e,n,r),(!(fe&2)||e!==Ve)&&(e===Ve&&(!(fe&2)&&(Fl|=n),Be===4&&Xn(e,Ge)),bt(e,r),n===1&&fe===0&&!(t.mode&1)&&(Hs=Re()+500,Ml&&wr()))}function bt(e,t){var n=e.callbackNode;aj(e,t);var r=Wa(e,e===Ve?Ge:0);if(r===0)n!==null&&op(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&op(n),t===1)e.tag===0?iN(Qp.bind(null,e)):Sx(Qp.bind(null,e)),nN(function(){!(fe&6)&&wr()}),n=null;else{switch(Z0(r)){case 1:n=uh;break;case 4:n=Y0;break;case 16:n=Va;break;case 536870912:n=Q0;break;default:n=Va}n=jy(n,my.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function my(e,t){if(Aa=-1,Da=0,fe&6)throw Error(q(327));var n=e.callbackNode;if(Fs()&&e.callbackNode!==n)return null;var r=Wa(e,e===Ve?Ge:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ll(e,r);else{t=r;var s=fe;fe|=2;var i=xy();(Ve!==e||Ge!==t)&&(Nn=null,Hs=Re()+500,Ur(e,t));do try{EN();break}catch(l){gy(e,l)}while(!0);Nh(),ol.current=i,fe=s,Le!==null?t=0:(Ve=null,Ge=0,t=Be)}if(t!==0){if(t===2&&(s=Iu(e),s!==0&&(r=s,t=dd(e,s))),t===1)throw n=di,Ur(e,0),Xn(e,r),bt(e,Re()),n;if(t===6)Xn(e,r);else{if(s=e.current.alternate,!(r&30)&&!kN(s)&&(t=ll(e,r),t===2&&(i=Iu(e),i!==0&&(r=i,t=dd(e,i))),t===1))throw n=di,Ur(e,0),Xn(e,r),bt(e,Re()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(q(345));case 2:Dr(e,pt,Nn);break;case 3:if(Xn(e,r),(r&130023424)===r&&(t=Fh+500-Re(),10<t)){if(Wa(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){dt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Hu(Dr.bind(null,e,pt,Nn),t);break}Dr(e,pt,Nn);break;case 4:if(Xn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-nn(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*SN(r/1960))-r,10<r){e.timeoutHandle=Hu(Dr.bind(null,e,pt,Nn),r);break}Dr(e,pt,Nn);break;case 5:Dr(e,pt,Nn);break;default:throw Error(q(329))}}}return bt(e,Re()),e.callbackNode===n?my.bind(null,e):null}function dd(e,t){var n=zo;return e.current.memoizedState.isDehydrated&&(Ur(e,t).flags|=256),e=ll(e,t),e!==2&&(t=pt,pt=n,t!==null&&hd(t)),e}function hd(e){pt===null?pt=e:pt.push.apply(pt,e)}function kN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!sn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xn(e,t){for(t&=~Ih,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-nn(t),r=1<<n;e[n]=-1,t&=~r}}function Qp(e){if(fe&6)throw Error(q(327));Fs();var t=Wa(e,0);if(!(t&1))return bt(e,Re()),null;var n=ll(e,t);if(e.tag!==0&&n===2){var r=Iu(e);r!==0&&(t=r,n=dd(e,r))}if(n===1)throw n=di,Ur(e,0),Xn(e,t),bt(e,Re()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dr(e,pt,Nn),bt(e,Re()),null}function $h(e,t){var n=fe;fe|=1;try{return e(t)}finally{fe=n,fe===0&&(Hs=Re()+500,Ml&&wr())}}function Yr(e){Zn!==null&&Zn.tag===0&&!(fe&6)&&Fs();var t=fe;fe|=1;var n=Ut.transition,r=xe;try{if(Ut.transition=null,xe=1,e)return e()}finally{xe=r,Ut.transition=n,fe=t,!(fe&6)&&wr()}}function Bh(){Et=Cs.current,Ne(Cs)}function Ur(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,tN(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(bh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xa();break;case 3:Vs(),Ne(yt),Ne(ot),Th();break;case 5:Ph(r);break;case 4:Vs();break;case 13:Ne(ke);break;case 19:Ne(ke);break;case 10:Sh(r.type._context);break;case 22:case 23:Bh()}n=n.return}if(Ve=e,Le=e=ur(e.current,null),Ge=Et=t,Be=0,di=null,Ih=Fl=Xr=0,pt=zo=null,Ir!==null){for(t=0;t<Ir.length;t++)if(n=Ir[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Ir=null}return e}function gy(e,t){do{var n=Le;try{if(Nh(),Ea.current=sl,rl){for(var r=Ee.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}rl=!1}if(Kr=0,Ue=$e=Ee=null,$o=!1,li=0,Lh.current=null,n===null||n.return===null){Be=1,di=t,Le=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=Ge,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,d=l,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Fp(a);if(p!==null){p.flags&=-257,$p(p,a,l,i,t),p.mode&1&&Ip(i,h,t),t=p,c=h;var m=t.updateQueue;if(m===null){var v=new Set;v.add(c),t.updateQueue=v}else m.add(c);break e}else{if(!(t&1)){Ip(i,h,t),zh();break e}c=Error(q(426))}}else if(Se&&l.mode&1){var S=Fp(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),$p(S,a,l,i,t),wh(Ws(c,l));break e}}i=c=Ws(c,l),Be!==4&&(Be=2),zo===null?zo=[i]:zo.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=Zx(i,c,t);Dp(i,y);break e;case 1:l=c;var w=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(lr===null||!lr.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=ey(i,l,t);Dp(i,j);break e}}i=i.return}while(i!==null)}vy(n)}catch(R){t=R,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function xy(){var e=ol.current;return ol.current=sl,e===null?sl:e}function zh(){(Be===0||Be===3||Be===2)&&(Be=4),Ve===null||!(Xr&268435455)&&!(Fl&268435455)||Xn(Ve,Ge)}function ll(e,t){var n=fe;fe|=2;var r=xy();(Ve!==e||Ge!==t)&&(Nn=null,Ur(e,t));do try{CN();break}catch(s){gy(e,s)}while(!0);if(Nh(),fe=n,ol.current=r,Le!==null)throw Error(q(261));return Ve=null,Ge=0,Be}function CN(){for(;Le!==null;)yy(Le)}function EN(){for(;Le!==null&&!Jw();)yy(Le)}function yy(e){var t=wy(e.alternate,e,Et);e.memoizedProps=e.pendingProps,t===null?vy(e):Le=t,Lh.current=null}function vy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=bN(n,t),n!==null){n.flags&=32767,Le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Be=6,Le=null;return}}else if(n=vN(n,t,Et),n!==null){Le=n;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);Be===0&&(Be=5)}function Dr(e,t,n){var r=xe,s=Ut.transition;try{Ut.transition=null,xe=1,PN(e,t,n,r)}finally{Ut.transition=s,xe=r}return null}function PN(e,t,n,r){do Fs();while(Zn!==null);if(fe&6)throw Error(q(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(lj(e,i),e===Ve&&(Le=Ve=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||aa||(aa=!0,jy(Va,function(){return Fs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ut.transition,Ut.transition=null;var a=xe;xe=1;var l=fe;fe|=4,Lh.current=null,jN(e,n),fy(n,e),Kj(Vu),Ha=!!Uu,Vu=Uu=null,e.current=n,NN(n),Zw(),fe=l,xe=a,Ut.transition=i}else e.current=n;if(aa&&(aa=!1,Zn=e,al=s),i=e.pendingLanes,i===0&&(lr=null),nj(n.stateNode),bt(e,Re()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(il)throw il=!1,e=cd,cd=null,e;return al&1&&e.tag!==0&&Fs(),i=e.pendingLanes,i&1?e===ud?Uo++:(Uo=0,ud=e):Uo=0,wr(),null}function Fs(){if(Zn!==null){var e=Z0(al),t=Ut.transition,n=xe;try{if(Ut.transition=null,xe=16>e?16:e,Zn===null)var r=!1;else{if(e=Zn,Zn=null,al=0,fe&6)throw Error(q(331));var s=fe;for(fe|=4,J=e.current;J!==null;){var i=J,a=i.child;if(J.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(J=h;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:Bo(8,d,i)}var u=d.child;if(u!==null)u.return=d,J=u;else for(;J!==null;){d=J;var f=d.sibling,p=d.return;if(uy(d),d===h){J=null;break}if(f!==null){f.return=p,J=f;break}J=p}}}var m=i.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}J=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,J=a;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bo(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,J=y;break e}J=i.return}}var w=e.current;for(J=w;J!==null;){a=J;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,J=g;else e:for(a=w;J!==null;){if(l=J,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Il(9,l)}}catch(R){De(l,l.return,R)}if(l===a){J=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,J=j;break e}J=l.return}}if(fe=s,wr(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Tl,e)}catch{}r=!0}return r}finally{xe=n,Ut.transition=t}}return!1}function Jp(e,t,n){t=Ws(n,t),t=Zx(e,t,1),e=ar(e,t,1),t=dt(),e!==null&&(ji(e,1,t),bt(e,t))}function De(e,t,n){if(e.tag===3)Jp(e,e,n);else for(;t!==null;){if(t.tag===3){Jp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(lr===null||!lr.has(r))){e=Ws(n,e),e=ey(t,e,1),t=ar(t,e,1),e=dt(),t!==null&&(ji(t,1,e),bt(t,e));break}}t=t.return}}function TN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&n,Ve===e&&(Ge&n)===n&&(Be===4||Be===3&&(Ge&130023424)===Ge&&500>Re()-Fh?Ur(e,0):Ih|=n),bt(e,t)}function by(e,t){t===0&&(e.mode&1?(t=Qi,Qi<<=1,!(Qi&130023424)&&(Qi=4194304)):t=1);var n=dt();e=Mn(e,t),e!==null&&(ji(e,t,n),bt(e,n))}function AN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),by(e,n)}function DN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(t),by(e,n)}var wy;wy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||yt.current)gt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return gt=!1,yN(e,t,n);gt=!!(e.flags&131072)}else gt=!1,Se&&t.flags&1048576&&kx(t,Ja,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ta(e,t),e=t.pendingProps;var s=Bs(t,ot.current);Is(t,n),s=Dh(null,t,r,e,s,n);var i=Rh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vt(r)?(i=!0,Ya(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ch(t),s.updater=Ll,t.stateNode=s,s._reactInternals=t,Ju(t,r,e,n),t=td(null,t,r,!0,i,n)):(t.tag=0,Se&&i&&vh(t),ct(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ta(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=_N(r),e=Zt(r,e),s){case 0:t=ed(null,t,r,e,n);break e;case 1:t=Up(null,t,r,e,n);break e;case 11:t=Bp(null,t,r,e,n);break e;case 14:t=zp(null,t,r,Zt(r.type,e),n);break e}throw Error(q(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Zt(r,s),ed(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Zt(r,s),Up(e,t,r,s,n);case 3:e:{if(sy(t),e===null)throw Error(q(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Dx(e,t),tl(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ws(Error(q(423)),t),t=Vp(e,t,r,n,s);break e}else if(r!==s){s=Ws(Error(q(424)),t),t=Vp(e,t,r,n,s);break e}else for(Tt=ir(t.stateNode.containerInfo.firstChild),At=t,Se=!0,tn=null,n=Tx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zs(),r===s){t=On(e,t,n);break e}ct(e,t,r,n)}t=t.child}return t;case 5:return Rx(t),e===null&&Xu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Wu(r,s)?a=null:i!==null&&Wu(r,i)&&(t.flags|=32),ry(e,t),ct(e,t,a,n),t.child;case 6:return e===null&&Xu(t),null;case 13:return oy(e,t,n);case 4:return Eh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Us(t,null,r,n):ct(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Zt(r,s),Bp(e,t,r,s,n);case 7:return ct(e,t,t.pendingProps,n),t.child;case 8:return ct(e,t,t.pendingProps.children,n),t.child;case 12:return ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,be(Za,r._currentValue),r._currentValue=a,i!==null)if(sn(i.value,a)){if(i.children===s.children&&!yt.current){t=On(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Pn(-1,n&-n),c.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?c.next=c:(c.next=d.next,d.next=c),h.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Yu(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(q(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Yu(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ct(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Is(t,n),s=Vt(s),r=r(s),t.flags|=1,ct(e,t,r,n),t.child;case 14:return r=t.type,s=Zt(r,t.pendingProps),s=Zt(r.type,s),zp(e,t,r,s,n);case 15:return ty(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Zt(r,s),Ta(e,t),t.tag=1,vt(r)?(e=!0,Ya(t)):e=!1,Is(t,n),Jx(t,r,s),Ju(t,r,s,n),td(null,t,r,!0,e,n);case 19:return iy(e,t,n);case 22:return ny(e,t,n)}throw Error(q(156,t.tag))};function jy(e,t){return X0(e,t)}function RN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,n,r){return new RN(e,t,n,r)}function Uh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _N(e){if(typeof e=="function")return Uh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ah)return 11;if(e===lh)return 14}return 2}function ur(e,t){var n=e.alternate;return n===null?(n=zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ra(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")Uh(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case gs:return Vr(n.children,s,i,t);case ih:a=8,s|=8;break;case ju:return e=zt(12,n,t,s|2),e.elementType=ju,e.lanes=i,e;case Nu:return e=zt(13,n,t,s),e.elementType=Nu,e.lanes=i,e;case Su:return e=zt(19,n,t,s),e.elementType=Su,e.lanes=i,e;case R0:return $l(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A0:a=10;break e;case D0:a=9;break e;case ah:a=11;break e;case lh:a=14;break e;case Hn:a=16,r=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=zt(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Vr(e,t,n,r){return e=zt(7,e,r,t),e.lanes=n,e}function $l(e,t,n,r){return e=zt(22,e,r,t),e.elementType=R0,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return e=zt(6,e,null,t),e.lanes=n,e}function Uc(e,t,n){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function MN(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jc(0),this.expirationTimes=jc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vh(e,t,n,r,s,i,a,l,c){return e=new MN(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=zt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ch(i),e}function ON(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ms,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ny(e){if(!e)return pr;e=e._reactInternals;e:{if(rs(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(vt(n))return Nx(e,n,t)}return t}function Sy(e,t,n,r,s,i,a,l,c){return e=Vh(n,r,!0,e,s,i,a,l,c),e.context=Ny(null),n=e.current,r=dt(),s=cr(n),i=Pn(r,s),i.callback=t??null,ar(n,i,s),e.current.lanes=s,ji(e,s,r),bt(e,r),e}function Bl(e,t,n,r){var s=t.current,i=dt(),a=cr(s);return n=Ny(n),t.context===null?t.context=n:t.pendingContext=n,t=Pn(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ar(s,t,a),e!==null&&(rn(e,s,a,i),Ca(e,s,a)),a}function cl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wh(e,t){Zp(e,t),(e=e.alternate)&&Zp(e,t)}function LN(){return null}var ky=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hh(e){this._internalRoot=e}zl.prototype.render=Hh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));Bl(e,t,null,null)};zl.prototype.unmount=Hh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yr(function(){Bl(null,e,null,null)}),t[_n]=null}};function zl(e){this._internalRoot=e}zl.prototype.unstable_scheduleHydration=function(e){if(e){var t=nx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Kn.length&&t!==0&&t<Kn[n].priority;n++);Kn.splice(n,0,e),n===0&&sx(e)}};function Gh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ul(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function em(){}function IN(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var h=cl(a);i.call(h)}}var a=Sy(t,r,e,0,null,!1,!1,"",em);return e._reactRootContainer=a,e[_n]=a.current,ri(e.nodeType===8?e.parentNode:e),Yr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var h=cl(c);l.call(h)}}var c=Vh(e,0,!1,null,null,!1,!1,"",em);return e._reactRootContainer=c,e[_n]=c.current,ri(e.nodeType===8?e.parentNode:e),Yr(function(){Bl(t,c,n,r)}),c}function Vl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=cl(a);l.call(c)}}Bl(t,a,e,s)}else a=IN(n,t,e,s,r);return cl(a)}ex=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Po(t.pendingLanes);n!==0&&(dh(t,n|1),bt(t,Re()),!(fe&6)&&(Hs=Re()+500,wr()))}break;case 13:Yr(function(){var r=Mn(e,1);if(r!==null){var s=dt();rn(r,e,1,s)}}),Wh(e,1)}};hh=function(e){if(e.tag===13){var t=Mn(e,134217728);if(t!==null){var n=dt();rn(t,e,134217728,n)}Wh(e,134217728)}};tx=function(e){if(e.tag===13){var t=cr(e),n=Mn(e,t);if(n!==null){var r=dt();rn(n,e,t,r)}Wh(e,t)}};nx=function(){return xe};rx=function(e,t){var n=xe;try{return xe=e,t()}finally{xe=n}};Mu=function(e,t,n){switch(t){case"input":if(Eu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=_l(r);if(!s)throw Error(q(90));M0(r),Eu(r,s)}}}break;case"textarea":L0(e,n);break;case"select":t=n.value,t!=null&&_s(e,!!n.multiple,t,!1)}};V0=$h;W0=Yr;var FN={usingClientEntryPoint:!1,Events:[Si,bs,_l,z0,U0,$h]},wo={findFiberByHostInstance:Lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$N={bundleType:wo.bundleType,version:wo.version,rendererPackageName:wo.rendererPackageName,rendererConfig:wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:In.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=q0(e),e===null?null:e.stateNode},findFiberByHostInstance:wo.findFiberByHostInstance||LN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var la=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!la.isDisabled&&la.supportsFiber)try{Tl=la.inject($N),pn=la}catch{}}_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FN;_t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gh(t))throw Error(q(200));return ON(e,t,null,n)};_t.createRoot=function(e,t){if(!Gh(e))throw Error(q(299));var n=!1,r="",s=ky;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Vh(e,1,!1,null,null,n,!1,r,s),e[_n]=t.current,ri(e.nodeType===8?e.parentNode:e),new Hh(t)};_t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=q0(t),e=e===null?null:e.stateNode,e};_t.flushSync=function(e){return Yr(e)};_t.hydrate=function(e,t,n){if(!Ul(t))throw Error(q(200));return Vl(null,e,t,!0,n)};_t.hydrateRoot=function(e,t,n){if(!Gh(e))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=ky;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Sy(t,null,e,1,n??null,s,!1,i,a),e[_n]=t.current,ri(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new zl(t)};_t.render=function(e,t,n){if(!Ul(t))throw Error(q(200));return Vl(null,e,t,!1,n)};_t.unmountComponentAtNode=function(e){if(!Ul(e))throw Error(q(40));return e._reactRootContainer?(Yr(function(){Vl(null,null,e,!1,function(){e._reactRootContainer=null,e[_n]=null})}),!0):!1};_t.unstable_batchedUpdates=$h;_t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ul(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return Vl(e,t,n,!1,r)};_t.version="18.3.1-next-f1338f8080-20240426";function Cy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cy)}catch(e){console.error(e)}}Cy(),C0.exports=_t;var BN=C0.exports,tm=BN;bu.createRoot=tm.createRoot,bu.hydrateRoot=tm.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hi(){return hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hi.apply(this,arguments)}var er;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(er||(er={}));const nm="popstate";function zN(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:l}=r.location;return fd("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ul(s)}return VN(t,n,null,e)}function Me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ey(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function UN(){return Math.random().toString(36).substr(2,8)}function rm(e,t){return{usr:e.state,key:e.key,idx:t}}function fd(e,t,n,r){return n===void 0&&(n=null),hi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ro(t):t,{state:n,key:t&&t.key||r||UN()})}function ul(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ro(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function VN(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=er.Pop,c=null,h=d();h==null&&(h=0,a.replaceState(hi({},a.state,{idx:h}),""));function d(){return(a.state||{idx:null}).idx}function u(){l=er.Pop;let S=d(),y=S==null?null:S-h;h=S,c&&c({action:l,location:v.location,delta:y})}function f(S,y){l=er.Push;let w=fd(v.location,S,y);h=d()+1;let g=rm(w,h),j=v.createHref(w);try{a.pushState(g,"",j)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(j)}i&&c&&c({action:l,location:v.location,delta:1})}function p(S,y){l=er.Replace;let w=fd(v.location,S,y);h=d();let g=rm(w,h),j=v.createHref(w);a.replaceState(g,"",j),i&&c&&c({action:l,location:v.location,delta:0})}function m(S){let y=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof S=="string"?S:ul(S);return w=w.replace(/ $/,"%20"),Me(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let v={get action(){return l},get location(){return e(s,a)},listen(S){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(nm,u),c=S,()=>{s.removeEventListener(nm,u),c=null}},createHref(S){return t(s,S)},createURL:m,encodeLocation(S){let y=m(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(S){return a.go(S)}};return v}var sm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(sm||(sm={}));function WN(e,t,n){return n===void 0&&(n="/"),HN(e,t,n)}function HN(e,t,n,r){let s=typeof t=="string"?ro(t):t,i=qh(s.pathname||"/",n);if(i==null)return null;let a=Py(e);GN(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let h=s2(i);l=t2(a[c],h)}return l}function Py(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(Me(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=dr([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Me(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Py(i.children,t,d,h)),!(i.path==null&&!i.index)&&t.push({path:h,score:ZN(h,i.index),routesMeta:d})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of Ty(i.path))s(i,a,c)}),t}function Ty(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=Ty(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function GN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:e2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qN=/^:[\w-]+$/,KN=3,XN=2,YN=1,QN=10,JN=-2,om=e=>e==="*";function ZN(e,t){let n=e.split("/"),r=n.length;return n.some(om)&&(r+=JN),t&&(r+=XN),n.filter(s=>!om(s)).reduce((s,i)=>s+(qN.test(i)?KN:i===""?YN:QN),r)}function e2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function t2(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],h=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",u=n2({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},d),f=c.route;if(!u)return null;Object.assign(s,u.params),a.push({params:s,pathname:dr([i,u.pathname]),pathnameBase:l2(dr([i,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(i=dr([i,u.pathnameBase]))}return a}function n2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=r2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((h,d,u)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let v=l[u]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const m=l[u];return p&&!m?h[f]=void 0:h[f]=(m||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:a,pattern:e}}function r2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ey(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function s2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ey(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function qh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function o2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?ro(e):e;return{pathname:n?n.startsWith("/")?n:i2(n,t):t,search:c2(r),hash:u2(s)}}function i2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Vc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function a2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Kh(e,t){let n=a2(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Xh(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=ro(e):(s=hi({},e),Me(!s.pathname||!s.pathname.includes("?"),Vc("?","pathname","search",s)),Me(!s.pathname||!s.pathname.includes("#"),Vc("#","pathname","hash",s)),Me(!s.search||!s.search.includes("#"),Vc("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let u=t.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),u-=1;s.pathname=f.join("/")}l=u>=0?t[u]:"/"}let c=o2(s,l),h=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||d)&&(c.pathname+="/"),c}const dr=e=>e.join("/").replace(/\/\/+/g,"/"),l2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),c2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,u2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function d2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ay=["post","put","patch","delete"];new Set(Ay);const h2=["get",...Ay];new Set(h2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fi(){return fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fi.apply(this,arguments)}const Yh=E.createContext(null),f2=E.createContext(null),jr=E.createContext(null),Wl=E.createContext(null),Fn=E.createContext({outlet:null,matches:[],isDataRoute:!1}),Dy=E.createContext(null);function p2(e,t){let{relative:n}=t===void 0?{}:t;so()||Me(!1);let{basename:r,navigator:s}=E.useContext(jr),{hash:i,pathname:a,search:l}=My(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:dr([r,a])),s.createHref({pathname:c,search:l,hash:i})}function so(){return E.useContext(Wl)!=null}function ss(){return so()||Me(!1),E.useContext(Wl).location}function Ry(e){E.useContext(jr).static||E.useLayoutEffect(e)}function Hl(){let{isDataRoute:e}=E.useContext(Fn);return e?E2():m2()}function m2(){so()||Me(!1);let e=E.useContext(Yh),{basename:t,future:n,navigator:r}=E.useContext(jr),{matches:s}=E.useContext(Fn),{pathname:i}=ss(),a=JSON.stringify(Kh(s,n.v7_relativeSplatPath)),l=E.useRef(!1);return Ry(()=>{l.current=!0}),E.useCallback(function(h,d){if(d===void 0&&(d={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let u=Xh(h,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:dr([t,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[t,r,a,i,e])}function _y(){let{matches:e}=E.useContext(Fn),t=e[e.length-1];return t?t.params:{}}function My(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=E.useContext(jr),{matches:s}=E.useContext(Fn),{pathname:i}=ss(),a=JSON.stringify(Kh(s,r.v7_relativeSplatPath));return E.useMemo(()=>Xh(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function g2(e,t){return x2(e,t)}function x2(e,t,n,r){so()||Me(!1);let{navigator:s}=E.useContext(jr),{matches:i}=E.useContext(Fn),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let h=ss(),d;if(t){var u;let S=typeof t=="string"?ro(t):t;c==="/"||(u=S.pathname)!=null&&u.startsWith(c)||Me(!1),d=S}else d=h;let f=d.pathname||"/",p=f;if(c!=="/"){let S=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let m=WN(e,{pathname:p}),v=j2(m&&m.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:dr([c,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:dr([c,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return t&&v?E.createElement(Wl.Provider,{value:{location:fi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:er.Pop}},v):v}function y2(){let e=C2(),t=d2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:s},n):null,null)}const v2=E.createElement(y2,null);class b2 extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?E.createElement(Fn.Provider,{value:this.props.routeContext},E.createElement(Dy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function w2(e){let{routeContext:t,match:n,children:r}=e,s=E.useContext(Yh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Fn.Provider,{value:t},r)}function j2(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(u=>u.route.id&&(l==null?void 0:l[u.route.id])!==void 0);d>=0||Me(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let u=a[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(h=d),u.route.id){let{loaderData:f,errors:p}=n,m=u.route.loader&&f[u.route.id]===void 0&&(!p||p[u.route.id]===void 0);if(u.route.lazy||m){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,u,f)=>{let p,m=!1,v=null,S=null;n&&(p=l&&u.route.id?l[u.route.id]:void 0,v=u.route.errorElement||v2,c&&(h<0&&f===0?(P2("route-fallback"),m=!0,S=null):h===f&&(m=!0,S=u.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,f+1)),w=()=>{let g;return p?g=v:m?g=S:u.route.Component?g=E.createElement(u.route.Component,null):u.route.element?g=u.route.element:g=d,E.createElement(w2,{match:u,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:g})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?E.createElement(b2,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var Oy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Oy||{}),Ly=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ly||{});function N2(e){let t=E.useContext(Yh);return t||Me(!1),t}function S2(e){let t=E.useContext(f2);return t||Me(!1),t}function k2(e){let t=E.useContext(Fn);return t||Me(!1),t}function Iy(e){let t=k2(),n=t.matches[t.matches.length-1];return n.route.id||Me(!1),n.route.id}function C2(){var e;let t=E.useContext(Dy),n=S2(),r=Iy();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function E2(){let{router:e}=N2(Oy.UseNavigateStable),t=Iy(Ly.UseNavigateStable),n=E.useRef(!1);return Ry(()=>{n.current=!0}),E.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,fi({fromRouteId:t},i)))},[e,t])}const im={};function P2(e,t,n){im[e]||(im[e]=!0)}function T2(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ct(e){let{to:t,replace:n,state:r,relative:s}=e;so()||Me(!1);let{future:i,static:a}=E.useContext(jr),{matches:l}=E.useContext(Fn),{pathname:c}=ss(),h=Hl(),d=Xh(t,Kh(l,i.v7_relativeSplatPath),c,s==="path"),u=JSON.stringify(d);return E.useEffect(()=>h(JSON.parse(u),{replace:n,state:r,relative:s}),[h,u,s,n,r]),null}function Je(e){Me(!1)}function A2(e){let{basename:t="/",children:n=null,location:r,navigationType:s=er.Pop,navigator:i,static:a=!1,future:l}=e;so()&&Me(!1);let c=t.replace(/^\/*/,"/"),h=E.useMemo(()=>({basename:c,navigator:i,static:a,future:fi({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=ro(r));let{pathname:d="/",search:u="",hash:f="",state:p=null,key:m="default"}=r,v=E.useMemo(()=>{let S=qh(d,c);return S==null?null:{location:{pathname:S,search:u,hash:f,state:p,key:m},navigationType:s}},[c,d,u,f,p,m,s]);return v==null?null:E.createElement(jr.Provider,{value:h},E.createElement(Wl.Provider,{children:n,value:v}))}function D2(e){let{children:t,location:n}=e;return g2(pd(t),n)}new Promise(()=>{});function pd(e,t){t===void 0&&(t=[]);let n=[];return E.Children.forEach(e,(r,s)=>{if(!E.isValidElement(r))return;let i=[...t,s];if(r.type===E.Fragment){n.push.apply(n,pd(r.props.children,i));return}r.type!==Je&&Me(!1),!r.props.index||!r.props.children||Me(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=pd(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},md.apply(this,arguments)}function R2(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function _2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function M2(e,t){return e.button===0&&(!t||t==="_self")&&!_2(e)}function gd(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function O2(e,t){let n=gd(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const L2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],I2="6";try{window.__reactRouterVersion=I2}catch{}const F2="startTransition",am=Tw[F2];function $2(e){let{basename:t,children:n,future:r,window:s}=e,i=E.useRef();i.current==null&&(i.current=zN({window:s,v5Compat:!0}));let a=i.current,[l,c]=E.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},d=E.useCallback(u=>{h&&am?am(()=>c(u)):c(u)},[c,h]);return E.useLayoutEffect(()=>a.listen(d),[a,d]),E.useEffect(()=>T2(r),[r]),E.createElement(A2,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const B2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",z2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ge=E.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:h,preventScrollReset:d,viewTransition:u}=t,f=R2(t,L2),{basename:p}=E.useContext(jr),m,v=!1;if(typeof h=="string"&&z2.test(h)&&(m=h,B2))try{let g=new URL(window.location.href),j=h.startsWith("//")?new URL(g.protocol+h):new URL(h),R=qh(j.pathname,p);j.origin===g.origin&&R!=null?h=R+j.search+j.hash:v=!0}catch{}let S=p2(h,{relative:s}),y=U2(h,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:u});function w(g){r&&r(g),g.defaultPrevented||y(g)}return E.createElement("a",md({},f,{href:m||S,onClick:v||i?r:w,ref:n,target:c}))});var lm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lm||(lm={}));var cm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cm||(cm={}));function U2(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=Hl(),h=ss(),d=My(e,{relative:a});return E.useCallback(u=>{if(M2(u,n)){u.preventDefault();let f=r!==void 0?r:ul(h)===ul(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[h,c,d,r,s,n,e,i,a,l])}function Fy(e){let t=E.useRef(gd(e)),n=E.useRef(!1),r=ss(),s=E.useMemo(()=>O2(r.search,n.current?null:t.current),[r.search]),i=Hl(),a=E.useCallback((l,c)=>{const h=gd(typeof l=="function"?l(s):l);n.current=!0,i("?"+h,c)},[i,s]);return[s,a]}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var V2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Z=(e,t)=>{const n=E.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...h},d)=>E.createElement("svg",{ref:d,...V2,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${W2(e)}`,l].join(" "),...h},[...t.map(([u,f])=>E.createElement(u,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=Z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=Z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=Z("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=Z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=Z("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=Z("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=Z("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=Z("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=Z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=Z("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=Z("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=Z("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=Z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=Z("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=Z("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=Z("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=Z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=Z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=Z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=Z("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=Z("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=Z("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=Z("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=Z("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=Z("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=Z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=Z("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=Z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=Z("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=Z("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=Z("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=Z("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=Z("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=Z("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=Z("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=Z("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Wy(e,t){return function(){return e.apply(t,arguments)}}const{toString:iS}=Object.prototype,{getPrototypeOf:ef}=Object,{iterator:Gl,toStringTag:Hy}=Symbol,ql=(e=>t=>{const n=iS.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),an=e=>(e=e.toLowerCase(),t=>ql(t)===e),Kl=e=>t=>typeof t===e,{isArray:oo}=Array,Xs=Kl("undefined");function Ci(e){return e!==null&&!Xs(e)&&e.constructor!==null&&!Xs(e.constructor)&&wt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Gy=an("ArrayBuffer");function aS(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Gy(e.buffer),t}const lS=Kl("string"),wt=Kl("function"),qy=Kl("number"),Ei=e=>e!==null&&typeof e=="object",cS=e=>e===!0||e===!1,Ma=e=>{if(ql(e)!=="object")return!1;const t=ef(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Hy in e)&&!(Gl in e)},uS=e=>{if(!Ei(e)||Ci(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},dS=an("Date"),hS=an("File"),fS=an("Blob"),pS=an("FileList"),mS=e=>Ei(e)&&wt(e.pipe),gS=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||wt(e.append)&&((t=ql(e))==="formdata"||t==="object"&&wt(e.toString)&&e.toString()==="[object FormData]"))},xS=an("URLSearchParams"),[yS,vS,bS,wS]=["ReadableStream","Request","Response","Headers"].map(an),jS=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pi(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),oo(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Ci(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let l;for(r=0;r<a;r++)l=i[r],t.call(null,e[l],l,e)}}function Ky(e,t){if(Ci(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const $r=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,Xy=e=>!Xs(e)&&e!==$r;function jd(){const{caseless:e,skipUndefined:t}=Xy(this)&&this||{},n={},r=(s,i)=>{const a=e&&Ky(n,i)||i;Ma(n[a])&&Ma(s)?n[a]=jd(n[a],s):Ma(s)?n[a]=jd({},s):oo(s)?n[a]=s.slice():(!t||!Xs(s))&&(n[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Pi(arguments[s],r);return n}const NS=(e,t,n,{allOwnKeys:r}={})=>(Pi(t,(s,i)=>{n&&wt(s)?e[i]=Wy(s,n):e[i]=s},{allOwnKeys:r}),e),SS=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),kS=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},CS=(e,t,n,r)=>{let s,i,a;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],(!r||r(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=n!==!1&&ef(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},ES=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},PS=e=>{if(!e)return null;if(oo(e))return e;let t=e.length;if(!qy(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},TS=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ef(Uint8Array)),AS=(e,t)=>{const r=(e&&e[Gl]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},DS=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},RS=an("HTMLFormElement"),_S=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),gm=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),MS=an("RegExp"),Yy=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Pi(n,(s,i)=>{let a;(a=t(s,i,e))!==!1&&(r[i]=a||s)}),Object.defineProperties(e,r)},OS=e=>{Yy(e,(t,n)=>{if(wt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(wt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},LS=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return oo(e)?r(e):r(String(e).split(t)),n},IS=()=>{},FS=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function $S(e){return!!(e&&wt(e.append)&&e[Hy]==="FormData"&&e[Gl])}const BS=e=>{const t=new Array(10),n=(r,s)=>{if(Ei(r)){if(t.indexOf(r)>=0)return;if(Ci(r))return r;if(!("toJSON"in r)){t[s]=r;const i=oo(r)?[]:{};return Pi(r,(a,l)=>{const c=n(a,s+1);!Xs(c)&&(i[l]=c)}),t[s]=void 0,i}}return r};return n(e,0)},zS=an("AsyncFunction"),US=e=>e&&(Ei(e)||wt(e))&&wt(e.then)&&wt(e.catch),Qy=((e,t)=>e?setImmediate:t?((n,r)=>($r.addEventListener("message",({source:s,data:i})=>{s===$r&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),$r.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",wt($r.postMessage)),VS=typeof queueMicrotask<"u"?queueMicrotask.bind($r):typeof process<"u"&&process.nextTick||Qy,WS=e=>e!=null&&wt(e[Gl]),U={isArray:oo,isArrayBuffer:Gy,isBuffer:Ci,isFormData:gS,isArrayBufferView:aS,isString:lS,isNumber:qy,isBoolean:cS,isObject:Ei,isPlainObject:Ma,isEmptyObject:uS,isReadableStream:yS,isRequest:vS,isResponse:bS,isHeaders:wS,isUndefined:Xs,isDate:dS,isFile:hS,isBlob:fS,isRegExp:MS,isFunction:wt,isStream:mS,isURLSearchParams:xS,isTypedArray:TS,isFileList:pS,forEach:Pi,merge:jd,extend:NS,trim:jS,stripBOM:SS,inherits:kS,toFlatObject:CS,kindOf:ql,kindOfTest:an,endsWith:ES,toArray:PS,forEachEntry:AS,matchAll:DS,isHTMLForm:RS,hasOwnProperty:gm,hasOwnProp:gm,reduceDescriptors:Yy,freezeMethods:OS,toObjectSet:LS,toCamelCase:_S,noop:IS,toFiniteNumber:FS,findKey:Ky,global:$r,isContextDefined:Xy,isSpecCompliantForm:$S,toJSONObject:BS,isAsyncFn:zS,isThenable:US,setImmediate:Qy,asap:VS,isIterable:WS};function se(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}U.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.status}}});const Jy=se.prototype,Zy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Zy[e]={value:e}});Object.defineProperties(se,Zy);Object.defineProperty(Jy,"isAxiosError",{value:!0});se.from=(e,t,n,r,s,i)=>{const a=Object.create(Jy);U.toFlatObject(e,a,function(d){return d!==Error.prototype},h=>h!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return se.call(a,l,c,n,r,s),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",i&&Object.assign(a,i),a};const HS=null;function Nd(e){return U.isPlainObject(e)||U.isArray(e)}function ev(e){return U.endsWith(e,"[]")?e.slice(0,-2):e}function xm(e,t,n){return e?e.concat(t).map(function(s,i){return s=ev(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function GS(e){return U.isArray(e)&&!e.some(Nd)}const qS=U.toFlatObject(U,{},null,function(t){return/^is[A-Z]/.test(t)});function Xl(e,t,n){if(!U.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=U.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,S){return!U.isUndefined(S[v])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(t);if(!U.isFunction(s))throw new TypeError("visitor must be a function");function h(m){if(m===null)return"";if(U.isDate(m))return m.toISOString();if(U.isBoolean(m))return m.toString();if(!c&&U.isBlob(m))throw new se("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(m)||U.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,v,S){let y=m;if(m&&!S&&typeof m=="object"){if(U.endsWith(v,"{}"))v=r?v:v.slice(0,-2),m=JSON.stringify(m);else if(U.isArray(m)&&GS(m)||(U.isFileList(m)||U.endsWith(v,"[]"))&&(y=U.toArray(m)))return v=ev(v),y.forEach(function(g,j){!(U.isUndefined(g)||g===null)&&t.append(a===!0?xm([v],j,i):a===null?v:v+"[]",h(g))}),!1}return Nd(m)?!0:(t.append(xm(S,v,i),h(m)),!1)}const u=[],f=Object.assign(qS,{defaultVisitor:d,convertValue:h,isVisitable:Nd});function p(m,v){if(!U.isUndefined(m)){if(u.indexOf(m)!==-1)throw Error("Circular reference detected in "+v.join("."));u.push(m),U.forEach(m,function(y,w){(!(U.isUndefined(y)||y===null)&&s.call(t,y,U.isString(w)?w.trim():w,v,f))===!0&&p(y,v?v.concat(w):[w])}),u.pop()}}if(!U.isObject(e))throw new TypeError("data must be an object");return p(e),t}function ym(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function tf(e,t){this._pairs=[],e&&Xl(e,this,t)}const tv=tf.prototype;tv.append=function(t,n){this._pairs.push([t,n])};tv.toString=function(t){const n=t?function(r){return t.call(this,r,ym)}:ym;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function KS(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function nv(e,t,n){if(!t)return e;const r=n&&n.encode||KS;U.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=U.isURLSearchParams(t)?t.toString():new tf(t,n).toString(r),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class vm{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){U.forEach(this.handlers,function(r){r!==null&&t(r)})}}const rv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},XS=typeof URLSearchParams<"u"?URLSearchParams:tf,YS=typeof FormData<"u"?FormData:null,QS=typeof Blob<"u"?Blob:null,JS={isBrowser:!0,classes:{URLSearchParams:XS,FormData:YS,Blob:QS},protocols:["http","https","file","blob","url","data"]},nf=typeof window<"u"&&typeof document<"u",Sd=typeof navigator=="object"&&navigator||void 0,ZS=nf&&(!Sd||["ReactNative","NativeScript","NS"].indexOf(Sd.product)<0),ek=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tk=nf&&window.location.href||"http://localhost",nk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:nf,hasStandardBrowserEnv:ZS,hasStandardBrowserWebWorkerEnv:ek,navigator:Sd,origin:tk},Symbol.toStringTag,{value:"Module"})),nt={...nk,...JS};function rk(e,t){return Xl(e,new nt.classes.URLSearchParams,{visitor:function(n,r,s,i){return nt.isNode&&U.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function sk(e){return U.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ok(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function sv(e){function t(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=i>=n.length;return a=!a&&U.isArray(s)?s.length:a,c?(U.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!l):((!s[a]||!U.isObject(s[a]))&&(s[a]=[]),t(n,r,s[a],i)&&U.isArray(s[a])&&(s[a]=ok(s[a])),!l)}if(U.isFormData(e)&&U.isFunction(e.entries)){const n={};return U.forEachEntry(e,(r,s)=>{t(sk(r),s,n,0)}),n}return null}function ik(e,t,n){if(U.isString(e))try{return(t||JSON.parse)(e),U.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Ti={transitional:rv,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=U.isObject(t);if(i&&U.isHTMLForm(t)&&(t=new FormData(t)),U.isFormData(t))return s?JSON.stringify(sv(t)):t;if(U.isArrayBuffer(t)||U.isBuffer(t)||U.isStream(t)||U.isFile(t)||U.isBlob(t)||U.isReadableStream(t))return t;if(U.isArrayBufferView(t))return t.buffer;if(U.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return rk(t,this.formSerializer).toString();if((l=U.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Xl(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),ik(t)):t}],transformResponse:[function(t){const n=this.transitional||Ti.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(U.isResponse(t)||U.isReadableStream(t))return t;if(t&&U.isString(t)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?se.from(l,se.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nt.classes.FormData,Blob:nt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],e=>{Ti.headers[e]={}});const ak=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lk=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||t[n]&&ak[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},bm=Symbol("internals");function jo(e){return e&&String(e).trim().toLowerCase()}function Oa(e){return e===!1||e==null?e:U.isArray(e)?e.map(Oa):String(e)}function ck(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const uk=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Hc(e,t,n,r,s){if(U.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!U.isString(t)){if(U.isString(r))return t.indexOf(r)!==-1;if(U.isRegExp(r))return r.test(t)}}function dk(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function hk(e,t){const n=U.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,a){return this[r].call(this,t,s,i,a)},configurable:!0})})}let jt=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(l,c,h){const d=jo(c);if(!d)throw new Error("header name must be a non-empty string");const u=U.findKey(s,d);(!u||s[u]===void 0||h===!0||h===void 0&&s[u]!==!1)&&(s[u||c]=Oa(l))}const a=(l,c)=>U.forEach(l,(h,d)=>i(h,d,c));if(U.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(U.isString(t)&&(t=t.trim())&&!uk(t))a(lk(t),n);else if(U.isObject(t)&&U.isIterable(t)){let l={},c,h;for(const d of t){if(!U.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[h=d[0]]=(c=l[h])?U.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}a(l,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=jo(t),t){const r=U.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return ck(s);if(U.isFunction(n))return n.call(this,s,r);if(U.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=jo(t),t){const r=U.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Hc(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(a){if(a=jo(a),a){const l=U.findKey(r,a);l&&(!n||Hc(r,r[l],l,n))&&(delete r[l],s=!0)}}return U.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||Hc(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return U.forEach(this,(s,i)=>{const a=U.findKey(r,i);if(a){n[a]=Oa(s),delete n[i];return}const l=t?dk(i):String(i).trim();l!==i&&delete n[i],n[l]=Oa(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return U.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&U.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[bm]=this[bm]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=jo(a);r[l]||(hk(s,a),r[l]=!0)}return U.isArray(t)?t.forEach(i):i(t),this}};jt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(jt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});U.freezeMethods(jt);function Gc(e,t){const n=this||Ti,r=t||n,s=jt.from(r.headers);let i=r.data;return U.forEach(e,function(l){i=l.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function ov(e){return!!(e&&e.__CANCEL__)}function io(e,t,n){se.call(this,e??"canceled",se.ERR_CANCELED,t,n),this.name="CanceledError"}U.inherits(io,se,{__CANCEL__:!0});function iv(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new se("Request failed with status code "+n.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function fk(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function pk(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,a;return t=t!==void 0?t:1e3,function(c){const h=Date.now(),d=r[i];a||(a=h),n[s]=c,r[s]=h;let u=i,f=0;for(;u!==s;)f+=n[u++],u=u%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),h-a<t)return;const p=d&&h-d;return p?Math.round(f*1e3/p):void 0}}function mk(e,t){let n=0,r=1e3/t,s,i;const a=(h,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),e(...h)};return[(...h)=>{const d=Date.now(),u=d-n;u>=r?a(h,d):(s=h,i||(i=setTimeout(()=>{i=null,a(s)},r-u)))},()=>s&&a(s)]}const fl=(e,t,n=3)=>{let r=0;const s=pk(50,250);return mk(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,c=a-r,h=s(c),d=a<=l;r=a;const u={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:h||void 0,estimated:h&&l&&d?(l-a)/h:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(u)},n)},wm=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},jm=e=>(...t)=>U.asap(()=>e(...t)),gk=nt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,nt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(nt.origin),nt.navigator&&/(msie|trident)/i.test(nt.navigator.userAgent)):()=>!0,xk=nt.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const a=[e+"="+encodeURIComponent(t)];U.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),U.isString(r)&&a.push("path="+r),U.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function yk(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function vk(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function av(e,t,n){let r=!yk(t);return e&&(r||n==!1)?vk(e,t):t}const Nm=e=>e instanceof jt?{...e}:e;function es(e,t){t=t||{};const n={};function r(h,d,u,f){return U.isPlainObject(h)&&U.isPlainObject(d)?U.merge.call({caseless:f},h,d):U.isPlainObject(d)?U.merge({},d):U.isArray(d)?d.slice():d}function s(h,d,u,f){if(U.isUndefined(d)){if(!U.isUndefined(h))return r(void 0,h,u,f)}else return r(h,d,u,f)}function i(h,d){if(!U.isUndefined(d))return r(void 0,d)}function a(h,d){if(U.isUndefined(d)){if(!U.isUndefined(h))return r(void 0,h)}else return r(void 0,d)}function l(h,d,u){if(u in t)return r(h,d);if(u in e)return r(void 0,h)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(h,d,u)=>s(Nm(h),Nm(d),u,!0)};return U.forEach(Object.keys({...e,...t}),function(d){const u=c[d]||s,f=u(e[d],t[d],d);U.isUndefined(f)&&u!==l||(n[d]=f)}),n}const lv=e=>{const t=es({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=t;if(t.headers=a=jt.from(a),t.url=nv(av(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),U.isFormData(n)){if(nt.hasStandardBrowserEnv||nt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(U.isFunction(n.getHeaders)){const c=n.getHeaders(),h=["content-type","content-length"];Object.entries(c).forEach(([d,u])=>{h.includes(d.toLowerCase())&&a.set(d,u)})}}if(nt.hasStandardBrowserEnv&&(r&&U.isFunction(r)&&(r=r(t)),r||r!==!1&&gk(t.url))){const c=s&&i&&xk.read(i);c&&a.set(s,c)}return t},bk=typeof XMLHttpRequest<"u",wk=bk&&function(e){return new Promise(function(n,r){const s=lv(e);let i=s.data;const a=jt.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:h}=s,d,u,f,p,m;function v(){p&&p(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function y(){if(!S)return;const g=jt.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),R={data:!l||l==="text"||l==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:g,config:e,request:S};iv(function(D){n(D),v()},function(D){r(D),v()},R),S=null}"onloadend"in S?S.onloadend=y:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(y)},S.onabort=function(){S&&(r(new se("Request aborted",se.ECONNABORTED,e,S)),S=null)},S.onerror=function(j){const R=j&&j.message?j.message:"Network Error",b=new se(R,se.ERR_NETWORK,e,S);b.event=j||null,r(b),S=null},S.ontimeout=function(){let j=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const R=s.transitional||rv;s.timeoutErrorMessage&&(j=s.timeoutErrorMessage),r(new se(j,R.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,e,S)),S=null},i===void 0&&a.setContentType(null),"setRequestHeader"in S&&U.forEach(a.toJSON(),function(j,R){S.setRequestHeader(R,j)}),U.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),l&&l!=="json"&&(S.responseType=s.responseType),h&&([f,m]=fl(h,!0),S.addEventListener("progress",f)),c&&S.upload&&([u,p]=fl(c),S.upload.addEventListener("progress",u),S.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=g=>{S&&(r(!g||g.type?new io(null,e,S):g),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const w=fk(s.url);if(w&&nt.protocols.indexOf(w)===-1){r(new se("Unsupported protocol "+w+":",se.ERR_BAD_REQUEST,e));return}S.send(i||null)})},jk=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(h){if(!s){s=!0,l();const d=h instanceof Error?h:this.reason;r.abort(d instanceof se?d:new io(d instanceof Error?d.message:d))}};let a=t&&setTimeout(()=>{a=null,i(new se(`timeout ${t} of ms exceeded`,se.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),e=null)};e.forEach(h=>h.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>U.asap(l),c}},Nk=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},Sk=async function*(e,t){for await(const n of kk(e))yield*Nk(n,t)},kk=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Sm=(e,t,n,r)=>{const s=Sk(e,t);let i=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:h,value:d}=await s.next();if(h){l(),c.close();return}let u=d.byteLength;if(n){let f=i+=u;n(f)}c.enqueue(new Uint8Array(d))}catch(h){throw l(h),h}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},km=64*1024,{isFunction:ca}=U,Ck=(({Request:e,Response:t})=>({Request:e,Response:t}))(U.global),{ReadableStream:Cm,TextEncoder:Em}=U.global,Pm=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ek=e=>{e=U.merge.call({skipUndefined:!0},Ck,e);const{fetch:t,Request:n,Response:r}=e,s=t?ca(t):typeof fetch=="function",i=ca(n),a=ca(r);if(!s)return!1;const l=s&&ca(Cm),c=s&&(typeof Em=="function"?(m=>v=>m.encode(v))(new Em):async m=>new Uint8Array(await new n(m).arrayBuffer())),h=i&&l&&Pm(()=>{let m=!1;const v=new n(nt.origin,{body:new Cm,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!v}),d=a&&l&&Pm(()=>U.isReadableStream(new r("").body)),u={stream:d&&(m=>m.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!u[m]&&(u[m]=(v,S)=>{let y=v&&v[m];if(y)return y.call(v);throw new se(`Response type '${m}' is not supported`,se.ERR_NOT_SUPPORT,S)})});const f=async m=>{if(m==null)return 0;if(U.isBlob(m))return m.size;if(U.isSpecCompliantForm(m))return(await new n(nt.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(U.isArrayBufferView(m)||U.isArrayBuffer(m))return m.byteLength;if(U.isURLSearchParams(m)&&(m=m+""),U.isString(m))return(await c(m)).byteLength},p=async(m,v)=>{const S=U.toFiniteNumber(m.getContentLength());return S??f(v)};return async m=>{let{url:v,method:S,data:y,signal:w,cancelToken:g,timeout:j,onDownloadProgress:R,onUploadProgress:b,responseType:D,headers:x,withCredentials:N="same-origin",fetchOptions:C}=lv(m),A=t||fetch;D=D?(D+"").toLowerCase():"text";let P=jk([w,g&&g.toAbortSignal()],j),M=null;const _=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let O;try{if(b&&h&&S!=="get"&&S!=="head"&&(O=await p(x,y))!==0){let V=new n(v,{method:"POST",body:y,duplex:"half"}),z;if(U.isFormData(y)&&(z=V.headers.get("content-type"))&&x.setContentType(z),V.body){const[H,W]=wm(O,fl(jm(b)));y=Sm(V.body,km,H,W)}}U.isString(N)||(N=N?"include":"omit");const T=i&&"credentials"in n.prototype,k={...C,signal:P,method:S.toUpperCase(),headers:x.normalize().toJSON(),body:y,duplex:"half",credentials:T?N:void 0};M=i&&new n(v,k);let I=await(i?A(M,C):A(v,k));const L=d&&(D==="stream"||D==="response");if(d&&(R||L&&_)){const V={};["status","statusText","headers"].forEach(B=>{V[B]=I[B]});const z=U.toFiniteNumber(I.headers.get("content-length")),[H,W]=R&&wm(z,fl(jm(R),!0))||[];I=new r(Sm(I.body,km,H,()=>{W&&W(),_&&_()}),V)}D=D||"text";let $=await u[U.findKey(u,D)||"text"](I,m);return!L&&_&&_(),await new Promise((V,z)=>{iv(V,z,{data:$,headers:jt.from(I.headers),status:I.status,statusText:I.statusText,config:m,request:M})})}catch(T){throw _&&_(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new se("Network Error",se.ERR_NETWORK,m,M),{cause:T.cause||T}):se.from(T,T&&T.code,m,M)}}},Pk=new Map,cv=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let a=i.length,l=a,c,h,d=Pk;for(;l--;)c=i[l],h=d.get(c),h===void 0&&d.set(c,h=l?new Map:Ek(t)),d=h;return h};cv();const kd={http:HS,xhr:wk,fetch:{get:cv}};U.forEach(kd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Tm=e=>`- ${e}`,Tk=e=>U.isFunction(e)||e===null||e===!1,uv={getAdapter:(e,t)=>{e=U.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let a=0;a<n;a++){r=e[a];let l;if(s=r,!Tk(r)&&(s=kd[(l=String(r)).toLowerCase()],s===void 0))throw new se(`Unknown adapter '${l}'`);if(s&&(U.isFunction(s)||(s=s.get(t))))break;i[l||"#"+a]=s}if(!s){const a=Object.entries(i).map(([c,h])=>`adapter ${c} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=n?a.length>1?`since :
`+a.map(Tm).join(`
`):" "+Tm(a[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:kd};function qc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new io(null,e)}function Am(e){return qc(e),e.headers=jt.from(e.headers),e.data=Gc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),uv.getAdapter(e.adapter||Ti.adapter,e)(e).then(function(r){return qc(e),r.data=Gc.call(e,e.transformResponse,r),r.headers=jt.from(r.headers),r},function(r){return ov(r)||(qc(e),r&&r.response&&(r.response.data=Gc.call(e,e.transformResponse,r.response),r.response.headers=jt.from(r.response.headers))),Promise.reject(r)})}const dv="1.12.2",Yl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Yl[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Dm={};Yl.transitional=function(t,n,r){function s(i,a){return"[Axios v"+dv+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,l)=>{if(t===!1)throw new se(s(a," has been removed"+(n?" in "+n:"")),se.ERR_DEPRECATED);return n&&!Dm[a]&&(Dm[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,a,l):!0}};Yl.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Ak(e,t,n){if(typeof e!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],a=t[i];if(a){const l=e[i],c=l===void 0||a(l,i,e);if(c!==!0)throw new se("option "+i+" must be "+c,se.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new se("Unknown option "+i,se.ERR_BAD_OPTION)}}const La={assertOptions:Ak,validators:Yl},un=La.validators;let Wr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new vm,response:new vm}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=es(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&La.assertOptions(r,{silentJSONParsing:un.transitional(un.boolean),forcedJSONParsing:un.transitional(un.boolean),clarifyTimeoutError:un.transitional(un.boolean)},!1),s!=null&&(U.isFunction(s)?n.paramsSerializer={serialize:s}:La.assertOptions(s,{encode:un.function,serialize:un.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),La.assertOptions(n,{baseUrl:un.spelling("baseURL"),withXsrfToken:un.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&U.merge(i.common,i[n.method]);i&&U.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=jt.concat(a,i);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const h=[];this.interceptors.response.forEach(function(v){h.push(v.fulfilled,v.rejected)});let d,u=0,f;if(!c){const m=[Am.bind(this),void 0];for(m.unshift(...l),m.push(...h),f=m.length,d=Promise.resolve(n);u<f;)d=d.then(m[u++],m[u++]);return d}f=l.length;let p=n;for(;u<f;){const m=l[u++],v=l[u++];try{p=m(p)}catch(S){v.call(this,S);break}}try{d=Am.call(this,p)}catch(m){return Promise.reject(m)}for(u=0,f=h.length;u<f;)d=d.then(h[u++],h[u++]);return d}getUri(t){t=es(this.defaults,t);const n=av(t.baseURL,t.url,t.allowAbsoluteUrls);return nv(n,t.params,t.paramsSerializer)}};U.forEach(["delete","get","head","options"],function(t){Wr.prototype[t]=function(n,r){return this.request(es(r||{},{method:t,url:n,data:(r||{}).data}))}});U.forEach(["post","put","patch"],function(t){function n(r){return function(i,a,l){return this.request(es(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Wr.prototype[t]=n(),Wr.prototype[t+"Form"]=n(!0)});let Dk=class hv{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{r.subscribe(l),i=l}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},t(function(i,a,l){r.reason||(r.reason=new io(i,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new hv(function(s){t=s}),cancel:t}}};function Rk(e){return function(n){return e.apply(null,n)}}function _k(e){return U.isObject(e)&&e.isAxiosError===!0}const Cd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cd).forEach(([e,t])=>{Cd[t]=e});function fv(e){const t=new Wr(e),n=Wy(Wr.prototype.request,t);return U.extend(n,Wr.prototype,t,{allOwnKeys:!0}),U.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return fv(es(e,s))},n}const he=fv(Ti);he.Axios=Wr;he.CanceledError=io;he.CancelToken=Dk;he.isCancel=ov;he.VERSION=dv;he.toFormData=Xl;he.AxiosError=se;he.Cancel=he.CanceledError;he.all=function(t){return Promise.all(t)};he.spread=Rk;he.isAxiosError=_k;he.mergeConfig=es;he.AxiosHeaders=jt;he.formToJSON=e=>sv(U.isHTMLForm(e)?new FormData(e):e);he.getAdapter=uv.getAdapter;he.HttpStatusCode=Cd;he.default=he;const{Axios:$A,AxiosError:BA,CanceledError:zA,isCancel:UA,CancelToken:VA,VERSION:WA,all:HA,Cancel:GA,isAxiosError:qA,spread:KA,toFormData:XA,AxiosHeaders:YA,HttpStatusCode:QA,formToJSON:JA,getAdapter:ZA,mergeConfig:eD}=he;console.log("VITE_API_URL:","http://localhost:8080");console.log("Window location:",window.location.origin);const Mk=()=>window.location.hostname!=="localhost"?window.location.origin:"http://localhost:8080",rf=Mk();console.log("Using API URL:",rf);const X=he.create({baseURL:rf,timeout:1e4,headers:{"Content-Type":"application/json"}});X.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));X.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});const ts=rf,pv=E.createContext(void 0);function Ok({children:e}){const[t,n]=E.useState(!1),[r,s]=E.useState(null),[i,a]=E.useState(!0);E.useEffect(()=>{const d=localStorage.getItem("token");console.log("AuthContext: Checking token on mount, token exists:",!!d),d?(X.defaults.headers.common.Authorization=`Bearer ${d}`,n(!0),console.log("AuthContext: Token found, setting authenticated to true"),l()):(console.log("AuthContext: No token found, user not authenticated"),a(!1))},[]);const l=async()=>{try{const d=await X.get("/api/auth/profile");s(d.data)}catch(d){console.error("Failed to fetch user data:",d),d.response&&d.response.status===401?(console.log("Token is invalid, logging out"),h()):console.log("Network or server error, keeping user logged in")}finally{a(!1)}},c=async(d,u)=>{try{const f=await X.post("/api/auth/login",{username:d,password:u}),{token:p,user:m}=f.data;return localStorage.setItem("token",p),X.defaults.headers.common.Authorization=`Bearer ${p}`,n(!0),s(m),!0}catch(f){return console.error("Login failed:",f),!1}},h=()=>{localStorage.removeItem("token"),delete X.defaults.headers.common.Authorization,n(!1),s(null)};return o.jsx(pv.Provider,{value:{isAuthenticated:t,user:r,login:c,logout:h,loading:i},children:e})}function os(){const e=E.useContext(pv);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Lk(){const[e,t]=E.useState(""),[n,r]=E.useState(""),[s,i]=E.useState(""),[a,l]=E.useState(!1),{login:c}=os(),h=async d=>{d.preventDefault(),i(""),l(!0);try{if(await c(e,n)){r(""),l(!1);return}else i("Invalid credentials. Please try again.")}catch{i("Connection failed. Please try again.")}finally{l(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-6",children:o.jsxs("div",{className:"w-full max-w-sm mx-auto",children:[o.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-12 scale-in",children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ie,{className:"h-16 w-16 text-red-500 heart-beat",fill:"currentColor"}),o.jsx("div",{className:"absolute inset-0 h-16 w-16 bg-red-500/20 rounded-full blur-xl"})]})}),o.jsx("h1",{className:"font-heading text-4xl font-bold text-gray-900 mb-3 tracking-tight",children:"Scott & Zoe"}),o.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Welcome to our sanctuary"})]}),o.jsxs("form",{onSubmit:h,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-800 text-center",children:"Choose your identity"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("button",{type:"button",onClick:()=>t("scott"),className:`relative p-4 rounded-2xl border-2 transition-all duration-300 group ${e==="scott"?"border-purple-400 bg-purple-50/80 shadow-lg shadow-purple-400/20":"border-gray-200 bg-gray-50/50 hover:border-gray-300 hover:bg-gray-50/80"}`,children:[o.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[o.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg transition-all duration-300 ${e==="scott"?"bg-gradient-to-br from-purple-400 to-purple-500 scale-110":"bg-gradient-to-br from-gray-400 to-gray-500 group-hover:from-purple-300 group-hover:to-purple-400"}`,children:"S"}),o.jsx("span",{className:`font-medium transition-colors ${e==="scott"?"text-purple-700":"text-gray-700"}`,children:"Scott"})]}),e==="scott"&&o.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-purple-400 rounded-full flex items-center justify-center",children:o.jsx(Gs,{className:"w-3 h-3 text-white"})})]}),o.jsxs("button",{type:"button",onClick:()=>t("zoe"),className:`relative p-4 rounded-2xl border-2 transition-all duration-300 group ${e==="zoe"?"border-pink-500 bg-pink-50/80 shadow-lg shadow-pink-500/20":"border-gray-200 bg-gray-50/50 hover:border-gray-300 hover:bg-gray-50/80"}`,children:[o.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[o.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg transition-all duration-300 ${e==="zoe"?"bg-gradient-to-br from-pink-500 to-pink-600 scale-110":"bg-gradient-to-br from-gray-400 to-gray-500 group-hover:from-pink-400 group-hover:to-pink-500"}`,children:"Z"}),o.jsx("span",{className:`font-medium transition-colors ${e==="zoe"?"text-pink-700":"text-gray-700"}`,children:"Zoe"})]}),e==="zoe"&&o.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-pink-500 rounded-full flex items-center justify-center",children:o.jsx(Gs,{className:"w-3 h-3 text-white"})})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-800 text-center",children:"Enter our secret password"}),o.jsxs("div",{className:"relative",children:[o.jsx(zy,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"password",id:"password",value:n,onChange:d=>r(d.target.value),className:"w-full pl-12 pr-12 py-4 bg-gray-50/80 border border-gray-200 rounded-2xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-400/30 focus:border-purple-400 transition-all duration-300 text-center font-medium backdrop-blur-sm",placeholder:"Enter password",required:!0})]})]}),s&&o.jsx("div",{className:"bg-red-50/80 border border-red-200 text-red-700 text-sm text-center py-4 px-4 rounded-2xl backdrop-blur-sm font-medium",children:s}),o.jsx("button",{type:"submit",disabled:a||!e,className:`w-full py-4 px-6 rounded-2xl font-semibold text-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98] transform ${e==="scott"?"bg-gradient-to-r from-purple-400 to-purple-500 hover:from-purple-500 hover:to-purple-600 text-white hover:shadow-xl hover:shadow-purple-400/25":e==="zoe"?"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white hover:shadow-xl hover:shadow-pink-500/25":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:a?o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"}),"Signing in..."]}):o.jsxs("span",{className:"flex items-center justify-center",children:["Enter Our World",o.jsx(Ie,{className:"h-5 w-5 ml-2",fill:"currentColor"})]})})]}),o.jsx("div",{className:"mt-10 text-center",children:o.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"A private space for our precious memories "})})]}),o.jsx("div",{className:"text-center mt-8",children:o.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Made with  for Scott & Zoe"})})]})})}const mv=({onClose:e,level:t,onPrizeWon:n})=>{const[r,s]=E.useState(!1),[i,a]=E.useState(null),[l,c]=E.useState(!1),[h,d]=E.useState(!1),[u,f]=E.useState(0),[p,m]=E.useState([]),[v,S]=E.useState(!0),[y,w]=E.useState(0),g=E.useRef(null),j=(A,P)=>{const M="w-5 h-5";return A==="MONEY"?P>=500?o.jsx(Ao,{className:`${M} text-yellow-300 drop-shadow-lg`}):P>=100?o.jsx(Ao,{className:`${M} text-yellow-200 drop-shadow-lg`}):P>=50?o.jsx(Ks,{className:`${M} text-yellow-200 drop-shadow-lg`}):P>=25?o.jsx(Bt,{className:`${M} text-green-200 drop-shadow-lg`}):P>=10?o.jsx(Bt,{className:`${M} text-green-600 drop-shadow-sm`}):o.jsx(Bt,{className:`${M} text-green-700 drop-shadow-sm`}):A==="GIFT"?o.jsx(He,{className:`${M} text-purple-200 drop-shadow-lg`}):A==="EXPERIENCE"?o.jsx(Ks,{className:`${M} text-purple-200 drop-shadow-lg`}):o.jsx(He,{className:`${M} text-white drop-shadow-lg`})},R=()=>[{id:1,amount:1,color:"#F3F4F6",probability:45,prizeName:"$1",prizeDescription:"Win $1 love points",prizeType:"MONEY",icon:j("MONEY",1)},{id:2,amount:5,color:"#E5E7EB",probability:25,prizeName:"$5",prizeDescription:"Win $5 love points",prizeType:"MONEY",icon:j("MONEY",5)},{id:3,amount:10,color:"#D1D5DB",probability:15,prizeName:"$10",prizeDescription:"Win $10 love points",prizeType:"MONEY",icon:j("MONEY",10)},{id:4,amount:25,color:"#9CA3AF",probability:10,prizeName:"$25",prizeDescription:"Win $25 love points",prizeType:"MONEY",icon:j("MONEY",25)},{id:5,amount:77,color:"#6B7280",probability:2.5,prizeName:"$77",prizeDescription:"Win $77 love points",prizeType:"MONEY",icon:j("MONEY",77)},{id:6,amount:100,color:"#4B5563",probability:1.5,prizeName:"$100",prizeDescription:"Win $100 love points",prizeType:"MONEY",icon:j("MONEY",100)},{id:7,amount:500,color:"#374151",probability:.5,prizeName:"$500",prizeDescription:"Win $500 love points",prizeType:"MONEY",icon:j("MONEY",500)},{id:8,amount:1e3,color:"#1F2937",probability:.5,prizeName:"$1000",prizeDescription:"Win $1000 love points",prizeType:"MONEY",icon:j("MONEY",1e3)}];E.useEffect(()=>{(async()=>{var P;try{const[M,_,O]=await Promise.all([X.get("/api/wheel/stats"),X.get("/api/opportunities/stats"),X.get("/api/wheel-config/my-wheel")]);if(d(!M.data.canUseThisWeek),f(_.data.unused||0),O.data.hasConfiguration&&O.data.prizes){const T=O.data.prizes.map((k,I)=>({id:k.id||I+1,amount:k.prizeValue,color:k.color,probability:parseFloat(k.probability),prizeName:k.prizeName,prizeDescription:k.prizeDescription,prizeType:k.prizeType,icon:j(k.prizeType,k.prizeValue)}));m(T)}else m(R());console.log(" Wheel data loaded:",{canUseThisWeek:M.data.canUseThisWeek,savedOpportunities:_.data.unused,prizesCount:((P=O.data.prizes)==null?void 0:P.length)||0})}catch(M){console.error(" Error loading wheel data from backend:",M);const _=new Date,T=new Date(_.setDate(_.getDate()-_.getDay())).toDateString(),k=localStorage.getItem("wheelLastUsedWeek"),I=parseInt(localStorage.getItem("wheelOpportunities")||"0");k===T&&d(!0),f(I),m(R())}finally{S(!1)}})()},[]);const b=()=>{const A=Math.random()*100;let P=0;for(const M of p)if(P+=M.probability,A<=P)return M;return p[0]},D=()=>{if(r)return;if(h&&u===0){alert("You can only use the wheel once per week! Come back next week or reach 520 love again for another opportunity.");return}s(!0);const A=b(),P=p.findIndex(L=>L.id===A.id),M=360/p.length,_=P*M+M/2,O=5,T=Math.floor(Math.random()*3)+2,I=(O+T)*360+(360-_);w(I),setTimeout(async()=>{s(!1),a(A),c(!0);try{const L=u>0?"saved_opportunity":"weekly";await X.post("/api/wheel/use",{prizeAmount:A.amount,source:L}),console.log(" Wheel usage recorded in backend successfully")}catch(L){console.error(" Error recording wheel usage in backend:",L);const $=new Date,z=new Date($.setDate($.getDate()-$.getDay())).toDateString();localStorage.setItem("wheelLastUsedWeek",z)}if(d(!0),u>0)try{await X.post("/api/opportunities/use");const L=await X.get("/api/opportunities/stats");f(L.data.unused||0)}catch(L){console.error("Error using saved opportunity in backend:",L);const $=u-1;localStorage.setItem("wheelOpportunities",$.toString()),f($)}},3200)},x=async A=>{if(!r&&i){try{await X.post("/api/wheel-prizes",{prizeType:i.prizeType,prizeValue:i.amount,prizeDescription:i.prizeDescription}),console.log(" Prize claimed and recorded:",i.amount),n&&await n(i.amount)}catch(P){console.error(" Error recording prize:",P)}e()}},N=async A=>{if(A&&(A.preventDefault(),A.stopPropagation()),!r){if(!h&&!l)try{await X.post("/api/opportunities/create",{source:"wheel_close_without_spin"}),console.log(" Opportunity saved for later use")}catch(P){console.error(" Error saving opportunity:",P);const M=parseInt(localStorage.getItem("wheelOpportunities")||"0");localStorage.setItem("wheelOpportunities",(M+1).toString())}e()}},C=A=>{switch(A){case 1:return"#F3F4F6";case 5:return"#E5E7EB";case 10:return"#D1D5DB";case 25:return"#9CA3AF";case 77:return"#6B7280";case 100:return"#4B5563";case 500:return"#374151";case 1e3:return"#1F2937";default:return"#F3F4F6"}};return v?o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:o.jsxs("div",{className:"bg-white rounded-3xl max-w-md w-full p-8 apple-shadow-lg relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-50 via-pink-50 to-purple-50 opacity-50"}),o.jsxs("div",{className:"relative z-10 text-center",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"w-8 h-8"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(He,{className:"w-6 h-6 text-yellow-500"}),o.jsx("h2",{className:"text-2xl font-bold text-apple-label",children:"Prize Wheel"}),o.jsx(Ao,{className:"w-6 h-6 text-yellow-500"})]}),o.jsx("button",{onClick:e,className:"w-8 h-8 rounded-full bg-apple-gray-6/10 hover:bg-apple-gray-6/20 flex items-center justify-center transition-colors",children:o.jsx(st,{className:"w-4 h-4 text-apple-secondary-label"})})]}),o.jsxs("div",{className:"py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-500 mx-auto mb-4"}),o.jsx("p",{className:"text-apple-secondary-label",children:"Loading wheel configuration..."})]})]})]})}):o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[9999] p-4",onClick:A=>{A.preventDefault(),A.stopPropagation(),A.target===A.currentTarget&&!r&&N()},children:o.jsxs("div",{className:"bg-white rounded-3xl max-w-md w-full p-8 apple-shadow-lg relative overflow-hidden pointer-events-auto",onClick:A=>{A.preventDefault(),A.stopPropagation()},children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-50 via-pink-50 to-purple-50 opacity-50"}),o.jsxs("div",{className:"relative z-10 text-center mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"w-8 h-8"})," ",o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(He,{className:"w-6 h-6 text-yellow-500"}),o.jsx("h2",{className:"text-2xl font-bold text-apple-label",children:"Prize Wheel"}),o.jsx(Ao,{className:"w-6 h-6 text-yellow-500"})]}),u>0&&o.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[u," saved opportunity",u>1?"ies":"y"," available"]}),h&&u===0&&o.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Used this week - come back next week!"})]}),o.jsx("button",{onClick:A=>{A.preventDefault(),A.stopPropagation(),N(A)},disabled:r,className:"w-8 h-8 rounded-full bg-apple-gray-6/10 hover:bg-apple-gray-6/20 flex items-center justify-center transition-colors disabled:opacity-50 pointer-events-auto z-[10000]",children:o.jsx(st,{className:"w-4 h-4 text-apple-secondary-label"})})]}),o.jsxs("p",{className:"text-apple-secondary-label",children:["Congratulations! You've reached level ",t,"!"]})]}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[o.jsxs("div",{className:"relative w-64 h-64 mb-6",children:[r&&o.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent bg-gradient-to-r from-yellow-400 via-red-500 to-pink-500 animate-pulse opacity-20 z-10"}),o.jsx("div",{ref:g,className:`w-full h-full rounded-full border-4 border-white apple-shadow-lg transition-transform duration-[3000ms] ${r?"ease-out":"hover:scale-105 ease-in-out duration-200"}`,style:{transform:`rotate(${y}deg)`,background:`conic-gradient(${p.map((A,P)=>{const M=P/p.length*360,_=(P+1)/p.length*360;return`${A.color} ${M}deg ${_}deg`}).join(", ")})`},children:p.map((A,P)=>{const M=360/p.length,_=P*M+M/2,O=p.length>6?50:65,T=Math.cos((_-90)*Math.PI/180)*O,k=Math.sin((_-90)*Math.PI/180)*O;return A.color==="#F3F4F6"||A.color==="#E5E7EB"||A.color,o.jsx("div",{className:"absolute flex flex-col items-center justify-center font-bold pointer-events-none text-white",style:{left:`calc(50% + ${T}px)`,top:`calc(50% + ${k}px)`,transform:`translate(-50%, -50%) rotate(${_}deg)`,transformOrigin:"center",textShadow:"2px 2px 4px rgba(0,0,0,0.8)",fontSize:p.length>8?"9px":"11px"},children:o.jsxs("div",{className:"flex flex-col items-center space-y-0.5",style:{transform:`rotate(-${_}deg)`},children:[o.jsx("div",{className:"flex items-center justify-center mb-0.5",children:o.jsx("span",{className:"text-base",children:A.prizeType==="MONEY"?"":A.prizeType==="GIFT"?"":""})}),o.jsx("span",{className:"text-center leading-tight font-bold max-w-16 truncate block",style:{fontSize:p.length>8?"8px":"10px"},title:A.prizeName,children:A.prizeName})]})},A.id)})}),o.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-2 z-10",children:o.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-b-8 border-l-transparent border-r-transparent border-b-red-500"})})]}),!l&&o.jsx("button",{onClick:A=>{A.preventDefault(),A.stopPropagation(),D()},disabled:r||h&&u===0,className:`px-8 py-4 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white rounded-xl font-semibold transition-all duration-200 shadow-lg pointer-events-auto z-[10000] relative ${r||h&&u===0?"opacity-50 cursor-not-allowed":"hover:shadow-xl hover:scale-105"}`,children:r?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Spinning... "})]}):h&&u===0?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{children:"Used This Week"}),o.jsx("span",{className:"text-xl",children:""})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{children:"Spin the Wheel!"}),o.jsx("span",{className:"text-xl",children:""})]})}),l&&i&&o.jsxs("div",{className:"text-center space-y-4 animate-bounce-in",children:[o.jsx("div",{className:`w-20 h-20 rounded-full bg-gradient-to-br ${C(i.amount)} flex items-center justify-center mx-auto apple-shadow-lg`,children:o.jsxs("div",{className:"text-white text-2xl font-bold",children:["$",i.amount]})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold text-apple-label mb-2",children:"Congratulations! "}),o.jsxs("p",{className:"text-apple-secondary-label mb-2",children:["You won ",i.prizeName,"!"]}),o.jsx("p",{className:"text-sm text-apple-secondary-label mb-4",children:i.prizeDescription}),o.jsxs("button",{onClick:A=>{A.preventDefault(),A.stopPropagation(),x()},className:"px-8 py-4 bg-gradient-to-r from-purple-400 to-purple-500 hover:from-purple-500 hover:to-purple-600 text-white rounded-xl font-bold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:[" Claim $",i.amount," Prize"]})]})]})]})]})})},Ik=({message:e,type:t="general",onClose:n,duration:r=3e3})=>{const[s,i]=E.useState(!1);E.useEffect(()=>{i(!0);const c=setTimeout(()=>{i(!1),setTimeout(n,300)},r);return()=>clearTimeout(c)},[r,n]);const a=()=>{switch(t){case"photo":return o.jsx(mr,{className:"w-5 h-5 text-white"});case"love":return o.jsx(Ie,{className:"w-5 h-5 text-white fill-current"});default:return o.jsx(yd,{className:"w-5 h-5 text-white"})}},l=()=>{switch(t){case"photo":return"from-purple-400 to-purple-500";case"love":return"from-pink-500 to-red-500";default:return"from-green-500 to-green-600"}};return o.jsx("div",{className:`transform transition-all duration-300 ${s?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"}`,children:o.jsxs("div",{className:`bg-gradient-to-r ${l()} rounded-2xl p-4 apple-shadow-lg max-w-sm`,children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"flex-shrink-0",children:a()}),o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:"text-white font-medium text-sm",children:e})}),o.jsx("button",{onClick:()=>{i(!1),setTimeout(n,300)},className:"flex-shrink-0 text-white/80 hover:text-white transition-colors",children:o.jsx(st,{className:"w-4 h-4"})})]}),t==="love"&&o.jsx("div",{className:"absolute -top-1 -right-1",children:o.jsx("div",{className:"flex space-x-1",children:[...Array(3)].map((c,h)=>o.jsx(Ie,{className:"w-3 h-3 text-pink-300 fill-current animate-float-up",style:{animationDelay:`${h*.2}s`}},h))})}),t==="photo"&&o.jsx("div",{className:"absolute -top-1 -right-1",children:o.jsx("div",{className:"flex space-x-1",children:[...Array(2)].map((c,h)=>o.jsx("div",{className:"w-2 h-2 bg-blue-300 rounded-full animate-sparkle",style:{animationDelay:`${h*.3}s`}},h))})})]})})},gv=E.createContext(void 0),Ai=()=>{const e=E.useContext(gv);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Fk=({children:e})=>{const[t,n]=E.useState([]),r=(l,c="general",h=3e3)=>{const u={id:Math.random().toString(36).substr(2,9),message:l,type:c,duration:h};n(f=>[...f,u])},s=l=>{const c=l===1?" Photo uploaded successfully!":` ${l} photos uploaded successfully!`;r(c,"photo",4e3)},i=()=>{const l=[" Love shared!"," Sending love!"," Love you more!"," Sweet love!"," Love grows!"],c=l[Math.floor(Math.random()*l.length)];r(c,"love",2e3)},a=l=>{n(c=>c.filter(h=>h.id!==l))};return o.jsxs(gv.Provider,{value:{showToast:r,showPhotoSuccess:s,showLoveSuccess:i},children:[e,o.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map((l,c)=>o.jsx("div",{style:{transform:`translateY(${c*80}px)`,zIndex:50-c},children:o.jsx(Ik,{message:l.message,type:l.type,duration:l.duration,onClose:()=>a(l.id)})},l.id))})]})},$k=({onLoveClick:e})=>{const{user:t}=os(),[n,r]=E.useState({count:0,totalCount:0,nextMilestone:520,remainingToMilestone:520,currentLevel:1,progressPercent:0,isMilestoneReached:!1}),[s,i]=E.useState(!1),[a,l]=E.useState(!1),[c,h]=E.useState(!1),[d,u]=E.useState(!0),[f,p]=E.useState(0),[m,v]=E.useState(!0),{showLoveSuccess:S,showToast:y}=Ai();E.useEffect(()=>{R(),w(),g()},[]);const w=async()=>{try{const z=await X.get("/api/opportunities/stats");p(z.data.unused||0)}catch(z){console.error("Error loading saved opportunities from backend:",z);const H=parseInt(localStorage.getItem("wheelOpportunities")||"0");p(H)}},g=async()=>{try{const z=await X.get("/api/wheel/stats");v(z.data.canUseThisWeek)}catch(z){console.error("Error fetching wheel usage status:",z);const H=new Date,B=new Date(H.setDate(H.getDate()-H.getDay())).toDateString(),G=localStorage.getItem("wheelLastUsedWeek");v(G!==B)}},j=async z=>{if(z&&(z.preventDefault(),z.stopPropagation()),f>0)try{if(!(await X.get("/api/wheel/stats")).data.canUseThisWeek){alert(" Saved opportunities can only be used next week! Come back after the week resets.");return}i(!0)}catch(H){console.error("Error checking wheel usage status:",H);const W=new Date,G=new Date(W.setDate(W.getDate()-W.getDay())).toDateString();if(localStorage.getItem("wheelLastUsedWeek")===G){alert(" Saved opportunities can only be used next week! Come back after the week resets.");return}i(!0)}},R=async()=>{try{u(!0);const z=await X.get("/api/love");r(z.data)}catch(z){console.error("Error fetching love stats:",z)}finally{u(!1)}},b=async z=>{console.log("Prize won:",z)},[D,x]=E.useState(0),[N,C]=E.useState(!1),[A,P]=E.useState([]),[M,_]=E.useState(0),[O,T]=E.useState(!1),[k,I]=E.useState(null);E.useEffect(()=>{if(D>0&&!N){C(!0);const z=D;x(0),L(z)}},[D,N]),E.useEffect(()=>()=>{k&&clearTimeout(k)},[k]);const L=async z=>{try{const H=[];for(let G=0;G<z;G++)H.push(X.post("/api/love/increment"));const B=(await Promise.allSettled(H)).filter(G=>G.status==="fulfilled").map(G=>G.value);if(B.length>0){const Q=B[B.length-1].data;r({count:Q.count,totalCount:Q.totalCount,nextMilestone:Q.nextMilestone,remainingToMilestone:Q.remainingToMilestone,currentLevel:Q.currentLevel,progressPercent:Q.progressPercent,isMilestoneReached:Q.isMilestoneReached}),Math.random()<.2&&S(),Q.justReachedMilestone&&await $()}}catch(H){console.error("Error processing love clicks:",H),y("Failed to share love. Please try again.","general")}finally{C(!1)}},$=async()=>{try{if((await X.get("/api/wheel/stats")).data.canUseThisWeek)setTimeout(()=>{i(!0)},500);else try{await X.post("/api/opportunities/create",{source:"milestone_520"}),await w(),y(" You reached 520 love! Opportunity saved for next week!","general")}catch(W){console.error("Error saving opportunity to backend:",W);const B=parseInt(localStorage.getItem("wheelOpportunities")||"0");localStorage.setItem("wheelOpportunities",(B+1).toString()),await w(),y(" You reached 520 love! Opportunity saved for next week!","general")}}catch(z){console.error("Error checking wheel usage status for milestone:",z);const H=new Date,B=new Date(H.setDate(H.getDate()-H.getDay())).toDateString();if(localStorage.getItem("wheelLastUsedWeek")===B)try{await X.post("/api/opportunities/create",{source:"milestone_520"}),await w(),y(" You reached 520 love! Opportunity saved for next week!","general")}catch(Q){console.error("Error saving opportunity to backend:",Q);const oe=parseInt(localStorage.getItem("wheelOpportunities")||"0");localStorage.setItem("wheelOpportunities",(oe+1).toString()),await w(),y(" You reached 520 love! Opportunity saved for next week!","general")}else setTimeout(()=>{i(!0)},500)}},V=async z=>{z&&(z.preventDefault(),z.stopPropagation());const H=Date.now();P(W=>{const B=[...W,H].filter(G=>H-G<2e3);if(B.length>=5){_(Q=>Q+1),T(!0),k&&clearTimeout(k);const G=setTimeout(()=>{T(!1),I(null)},2e3);I(G)}return B}),l(!0),h(!0),setTimeout(()=>{l(!1),h(!1)},300),x(W=>W+1),e==null||e()};return d?o.jsx("div",{className:"apple-card apple-card-hover p-6 text-center apple-shadow relative overflow-hidden",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"w-12 h-12 bg-apple-gray-6/20 rounded-full mx-auto mb-4"}),o.jsx("div",{className:"w-16 h-8 bg-apple-gray-6/20 rounded mx-auto mb-2"}),o.jsx("div",{className:"w-20 h-4 bg-apple-gray-6/20 rounded mx-auto"})]})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative pointer-events-auto touch-manipulation",children:[o.jsxs("div",{className:"apple-card apple-card-hover p-6 text-center apple-shadow relative overflow-hidden transition-all duration-500",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-50 to-red-50 opacity-50"}),c&&o.jsx("div",{className:"absolute inset-4 pointer-events-none",children:[...Array(4)].map((z,H)=>o.jsx(Ie,{className:"absolute w-3 h-3 fill-current animate-float-up text-red-400",style:{left:`${20+H*15}%`,top:"80%",animationDelay:`${H*.2}s`,animationDuration:"1.5s"}},H))}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("button",{onClick:z=>V(z),className:`group relative z-30 pointer-events-auto transition-all duration-500 touch-manipulation hover-bounce focus:outline-none ${a?"animate-cute-squish":""} ${O?"animate-heart-bounce":""}`,style:{WebkitTapHighlightColor:"transparent",filter:a?"drop-shadow(0 0 8px rgba(239, 68, 68, 0.6))":"drop-shadow(0 2px 6px rgba(239, 68, 68, 0.2))"},children:[o.jsx(Ie,{className:`h-12 w-12 mx-auto mb-4 transition-all duration-500 ${O||a?"text-red-500 fill-current animate-heart-bounce":"text-gradient fill-current group-hover:text-red-500 hover-glow"}`,style:{filter:a||O?"drop-shadow(0 0 8px rgba(239, 68, 68, 0.6))":"drop-shadow(0 0 4px rgba(239, 68, 68, 0.3))"}}),o.jsx("div",{className:"absolute -inset-2 rounded-full opacity-0 group-hover:opacity-30 transition-all duration-300 pointer-events-none bg-gradient-to-r from-red-400/8 to-pink-400/8"})]}),o.jsx("div",{className:"text-3xl font-semibold text-apple-label mb-2",children:n.count.toLocaleString()}),o.jsx("div",{className:"text-apple-secondary-label mb-2",children:"Love Shared"}),f>0&&(()=>{const z=m;return o.jsx("div",{className:"mb-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"text-sm text-purple-700 font-medium",children:[" ",f," Saved Spin",f>1?"s":""]}),o.jsx("div",{className:"text-xs text-purple-500 mt-1",children:z?"Ready to use this week!":"Available next week!"})]}),o.jsx("button",{onClick:H=>j(H),disabled:!z,className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-colors relative z-30 pointer-events-auto touch-manipulation ${z?"bg-purple-500 text-white hover:bg-purple-600 active:scale-95":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,style:{WebkitTapHighlightColor:"transparent"},children:z?"Use Now":"Next Week"})]})})})(),n.count>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs text-apple-secondary-label",children:[o.jsxs("span",{children:["Level ",n.currentLevel]}),o.jsxs("span",{children:[n.remainingToMilestone," to next prize"]})]}),o.jsx("div",{className:"w-full bg-apple-gray-6/20 rounded-full h-2",children:o.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-red-500 h-2 rounded-full transition-all duration-500",style:{width:`${n.progressPercent}%`}})}),n.remainingToMilestone<=50&&o.jsxs("div",{className:"flex items-center justify-center space-x-1 text-xs text-red-500 animate-pulse",children:[o.jsx(He,{className:"w-3 h-3"}),o.jsx("span",{children:"Prize wheel coming soon!"}),o.jsx(Ao,{className:"w-3 h-3"})]})]})]})]}),n.count>=520&&o.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl border border-yellow-200",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm",children:[o.jsx(Ks,{className:"w-4 h-4 text-yellow-500 fill-current"}),o.jsxs("span",{className:"text-yellow-700 font-medium",children:["Milestone Level ",n.currentLevel," Achieved!"]}),o.jsx(Ks,{className:"w-4 h-4 text-yellow-500 fill-current"})]}),o.jsxs("div",{className:"text-center text-xs text-yellow-600 mt-1",children:["You've unlocked ",Math.floor(n.count/520)," prize wheel",Math.floor(n.count/520)>1?"s":"","!"]})]})]}),s&&o.jsx(mv,{onClose:()=>{i(!1),w(),g()},level:n.currentLevel,onPrizeWon:b})]})},Bk=()=>{const{user:e,isAuthenticated:t}=os(),[n,r]=E.useState(null),[s,i]=E.useState(!0),[a,l]=E.useState(null),c=E.useRef(null);if(!t||!e)return null;const h=async()=>{try{i(!0),l(null);const m=await X.get("/api/love/partner");r(m.data)}catch(m){console.error("Error fetching partner love count:",m),l("Failed to load partner's love count")}finally{i(!1)}},d=()=>{try{c.current&&c.current.close();const m=localStorage.getItem("token");if(!m){console.error("No authentication token found for SSE"),h();return}const v=new EventSource(`/api/love-updates/subscribe?token=${encodeURIComponent(m)}`,{withCredentials:!0});v.addEventListener("partner-love-update",S=>{try{const y=JSON.parse(S.data);r(y),l(null)}catch(y){console.error("Error parsing SSE data:",y)}}),v.onerror=S=>{console.error("SSE connection error:",S),l("Real-time connection lost"),c.current&&(c.current.close(),c.current=null),setTimeout(()=>{console.log("Attempting to reconnect SSE..."),d()},3e3),setTimeout(()=>{h()},1e3)},v.onopen=()=>{console.log("SSE connection established"),l(null)},c.current=v}catch(m){console.error("Error setting up SSE:",m),h(),setTimeout(()=>{d()},5e3)}};if(E.useEffect(()=>{if(!(!t||!e))return h(),d(),()=>{c.current&&c.current.close()}},[t,e]),s&&!n)return o.jsxs("div",{className:"apple-card apple-shadow p-6 text-center animate-pulse",children:[o.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded-full mx-auto mb-4"}),o.jsx("div",{className:"h-8 bg-gray-200 rounded mb-2"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded"})]});if(a)return o.jsxs("div",{className:"apple-card apple-shadow p-6 text-center",children:[o.jsx("div",{className:"text-red-500 mb-2",children:""}),o.jsx("div",{className:"text-sm text-red-600",children:a})]});if(!n)return null;e==null||e.username,n.partnerUsername;const u=n.partnerUsername==="scott"?"text-purple-400":"text-pink-500",f=n.partnerUsername==="scott"?"bg-purple-50":"bg-pink-50",p=n.partnerUsername==="scott"?"border-purple-200":"border-pink-200";return o.jsxs("div",{className:`apple-card apple-shadow p-6 text-center transition-all duration-300 cursor-pointer group pointer-events-auto relative ${f} ${p} border group-hover:shadow-lg`,children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("div",{className:`p-3 rounded-full ${n.partnerUsername==="scott"?"bg-purple-100":"bg-pink-100"} transition-all duration-300 group-hover:scale-105`,children:o.jsx(Ie,{className:`h-8 w-8 ${u} transition-all duration-300 group-hover:scale-110`,fill:"currentColor"})})}),o.jsx("div",{className:"text-3xl font-semibold text-apple-label mb-2 transition-all duration-300 group-hover:scale-105",children:n.partnerLoveCount.toLocaleString()}),o.jsxs("div",{className:"text-apple-secondary-label transition-colors duration-300 group-hover:text-apple-blue-light mb-3",children:[n.partnerDisplayName,"'s Love"]}),o.jsxs("div",{className:"text-xs text-apple-tertiary-label mb-2",children:[" Love shared by ",n.partnerDisplayName]}),s&&o.jsx("div",{className:"text-xs text-apple-blue-light opacity-70",children:"Updating..."}),o.jsx("div",{className:"mt-2 text-xs text-apple-blue-light font-medium opacity-0 group-hover:opacity-100 transition-all duration-300",children:"Real-time sync "})]})},zk={},Rm=e=>{let t;const n=new Set,r=(d,u)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const p=t;t=u??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(m=>m(t,p))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>h,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(zk?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},h=t=e(r,s,c);return c},Uk=e=>e?Rm(e):Rm;var xv={exports:{}},yv={},vv={exports:{}},bv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ys=E;function Vk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wk=typeof Object.is=="function"?Object.is:Vk,Hk=Ys.useState,Gk=Ys.useEffect,qk=Ys.useLayoutEffect,Kk=Ys.useDebugValue;function Xk(e,t){var n=t(),r=Hk({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return qk(function(){s.value=n,s.getSnapshot=t,Kc(s)&&i({inst:s})},[e,n,t]),Gk(function(){return Kc(s)&&i({inst:s}),e(function(){Kc(s)&&i({inst:s})})},[e]),Kk(n),n}function Kc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wk(e,n)}catch{return!0}}function Yk(e,t){return t()}var Qk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Yk:Xk;bv.useSyncExternalStore=Ys.useSyncExternalStore!==void 0?Ys.useSyncExternalStore:Qk;vv.exports=bv;var Jk=vv.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ql=E,Zk=Jk;function e4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var t4=typeof Object.is=="function"?Object.is:e4,n4=Zk.useSyncExternalStore,r4=Ql.useRef,s4=Ql.useEffect,o4=Ql.useMemo,i4=Ql.useDebugValue;yv.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=r4(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=o4(function(){function c(p){if(!h){if(h=!0,d=p,p=r(p),s!==void 0&&a.hasValue){var m=a.value;if(s(m,p))return u=m}return u=p}if(m=u,t4(d,p))return m;var v=r(p);return s!==void 0&&s(m,v)?(d=p,m):(d=p,u=v)}var h=!1,d,u,f=n===void 0?null:n;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,n,r,s]);var l=n4(e,i[0],i[1]);return s4(function(){a.hasValue=!0,a.value=l},[l]),i4(l),l};xv.exports=yv;var a4=xv.exports;const l4=Jd(a4),wv={},{useDebugValue:c4}=eo,{useSyncExternalStoreWithSelector:u4}=l4;let _m=!1;const d4=e=>e;function h4(e,t=d4,n){(wv?"production":void 0)!=="production"&&n&&!_m&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),_m=!0);const r=u4(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return c4(r),r}const Mm=e=>{(wv?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Uk(e):e,n=(r,s)=>h4(t,r,s);return Object.assign(n,t),n},f4=e=>e?Mm(e):Mm;function p4(e,t){e.terminate=function(){const n=()=>{};this.onerror=n,this.onmessage=n,this.onopen=n;const r=new Date,s=Math.random().toString().substring(2,8),i=this.onclose;this.onclose=a=>{const l=new Date().getTime()-r.getTime();t(`Discarded socket (#${s})  closed after ${l}ms, with code/reason: ${a.code}/${a.reason}`)},this.close(),i==null||i.call(e,{code:4001,reason:`Quick discarding socket (#${s}) without waiting for the shutdown sequence.`,wasClean:!1})}}const Do={LF:`
`,NULL:"\0"};class Yn{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(t){const{command:n,headers:r,body:s,binaryBody:i,escapeHeaderValues:a,skipContentLengthHeader:l}=t;this.command=n,this.headers=Object.assign({},r||{}),i?(this._binaryBody=i,this.isBinaryBody=!0):(this._body=s||"",this.isBinaryBody=!1),this.escapeHeaderValues=a||!1,this.skipContentLengthHeader=l||!1}static fromRawFrame(t,n){const r={},s=i=>i.replace(/^\s+|\s+$/g,"");for(const i of t.headers.reverse()){i.indexOf(":");const a=s(i[0]);let l=s(i[1]);n&&t.command!=="CONNECT"&&t.command!=="CONNECTED"&&(l=Yn.hdrValueUnEscape(l)),r[a]=l}return new Yn({command:t.command,headers:r,binaryBody:t.binaryBody,escapeHeaderValues:n})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?Yn.toUnit8Array(t,this._binaryBody).buffer:t+this._body+Do.NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const n of Object.keys(this.headers||{})){const r=this.headers[n];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?t.push(`${n}:${Yn.hdrValueEscape(`${r}`)}`):t.push(`${n}:${r}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(Do.LF)+Do.LF+Do.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?new TextEncoder().encode(t).length:0}static toUnit8Array(t,n){const r=new TextEncoder().encode(t),s=new Uint8Array([0]),i=new Uint8Array(r.length+n.length+s.length);return i.set(r),i.set(n,r.length),i.set(s,r.length+n.length),i}static marshall(t){return new Yn(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const Om=0,ua=10,da=13,m4=58;class g4{constructor(t,n){this.onFrame=t,this.onIncomingPing=n,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,n=!1){let r;if(typeof t=="string"?r=this._encoder.encode(t):r=new Uint8Array(t),n&&r[r.length-1]!==0){const s=new Uint8Array(r.length+1);s.set(r,0),s[r.length]=0,r=s}for(let s=0;s<r.length;s++){const i=r[s];this._onByte(i)}}_collectFrame(t){if(t!==Om&&t!==da){if(t===ua){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(t!==da){if(t===ua){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_collectHeaders(t){if(t!==da){if(t===ua){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(t===m4){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(t)}_collectHeaderValue(t){if(t!==da){if(t===ua){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(n=>n[0]==="content-length")[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){if(t===Om){this._retrievedBody();return}this._consumeByte(t)}_collectBodyFixedSize(t){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(t)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var Qn;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})(Qn||(Qn={}));var Jt;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE"})(Jt||(Jt={}));var pl;(function(e){e[e.LINEAR=0]="LINEAR",e[e.EXPONENTIAL=1]="EXPONENTIAL"})(pl||(pl={}));var pi;(function(e){e.Interval="interval",e.Worker="worker"})(pi||(pi={}));class x4{constructor(t,n=pi.Interval,r){this._interval=t,this._strategy=n,this._debug=r,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(t){this.stop(),this.shouldUseWorker()?this.runWorker(t):this.runInterval(t)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===pi.Worker}runWorker(t){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=n=>t(n.data))}runInterval(t){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const n=Date.now();this._timer=setInterval(()=>{t(Date.now()-n)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class ut{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}ut.V1_0="1.0";ut.V1_1="1.1";ut.V1_2="1.2";ut.default=new ut([ut.V1_2,ut.V1_1,ut.V1_0]);class y4{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(t,n,r){this._client=t,this._webSocket=n,this._connected=!1,this._serverFrameHandlers={CONNECTED:s=>{this.debug(`connected to server ${s.headers.server}`),this._connected=!0,this._connectedVersion=s.headers.version,this._connectedVersion===ut.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(s.headers),this.onConnect(s)},MESSAGE:s=>{const i=s.headers.subscription,a=this._subscriptions[i]||this.onUnhandledMessage,l=s,c=this,h=this._connectedVersion===ut.V1_2?l.headers.ack:l.headers["message-id"];l.ack=(d={})=>c.ack(h,i,d),l.nack=(d={})=>c.nack(h,i,d),a(l)},RECEIPT:s=>{const i=this._receiptWatchers[s.headers["receipt-id"]];i?(i(s),delete this._receiptWatchers[s.headers["receipt-id"]]):this.onUnhandledReceipt(s)},ERROR:s=>{this.onStompError(s)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=r.debug,this.stompVersions=r.stompVersions,this.connectHeaders=r.connectHeaders,this.disconnectHeaders=r.disconnectHeaders,this.heartbeatIncoming=r.heartbeatIncoming,this.heartbeatToleranceMultiplier=r.heartbeatGracePeriods,this.heartbeatOutgoing=r.heartbeatOutgoing,this.splitLargeFrames=r.splitLargeFrames,this.maxWebSocketChunkSize=r.maxWebSocketChunkSize,this.forceBinaryWSFrames=r.forceBinaryWSFrames,this.logRawCommunication=r.logRawCommunication,this.appendMissingNULLonIncoming=r.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=r.discardWebsocketOnCommFailure,this.onConnect=r.onConnect,this.onDisconnect=r.onDisconnect,this.onStompError=r.onStompError,this.onWebSocketClose=r.onWebSocketClose,this.onWebSocketError=r.onWebSocketError,this.onUnhandledMessage=r.onUnhandledMessage,this.onUnhandledReceipt=r.onUnhandledReceipt,this.onUnhandledFrame=r.onUnhandledFrame,this.onHeartbeatReceived=r.onHeartbeatReceived,this.onHeartbeatLost=r.onHeartbeatLost}start(){const t=new g4(n=>{const r=Yn.fromRawFrame(n,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${r}`),(this._serverFrameHandlers[r.command]||this.onUnhandledFrame)(r)},()=>{this.debug("<<< PONG"),this.onHeartbeatReceived()});this._webSocket.onmessage=n=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const r=n.data instanceof ArrayBuffer?new TextDecoder().decode(n.data):n.data;this.debug(`<<< ${r}`)}t.parseChunk(n.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=n=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(n)},this._webSocket.onerror=n=>{this.onWebSocketError(n)},this._webSocket.onopen=()=>{const n=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),n["accept-version"]=this.stompVersions.supportedVersions(),n["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:n})}}_setupHeartbeat(t){if(t.version!==ut.V1_1&&t.version!==ut.V1_2||!t["heart-beat"])return;const[n,r]=t["heart-beat"].split(",").map(s=>parseInt(s,10));if(this.heartbeatOutgoing!==0&&r!==0){const s=Math.max(this.heartbeatOutgoing,r);this.debug(`send PING every ${s}ms`),this._pinger=new x4(s,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===Qn.OPEN&&(this._webSocket.send(Do.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&n!==0){const s=Math.max(this.heartbeatIncoming,n);this.debug(`check PONG every ${s}ms`),this._ponger=setInterval(()=>{const i=Date.now()-this._lastServerActivityTS;i>s*this.heartbeatToleranceMultiplier&&(this.debug(`did not receive server activity for the last ${i}ms`),this.onHeartbeatLost(),this._closeOrDiscardWebsocket())},s)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===Qn.CONNECTING||this._webSocket.readyState===Qn.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&p4(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:n,headers:r,body:s,binaryBody:i,skipContentLengthHeader:a}=t,l=new Yn({command:n,headers:r,body:s,binaryBody:i,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:a});let c=l.serialize();if(this.logRawCommunication?this.debug(`>>> ${c}`):this.debug(`>>> ${l}`),this.forceBinaryWSFrames&&typeof c=="string"&&(c=new TextEncoder().encode(c)),typeof c!="string"||!this.splitLargeFrames)this._webSocket.send(c);else{let h=c;for(;h.length>0;){const d=h.substring(0,this.maxWebSocketChunkSize);h=h.substring(this.maxWebSocketChunkSize),this._webSocket.send(d),this.debug(`chunk sent = ${d.length}, remaining = ${h.length}`)}}}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt=`close-${this._counter++}`),this.watchForReceipt(t.receipt,n=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(n)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===Qn.CONNECTING||this._webSocket.readyState===Qn.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:n,headers:r,body:s,binaryBody:i,skipContentLengthHeader:a}=t,l=Object.assign({destination:n},r);this._transmit({command:"SEND",headers:l,body:s,binaryBody:i,skipContentLengthHeader:a})}watchForReceipt(t,n){this._receiptWatchers[t]=n}subscribe(t,n,r={}){r=Object.assign({},r),r.id||(r.id=`sub-${this._counter++}`),r.destination=t,this._subscriptions[r.id]=n,this._transmit({command:"SUBSCRIBE",headers:r});const s=this;return{id:r.id,unsubscribe(i){return s.unsubscribe(r.id,i)}}}unsubscribe(t,n={}){n=Object.assign({},n),delete this._subscriptions[t],n.id=t,this._transmit({command:"UNSUBSCRIBE",headers:n})}begin(t){const n=t||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:n}});const r=this;return{id:n,commit(){r.commit(n)},abort(){r.abort(n)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,n,r={}){r=Object.assign({},r),this._connectedVersion===ut.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"ACK",headers:r})}nack(t,n,r={}){return r=Object.assign({},r),this._connectedVersion===ut.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"NACK",headers:r})}}class v4{get webSocket(){var t;return(t=this._stompHandler)==null?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===Jt.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}constructor(t={}){this.stompVersions=ut.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=pl.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatToleranceMultiplier=2,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=pi.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=Jt.INACTIVE;const n=()=>{};this.debug=n,this.beforeConnect=n,this.onConnect=n,this.onDisconnect=n,this.onUnhandledMessage=n,this.onUnhandledReceipt=n,this.onUnhandledFrame=n,this.onHeartbeatReceived=n,this.onHeartbeatLost=n,this.onStompError=n,this.onWebSocketClose=n,this.onWebSocketError=n,this.logRawCommunication=!1,this.onChangeState=n,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}configure(t){Object.assign(this,t),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const t=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(Jt.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===Jt.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const t=this._createWebSocket();this._stompHandler=new y4(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatGracePeriods:this.heartbeatToleranceMultiplier,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:n=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(n)},onDisconnect:n=>{this.onDisconnect(n)},onStompError:n=>{this.onStompError(n)},onWebSocketClose:n=>{this._stompHandler=void 0,this.state===Jt.DEACTIVATING&&this._changeState(Jt.INACTIVE),this.onWebSocketClose(n),this.active&&this._schedule_reconnect()},onWebSocketError:n=>{this.onWebSocketError(n)},onUnhandledMessage:n=>{this.onUnhandledMessage(n)},onUnhandledReceipt:n=>{this.onUnhandledReceipt(n)},onUnhandledFrame:n=>{this.onUnhandledFrame(n)},onHeartbeatReceived:()=>{this.onHeartbeatReceived()},onHeartbeatLost:()=>{this.onHeartbeatLost()}}),this._stompHandler.start()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else if(this.brokerURL)t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return t.binaryType="arraybuffer",t}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===pl.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(t={}){var i;const n=t.force||!1,r=this.active;let s;if(this.state===Jt.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(Jt.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==Qn.CLOSED){const a=this._stompHandler.onWebSocketClose;s=new Promise((l,c)=>{this._stompHandler.onWebSocketClose=h=>{a(h),l()}})}else return this._changeState(Jt.INACTIVE),Promise.resolve();return n?(i=this._stompHandler)==null||i.discardWebsocket():r&&this._disposeStompHandler(),s}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,n){this._checkConnection(),this._stompHandler.watchForReceipt(t,n)}subscribe(t,n,r={}){return this._checkConnection(),this._stompHandler.subscribe(t,n,r)}unsubscribe(t,n={}){this._checkConnection(),this._stompHandler.unsubscribe(t,n)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,n,r={}){this._checkConnection(),this._stompHandler.ack(t,n,r)}nack(t,n,r={}){this._checkConnection(),this._stompHandler.nack(t,n,r)}}var jv={exports:{}},Ed={};globalThis.crypto&&globalThis.crypto.getRandomValues?Ed.randomBytes=function(e){var t=new Uint8Array(e);return globalThis.crypto.getRandomValues(t),t}:Ed.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(Math.random()*256);return t};var b4=Ed,Lm="abcdefghijklmnopqrstuvwxyz012345",ao={string:function(e){for(var t=Lm.length,n=b4.randomBytes(e),r=[],s=0;s<e;s++)r.push(Lm.substr(n[s]%t,1));return r.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,n=new Array(t+1).join("0");return(n+this.number(e)).slice(-t)}};(function(e){var t=ao,n={},r=!1,s=globalThis.chrome&&globalThis.chrome.app&&globalThis.chrome.app.runtime;e.exports={attachEvent:function(a,l){typeof globalThis.addEventListener<"u"?globalThis.addEventListener(a,l,!1):globalThis.document&&globalThis.attachEvent&&(globalThis.document.attachEvent("on"+a,l),globalThis.attachEvent("on"+a,l))},detachEvent:function(a,l){typeof globalThis.addEventListener<"u"?globalThis.removeEventListener(a,l,!1):globalThis.document&&globalThis.detachEvent&&(globalThis.document.detachEvent("on"+a,l),globalThis.detachEvent("on"+a,l))},unloadAdd:function(a){if(s)return null;var l=t.string(8);return n[l]=a,r&&setTimeout(this.triggerUnloadCallbacks,0),l},unloadDel:function(a){a in n&&delete n[a]},triggerUnloadCallbacks:function(){for(var a in n)n[a](),delete n[a]}};var i=function(){r||(r=!0,e.exports.triggerUnloadCallbacks())};s||e.exports.attachEvent("unload",i)})(jv);var Nr=jv.exports,w4=function(t,n){if(n=n.split(":")[0],t=+t,!t)return!1;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},sf={},j4=Object.prototype.hasOwnProperty,N4;function Im(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function Fm(e){try{return encodeURIComponent(e)}catch{return null}}function S4(e){for(var t=/([^=?#&]+)=?([^&]*)/g,n={},r;r=t.exec(e);){var s=Im(r[1]),i=Im(r[2]);s===null||i===null||s in n||(n[s]=i)}return n}function k4(e,t){t=t||"";var n=[],r,s;typeof t!="string"&&(t="?");for(s in e)if(j4.call(e,s)){if(r=e[s],!r&&(r===null||r===N4||isNaN(r))&&(r=""),s=Fm(s),r=Fm(r),s===null||r===null)continue;n.push(s+"="+r)}return n.length?t+n.join("&"):""}sf.stringify=k4;sf.parse=S4;var Nv=w4,Jl=sf,C4=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Sv=/[\n\r\t]/g,E4=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,kv=/:\d+$/,P4=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,T4=/^[a-zA-Z]:/;function of(e){return(e||"").toString().replace(C4,"")}var Pd=[["#","hash"],["?","query"],function(t,n){return gn(n.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],$m={hash:1,query:1};function Cv(e){var t;typeof window<"u"?t=window:typeof globalThis<"u"?t=globalThis:typeof self<"u"?t=self:t={};var n=t.location||{};e=e||n;var r={},s=typeof e,i;if(e.protocol==="blob:")r=new vn(unescape(e.pathname),{});else if(s==="string"){r=new vn(e,{});for(i in $m)delete r[i]}else if(s==="object"){for(i in e)i in $m||(r[i]=e[i]);r.slashes===void 0&&(r.slashes=E4.test(e.href))}return r}function gn(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function Ev(e,t){e=of(e),e=e.replace(Sv,""),t=t||{};var n=P4.exec(e),r=n[1]?n[1].toLowerCase():"",s=!!n[2],i=!!n[3],a=0,l;return s?i?(l=n[2]+n[3]+n[4],a=n[2].length+n[3].length):(l=n[2]+n[4],a=n[2].length):i?(l=n[3]+n[4],a=n[3].length):l=n[4],r==="file:"?a>=2&&(l=l.slice(2)):gn(r)?l=n[4]:r?s&&(l=l.slice(2)):a>=2&&gn(t.protocol)&&(l=n[4]),{protocol:r,slashes:s||gn(r),slashesCount:a,rest:l}}function A4(e,t){if(e==="")return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,s=n[r-1],i=!1,a=0;r--;)n[r]==="."?n.splice(r,1):n[r]===".."?(n.splice(r,1),a++):a&&(r===0&&(i=!0),n.splice(r,1),a--);return i&&n.unshift(""),(s==="."||s==="..")&&n.push(""),n.join("/")}function vn(e,t,n){if(e=of(e),e=e.replace(Sv,""),!(this instanceof vn))return new vn(e,t,n);var r,s,i,a,l,c,h=Pd.slice(),d=typeof t,u=this,f=0;for(d!=="object"&&d!=="string"&&(n=t,t=null),n&&typeof n!="function"&&(n=Jl.parse),t=Cv(t),s=Ev(e||"",t),r=!s.protocol&&!s.slashes,u.slashes=s.slashes||r&&t.slashes,u.protocol=s.protocol||t.protocol||"",e=s.rest,(s.protocol==="file:"&&(s.slashesCount!==2||T4.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!gn(u.protocol)))&&(h[3]=[/(.*)/,"pathname"]);f<h.length;f++){if(a=h[f],typeof a=="function"){e=a(e,u);continue}i=a[0],c=a[1],i!==i?u[c]=e:typeof i=="string"?(l=i==="@"?e.lastIndexOf(i):e.indexOf(i),~l&&(typeof a[2]=="number"?(u[c]=e.slice(0,l),e=e.slice(l+a[2])):(u[c]=e.slice(l),e=e.slice(0,l)))):(l=i.exec(e))&&(u[c]=l[1],e=e.slice(0,l.index)),u[c]=u[c]||r&&a[3]&&t[c]||"",a[4]&&(u[c]=u[c].toLowerCase())}n&&(u.query=n(u.query)),r&&t.slashes&&u.pathname.charAt(0)!=="/"&&(u.pathname!==""||t.pathname!=="")&&(u.pathname=A4(u.pathname,t.pathname)),u.pathname.charAt(0)!=="/"&&gn(u.protocol)&&(u.pathname="/"+u.pathname),Nv(u.port,u.protocol)||(u.host=u.hostname,u.port=""),u.username=u.password="",u.auth&&(l=u.auth.indexOf(":"),~l?(u.username=u.auth.slice(0,l),u.username=encodeURIComponent(decodeURIComponent(u.username)),u.password=u.auth.slice(l+1),u.password=encodeURIComponent(decodeURIComponent(u.password))):u.username=encodeURIComponent(decodeURIComponent(u.auth)),u.auth=u.password?u.username+":"+u.password:u.username),u.origin=u.protocol!=="file:"&&gn(u.protocol)&&u.host?u.protocol+"//"+u.host:"null",u.href=u.toString()}function D4(e,t,n){var r=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(n||Jl.parse)(t)),r[e]=t;break;case"port":r[e]=t,Nv(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,kv.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var s=e==="pathname"?"/":"#";r[e]=t.charAt(0)!==s?s+t:t}else r[e]=t;break;case"username":case"password":r[e]=encodeURIComponent(t);break;case"auth":var i=t.indexOf(":");~i?(r.username=t.slice(0,i),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=t.slice(i+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(t))}for(var a=0;a<Pd.length;a++){var l=Pd[a];l[4]&&(r[l[1]]=r[l[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin=r.protocol!=="file:"&&gn(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function R4(e){(!e||typeof e!="function")&&(e=Jl.stringify);var t,n=this,r=n.host,s=n.protocol;s&&s.charAt(s.length-1)!==":"&&(s+=":");var i=s+(n.protocol&&n.slashes||gn(n.protocol)?"//":"");return n.username?(i+=n.username,n.password&&(i+=":"+n.password),i+="@"):n.password?(i+=":"+n.password,i+="@"):n.protocol!=="file:"&&gn(n.protocol)&&!r&&n.pathname!=="/"&&(i+="@"),(r[r.length-1]===":"||kv.test(n.hostname)&&!n.port)&&(r+=":"),i+=r+n.pathname,t=typeof n.query=="object"?e(n.query):n.query,t&&(i+=t.charAt(0)!=="?"?"?"+t:t),n.hash&&(i+=n.hash),i}vn.prototype={set:D4,toString:R4};vn.extractProtocol=Ev;vn.location=Cv;vn.trimLeft=of;vn.qs=Jl;var Pv=vn,_4=Pv,qt={getOrigin:function(e){if(!e)return null;var t=new _4(e);if(t.protocol==="file:")return null;var n=t.port;return n||(n=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},Td={exports:{}};typeof Object.create=="function"?Td.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Td.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};var me=Td.exports,it={};function Zl(){this._listeners={}}Zl.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];n.indexOf(t)===-1&&(n=n.concat([t])),this._listeners[e]=n};Zl.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var r=n.indexOf(t);if(r!==-1){n.length>1?this._listeners[e]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[e];return}}};Zl.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var r=this._listeners[t],s=0;s<r.length;s++)r[s].apply(this,n)};var Tv=Zl,M4=me,ec=Tv;function gr(){ec.call(this)}M4(gr,ec);gr.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}};gr.prototype.once=function(e,t){var n=this,r=!1;function s(){n.removeListener(e,s),r||(r=!0,t.apply(this,arguments))}this.on(e,s)};gr.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var n=arguments.length,r=new Array(n-1),s=1;s<n;s++)r[s-1]=arguments[s];for(var i=0;i<t.length;i++)t[i].apply(this,r)}};gr.prototype.on=gr.prototype.addListener=ec.prototype.addEventListener;gr.prototype.removeListener=ec.prototype.removeEventListener;it.EventEmitter=gr;var Ad={exports:{}},Bm=globalThis.WebSocket||globalThis.MozWebSocket;Bm?Ad.exports=function(t){return new Bm(t)}:Ad.exports=void 0;var O4=Ad.exports,Av=Nr,L4=qt,I4=me,Dv=it.EventEmitter,Rv=O4,zm=function(){};function $n(e,t,n){if(!$n.enabled())throw new Error("Transport created when disabled");Dv.call(this);var r=this,s=L4.addPath(e,"/websocket");s.slice(0,5)==="https"?s="wss"+s.slice(5):s="ws"+s.slice(4),this.url=s,this.ws=new Rv(this.url,[],n),this.ws.onmessage=function(i){zm("message event",i.data),r.emit("message",i.data)},this.unloadRef=Av.unloadAdd(function(){r.ws.close()}),this.ws.onclose=function(i){zm("close event",i.code,i.reason),r.emit("close",i.code,i.reason),r._cleanup()},this.ws.onerror=function(i){r.emit("close",1006,"WebSocket connection broken"),r._cleanup()}}I4($n,Dv);$n.prototype.send=function(e){var t="["+e+"]";this.ws.send(t)};$n.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()};$n.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),Av.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};$n.enabled=function(){return!!Rv};$n.transportName="websocket";$n.roundTrips=2;var F4=$n,$4=me,_v=it.EventEmitter,B4=function(){};function is(e,t){_v.call(this),this.sendBuffer=[],this.sender=t,this.url=e}$4(is,_v);is.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()};is.prototype.sendScheduleWait=function(){var e=this,t;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){e.sendStop=null,e.sendSchedule()},25)};is.prototype.sendSchedule=function(){B4("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(n){e.sendStop=null,n?(e.emit("close",n.code||1006,"Sending error: "+n),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}};is.prototype._cleanup=function(){this.removeAllListeners()};is.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};var z4=is,U4=me,Mv=it.EventEmitter,V4=function(){};function tc(e,t,n){Mv.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}U4(tc,Mv);tc.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(n){e.emit("message",n)}),t.once("close",function(n,r){V4("close",n,r,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||(r==="network"?e._scheduleReceiver():(e.emit("close",n||1006,r),e.removeAllListeners()))})};tc.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};var W4=tc,H4=me,G4=qt,af=z4,q4=W4;function lf(e,t,n,r,s){var i=G4.addPath(e,t),a=this;af.call(this,e,n),this.poll=new q4(r,i,s),this.poll.on("message",function(l){a.emit("message",l)}),this.poll.once("close",function(l,c){a.poll=null,a.emit("close",l,c),a.close()})}H4(lf,af);lf.prototype.close=function(){af.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};var Ov=lf,K4=me,X4=qt,Lv=Ov;function Y4(e){return function(t,n,r){var s={};typeof n=="string"&&(s.headers={"Content-type":"text/plain"});var i=X4.addPath(t,"/xhr_send"),a=new e("POST",i,n,s);return a.once("finish",function(l){if(a=null,l!==200&&l!==204)return r(new Error("http status "+l));r()}),function(){a.close(),a=null;var l=new Error("Aborted");l.code=1e3,r(l)}}}function Iv(e,t,n,r){Lv.call(this,e,t,Y4(r),n,r)}K4(Iv,Lv);var lo=Iv,Q4=me,Fv=it.EventEmitter;function Di(e,t){Fv.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(r,s){n._chunkHandler(r,s),n.xo=null;var i=r===200?"network":"permanent";n.emit("close",null,i),n._cleanup()})}Q4(Di,Fv);Di.prototype._chunkHandler=function(e,t){if(!(e!==200||!t))for(var n=-1;;this.bufferPosition+=n+1){var r=t.slice(this.bufferPosition);if(n=r.indexOf(`
`),n===-1)break;var s=r.slice(0,n);s&&this.emit("message",s)}};Di.prototype._cleanup=function(){this.removeAllListeners()};Di.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()};var nc=Di,$v=it.EventEmitter,J4=me,Bv=Nr,Z4=qt,mi=globalThis.XMLHttpRequest,Xc=function(){};function bn(e,t,n,r){var s=this;$v.call(this),setTimeout(function(){s._start(e,t,n,r)},0)}J4(bn,$v);bn.prototype._start=function(e,t,n,r){var s=this;try{this.xhr=new mi}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}t=Z4.addQuery(t,"t="+ +new Date),this.unloadRef=Bv.unloadAdd(function(){s._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){Xc("xhr timeout"),s.emit("finish",0,""),s._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!r||!r.noCredentials)&&bn.supportsCORS&&(this.xhr.withCredentials=!0),r&&r.headers)for(var i in r.headers)this.xhr.setRequestHeader(i,r.headers[i]);this.xhr.onreadystatechange=function(){if(s.xhr){var a=s.xhr,l,c;switch(Xc("readyState",a.readyState),a.readyState){case 3:try{c=a.status,l=a.responseText}catch{}c===1223&&(c=204),c===200&&l&&l.length>0&&s.emit("chunk",c,l);break;case 4:c=a.status,c===1223&&(c=204),(c===12005||c===12029)&&(c=0),Xc("finish",c,a.responseText),s.emit("finish",c,a.responseText),s._cleanup(!1);break}}};try{s.xhr.send(n)}catch{s.emit("finish",0,""),s._cleanup(!1)}};bn.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),Bv.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};bn.prototype.close=function(){this._cleanup(!0)};bn.enabled=!!mi;var Um=["Active"].concat("Object").join("X");!bn.enabled&&Um in globalThis&&(mi=function(){try{return new globalThis[Um]("Microsoft.XMLHTTP")}catch{return null}},bn.enabled=!!new mi);var zv=!1;try{zv="withCredentials"in new mi}catch{}bn.supportsCORS=zv;var Uv=bn,e5=me,ml=Uv;function cf(e,t,n,r){ml.call(this,e,t,n,r)}e5(cf,ml);cf.enabled=ml.enabled&&ml.supportsCORS;var rc=cf,t5=me,uf=Uv;function df(e,t,n){uf.call(this,e,t,n,{noCredentials:!0})}t5(df,uf);df.enabled=uf.enabled;var Ri=df,_i={isOpera:function(){return globalThis.navigator&&/opera/i.test(globalThis.navigator.userAgent)},isKonqueror:function(){return globalThis.navigator&&/konqueror/i.test(globalThis.navigator.userAgent)},hasDomain:function(){if(!globalThis.document)return!0;try{return!!globalThis.document.domain}catch{return!1}}},n5=me,Vv=lo,r5=nc,Dd=rc,s5=Ri,o5=_i;function co(e){if(!s5.enabled&&!Dd.enabled)throw new Error("Transport created when disabled");Vv.call(this,e,"/xhr_streaming",r5,Dd)}n5(co,Vv);co.enabled=function(e){return e.nullOrigin||o5.isOpera()?!1:Dd.enabled};co.transportName="xhr-streaming";co.roundTrips=2;co.needBody=!!globalThis.document;var i5=co,Wv=it.EventEmitter,a5=me,Hv=Nr,l5=_i,c5=qt,u5=function(){};function as(e,t,n){var r=this;Wv.call(this),setTimeout(function(){r._start(e,t,n)},0)}a5(as,Wv);as.prototype._start=function(e,t,n){var r=this,s=new globalThis.XDomainRequest;t=c5.addQuery(t,"t="+ +new Date),s.onerror=function(){r._error()},s.ontimeout=function(){r._error()},s.onprogress=function(){u5("progress",s.responseText),r.emit("chunk",200,s.responseText)},s.onload=function(){r.emit("finish",200,s.responseText),r._cleanup(!1)},this.xdr=s,this.unloadRef=Hv.unloadAdd(function(){r._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch{this._error()}};as.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};as.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),Hv.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};as.prototype.close=function(){this._cleanup(!0)};as.enabled=!!(globalThis.XDomainRequest&&l5.hasDomain());var hf=as,d5=me,Gv=lo,h5=nc,Rd=hf;function Mi(e){if(!Rd.enabled)throw new Error("Transport created when disabled");Gv.call(this,e,"/xhr_streaming",h5,Rd)}d5(Mi,Gv);Mi.enabled=function(e){return e.cookie_needed||e.nullOrigin?!1:Rd.enabled&&e.sameScheme};Mi.transportName="xdr-streaming";Mi.roundTrips=2;var qv=Mi,Kv=globalThis.EventSource,f5=me,Xv=it.EventEmitter,p5=Kv,Vm=function(){};function Oi(e){Xv.call(this);var t=this,n=this.es=new p5(e);n.onmessage=function(r){Vm("message",r.data),t.emit("message",decodeURI(r.data))},n.onerror=function(r){Vm("error",n.readyState);var s=n.readyState!==2?"network":"permanent";t._cleanup(),t._close(s)}}f5(Oi,Xv);Oi.prototype.abort=function(){this._cleanup(),this._close("user")};Oi.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)};Oi.prototype._close=function(e){var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)};var m5=Oi,g5=me,Yv=lo,x5=m5,y5=rc,v5=Kv;function uo(e){if(!uo.enabled())throw new Error("Transport created when disabled");Yv.call(this,e,"/eventsource",x5,y5)}g5(uo,Yv);uo.enabled=function(){return!!v5};uo.transportName="eventsource";uo.roundTrips=2;var Wm=uo,Yc,Hm;function Qv(){return Hm||(Hm=1,Yc="1.6.1"),Yc}var Jv={exports:{}};(function(e){var t=Nr,n=_i;e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in globalThis||(globalThis[e.exports.WPrefix]={})},postMessage:function(r,s){globalThis.parent!==globalThis&&globalThis.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:r,data:s||""}),"*")},createIframe:function(r,s){var i=globalThis.document.createElement("iframe"),a,l,c=function(){clearTimeout(a);try{i.onload=null}catch{}i.onerror=null},h=function(){i&&(c(),setTimeout(function(){i&&i.parentNode.removeChild(i),i=null},0),t.unloadDel(l))},d=function(f){i&&(h(),s(f))},u=function(f,p){setTimeout(function(){try{i&&i.contentWindow&&i.contentWindow.postMessage(f,p)}catch{}},0)};return i.src=r,i.style.display="none",i.style.position="absolute",i.onerror=function(){d("onerror")},i.onload=function(){clearTimeout(a),a=setTimeout(function(){d("onload timeout")},2e3)},globalThis.document.body.appendChild(i),a=setTimeout(function(){d("timeout")},15e3),l=t.unloadAdd(h),{post:u,cleanup:h,loaded:c}},createHtmlfile:function(r,s){var i=["Active"].concat("Object").join("X"),a=new globalThis[i]("htmlfile"),l,c,h,d=function(){clearTimeout(l),h.onerror=null},u=function(){a&&(d(),t.unloadDel(c),h.parentNode.removeChild(h),h=a=null,CollectGarbage())},f=function(v){a&&(u(),s(v))},p=function(v,S){try{setTimeout(function(){h&&h.contentWindow&&h.contentWindow.postMessage(v,S)},0)}catch{}};a.open(),a.write('<html><script>document.domain="'+globalThis.document.domain+'";<\/script></html>'),a.close(),a.parentWindow[e.exports.WPrefix]=globalThis[e.exports.WPrefix];var m=a.createElement("div");return a.body.appendChild(m),h=a.createElement("iframe"),m.appendChild(h),h.src=r,h.onerror=function(){f("onerror")},l=setTimeout(function(){f("timeout")},15e3),c=t.unloadAdd(u),{post:p,cleanup:u,loaded:d}}},e.exports.iframeEnabled=!1,globalThis.document&&(e.exports.iframeEnabled=(typeof globalThis.postMessage=="function"||typeof globalThis.postMessage=="object")&&!n.isKonqueror())})(Jv);var Li=Jv.exports,b5=me,Zv=it.EventEmitter,w5=Qv(),_d=qt,e1=Li,t1=Nr,j5=ao,No=function(){};function wn(e,t,n){if(!wn.enabled())throw new Error("Transport created when disabled");Zv.call(this);var r=this;this.origin=_d.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=j5.string(8);var s=_d.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=e1.createIframe(s,function(i){r.emit("close",1006,"Unable to load an iframe ("+i+")"),r.close()}),this.onmessageCallback=this._message.bind(this),t1.attachEvent("message",this.onmessageCallback)}b5(wn,Zv);wn.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){t1.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};wn.prototype._message=function(e){if(No("message",e.data),!_d.isOriginEqual(e.origin,this.origin)){No("not same origin",e.origin,this.origin);return}var t;try{t=JSON.parse(e.data)}catch{No("bad json",e.data);return}if(t.windowId!==this.windowId){No("mismatched window id",t.windowId,this.windowId);return}switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([w5,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=JSON.parse(t.data)}catch{No("bad json",t.data);return}this.emit("close",n[0],n[1]),this.close();break}};wn.prototype.postMessage=function(e,t){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)};wn.prototype.send=function(e){this.postMessage("m",e)};wn.enabled=function(){return e1.iframeEnabled};wn.transportName="iframe";wn.roundTrips=2;var n1=wn,ff={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}},N5=me,ha=n1,S5=ff,Qc=function(e){function t(n,r){ha.call(this,e.transportName,n,r)}return N5(t,ha),t.enabled=function(n,r){if(!globalThis.document)return!1;var s=S5.extend({},r);return s.sameOrigin=!0,e.enabled(s)&&ha.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=ha.roundTrips+e.roundTrips-1,t.facadeTransport=e,t},k5=me,Or=Li,C5=qt,r1=it.EventEmitter,E5=ao,P5=function(){};function on(e){r1.call(this);var t=this;Or.polluteGlobalNamespace(),this.id="a"+E5.string(6),e=C5.addQuery(e,"c="+decodeURIComponent(Or.WPrefix+"."+this.id)),P5("using htmlfile",on.htmlfileEnabled);var n=on.htmlfileEnabled?Or.createHtmlfile:Or.createIframe;globalThis[Or.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(r){t.emit("message",r)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=n(e,function(){t._cleanup(),t._close("permanent")})}k5(on,r1);on.prototype.abort=function(){this._cleanup(),this._close("user")};on.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete globalThis[Or.WPrefix][this.id]};on.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()};on.htmlfileEnabled=!1;var Gm=["Active"].concat("Object").join("X");if(Gm in globalThis)try{on.htmlfileEnabled=!!new globalThis[Gm]("htmlfile")}catch{}on.enabled=on.htmlfileEnabled||Or.iframeEnabled;var T5=on,A5=me,Md=T5,D5=Ri,s1=lo;function Ii(e){if(!Md.enabled)throw new Error("Transport created when disabled");s1.call(this,e,"/htmlfile",Md,D5)}A5(Ii,s1);Ii.enabled=function(e){return Md.enabled&&e.sameOrigin};Ii.transportName="htmlfile";Ii.roundTrips=2;var qm=Ii,R5=me,o1=lo,_5=nc,Od=rc,i1=Ri;function Fi(e){if(!i1.enabled&&!Od.enabled)throw new Error("Transport created when disabled");o1.call(this,e,"/xhr",_5,Od)}R5(Fi,o1);Fi.enabled=function(e){return e.nullOrigin?!1:i1.enabled&&e.sameOrigin?!0:Od.enabled};Fi.transportName="xhr-polling";Fi.roundTrips=2;var Km=Fi,M5=me,a1=lo,O5=qv,L5=nc,Xm=hf;function $i(e){if(!Xm.enabled)throw new Error("Transport created when disabled");a1.call(this,e,"/xhr",L5,Xm)}M5($i,a1);$i.enabled=O5.enabled;$i.transportName="xdr-polling";$i.roundTrips=2;var I5=$i,Vo=Li,l1=ao,F5=_i,$5=qt,B5=me,c1=it.EventEmitter,z5=function(){};function Gt(e){var t=this;c1.call(this),Vo.polluteGlobalNamespace(),this.id="a"+l1.string(6);var n=$5.addQuery(e,"c="+encodeURIComponent(Vo.WPrefix+"."+this.id));globalThis[Vo.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout(function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))},Gt.timeout)}B5(Gt,c1);Gt.prototype.abort=function(){if(globalThis[Vo.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}};Gt.timeout=35e3;Gt.scriptErrorTimeout=1e3;Gt.prototype._callback=function(e){this._cleanup(),!this.aborting&&(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())};Gt.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()};Gt.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete globalThis[Vo.WPrefix][this.id]};Gt.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},Gt.scriptErrorTimeout))};Gt.prototype._createScript=function(e){var t=this,n=this.script=globalThis.document.createElement("script"),r;if(n.id="a"+l1.string(8),n.src=e,n.type="text/javascript",n.charset="UTF-8",n.onerror=this._scriptError.bind(this),n.onload=function(){t._abort(new Error("JSONP script loaded abnormally (onload)"))},n.onreadystatechange=function(){if(z5("onreadystatechange",n.readyState),/loaded|closed/.test(n.readyState)){if(n&&n.htmlFor&&n.onclick){t.loadedOkay=!0;try{n.onclick()}catch{}}n&&t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof n.async>"u"&&globalThis.document.attachEvent)if(F5.isOpera())r=this.script2=globalThis.document.createElement("script"),r.text="try{var a = document.getElementById('"+n.id+"'); if(a)a.onerror();}catch(x){};",n.async=r.async=!1;else{try{n.htmlFor=n.id,n.event="onclick"}catch{}n.async=!0}typeof n.async<"u"&&(n.async=!0);var s=globalThis.document.getElementsByTagName("head")[0];s.insertBefore(n,s.firstChild),r&&s.insertBefore(r,s.firstChild)};var U5=Gt,V5=ao,Ym=qt,W5=function(){},Pt,Wo;function H5(e){try{return globalThis.document.createElement('<iframe name="'+e+'">')}catch{var t=globalThis.document.createElement("iframe");return t.name=e,t}}function G5(){Pt=globalThis.document.createElement("form"),Pt.style.display="none",Pt.style.position="absolute",Pt.method="POST",Pt.enctype="application/x-www-form-urlencoded",Pt.acceptCharset="UTF-8",Wo=globalThis.document.createElement("textarea"),Wo.name="d",Pt.appendChild(Wo),globalThis.document.body.appendChild(Pt)}var q5=function(e,t,n){Pt||G5();var r="a"+V5.string(8);Pt.target=r,Pt.action=Ym.addQuery(Ym.addPath(e,"/jsonp_send"),"i="+r);var s=H5(r);s.id=r,s.style.display="none",Pt.appendChild(s);try{Wo.value=t}catch{}Pt.submit();var i=function(a){s.onerror&&(s.onreadystatechange=s.onerror=s.onload=null,setTimeout(function(){s.parentNode.removeChild(s),s=null},500),Wo.value="",n(a))};return s.onerror=function(){i()},s.onload=function(){i()},s.onreadystatechange=function(a){W5("onreadystatechange",r,s.readyState),s.readyState==="complete"&&i()},function(){i(new Error("Aborted"))}},K5=me,u1=Ov,X5=U5,Y5=q5;function ls(e){if(!ls.enabled())throw new Error("Transport created when disabled");u1.call(this,e,"/jsonp",Y5,X5)}K5(ls,u1);ls.enabled=function(){return!!globalThis.document};ls.transportName="jsonp-polling";ls.roundTrips=1;ls.needBody=!0;var Q5=ls,J5=[F4,i5,qv,Wm,Qc(Wm),qm,Qc(qm),Km,I5,Qc(Km),Q5],gi=Array.prototype,pf=Object.prototype,Z5=Function.prototype,xi=String.prototype,Jc=gi.slice,mf=pf.toString,d1=function(e){return pf.toString.call(e)==="[object Function]"},eC=function(t){return mf.call(t)==="[object Array]"},h1=function(t){return mf.call(t)==="[object String]"},tC=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),Ld;tC?Ld=function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:Ld=function(e,t,n,r){!r&&t in e||(e[t]=n)};var Bi=function(e,t,n){for(var r in t)pf.hasOwnProperty.call(t,r)&&Ld(e,r,t[r],n)},f1=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return Object(e)};function nC(e){var t=+e;return t!==t?t=0:t!==0&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function rC(e){return e>>>0}function Zc(){}Bi(Z5,{bind:function(t){var n=this;if(!d1(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r=Jc.call(arguments,1),s=function(){if(this instanceof c){var h=n.apply(this,r.concat(Jc.call(arguments)));return Object(h)===h?h:this}else return n.apply(t,r.concat(Jc.call(arguments)))},i=Math.max(0,n.length-r.length),a=[],l=0;l<i;l++)a.push("$"+l);var c=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this, arguments); }")(s);return n.prototype&&(Zc.prototype=n.prototype,c.prototype=new Zc,Zc.prototype=null),c}});Bi(Array,{isArray:eC});var Qm=Object("a"),p1=Qm[0]!=="a"||!(0 in Qm),sC=function(t){var n=!0,r=!0;return t&&(t.call("foo",function(s,i,a){typeof a!="object"&&(n=!1)}),t.call([1],function(){r=typeof this=="string"},"x")),!!t&&n&&r};Bi(gi,{forEach:function(t){var n=f1(this),r=p1&&h1(this)?this.split(""):n,s=arguments[1],i=-1,a=r.length>>>0;if(!d1(t))throw new TypeError;for(;++i<a;)i in r&&t.call(s,r[i],i,n)}},!sC(gi.forEach));var oC=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;Bi(gi,{indexOf:function(t){var n=p1&&h1(this)?this.split(""):f1(this),r=n.length>>>0;if(!r)return-1;var s=0;for(arguments.length>1&&(s=nC(arguments[1])),s=s>=0?s:Math.max(0,r+s);s<r;s++)if(s in n&&n[s]===t)return s;return-1}},oC);var Jm=xi.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=/()??/.exec("")[1]===void 0;xi.split=function(t,n){var r=this;if(t===void 0&&n===0)return[];if(mf.call(t)!=="[object RegExp]")return Jm.call(this,t,n);var s=[],i=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),a=0,l,c,h,d;for(t=new RegExp(t.source,i+"g"),r+="",e||(l=new RegExp("^"+t.source+"$(?!\\s)",i)),n=n===void 0?-1>>>0:rC(n);(c=t.exec(r))&&(h=c.index+c[0].length,!(h>a&&(s.push(r.slice(a,c.index)),!e&&c.length>1&&c[0].replace(l,function(){for(var u=1;u<arguments.length-2;u++)arguments[u]===void 0&&(c[u]=void 0)}),c.length>1&&c.index<r.length&&gi.push.apply(s,c.slice(1)),d=c[0].length,a=h,s.length>=n)));)t.lastIndex===c.index&&t.lastIndex++;return a===r.length?(d||!t.test(""))&&s.push(""):s.push(r.slice(a)),s.length>n?s.slice(0,n):s}}():"0".split(void 0,0).length&&(xi.split=function(t,n){return t===void 0&&n===0?[]:Jm.call(this,t,n)});var iC=xi.substr,aC="".substr&&"0b".substr(-1)!=="b";Bi(xi,{substr:function(t,n){return iC.call(this,t<0&&(t=this.length+t)<0?0:t,n)}},aC);var fa=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,eu,lC=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(s){return n[s]="\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n},cC={quote:function(e){var t=JSON.stringify(e);return fa.lastIndex=0,fa.test(t)?(eu||(eu=lC(fa)),t.replace(fa,function(n){return eu[n]})):t}},tu=function(){},uC=function(e){return{filterToEnabled:function(t,n){var r={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(s){if(s&&!(s.transportName==="websocket"&&n.websocket===!1)){if(t.length&&t.indexOf(s.transportName)===-1){tu("not in whitelist",s.transportName);return}s.enabled(n)?(tu("enabled",s.transportName),r.main.push(s),s.facadeTransport&&r.facade.push(s.facadeTransport)):tu("disabled",s.transportName)}}),r}}},Id={};["log","debug","warn"].forEach(function(e){var t;try{t=globalThis.console&&globalThis.console[e]&&globalThis.console[e].apply}catch{}Id[e]=t?function(){return globalThis.console[e].apply(globalThis.console,arguments)}:e==="log"?function(){}:Id.log});var dC=Id;function cs(e){this.type=e}cs.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this};cs.prototype.stopPropagation=function(){};cs.prototype.preventDefault=function(){};cs.CAPTURING_PHASE=1;cs.AT_TARGET=2;cs.BUBBLING_PHASE=3;var gf=cs,m1=globalThis.location||{protocol:"http:",href:"http://localhost/",hash:""},hC=me,g1=gf;function x1(){g1.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}hC(x1,g1);var fC=x1,pC=me,y1=gf;function v1(e){y1.call(this),this.initEvent("message",!1,!1),this.data=e}pC(v1,y1);var mC=v1,b1=it.EventEmitter,gC=me;function zi(){var e=this;b1.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},zi.timeout)}gC(zi,b1);zi.prototype.close=function(){clearTimeout(this.to)};zi.timeout=2e3;var xC=zi,w1=it.EventEmitter,yC=me,vC=ff;function xf(e,t){w1.call(this);var n=this,r=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(s,i){var a,l;if(s===200){if(l=+new Date-r,i)try{a=JSON.parse(i)}catch{}vC.isObject(a)||(a={})}n.emit("finish",a,l),n.removeAllListeners()})}yC(xf,w1);xf.prototype.close=function(){this.removeAllListeners(),this.xo.close()};var j1=xf,nu,Zm;function N1(){if(Zm)return nu;Zm=1;var e=me,t=it.EventEmitter,n=Ri,r=j1;function s(i){var a=this;t.call(this),this.ir=new r(i,n),this.ir.once("finish",function(l,c){a.ir=null,a.emit("message",JSON.stringify([l,c]))})}return e(s,t),s.transportName="iframe-info-receiver",s.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},nu=s,nu}var S1=it.EventEmitter,bC=me,wC=Nr,k1=n1,jC=N1();function sc(e,t){var n=this;S1.call(this);var r=function(){var s=n.ifr=new k1(jC.transportName,t,e);s.once("message",function(i){if(i){var a;try{a=JSON.parse(i)}catch{n.emit("finish"),n.close();return}var l=a[0],c=a[1];n.emit("finish",l,c)}n.close()}),s.once("close",function(){n.emit("finish"),n.close()})};globalThis.document.body?r():wC.attachEvent("load",r)}bC(sc,S1);sc.enabled=function(){return k1.enabled()};sc.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};var NC=sc,C1=it.EventEmitter,SC=me,kC=qt,eg=hf,tg=rc,CC=Ri,EC=xC,ng=NC,pa=j1;function Tn(e,t){var n=this;C1.call(this),setTimeout(function(){n.doXhr(e,t)},0)}SC(Tn,C1);Tn._getReceiver=function(e,t,n){return n.sameOrigin?new pa(t,CC):tg.enabled?new pa(t,tg):eg.enabled&&n.sameScheme?new pa(t,eg):ng.enabled()?new ng(e,t):new pa(t,EC)};Tn.prototype.doXhr=function(e,t){var n=this,r=kC.addPath(e,"/info");this.xo=Tn._getReceiver(e,r,t),this.timeoutRef=setTimeout(function(){n._cleanup(!1),n.emit("finish")},Tn.timeout),this.xo.once("finish",function(s,i){n._cleanup(!0),n.emit("finish",s,i)})};Tn.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null};Tn.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)};Tn.timeout=8e3;var PC=Tn,ru,rg;function TC(){if(rg)return ru;rg=1;var e=Li;function t(n){this._transport=n,n.on("message",this._transportMessage.bind(this)),n.on("close",this._transportClose.bind(this))}return t.prototype._transportClose=function(n,r){e.postMessage("c",JSON.stringify([n,r]))},t.prototype._transportMessage=function(n){e.postMessage("t",n)},t.prototype._send=function(n){this._transport.send(n)},t.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},ru=t,ru}var su,sg;function AC(){if(sg)return su;sg=1;var e=qt,t=Nr,n=TC(),r=N1(),s=Li,i=m1,a=function(){};return su=function(l,c){var h={};c.forEach(function(u){u.facadeTransport&&(h[u.facadeTransport.transportName]=u.facadeTransport)}),h[r.transportName]=r;var d;l.bootstrap_iframe=function(){var u;s.currentWindowId=i.hash.slice(1);var f=function(p){if(p.source===parent&&(typeof d>"u"&&(d=p.origin),p.origin===d)){var m;try{m=JSON.parse(p.data)}catch{a("bad json",p.data);return}if(m.windowId===s.currentWindowId)switch(m.type){case"s":var v;try{v=JSON.parse(m.data)}catch{a("bad json",m.data);break}var S=v[0],y=v[1],w=v[2],g=v[3];if(S!==l.version)throw new Error('Incompatible SockJS! Main site uses: "'+S+'", the iframe: "'+l.version+'".');if(!e.isOriginEqual(w,i.href)||!e.isOriginEqual(g,i.href))throw new Error("Can't connect to different domain from within an iframe. ("+i.href+", "+w+", "+g+")");u=new n(new h[y](w,g));break;case"m":u._send(m.data);break;case"c":u&&u._close(),u=null;break}}};t.attachEvent("message",f),s.postMessage("s")}},su}var DC=Pv,RC=me,og=ao,_C=cC,Ro=qt,MC=Nr,OC=uC,LC=ff,IC=_i,FC=dC,yf=gf,E1=Tv,ma=m1,$C=fC,ig=mC,BC=PC,xn=function(){},P1;function pe(e,t,n){if(!(this instanceof pe))return new pe(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");E1.call(this),this.readyState=pe.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&FC.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var r=n.sessionId||8;if(typeof r=="function")this._generateSessionId=r;else if(typeof r=="number")this._generateSessionId=function(){return og.string(r)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=n.server||og.numberString(1e3);var s=new DC(e);if(!s.host||!s.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(s.hash)throw new SyntaxError("The URL must not contain a fragment");if(s.protocol!=="http:"&&s.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+s.protocol+"' is not allowed.");var i=s.protocol==="https:";if(ma.protocol==="https:"&&!i&&!Ro.isLoopbackAddr(s.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var a=t.sort();a.forEach(function(c,h){if(!c)throw new SyntaxError("The protocols entry '"+c+"' is invalid.");if(h<a.length-1&&c===a[h+1])throw new SyntaxError("The protocols entry '"+c+"' is duplicated.")});var l=Ro.getOrigin(ma.href);this._origin=l?l.toLowerCase():null,s.set("pathname",s.pathname.replace(/\/+$/,"")),this.url=s.href,xn("using url",this.url),this._urlInfo={nullOrigin:!IC.hasDomain(),sameOrigin:Ro.isOriginEqual(this.url,ma.href),sameScheme:Ro.isSchemeEqual(this.url,ma.href)},this._ir=new BC(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}RC(pe,E1);function T1(e){return e===1e3||e>=3e3&&e<=4999}pe.prototype.close=function(e,t){if(e&&!T1(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===pe.CLOSING||this.readyState===pe.CLOSED)){var n=!0;this._close(e||1e3,t||"Normal closure",n)}};pe.prototype.send=function(e){if(typeof e!="string"&&(e=""+e),this.readyState===pe.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===pe.OPEN&&this._transport.send(_C.quote(e))};pe.version=Qv();pe.CONNECTING=0;pe.OPEN=1;pe.CLOSING=2;pe.CLOSED=3;pe.prototype._receiveInfo=function(e,t){if(this._ir=null,!e){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=LC.extend(e,this._urlInfo);var n=P1.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,xn(this._transports.length+" enabled transports"),this._connect()};pe.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(xn("attempt",e.transportName),e.needBody&&(!globalThis.document.body||typeof globalThis.document.readyState<"u"&&globalThis.document.readyState!=="complete"&&globalThis.document.readyState!=="interactive")){this._transports.unshift(e),MC.attachEvent("load",this._connect.bind(this));return}var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);var n=Ro.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),r=this._transportOptions[e.transportName],s=new e(n,this._transUrl,r);s.on("message",this._transportMessage.bind(this)),s.once("close",this._transportClose.bind(this)),s.transportName=e.transportName,this._transport=s;return}this._close(2e3,"All transports failed",!1)};pe.prototype._transportTimeout=function(){this.readyState===pe.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};pe.prototype._transportMessage=function(e){var t=this,n=e.slice(0,1),r=e.slice(1),s;switch(n){case"o":this._open();return;case"h":this.dispatchEvent(new yf("heartbeat")),xn("heartbeat",this.transport);return}if(r)try{s=JSON.parse(r)}catch{}if(!(typeof s>"u"))switch(n){case"a":Array.isArray(s)&&s.forEach(function(i){xn("message",t.transport),t.dispatchEvent(new ig(i))});break;case"m":xn("message",this.transport),this.dispatchEvent(new ig(s));break;case"c":Array.isArray(s)&&s.length===2&&this._close(s[0],s[1],!0);break}};pe.prototype._transportClose=function(e,t){if(xn("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!T1(e)&&e!==2e3&&this.readyState===pe.CONNECTING){this._connect();return}this._close(e,t)};pe.prototype._open=function(){xn("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===pe.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=pe.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new yf("open")),xn("connected",this.transport)):this._close(1006,"Server lost session")};pe.prototype._close=function(e,t,n){xn("_close",this.transport,e,t,n,this.readyState);var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===pe.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=pe.CLOSING,setTimeout((function(){this.readyState=pe.CLOSED,r&&this.dispatchEvent(new yf("error"));var s=new $C;s.wasClean=n||!1,s.code=e||1e3,s.reason=t,this.dispatchEvent(s),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)};pe.prototype.countRTO=function(e){return e>100?4*e:300+e};var zC=function(e){return P1=OC(e),AC()(pe,e),pe},UC=J5,VC=zC(UC);"_sockjs_onload"in globalThis&&setTimeout(globalThis._sockjs_onload,1);const WC=Jd(VC),A1=()=>window.location.hostname!=="localhost"?window.location.origin:"http://localhost:8080",ze=`${A1()}/api`,ag=A1(),ga=new Map,Vn=(e,t,n=1e3)=>{ga.has(e)&&clearTimeout(ga.get(e));const r=setTimeout(()=>{t(),ga.delete(e)},n);ga.set(e,r)},oc=f4((e,t)=>({ownedBoxes:[],receivedBoxes:[],droppedBoxes:[],activeBox:null,prizeHistory:[],prizeStats:null,isLoading:!1,error:null,showCreateForm:!1,showPrizeHistory:!1,notifications:[],stompClient:null,isConnected:!1,setLoading:n=>e({isLoading:n}),setError:n=>e({error:n}),setShowCreateForm:n=>e({showCreateForm:n}),setShowPrizeHistory:n=>e({showPrizeHistory:n}),createBox:async n=>{var r,s;e({isLoading:!0,error:null});try{const i=localStorage.getItem("token");if(!i)throw new Error("No authentication token found");const a=JSON.parse(atob(i.split(".")[1])),l=a.userId,c=a.sub;if(!l||!c)throw new Error("User information not found in token");const d=(await he.get(`${ze}/auth/other-user`,{headers:{Authorization:`Bearer ${i}`}})).data.id,u={...n,ownerId:l,recipientId:d},f=await he.post(`${ze}/surprise-boxes`,u,{headers:{Authorization:`Bearer ${i}`}});await Promise.all([t().loadOwnedBoxes(),t().loadReceivedBoxes(),t().loadActiveBox()]),e({showCreateForm:!1})}catch(i){e({error:((s=(r=i.response)==null?void 0:r.data)==null?void 0:s.message)||"Failed to create surprise box"})}finally{e({isLoading:!1})}},loadOwnedBoxes:async()=>{e({isLoading:!0,error:null});try{const n=localStorage.getItem("token"),s=JSON.parse(atob((n==null?void 0:n.split(".")[1])||"")).userId,i=await fetch(`${ze}/surprise-boxes/owned/${s}`,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(!i.ok)throw new Error("Failed to load owned boxes");const a=await i.json();e({ownedBoxes:a,isLoading:!1})}catch(n){e({error:n instanceof Error?n.message:"Failed to load owned boxes",isLoading:!1})}},loadReceivedBoxes:async()=>{console.log("loadReceivedBoxes: Starting to load received boxes"),e({isLoading:!0,error:null});try{const n=localStorage.getItem("token"),s=JSON.parse(atob((n==null?void 0:n.split(".")[1])||"")).userId;console.log("loadReceivedBoxes: Loading for userId:",s);const i=await fetch(`${ze}/surprise-boxes/received/${s}`,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(!i.ok)throw new Error("Failed to load received boxes");const a=await i.json();console.log("loadReceivedBoxes: Received boxes from API:",a),e({receivedBoxes:a,isLoading:!1})}catch(n){console.error("loadReceivedBoxes: Error loading received boxes:",n),e({error:n instanceof Error?n.message:"Failed to load received boxes",isLoading:!1})}},loadActiveBox:async()=>{var n,r,s;try{const i=localStorage.getItem("token"),l=JSON.parse(atob((i==null?void 0:i.split(".")[1])||"")).userId;if((await he.get(`${ze}/surprise-boxes/has-active/${l}`,{headers:{Authorization:`Bearer ${i}`}})).data.hasActiveBox){const h=await he.get(`${ze}/surprise-boxes/active/${l}`,{headers:{Authorization:`Bearer ${i}`}});h.data&&h.data.id&&h.data.owner&&h.data.recipient?(console.log(" Active box loaded:",{id:h.data.id,status:h.data.status,rejectionReason:h.data.rejectionReason,isExpired:h.data.isExpired,owner:h.data.owner,recipient:h.data.recipient}),e({activeBox:h.data})):(console.log(" Active box response invalid:",h.data),e({activeBox:{hasActive:!0}}))}else e({activeBox:null})}catch(i){((n=i.response)==null?void 0:n.status)!==404&&e({error:((s=(r=i.response)==null?void 0:r.data)==null?void 0:s.message)||"Failed to load active box"}),e({activeBox:null})}},loadDroppedBoxes:async()=>{e({isLoading:!0,error:null});try{const n=localStorage.getItem("token"),s=JSON.parse(atob((n==null?void 0:n.split(".")[1])||"")).userId,i=await fetch(`${ze}/surprise-boxes/dropped/${s}`,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(!i.ok)throw new Error("Failed to load dropped boxes");const a=await i.json();e({droppedBoxes:a,isLoading:!1})}catch(n){e({error:n instanceof Error?n.message:"Failed to load dropped boxes",isLoading:!1})}},loadDroppingBoxes:async n=>{try{const r=localStorage.getItem("token");if(!r)throw new Error("No authentication token found");const s=await fetch(`${ze}/surprise-boxes/dropping/${n}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!s.ok)throw new Error("Failed to load dropping boxes");return await s.json()}catch(r){return console.error("Failed to load dropping boxes:",r),[]}},activateBox:async n=>{var r,s;console.log("activateBox: Starting activation process for boxId:",n),e({isLoading:!0,error:null});try{const i=localStorage.getItem("token");if(!i)throw new Error("No authentication token found");const l=JSON.parse(atob(i.split(".")[1])).userId;if(!l)throw new Error("User information not found in token");console.log("activateBox: Calling API to activate box",n,"for user",l);const c=await he.post(`${ze}/surprise-boxes/activate/${n}?userId=${l}`,{},{headers:{Authorization:`Bearer ${i}`}});console.log("activateBox: API response:",c.data),console.log("activateBox: Refreshing box data after activation"),await Promise.all([t().loadDroppedBoxes(),t().loadReceivedBoxes(),t().loadActiveBox()]),console.log("activateBox: Activation process completed successfully")}catch(i){console.error("activateBox: Error during activation process:",i),e({error:((s=(r=i.response)==null?void 0:r.data)==null?void 0:s.message)||"Failed to activate box"})}finally{e({isLoading:!1})}},claimBox:async n=>{var r,s;console.log("claimBox: Starting claim process for boxId:",n),e({isLoading:!0,error:null});try{const i=localStorage.getItem("token");if(!i)throw new Error("No authentication token found");const l=JSON.parse(atob(i.split(".")[1])).userId;if(!l)throw new Error("User information not found in token");console.log("claimBox: Calling API to claim box",n,"for user",l);const c=await he.post(`${ze}/surprise-boxes/claim/${n}?userId=${l}`,{},{headers:{Authorization:`Bearer ${i}`}});console.log("claimBox: API response:",c.data),console.log("claimBox: Refreshing box data after claim"),await Promise.all([t().loadDroppedBoxes(),t().loadReceivedBoxes(),t().loadActiveBox()]),console.log("claimBox: Claim process completed successfully")}catch(i){console.error("claimBox: Error during claim process:",i),e({error:((s=(r=i.response)==null?void 0:r.data)==null?void 0:s.message)||"Failed to claim box"})}finally{e({isLoading:!1})}},openBox:async(n,r)=>{var s,i;e({isLoading:!0,error:null});try{const a=localStorage.getItem("token"),c=JSON.parse(atob((a==null?void 0:a.split(".")[1])||"")).sub;await he.post(`${ze}/surprise-boxes/${n}/open`,{username:c},{headers:{Authorization:`Bearer ${a}`}}),await Promise.all([t().loadReceivedBoxes(),t().loadActiveBox()])}catch(a){e({error:((i=(s=a.response)==null?void 0:s.data)==null?void 0:i.message)||"Failed to open box"})}finally{e({isLoading:!1})}},completeBox:async(n,r)=>{var s,i;e({isLoading:!0,error:null});try{const a=localStorage.getItem("token"),c=JSON.parse(atob((a==null?void 0:a.split(".")[1])||"")).sub;await he.post(`${ze}/surprise-boxes/${n}/complete`,{username:c,completionData:r},{headers:{Authorization:`Bearer ${a}`}}),await Promise.all([t().loadReceivedBoxes(),t().loadActiveBox()])}catch(a){e({error:((i=(s=a.response)==null?void 0:s.data)==null?void 0:i.message)||"Failed to complete box"})}finally{e({isLoading:!1})}},approveCompletion:async n=>{var r,s;e({isLoading:!0,error:null});try{const i=localStorage.getItem("token");if(!i)throw new Error("No authentication token found");const l=JSON.parse(atob(i.split(".")[1])).userId;if(!l)throw new Error("User information not found in token");await he.post(`${ze}/surprise-boxes/${n}/approve`,{ownerId:l},{headers:{Authorization:`Bearer ${i}`}}),await Promise.all([t().loadOwnedBoxes(),t().loadReceivedBoxes(),t().loadPrizeHistory(),t().loadPrizeStats()])}catch(i){e({error:((s=(r=i.response)==null?void 0:r.data)==null?void 0:s.message)||"Failed to approve completion"})}finally{e({isLoading:!1})}},rejectCompletion:async(n,r)=>{var s,i;e({isLoading:!0,error:null});try{const a=localStorage.getItem("token");if(!a)throw new Error("No authentication token found");const c=JSON.parse(atob(a.split(".")[1])).userId;if(!c)throw new Error("User information not found in token");await he.post(`${ze}/surprise-boxes/${n}/reject`,{ownerId:c,rejectionReason:r},{headers:{Authorization:`Bearer ${a}`}}),await Promise.all([t().loadOwnedBoxes(),t().loadReceivedBoxes()])}catch(a){e({error:((i=(s=a.response)==null?void 0:s.data)==null?void 0:i.message)||"Failed to reject completion"})}finally{e({isLoading:!1})}},cancelBox:async n=>{var r,s;e({isLoading:!0,error:null});try{const i=localStorage.getItem("token");if(!i)throw new Error("No authentication token found");const l=JSON.parse(atob(i.split(".")[1])).userId;if(!l)throw new Error("User information not found in token");await he.delete(`${ze}/surprise-boxes/${n}?ownerId=${l}`,{headers:{Authorization:`Bearer ${i}`}}),await Promise.all([t().loadOwnedBoxes(),t().loadReceivedBoxes()])}catch(i){e({error:((s=(r=i.response)==null?void 0:r.data)==null?void 0:s.message)||"Failed to cancel box"})}finally{e({isLoading:!1})}},updateBox:async(n,r)=>{var s,i;e({isLoading:!0,error:null});try{const a=localStorage.getItem("token");if(!a)throw new Error("No authentication token found");const c=JSON.parse(atob(a.split(".")[1])).userId;if(!c)throw new Error("User information not found in token");const h={...r,ownerId:c},d=await he.put(`${ze}/surprise-boxes/${n}`,h,{headers:{Authorization:`Bearer ${a}`}});return await Promise.all([t().loadOwnedBoxes(),t().loadReceivedBoxes()]),d.data}catch(a){throw e({error:((i=(s=a.response)==null?void 0:s.data)==null?void 0:i.message)||"Failed to update surprise box"}),a}finally{e({isLoading:!1})}},loadPrizeHistory:async()=>{var n,r;try{const s=localStorage.getItem("token");let a=(await he.get(`${ze}/prize-history`,{headers:{Authorization:`Bearer ${s}`}})).data;a&&typeof a=="object"&&a.content&&(a=a.content),e({prizeHistory:Array.isArray(a)?a:[]})}catch(s){console.error("Failed to load prize history:",s),e({error:((r=(n=s.response)==null?void 0:n.data)==null?void 0:r.message)||"Failed to load prize history",prizeHistory:[]})}},loadPrizeStats:async()=>{var n,r;try{const s=localStorage.getItem("token"),i=await he.get(`${ze}/prize-history/stats`,{headers:{Authorization:`Bearer ${s}`}});e({prizeStats:i.data||null})}catch(s){console.error("Failed to load prize stats:",s),e({error:((r=(n=s.response)==null?void 0:n.data)==null?void 0:r.message)||"Failed to load prize stats",prizeStats:null})}},connectWebSocket:n=>{const r=n||localStorage.getItem("token");console.log(" Attempting WebSocket connection..."),console.log("Token present:",!!r),console.log("Token value:",r?`${r.substring(0,20)}...`:"null"),console.log("WebSocket URL:",`${ag}/ws`);const{stompClient:s}=t();if(r||(console.log(" No authentication token found, cannot connect to WebSocket"),console.log(" Please log in first to enable real-time notifications"),console.log(" For testing purposes, attempting connection without token...")),s&&s.connected){console.log(" Already connected to WebSocket");return}const i=new v4({webSocketFactory:()=>new WC(`${ag}/ws`),connectHeaders:r?{Authorization:`Bearer ${r}`}:{},debug:a=>{console.log("STOMP Debug:",a)},reconnectDelay:5e3,heartbeatIncoming:4e3,heartbeatOutgoing:4e3});i.onConnect=a=>{console.log(" Connected to surprise box WebSocket:",a),e({stompClient:i,isConnected:!0}),i.subscribe("/user/queue/surprise-box/updates",c=>{console.log(" Received WebSocket notification:",c.body);const h=JSON.parse(c.body),{notifications:d}=t();switch(e({notifications:[h,...d]}),h.type){case"BOX_DROPPED":console.log(" BOX_DROPPED notification - triggering refresh"),Vn("loadReceivedBoxes",()=>t().loadReceivedBoxes(),1e3),Vn("loadActiveBox",()=>t().loadActiveBox(),1e3);break;case"BOX_OPENED":console.log(" BOX_OPENED notification - triggering refresh"),Vn("loadOwnedBoxes",()=>t().loadOwnedBoxes(),1e3);break;case"BOX_APPROVED":console.log(" BOX_APPROVED notification - triggering refresh"),Vn("loadPrizeHistory",()=>t().loadPrizeHistory(),1e3),Vn("loadPrizeStats",()=>t().loadPrizeStats(),1e3);break;case"BOX_REJECTED":console.log(" BOX_REJECTED notification - triggering refresh"),Vn("loadOwnedBoxes",()=>t().loadOwnedBoxes(),1e3);break;case"BOX_EXPIRED":console.log(" BOX_EXPIRED notification - triggering refresh"),Vn("loadOwnedBoxes",()=>t().loadOwnedBoxes(),1e3);break;case"BOX_CANCELLED":console.log(" BOX_CANCELLED notification - triggering refresh"),Vn("loadOwnedBoxes",()=>t().loadOwnedBoxes(),1e3);break;default:console.log(" Unknown notification type:",h.type)}}),console.log(" WebSocket subscription established"),i.subscribe("/user/queue/surprise-box/pong",c=>{console.log(" Received pong:",c.body)}),console.log(" Subscribed to ping responses"),i.publish({destination:"/app/surprise-box/subscribe",body:JSON.stringify({action:"subscribe"})}),console.log(" Sent initial subscription message");const l=setInterval(()=>{i.connected&&(i.publish({destination:"/app/surprise-box/ping",body:JSON.stringify({timestamp:Date.now()})}),console.log(" Sent ping"))},3e4);i.pingInterval=l},i.onStompError=a=>{console.error(" STOMP error:",a),e({isConnected:!1})},i.onDisconnect=()=>{console.log(" Disconnected from surprise box WebSocket"),e({isConnected:!1}),i.pingInterval&&clearInterval(i.pingInterval)},console.log(" Activating STOMP client..."),e({stompClient:i}),i.activate()},disconnectWebSocket:()=>{const{stompClient:n}=t();n&&(n.pingInterval&&clearInterval(n.pingInterval),n.deactivate(),e({stompClient:null,isConnected:!1}))},addNotification:n=>{e(r=>({notifications:[n,...r.notifications].slice(0,10)}))},clearNotifications:()=>e({notifications:[]}),getBoxById:n=>{const{ownedBoxes:r,receivedBoxes:s}=t();return[...r,...s].find(i=>i.id===n)||null},getBoxesWaitingApproval:()=>{const{ownedBoxes:n}=t();return n.filter(r=>r.status==="WAITING_APPROVAL")},getActiveBoxesCount:()=>{const{ownedBoxes:n,receivedBoxes:r}=t();return[...n,...r].filter(s=>{if(["CLAIMED","EXPIRED","REJECTED"].includes(s.status))return!1;if(s.openedAt&&s.expirationMinutes){const i=new Date(s.openedAt),a=new Date(i.getTime()+s.expirationMinutes*6e4);if(new Date>a)return!1}return!0}).length}})),vf=()=>{const e=oc(),t=E.useCallback(()=>{e.loadOwnedBoxes()},[]),n=E.useCallback(()=>{e.loadReceivedBoxes()},[]),r=E.useCallback(()=>{e.loadActiveBox()},[]),s=E.useCallback(()=>{e.loadDroppedBoxes()},[]),i=E.useCallback(j=>e.claimBox(j),[]),a=E.useCallback(j=>{e.connectWebSocket(j)},[]),l=E.useCallback(()=>{e.disconnectWebSocket()},[]),c=E.useCallback(j=>e.createBox(j),[]),h=E.useCallback(j=>e.openBox(j),[]),d=E.useCallback(j=>e.approveBox(j),[]),u=E.useCallback(j=>e.rejectBox(j),[]),f=E.useCallback(j=>e.cancelBox(j),[]),p=E.useCallback((j,R)=>e.updateBox(j,R),[]),m=E.useCallback(()=>{e.loadPrizeHistory()},[]),v=E.useCallback(()=>{e.loadPrizeStats()},[]),S=E.useCallback(()=>{e.clearNotifications()},[]),y=E.useCallback(j=>{e.setError(j)},[]),w=E.useCallback(j=>{e.setShowCreateForm(j)},[]),g=E.useCallback(j=>{e.setShowPrizeHistory(j)},[]);return{ownedBoxes:e.ownedBoxes,receivedBoxes:e.receivedBoxes,droppedBoxes:e.droppedBoxes,activeBox:e.activeBox,notifications:e.notifications,isConnected:e.isConnected,error:e.error,isLoading:e.isLoading,prizeHistory:e.prizeHistory,prizeStats:e.prizeStats,showCreateForm:e.showCreateForm,showPrizeHistory:e.showPrizeHistory,loadOwnedBoxes:t,loadReceivedBoxes:n,loadActiveBox:r,loadDroppedBoxes:s,claimBox:i,connectWebSocket:a,disconnectWebSocket:l,createBox:c,openBox:h,approveBox:d,rejectBox:u,cancelBox:f,updateBox:p,loadPrizeHistory:m,loadPrizeStats:v,clearNotifications:S,setError:y,setShowCreateForm:w,setShowPrizeHistory:g,getBoxById:e.getBoxById,getBoxesWaitingApproval:e.getBoxesWaitingApproval,getActiveBoxesCount:e.getActiveBoxesCount}},HC=({box:e,onClaim:t,onAnimationComplete:n})=>{const[r,s]=E.useState(!0),[i,a]=E.useState(!1),{activateBox:l}=oc(),{showToast:c}=Ai(),h=async()=>{if(!i){a(!0);try{await l(e.id),c("Box is now active! Open it to see the task ","general",3e3),t(e.id)}catch(u){console.error("Failed to activate box:",u),a(!1),c("Failed to claim box. Please try again.","general",3e3)}}},d=()=>{i||(s(!1),n())};return r?o.jsxs("div",{className:`fixed z-50 cursor-pointer transform transition-all duration-300 ${i?"scale-110 opacity-0":"hover:scale-105"}`,style:{left:`${Math.random()*80+10}%`,animation:i?"none":"dropBox 4s linear forwards"},onClick:h,onAnimationEnd:d,children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-xl blur-lg opacity-60 animate-pulse"}),o.jsxs("div",{className:"relative bg-gradient-to-br from-yellow-400 via-orange-400 to-red-400 p-4 rounded-xl shadow-2xl border-2 border-yellow-300 transform rotate-3 hover:rotate-0 transition-transform duration-300",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent rounded-xl"}),o.jsx("div",{className:"relative flex items-center justify-center",children:o.jsx(He,{className:"h-8 w-8 text-white drop-shadow-lg"})}),o.jsxs("div",{className:"absolute -top-12 left-1/2 transform -translate-x-1/2 bg-black/80 text-white text-xs px-3 py-1 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap",children:[o.jsx("div",{className:"font-semibold",children:e.prizeName}),o.jsxs("div",{className:"text-gray-300",children:["From ",e.owner.name]}),o.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-black/80"})]})]}),o.jsx("div",{className:"absolute -top-2 -left-2 w-2 h-2 bg-yellow-300 rounded-full animate-ping"}),o.jsx("div",{className:"absolute -top-1 -right-1 w-1.5 h-1.5 bg-orange-300 rounded-full animate-ping",style:{animationDelay:"0.5s"}}),o.jsx("div",{className:"absolute -bottom-1 -left-1 w-1 h-1 bg-red-300 rounded-full animate-ping",style:{animationDelay:"1s"}})]}),i&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-sm font-semibold animate-bounce",children:"Claimed! "})})]}):null},GC=()=>{const[e,t]=E.useState([]),[n,r]=E.useState(new Set),s=E.useRef(new Set),i=E.useRef([]),{loadDroppingBoxes:a}=oc(),{user:l}=os();console.log("BoxDropManager: Component mounted/rendered, user:",l),E.useEffect(()=>{s.current=n},[n]),E.useEffect(()=>{i.current=e},[e]);const c=E.useCallback(async()=>{if(console.log("BoxDropManager: Checking for dropping boxes, user:",l),!(l!=null&&l.id)){console.log("BoxDropManager: No user ID, skipping check");return}try{console.log("BoxDropManager: Loading dropping boxes for user ID:",l.id);const u=await a(l.id);console.log("BoxDropManager: Received boxes from API:",u);const f=u.filter(p=>!(s.current.has(p.id)||i.current.some(v=>v.id===p.id)));console.log("BoxDropManager: Boxes ready to drop (filtered):",f),console.log("BoxDropManager: Currently active drops:",Array.from(s.current)),f.length>0?(console.log("BoxDropManager: Adding boxes to dropping animation"),r(p=>{const m=new Set(p);return f.forEach(v=>m.add(v.id)),console.log("BoxDropManager: Updated active drops:",Array.from(m)),m}),t(p=>[...p,...f])):console.log("BoxDropManager: No new boxes to drop")}catch(u){console.error("BoxDropManager: Error checking for dropping boxes:",u)}},[a,l==null?void 0:l.id]);if(!(l!=null&&l.id))return null;E.useEffect(()=>{const u=setInterval(c,5e3);return c(),()=>clearInterval(u)},[c]);const h=u=>{t(f=>f.filter(p=>p.id!==u)),r(f=>{const p=new Set(f);return p.delete(u),p})},d=u=>{t(f=>f.filter(p=>p.id!==u)),r(f=>{const p=new Set(f);return p.delete(u),p})};return o.jsx("div",{className:"fixed inset-0 pointer-events-none z-40",children:e.map(u=>o.jsx("div",{className:"pointer-events-auto",children:o.jsx(HC,{box:u,onClaim:h,onAnimationComplete:()=>d(u.id)})},`dropping-${u.id}`))})};function lg(){const e=Hl(),[t,n]=E.useState([]),[r,s]=E.useState([]),[i,a]=E.useState({photos:0,memories:0,totalLove:0}),[l,c]=E.useState([]),[h,d]=E.useState(!1),{loadOwnedBoxes:u,loadReceivedBoxes:f,loadActiveBox:p,loadDroppedBoxes:m}=vf(),v=(g=[])=>{let j=0,R;do{const b=Math.random()*70+15,D=Math.random()*70+15;if(R={top:`${b}%`,left:`${D}%`},g.every(N=>{const C=parseFloat(N.top),A=parseFloat(N.left);return Math.sqrt(Math.pow(b-C,2)+Math.pow(D-A,2))>15})||j>20)break;j++}while(j<=20);return R};E.useEffect(()=>{const g=[{emoji:"",title:"Meow! "},{emoji:"",title:"Happy kitty! "},{emoji:"",title:"Love you! "},{emoji:"",title:"Paw prints! "},{emoji:"",title:"Cute cat! "},{emoji:"",title:"Love! "}],j=[];g.forEach((R,b)=>{const D=v(j);j.push({id:`cat-${b}`,...D,emoji:R.emoji,title:R.title,isJumping:!1})}),c(j)},[]);const S=g=>{c(j=>j.map(R=>R.id===g?{...R,isJumping:!0}:R)),setTimeout(()=>{c(j=>{const R=j.filter(D=>D.id!==g),b=v(R);return j.map(D=>D.id===g?{...D,...b,isJumping:!1}:D)})},1e3)},y=g=>{sessionStorage.setItem("openMemoryId",g.toString()),e(`/memories?openMemory=${g}`)};E.useEffect(()=>{w(),u(),f(),m(),p()},[u,f,m,p]);const w=async()=>{var g;try{const j=await X.get("/api/photos?page=0&limit=50");console.log("Dashboard photos response:",j.data);const R=j.data.photos||j.data,b=((g=j.data.pagination)==null?void 0:g.total)||R.length;n(R.slice(0,6)),a(D=>({...D,photos:b}));try{const D=await X.get("/api/memories/dashboard/upcoming?limit=3");s(D.data)}catch{console.log("No upcoming memories endpoint, skipping"),s([])}try{const D=await X.get("/api/memories");a(x=>({...x,memories:D.data.length}))}catch{console.log("No memories endpoint, setting count to 0"),a(x=>({...x,memories:0}))}try{const D=await X.get("/api/love");a(x=>({...x,totalLove:D.data.totalCount||0}))}catch{console.log("No love stats endpoint, setting count to 0"),a(x=>({...x,totalLove:0}))}}catch(j){console.error("Error fetching dashboard data:",j)}};return o.jsxs("div",{className:"relative space-y-8 fade-in min-h-screen overflow-hidden bg-white",children:[o.jsx("div",{className:`fixed inset-0 z-0 pointer-events-auto ${h?"opacity-20":""}`,children:l.map((g,j)=>{const R=["animate-float hover-bounce","animate-float-slow hover-wiggle","animate-pulse-glow hover-glow","animate-wiggle hover-bounce","animate-playful-spin hover-glow","animate-heart-bounce hover-wiggle"],b=R[j%R.length],D=["text-3xl","text-4xl","text-5xl","text-6xl","text-2xl","text-xl","text-lg"],x=D[j%D.length];return o.jsx("div",{className:`absolute ${x} ${g.isJumping?"animate-jump-bounce":b} cursor-pointer select-none transition-all duration-500 ease-out`,style:{top:g.top,left:g.left,animationDelay:`${j*.8}s`,zIndex:g.isJumping?10:1,filter:"drop-shadow(0 2px 8px rgba(0, 0, 0, 0.1))"},title:g.title,onClick:()=>S(g.id),onMouseEnter:N=>{N.currentTarget.style.transform="scale(1.3) rotate(10deg)",N.currentTarget.style.filter="drop-shadow(0 4px 16px rgba(255, 182, 193, 0.6))"},onMouseLeave:N=>{N.currentTarget.style.transform="",N.currentTarget.style.filter="drop-shadow(0 2px 8px rgba(0, 0, 0, 0.1))"},children:g.emoji},g.id)})}),o.jsxs("div",{className:`relative max-w-6xl mx-auto px-6 py-8 z-20 pointer-events-none ${h?"opacity-30 pointer-events-none":""}`,children:[o.jsxs("div",{className:"text-center slide-up mb-12",children:[o.jsx("h1",{className:"font-heading text-5xl font-semibold text-apple-label mb-6",children:"Welcome to Our Love Story"}),o.jsx("p",{className:"text-xl text-apple-secondary-label max-w-3xl mx-auto leading-relaxed",children:"A private sanctuary where we celebrate our precious moments, memories, and the beautiful journey of our love "})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsx($k,{}),o.jsx(Bk,{})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsxs(ge,{to:"/gallery",className:"apple-card apple-card-hover p-6 apple-shadow transition-all duration-300 hover:scale-105 cursor-pointer group relative overflow-hidden bg-gradient-to-br from-pink-50 to-purple-50 border border-pink-100/50 pointer-events-auto",children:[o.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-pink-200/20 to-purple-200/20 rounded-full -translate-y-10 translate-x-10 group-hover:scale-150 transition-transform duration-500"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-gradient-to-tr from-pink-100/30 to-purple-100/30 rounded-full translate-y-8 -translate-x-8 group-hover:scale-125 transition-transform duration-700"}),o.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-purple-400 p-2 rounded-xl group-hover:scale-110 transition-transform duration-200",children:o.jsx(mr,{className:"h-6 w-6 text-white"})}),o.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-pink-600 to-purple-500 bg-clip-text text-transparent",children:i.photos})]}),o.jsx("div",{className:"text-lg font-semibold text-gray-800 group-hover:text-pink-600 transition-colors duration-200 mb-4 text-left flex items-center",children:" Photos Shared"}),t.length>0&&o.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:t.slice(0,4).map((g,j)=>o.jsx("div",{className:"aspect-square rounded-xl overflow-hidden bg-white shadow-sm border-2 border-pink-100 group-hover:border-pink-200 transition-all duration-300",style:{animationDelay:`${j*100}ms`},children:o.jsx("img",{src:`${ts}/api/photos/image/${g.filename}`,alt:g.caption||"Recent photo",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"})},g.id))}),o.jsx("div",{className:"text-sm text-gray-600 text-left mb-3",children:t.length>0?" Latest memories captured with love":" Ready to capture beautiful moments together"}),o.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[o.jsx("div",{className:"text-xs text-pink-500 font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"View Gallery "}),o.jsx("div",{className:"text-xs text-gray-400",children:" Made with love"})]})]})]}),o.jsxs(ge,{to:"/memories",className:"apple-card apple-card-hover apple-shadow transition-all duration-200 hover:scale-105 cursor-pointer group pointer-events-auto relative z-10 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-apple-blue/5 to-apple-purple/5 opacity-60"}),o.jsx("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-apple-blue/10 rounded-full blur-xl"}),o.jsx("div",{className:"absolute -bottom-4 -left-4 w-20 h-20 bg-apple-purple/10 rounded-full blur-xl"}),o.jsxs("div",{className:"relative p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"bg-apple-blue/10 p-3 rounded-xl group-hover:bg-apple-blue/20 transition-colors duration-200",children:o.jsx(xt,{className:"h-6 w-6 text-apple-blue"})}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-2xl font-bold text-apple-label",children:i.memories}),o.jsx("div",{className:"text-xs text-apple-tertiary-label",children:"Total"})]})]}),o.jsx("h3",{className:"text-lg font-semibold text-apple-label mb-3 group-hover:text-apple-blue transition-colors duration-200",children:"Memories Created"}),r.length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-xs text-apple-tertiary-label font-medium",children:"Upcoming:"}),o.jsx("div",{className:"grid grid-cols-1 gap-2",children:r.slice(0,3).map((g,j)=>o.jsx("div",{className:"bg-apple-gray-6/20 backdrop-blur-sm rounded-lg p-2.5 transform transition-all duration-300 hover:bg-apple-blue/10 hover:scale-105 cursor-pointer",style:{animationDelay:`${j*.1}s`},onClick:()=>y(g.id),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm font-medium text-apple-label truncate flex-1 mr-2",children:g.title}),o.jsx("div",{className:"text-xs text-apple-tertiary-label whitespace-nowrap",children:(()=>{try{let R,b,D;if(Array.isArray(g.date))[R,b,D]=g.date;else if(typeof g.date=="string")[R,b,D]=(g.date.includes("T")?g.date.split("T")[0]:g.date).split("-").map(Number);else return"Invalid Date";const x=new Date(R,b-1,D);return isNaN(x.getTime())?"Invalid Date":x.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return"Invalid Date"}})()})]})},g.id))})]}):o.jsxs("div",{className:"text-center py-4",children:[o.jsx("div",{className:"text-sm text-apple-tertiary-label mb-2",children:"No upcoming memories"}),o.jsx("div",{className:"text-xs text-apple-quaternary-label",children:"Create your first memory"})]}),o.jsxs("div",{className:"mt-4 pt-3 border-t border-apple-separator/30",children:[o.jsx("div",{className:"text-xs text-apple-tertiary-label text-center",children:"Special moments we'll never forget"}),o.jsx("div",{className:"mt-1 text-xs text-apple-blue font-medium text-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Browse All Memories "})]})]})]})]}),o.jsxs("div",{className:"apple-card apple-shadow p-8 mb-8 pointer-events-auto",children:[o.jsx("h2",{className:"text-2xl font-semibold text-apple-label mb-6 text-center",children:"Create New Memories"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(ge,{to:"/gallery",className:"bg-apple-blue/5 border border-apple-blue/20 rounded-xl p-6 hover:bg-apple-blue/10 transition-all duration-300 group pointer-events-auto",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"bg-apple-blue/10 p-3 rounded-xl group-hover:bg-apple-blue/20 transition-colors",children:o.jsx(mr,{className:"h-6 w-6 text-apple-blue"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-apple-label",children:"Upload Photos"}),o.jsx("p",{className:"text-sm text-apple-secondary-label",children:"Add new memories to your gallery"})]})]})}),o.jsx(ge,{to:"/memories",className:"bg-apple-blue/5 border border-apple-blue/20 rounded-xl p-6 hover:bg-apple-blue/10 transition-all duration-300 group pointer-events-auto",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"bg-apple-blue/10 p-3 rounded-xl group-hover:bg-apple-blue/20 transition-colors",children:o.jsx(xt,{className:"h-6 w-6 text-apple-blue"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-apple-label",children:"Add Memory"}),o.jsx("p",{className:"text-sm text-apple-secondary-label",children:"Create a special moment"})]})]})})]})]}),t.length===0&&r.length===0&&o.jsxs("div",{className:"text-center py-16",children:[o.jsx(Ie,{className:"h-16 w-16 text-apple-blue/30 mx-auto mb-6"}),o.jsx("h3",{className:"text-2xl font-semibold text-apple-label mb-4",children:"Start Your Love Story"}),o.jsx("p",{className:"text-apple-secondary-label mb-8 max-w-md mx-auto",children:"Your beautiful journey together begins here. Use the quick actions above to upload your first photos and create special memories."})]})]}),o.jsx(GC,{}),h&&o.jsx(mv,{onClose:()=>d(!1),level:1,onPrizeWon:async g=>{console.log("Prize won:",g)}})]})}const bf=({photo:e,onClose:t,onPhotoUpdate:n,onPhotoDelete:r})=>{var j,R;const[s,i]=E.useState(!1),[a,l]=E.useState(e.caption||""),[c,h]=E.useState(((j=e.categories)==null?void 0:j.map(b=>b.id))||[]),[d,u]=E.useState([]),[f,p]=E.useState(!1);console.log("PhotoDetailModal rendered with photo:",e),E.useEffect(()=>{m()},[]);const m=async()=>{try{const b=await X.get("/api/categories");u(b.data)}catch(b){console.error("Error fetching categories:",b)}},v=async()=>{try{if(p(!0),console.log("Saving photo with categories:",c),console.log("Available categories:",d),a!==e.caption)try{await X.put(`/api/photos/${e.id}/caption`,{caption:a}),console.log("Caption updated successfully")}catch(x){console.error("Error updating caption:",x)}try{await X.put(`/api/photos/${e.id}/categories`,{categoryIds:c}),console.log("Categories updated successfully")}catch(x){console.error("Error updating categories:",x)}const b=d.filter(x=>c.includes(x.id)),D={...e,caption:a,categories:b};console.log("Calling onPhotoUpdate with:",D),n(D),i(!1),alert("Photo details updated successfully!")}catch(b){console.error("Error updating photo:",b),alert("Failed to update photo. Please try again.")}finally{p(!1)}},S=async()=>{try{const b=!e.isFavorite;await X.post(`/api/photos/${e.id}/favorite`,{favorite:b});const D={...e,isFavorite:b};n(D)}catch(b){console.error("Error toggling favorite:",b),alert("Failed to update favorite status. Please try again.")}},y=async()=>{if(window.confirm("Are you sure you want to delete this photo?"))try{p(!0),await X.delete(`/api/photos/${e.id}`),r(e.id),t(),alert("Photo deleted successfully!")}catch(b){console.error("Error deleting photo:",b),alert("Failed to delete photo. Please try again.")}finally{p(!1)}},w=async b=>{console.log("Toggling category:",b,"Current selected:",c);const D=c.includes(b)?c.filter(x=>x!==b):[...c,b];console.log("New selected categories:",D),h(D);try{console.log("Saving categories to backend:",D);const x=await X.put(`/api/photos/${e.id}/categories`,{categoryIds:D});console.log("Backend response:",x.data),n(x.data),console.log("Categories saved successfully")}catch(x){console.error("Error saving categories to backend:",x),h(c)}},g=b=>{try{let D;if(Array.isArray(b)){const[x,N,C,A=0,P=0,M=0]=b;D=new Date(x,N-1,C,A,P,M)}else{const x=b.includes("T")?b.split("T")[0]:b;D=new Date(x)}return isNaN(D.getTime())?"Invalid Date":D.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}};return o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-2 sm:p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl sm:rounded-3xl max-w-6xl w-full h-full sm:max-h-[95vh] overflow-hidden shadow-2xl flex flex-col sm:flex-row",children:[o.jsxs("div",{className:"sm:hidden flex items-center justify-between p-4 border-b border-gray-200 bg-white",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Photo Details"}),o.jsx("button",{onClick:t,className:"w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 active:bg-gray-300 flex items-center justify-center transition-all duration-200",children:o.jsx(st,{className:"w-5 h-5 text-gray-600"})})]}),o.jsx("div",{className:"flex-1 bg-black flex items-center justify-center min-h-0 order-1 sm:order-none",children:o.jsx("img",{src:`${ts}/api/photos/image/${e.filename}`,alt:e.originalName,className:"max-w-full max-h-full object-contain w-full h-full sm:w-auto sm:h-auto"})}),o.jsxs("div",{className:"w-full sm:w-96 bg-white flex flex-col order-2 sm:order-none max-h-[40vh] sm:max-h-none",children:[o.jsxs("div",{className:"hidden sm:flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Photo Details"}),o.jsx("button",{onClick:t,className:"w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 active:bg-gray-300 flex items-center justify-center transition-all duration-200",children:o.jsx(st,{className:"w-5 h-5 text-gray-600"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 space-y-4 sm:space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3 text-base sm:text-lg",children:"Information"}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[o.jsx(xt,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),o.jsx("span",{className:"text-gray-700",children:g(e.createdAt)})]}),o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[o.jsx(Zh,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),o.jsxs("span",{className:"text-gray-700",children:["Uploaded by ",((R=e.uploader)==null?void 0:R.name)||"Unknown"]})]})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"font-semibold text-gray-900 text-base sm:text-lg",children:"Caption"}),o.jsx("button",{onClick:()=>i(!s),className:"p-2 rounded-full bg-blue-50 hover:bg-blue-100 active:bg-blue-200 text-blue-600 transition-all duration-200",children:o.jsx(eS,{className:"w-4 h-4"})})]}),s?o.jsx("textarea",{value:a,onChange:b=>l(b.target.value),placeholder:"Add a caption...",className:"w-full p-4 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 resize-none bg-white shadow-sm text-gray-900 placeholder-gray-500",rows:3}):o.jsx("div",{className:"max-h-24 overflow-y-auto",children:o.jsx("p",{className:"text-gray-700 text-sm p-4 bg-gray-50 rounded-xl break-words",children:a||"No caption added yet"})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"font-semibold text-gray-900 text-base sm:text-lg",children:"Categories"}),o.jsx(Zr,{className:"w-4 h-4 text-gray-500"})]}),o.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:d.filter(b=>{var D;return((D=b.name)==null?void 0:D.toLowerCase())!=="favorites"}).map(b=>o.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl hover:bg-gray-50 active:bg-gray-100 cursor-pointer transition-all duration-200 border border-transparent hover:border-gray-200",children:[o.jsx("input",{type:"checkbox",checked:c.includes(b.id),onChange:()=>w(b.id),className:"w-4 h-4 text-blue-500 bg-white border-gray-300 rounded focus:ring-blue-500 focus:ring-2 transition-colors"}),o.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0 shadow-sm",style:{backgroundColor:b.color}}),o.jsx("span",{className:"text-sm text-gray-700 truncate font-medium",children:b.name})]},b.id))})]})]}),o.jsx("div",{className:"p-4 sm:p-6 border-t border-gray-200 bg-white/80 backdrop-blur-sm",children:s?o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>{var b;i(!1),l(e.caption||""),h(((b=e.categories)==null?void 0:b.map(D=>D.id))||[])},className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 text-gray-700 rounded-xl font-semibold transition-all duration-200 min-h-[44px] flex items-center justify-center",children:"Cancel"}),o.jsxs("button",{onClick:v,disabled:f,className:"flex-1 px-4 py-3 bg-blue-500 hover:bg-blue-600 active:bg-blue-700 text-white rounded-xl font-semibold flex items-center justify-center gap-2 disabled:opacity-50 transition-all duration-200 min-h-[44px] shadow-sm",children:[o.jsx(Jh,{className:"w-4 h-4"}),f?"Saving...":"Save"]})]}):o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:S,className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 text-gray-700 rounded-xl font-semibold flex items-center justify-center gap-2 transition-all duration-200 min-h-[44px]",children:[o.jsx(Ie,{className:`w-4 h-4 ${e.isFavorite?"text-red-500 fill-current":""}`}),o.jsx("span",{className:"hidden sm:inline",children:e.isFavorite?"Favorited":"Add to Favorites"}),o.jsx("span",{className:"sm:hidden",children:e.isFavorite?"Favorited":"Favorite"})]}),o.jsxs("button",{onClick:y,disabled:f,className:"px-4 py-3 bg-red-50 hover:bg-red-100 active:bg-red-200 text-red-600 rounded-xl font-semibold flex items-center justify-center gap-2 transition-all duration-200 disabled:opacity-50 min-h-[44px]",children:[o.jsx(Ht,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})})]})]})})};function qC(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in e)){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(e)}function D1(e,t){return new Promise(function(n,r){let s;return KC(e).then(function(i){try{return s=i,n(new Blob([t.slice(0,2),s,t.slice(2)],{type:"image/jpeg"}))}catch(a){return r(a)}},r)})}const KC=e=>new Promise((t,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:s}})=>{const i=new DataView(s);let a=0;if(i.getUint16(a)!==65496)return n("not a valid JPEG");for(a+=2;;){const l=i.getUint16(a);if(l===65498)break;const c=i.getUint16(a+2);if(l===65505&&i.getUint32(a+4)===1165519206){const h=a+10;let d;switch(i.getUint16(h)){case 18761:d=!0;break;case 19789:d=!1;break;default:return n("TIFF header contains invalid endian")}if(i.getUint16(h+2,d)!==42)return n("TIFF header contains invalid version");const u=i.getUint32(h+4,d),f=h+u+2+12*i.getUint16(h+u,d);for(let p=h+u+2;p<f;p+=12)if(i.getUint16(p,d)==274){if(i.getUint16(p+2,d)!==3)return n("Orientation data type is invalid");if(i.getUint32(p+4,d)!==1)return n("Orientation data count is invalid");i.setUint16(p+8,1,d);break}return t(s.slice(a,a+2+c))}a+=2+c}return t(new Blob)}),r.readAsArrayBuffer(e)});var gl={},XC={get exports(){return gl},set exports(e){gl=e}};(function(e){var t,n,r={};XC.exports=r,r.parse=function(s,i){for(var a=r.bin.readUshort,l=r.bin.readUint,c=0,h={},d=new Uint8Array(s),u=d.length-4;l(d,u)!=101010256;)u--;c=u,c+=4;var f=a(d,c+=4);a(d,c+=2);var p=l(d,c+=2),m=l(d,c+=4);c+=4,c=m;for(var v=0;v<f;v++){l(d,c),c+=4,c+=4,c+=4,l(d,c+=4),p=l(d,c+=4);var S=l(d,c+=4),y=a(d,c+=4),w=a(d,c+2),g=a(d,c+4);c+=6;var j=l(d,c+=8);c+=4,c+=y+w+g,r._readLocal(d,j,h,p,S,i)}return h},r._readLocal=function(s,i,a,l,c,h){var d=r.bin.readUshort,u=r.bin.readUint;u(s,i),d(s,i+=4),d(s,i+=2);var f=d(s,i+=2);u(s,i+=2),u(s,i+=4),i+=4;var p=d(s,i+=8),m=d(s,i+=2);i+=2;var v=r.bin.readUTF8(s,i,p);if(i+=p,i+=m,h)a[v]={size:c,csize:l};else{var S=new Uint8Array(s.buffer,i);if(f==0)a[v]=new Uint8Array(S.buffer.slice(i,i+l));else{if(f!=8)throw"unknown compression method: "+f;var y=new Uint8Array(c);r.inflateRaw(S,y),a[v]=y}}},r.inflateRaw=function(s,i){return r.F.inflate(s,i)},r.inflate=function(s,i){return s[0],s[1],r.inflateRaw(new Uint8Array(s.buffer,s.byteOffset+2,s.length-6),i)},r.deflate=function(s,i){i==null&&(i={level:6});var a=0,l=new Uint8Array(50+Math.floor(1.1*s.length));l[a]=120,l[a+1]=156,a+=2,a=r.F.deflateRaw(s,l,a,i.level);var c=r.adler(s,0,s.length);return l[a+0]=c>>>24&255,l[a+1]=c>>>16&255,l[a+2]=c>>>8&255,l[a+3]=c>>>0&255,new Uint8Array(l.buffer,0,a+4)},r.deflateRaw=function(s,i){i==null&&(i={level:6});var a=new Uint8Array(50+Math.floor(1.1*s.length)),l=r.F.deflateRaw(s,a,l,i.level);return new Uint8Array(a.buffer,0,l)},r.encode=function(s,i){i==null&&(i=!1);var a=0,l=r.bin.writeUint,c=r.bin.writeUshort,h={};for(var d in s){var u=!r._noNeed(d)&&!i,f=s[d],p=r.crc.crc(f,0,f.length);h[d]={cpr:u,usize:f.length,crc:p,file:u?r.deflateRaw(f):f}}for(var d in h)a+=h[d].file.length+30+46+2*r.bin.sizeUTF8(d);a+=22;var m=new Uint8Array(a),v=0,S=[];for(var d in h){var y=h[d];S.push(v),v=r._writeHeader(m,v,d,y,0)}var w=0,g=v;for(var d in h)y=h[d],S.push(v),v=r._writeHeader(m,v,d,y,1,S[w++]);var j=v-g;return l(m,v,101010256),v+=4,c(m,v+=4,w),c(m,v+=2,w),l(m,v+=2,j),l(m,v+=4,g),v+=4,v+=2,m.buffer},r._noNeed=function(s){var i=s.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},r._writeHeader=function(s,i,a,l,c,h){var d=r.bin.writeUint,u=r.bin.writeUshort,f=l.file;return d(s,i,c==0?67324752:33639248),i+=4,c==1&&(i+=2),u(s,i,20),u(s,i+=2,0),u(s,i+=2,l.cpr?8:0),d(s,i+=2,0),d(s,i+=4,l.crc),d(s,i+=4,f.length),d(s,i+=4,l.usize),u(s,i+=4,r.bin.sizeUTF8(a)),u(s,i+=2,0),i+=2,c==1&&(i+=2,i+=2,d(s,i+=6,h),i+=4),i+=r.bin.writeUTF8(s,i,a),c==0&&(s.set(f,i),i+=f.length),i},r.crc={table:function(){for(var s=new Uint32Array(256),i=0;i<256;i++){for(var a=i,l=0;l<8;l++)1&a?a=3988292384^a>>>1:a>>>=1;s[i]=a}return s}(),update:function(s,i,a,l){for(var c=0;c<l;c++)s=r.crc.table[255&(s^i[a+c])]^s>>>8;return s},crc:function(s,i,a){return 4294967295^r.crc.update(4294967295,s,i,a)}},r.adler=function(s,i,a){for(var l=1,c=0,h=i,d=i+a;h<d;){for(var u=Math.min(h+5552,d);h<u;)c+=l+=s[h++];l%=65521,c%=65521}return c<<16|l},r.bin={readUshort:function(s,i){return s[i]|s[i+1]<<8},writeUshort:function(s,i,a){s[i]=255&a,s[i+1]=a>>8&255},readUint:function(s,i){return 16777216*s[i+3]+(s[i+2]<<16|s[i+1]<<8|s[i])},writeUint:function(s,i,a){s[i]=255&a,s[i+1]=a>>8&255,s[i+2]=a>>16&255,s[i+3]=a>>24&255},readASCII:function(s,i,a){for(var l="",c=0;c<a;c++)l+=String.fromCharCode(s[i+c]);return l},writeASCII:function(s,i,a){for(var l=0;l<a.length;l++)s[i+l]=a.charCodeAt(l)},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,i,a){for(var l,c="",h=0;h<a;h++)c+="%"+r.bin.pad(s[i+h].toString(16));try{l=decodeURIComponent(c)}catch{return r.bin.readASCII(s,i,a)}return l},writeUTF8:function(s,i,a){for(var l=a.length,c=0,h=0;h<l;h++){var d=a.charCodeAt(h);if(!(4294967168&d))s[i+c]=d,c++;else if(!(4294965248&d))s[i+c]=192|d>>6,s[i+c+1]=128|d>>0&63,c+=2;else if(!(4294901760&d))s[i+c]=224|d>>12,s[i+c+1]=128|d>>6&63,s[i+c+2]=128|d>>0&63,c+=3;else{if(4292870144&d)throw"e";s[i+c]=240|d>>18,s[i+c+1]=128|d>>12&63,s[i+c+2]=128|d>>6&63,s[i+c+3]=128|d>>0&63,c+=4}}return c},sizeUTF8:function(s){for(var i=s.length,a=0,l=0;l<i;l++){var c=s.charCodeAt(l);if(!(4294967168&c))a++;else if(!(4294965248&c))a+=2;else if(!(4294901760&c))a+=3;else{if(4292870144&c)throw"e";a+=4}}return a}},r.F={},r.F.deflateRaw=function(s,i,a,l){var c=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],h=r.F.U,d=r.F._goodIndex;r.F._hash;var u=r.F._putsE,f=0,p=a<<3,m=0,v=s.length;if(l==0){for(;f<v;)u(i,p,f+(A=Math.min(65535,v-f))==v?1:0),p=r.F._copyExact(s,f,A,i,p+8),f+=A;return p>>>3}var S=h.lits,y=h.strt,w=h.prev,g=0,j=0,R=0,b=0,D=0,x=0;for(v>2&&(y[x=r.F._hash(s,0)]=0),f=0;f<v;f++){if(D=x,f+1<v-2){x=r.F._hash(s,f+1);var N=f+1&32767;w[N]=y[x],y[x]=N}if(m<=f){(g>14e3||j>26697)&&v-f>100&&(m<f&&(S[g]=f-m,g+=2,m=f),p=r.F._writeBlock(f==v-1||m==v?1:0,S,g,b,s,R,f-R,i,p),g=j=b=0,R=f);var C=0;f<v-2&&(C=r.F._bestMatch(s,f,w,D,Math.min(c[2],v-f),c[3]));var A=C>>>16,P=65535&C;if(C!=0){P=65535&C;var M=d(A=C>>>16,h.of0);h.lhst[257+M]++;var _=d(P,h.df0);h.dhst[_]++,b+=h.exb[M]+h.dxb[_],S[g]=A<<23|f-m,S[g+1]=P<<16|M<<8|_,g+=2,m=f+A}else h.lhst[s[f]]++;j++}}for(R==f&&s.length!=0||(m<f&&(S[g]=f-m,g+=2,m=f),p=r.F._writeBlock(1,S,g,b,s,R,f-R,i,p),g=0,j=0,g=j=b=0,R=f);7&p;)p++;return p>>>3},r.F._bestMatch=function(s,i,a,l,c,h){var d=32767&i,u=a[d],f=d-u+32768&32767;if(u==d||l!=r.F._hash(s,i-f))return 0;for(var p=0,m=0,v=Math.min(32767,i);f<=v&&--h!=0&&u!=d;){if(p==0||s[i+p]==s[i+p-f]){var S=r.F._howLong(s,i,f);if(S>p){if(m=f,(p=S)>=c)break;f+2<S&&(S=f+2);for(var y=0,w=0;w<S-2;w++){var g=i-f+w+32768&32767,j=g-a[g]+32768&32767;j>y&&(y=j,u=g)}}}f+=(d=u)-(u=a[d])+32768&32767}return p<<16|m},r.F._howLong=function(s,i,a){if(s[i]!=s[i-a]||s[i+1]!=s[i+1-a]||s[i+2]!=s[i+2-a])return 0;var l=i,c=Math.min(s.length,i+258);for(i+=3;i<c&&s[i]==s[i-a];)i++;return i-l},r.F._hash=function(s,i){return(s[i]<<8|s[i+1])+(s[i+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(s,i,a,l,c,h,d,u,f){var p,m,v,S,y,w,g,j,R,b=r.F.U,D=r.F._putsF,x=r.F._putsE;b.lhst[256]++,m=(p=r.F.getTrees())[0],v=p[1],S=p[2],y=p[3],w=p[4],g=p[5],j=p[6],R=p[7];var N=32+(f+3&7?8-(f+3&7):0)+(d<<3),C=l+r.F.contSize(b.fltree,b.lhst)+r.F.contSize(b.fdtree,b.dhst),A=l+r.F.contSize(b.ltree,b.lhst)+r.F.contSize(b.dtree,b.dhst);A+=14+3*g+r.F.contSize(b.itree,b.ihst)+(2*b.ihst[16]+3*b.ihst[17]+7*b.ihst[18]);for(var P=0;P<286;P++)b.lhst[P]=0;for(P=0;P<30;P++)b.dhst[P]=0;for(P=0;P<19;P++)b.ihst[P]=0;var M=N<C&&N<A?0:C<A?1:2;if(D(u,f,s),D(u,f+1,M),f+=3,M==0){for(;7&f;)f++;f=r.F._copyExact(c,h,d,u,f)}else{var _,O;if(M==1&&(_=b.fltree,O=b.fdtree),M==2){r.F.makeCodes(b.ltree,m),r.F.revCodes(b.ltree,m),r.F.makeCodes(b.dtree,v),r.F.revCodes(b.dtree,v),r.F.makeCodes(b.itree,S),r.F.revCodes(b.itree,S),_=b.ltree,O=b.dtree,x(u,f,y-257),x(u,f+=5,w-1),x(u,f+=5,g-4),f+=4;for(var T=0;T<g;T++)x(u,f+3*T,b.itree[1+(b.ordr[T]<<1)]);f+=3*g,f=r.F._codeTiny(j,b.itree,u,f),f=r.F._codeTiny(R,b.itree,u,f)}for(var k=h,I=0;I<a;I+=2){for(var L=i[I],$=L>>>23,V=k+(8388607&L);k<V;)f=r.F._writeLit(c[k++],_,u,f);if($!=0){var z=i[I+1],H=z>>16,W=z>>8&255,B=255&z;x(u,f=r.F._writeLit(257+W,_,u,f),$-b.of0[W]),f+=b.exb[W],D(u,f=r.F._writeLit(B,O,u,f),H-b.df0[B]),f+=b.dxb[B],k+=$}}f=r.F._writeLit(256,_,u,f)}return f},r.F._copyExact=function(s,i,a,l,c){var h=c>>>3;return l[h]=a,l[h+1]=a>>>8,l[h+2]=255-l[h],l[h+3]=255-l[h+1],h+=4,l.set(new Uint8Array(s.buffer,i,a),h),c+(a+4<<3)},r.F.getTrees=function(){for(var s=r.F.U,i=r.F._hufTree(s.lhst,s.ltree,15),a=r.F._hufTree(s.dhst,s.dtree,15),l=[],c=r.F._lenCodes(s.ltree,l),h=[],d=r.F._lenCodes(s.dtree,h),u=0;u<l.length;u+=2)s.ihst[l[u]]++;for(u=0;u<h.length;u+=2)s.ihst[h[u]]++;for(var f=r.F._hufTree(s.ihst,s.itree,7),p=19;p>4&&s.itree[1+(s.ordr[p-1]<<1)]==0;)p--;return[i,a,f,c,d,p,l,h]},r.F.getSecond=function(s){for(var i=[],a=0;a<s.length;a+=2)i.push(s[a+1]);return i},r.F.nonZero=function(s){for(var i="",a=0;a<s.length;a+=2)s[a+1]!=0&&(i+=(a>>1)+",");return i},r.F.contSize=function(s,i){for(var a=0,l=0;l<i.length;l++)a+=i[l]*s[1+(l<<1)];return a},r.F._codeTiny=function(s,i,a,l){for(var c=0;c<s.length;c+=2){var h=s[c],d=s[c+1];l=r.F._writeLit(h,i,a,l);var u=h==16?2:h==17?3:7;h>15&&(r.F._putsE(a,l,d,u),l+=u)}return l},r.F._lenCodes=function(s,i){for(var a=s.length;a!=2&&s[a-1]==0;)a-=2;for(var l=0;l<a;l+=2){var c=s[l+1],h=l+3<a?s[l+3]:-1,d=l+5<a?s[l+5]:-1,u=l==0?-1:s[l-1];if(c==0&&h==c&&d==c){for(var f=l+5;f+2<a&&s[f+2]==c;)f+=2;(p=Math.min(f+1-l>>>1,138))<11?i.push(17,p-3):i.push(18,p-11),l+=2*p-2}else if(c==u&&h==c&&d==c){for(f=l+5;f+2<a&&s[f+2]==c;)f+=2;var p=Math.min(f+1-l>>>1,6);i.push(16,p-3),l+=2*p-2}else i.push(c,0)}return a>>>1},r.F._hufTree=function(s,i,a){var l=[],c=s.length,h=i.length,d=0;for(d=0;d<h;d+=2)i[d]=0,i[d+1]=0;for(d=0;d<c;d++)s[d]!=0&&l.push({lit:d,f:s[d]});var u=l.length,f=l.slice(0);if(u==0)return 0;if(u==1){var p=l[0].lit;return f=p==0?1:0,i[1+(p<<1)]=1,i[1+(f<<1)]=1,1}l.sort(function(j,R){return j.f-R.f});var m=l[0],v=l[1],S=0,y=1,w=2;for(l[0]={lit:-1,f:m.f+v.f,l:m,r:v,d:0};y!=u-1;)m=S!=y&&(w==u||l[S].f<l[w].f)?l[S++]:l[w++],v=S!=y&&(w==u||l[S].f<l[w].f)?l[S++]:l[w++],l[y++]={lit:-1,f:m.f+v.f,l:m,r:v};var g=r.F.setDepth(l[y-1],0);for(g>a&&(r.F.restrictDepth(f,a,g),g=a),d=0;d<u;d++)i[1+(f[d].lit<<1)]=f[d].d;return g},r.F.setDepth=function(s,i){return s.lit!=-1?(s.d=i,i):Math.max(r.F.setDepth(s.l,i+1),r.F.setDepth(s.r,i+1))},r.F.restrictDepth=function(s,i,a){var l=0,c=1<<a-i,h=0;for(s.sort(function(u,f){return f.d==u.d?u.f-f.f:f.d-u.d}),l=0;l<s.length&&s[l].d>i;l++){var d=s[l].d;s[l].d=i,h+=c-(1<<a-d)}for(h>>>=a-i;h>0;)(d=s[l].d)<i?(s[l].d++,h-=1<<i-d-1):l++;for(;l>=0;l--)s[l].d==i&&h<0&&(s[l].d--,h++);h!=0&&console.log("debt left")},r.F._goodIndex=function(s,i){var a=0;return i[16|a]<=s&&(a|=16),i[8|a]<=s&&(a|=8),i[4|a]<=s&&(a|=4),i[2|a]<=s&&(a|=2),i[1|a]<=s&&(a|=1),a},r.F._writeLit=function(s,i,a,l){return r.F._putsF(a,l,i[s<<1]),l+i[1+(s<<1)]},r.F.inflate=function(s,i){var a=Uint8Array;if(s[0]==3&&s[1]==0)return i||new a(0);var l=r.F,c=l._bitsF,h=l._bitsE,d=l._decodeTiny,u=l.makeCodes,f=l.codes2map,p=l._get17,m=l.U,v=i==null;v&&(i=new a(s.length>>>2<<3));for(var S,y,w=0,g=0,j=0,R=0,b=0,D=0,x=0,N=0,C=0;w==0;)if(w=c(s,C,1),g=c(s,C+1,2),C+=3,g!=0){if(v&&(i=r.F._check(i,N+(1<<17))),g==1&&(S=m.flmap,y=m.fdmap,D=511,x=31),g==2){j=h(s,C,5)+257,R=h(s,C+5,5)+1,b=h(s,C+10,4)+4,C+=14;for(var A=0;A<38;A+=2)m.itree[A]=0,m.itree[A+1]=0;var P=1;for(A=0;A<b;A++){var M=h(s,C+3*A,3);m.itree[1+(m.ordr[A]<<1)]=M,M>P&&(P=M)}C+=3*b,u(m.itree,P),f(m.itree,P,m.imap),S=m.lmap,y=m.dmap,C=d(m.imap,(1<<P)-1,j+R,s,C,m.ttree);var _=l._copyOut(m.ttree,0,j,m.ltree);D=(1<<_)-1;var O=l._copyOut(m.ttree,j,R,m.dtree);x=(1<<O)-1,u(m.ltree,_),f(m.ltree,_,S),u(m.dtree,O),f(m.dtree,O,y)}for(;;){var T=S[p(s,C)&D];C+=15&T;var k=T>>>4;if(!(k>>>8))i[N++]=k;else{if(k==256)break;var I=N+k-254;if(k>264){var L=m.ldef[k-257];I=N+(L>>>3)+h(s,C,7&L),C+=7&L}var $=y[p(s,C)&x];C+=15&$;var V=$>>>4,z=m.ddef[V],H=(z>>>4)+c(s,C,15&z);for(C+=15&z,v&&(i=r.F._check(i,N+(1<<17)));N<I;)i[N]=i[N++-H],i[N]=i[N++-H],i[N]=i[N++-H],i[N]=i[N++-H];N=I}}}else{7&C&&(C+=8-(7&C));var W=4+(C>>>3),B=s[W-4]|s[W-3]<<8;v&&(i=r.F._check(i,N+B)),i.set(new a(s.buffer,s.byteOffset+W,B),N),C=W+B<<3,N+=B}return i.length==N?i:i.slice(0,N)},r.F._check=function(s,i){var a=s.length;if(i<=a)return s;var l=new Uint8Array(Math.max(a<<1,i));return l.set(s,0),l},r.F._decodeTiny=function(s,i,a,l,c,h){for(var d=r.F._bitsE,u=r.F._get17,f=0;f<a;){var p=s[u(l,c)&i];c+=15&p;var m=p>>>4;if(m<=15)h[f]=m,f++;else{var v=0,S=0;m==16?(S=3+d(l,c,2),c+=2,v=h[f-1]):m==17?(S=3+d(l,c,3),c+=3):m==18&&(S=11+d(l,c,7),c+=7);for(var y=f+S;f<y;)h[f]=v,f++}}return c},r.F._copyOut=function(s,i,a,l){for(var c=0,h=0,d=l.length>>>1;h<a;){var u=s[h+i];l[h<<1]=0,l[1+(h<<1)]=u,u>c&&(c=u),h++}for(;h<d;)l[h<<1]=0,l[1+(h<<1)]=0,h++;return c},r.F.makeCodes=function(s,i){for(var a,l,c,h,d=r.F.U,u=s.length,f=d.bl_count,p=0;p<=i;p++)f[p]=0;for(p=1;p<u;p+=2)f[s[p]]++;var m=d.next_code;for(a=0,f[0]=0,l=1;l<=i;l++)a=a+f[l-1]<<1,m[l]=a;for(c=0;c<u;c+=2)(h=s[c+1])!=0&&(s[c]=m[h],m[h]++)},r.F.codes2map=function(s,i,a){for(var l=s.length,c=r.F.U.rev15,h=0;h<l;h+=2)if(s[h+1]!=0)for(var d=h>>1,u=s[h+1],f=d<<4|u,p=i-u,m=s[h]<<p,v=m+(1<<p);m!=v;)a[c[m]>>>15-i]=f,m++},r.F.revCodes=function(s,i){for(var a=r.F.U.rev15,l=15-i,c=0;c<s.length;c+=2){var h=s[c]<<i-s[c+1];s[c]=a[h]>>>l}},r.F._putsE=function(s,i,a){a<<=7&i;var l=i>>>3;s[l]|=a,s[l+1]|=a>>>8},r.F._putsF=function(s,i,a){a<<=7&i;var l=i>>>3;s[l]|=a,s[l+1]|=a>>>8,s[l+2]|=a>>>16},r.F._bitsE=function(s,i,a){return(s[i>>>3]|s[1+(i>>>3)]<<8)>>>(7&i)&(1<<a)-1},r.F._bitsF=function(s,i,a){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)&(1<<a)-1},r.F._get17=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)},r.F._get25=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16|s[3+(i>>>3)]<<24)>>>(7&i)},r.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var s=r.F.U,i=0;i<32768;i++){var a=i;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,s.rev15[i]=(a>>>16|a<<16)>>>17}function l(c,h,d){for(;h--!=0;)c.push(0,d)}for(i=0;i<32;i++)s.ldef[i]=s.of0[i]<<3|s.exb[i],s.ddef[i]=s.df0[i]<<4|s.dxb[i];l(s.fltree,144,8),l(s.fltree,112,9),l(s.fltree,24,7),l(s.fltree,8,8),r.F.makeCodes(s.fltree,9),r.F.codes2map(s.fltree,9,s.flmap),r.F.revCodes(s.fltree,9),l(s.fdtree,32,5),r.F.makeCodes(s.fdtree,5),r.F.codes2map(s.fdtree,5,s.fdmap),r.F.revCodes(s.fdtree,5),l(s.itree,19,0),l(s.ltree,286,0),l(s.dtree,30,0),l(s.ttree,320,0)}()})();var YC=qC({__proto__:null,default:gl},[gl]);const Qt=function(){var e={nextZero(d,u){for(;d[u]!=0;)u++;return u},readUshort:(d,u)=>d[u]<<8|d[u+1],writeUshort(d,u,f){d[u]=f>>8&255,d[u+1]=255&f},readUint:(d,u)=>16777216*d[u]+(d[u+1]<<16|d[u+2]<<8|d[u+3]),writeUint(d,u,f){d[u]=f>>24&255,d[u+1]=f>>16&255,d[u+2]=f>>8&255,d[u+3]=255&f},readASCII(d,u,f){let p="";for(let m=0;m<f;m++)p+=String.fromCharCode(d[u+m]);return p},writeASCII(d,u,f){for(let p=0;p<f.length;p++)d[u+p]=f.charCodeAt(p)},readBytes(d,u,f){const p=[];for(let m=0;m<f;m++)p.push(d[u+m]);return p},pad:d=>d.length<2?`0${d}`:d,readUTF8(d,u,f){let p,m="";for(let v=0;v<f;v++)m+=`%${e.pad(d[u+v].toString(16))}`;try{p=decodeURIComponent(m)}catch{return e.readASCII(d,u,f)}return p}};function t(d,u,f,p){const m=u*f,v=i(p),S=Math.ceil(u*v/8),y=new Uint8Array(4*m),w=new Uint32Array(y.buffer),{ctype:g}=p,{depth:j}=p,R=e.readUshort;if(g==6){const L=m<<2;if(j==8)for(var b=0;b<L;b+=4)y[b]=d[b],y[b+1]=d[b+1],y[b+2]=d[b+2],y[b+3]=d[b+3];if(j==16)for(b=0;b<L;b++)y[b]=d[b<<1]}else if(g==2){const L=p.tabs.tRNS;if(L==null){if(j==8)for(b=0;b<m;b++){var D=3*b;w[b]=255<<24|d[D+2]<<16|d[D+1]<<8|d[D]}if(j==16)for(b=0;b<m;b++)D=6*b,w[b]=255<<24|d[D+4]<<16|d[D+2]<<8|d[D]}else{var x=L[0];const $=L[1],V=L[2];if(j==8)for(b=0;b<m;b++){var N=b<<2;D=3*b,w[b]=255<<24|d[D+2]<<16|d[D+1]<<8|d[D],d[D]==x&&d[D+1]==$&&d[D+2]==V&&(y[N+3]=0)}if(j==16)for(b=0;b<m;b++)N=b<<2,D=6*b,w[b]=255<<24|d[D+4]<<16|d[D+2]<<8|d[D],R(d,D)==x&&R(d,D+2)==$&&R(d,D+4)==V&&(y[N+3]=0)}}else if(g==3){const L=p.tabs.PLTE,$=p.tabs.tRNS,V=$?$.length:0;if(j==1)for(var C=0;C<f;C++){var A=C*S,P=C*u;for(b=0;b<u;b++){N=P+b<<2;var M=3*(_=d[A+(b>>3)]>>7-((7&b)<<0)&1);y[N]=L[M],y[N+1]=L[M+1],y[N+2]=L[M+2],y[N+3]=_<V?$[_]:255}}if(j==2)for(C=0;C<f;C++)for(A=C*S,P=C*u,b=0;b<u;b++)N=P+b<<2,M=3*(_=d[A+(b>>2)]>>6-((3&b)<<1)&3),y[N]=L[M],y[N+1]=L[M+1],y[N+2]=L[M+2],y[N+3]=_<V?$[_]:255;if(j==4)for(C=0;C<f;C++)for(A=C*S,P=C*u,b=0;b<u;b++)N=P+b<<2,M=3*(_=d[A+(b>>1)]>>4-((1&b)<<2)&15),y[N]=L[M],y[N+1]=L[M+1],y[N+2]=L[M+2],y[N+3]=_<V?$[_]:255;if(j==8)for(b=0;b<m;b++){var _;N=b<<2,M=3*(_=d[b]),y[N]=L[M],y[N+1]=L[M+1],y[N+2]=L[M+2],y[N+3]=_<V?$[_]:255}}else if(g==4){if(j==8)for(b=0;b<m;b++){N=b<<2;var O=d[T=b<<1];y[N]=O,y[N+1]=O,y[N+2]=O,y[N+3]=d[T+1]}if(j==16)for(b=0;b<m;b++){var T;N=b<<2,O=d[T=b<<2],y[N]=O,y[N+1]=O,y[N+2]=O,y[N+3]=d[T+2]}}else if(g==0)for(x=p.tabs.tRNS?p.tabs.tRNS:-1,C=0;C<f;C++){const L=C*S,$=C*u;if(j==1)for(var k=0;k<u;k++){var I=(O=255*(d[L+(k>>>3)]>>>7-(7&k)&1))==255*x?0:255;w[$+k]=I<<24|O<<16|O<<8|O}else if(j==2)for(k=0;k<u;k++)I=(O=85*(d[L+(k>>>2)]>>>6-((3&k)<<1)&3))==85*x?0:255,w[$+k]=I<<24|O<<16|O<<8|O;else if(j==4)for(k=0;k<u;k++)I=(O=17*(d[L+(k>>>1)]>>>4-((1&k)<<2)&15))==17*x?0:255,w[$+k]=I<<24|O<<16|O<<8|O;else if(j==8)for(k=0;k<u;k++)I=(O=d[L+k])==x?0:255,w[$+k]=I<<24|O<<16|O<<8|O;else if(j==16)for(k=0;k<u;k++)O=d[L+(k<<1)],I=R(d,L+(k<<1))==x?0:255,w[$+k]=I<<24|O<<16|O<<8|O}return y}function n(d,u,f,p){const m=i(d),v=Math.ceil(f*m/8),S=new Uint8Array((v+1+d.interlace)*p);return u=d.tabs.CgBI?s(u,S):r(u,S),d.interlace==0?u=a(u,d,0,f,p):d.interlace==1&&(u=function(w,g){const j=g.width,R=g.height,b=i(g),D=b>>3,x=Math.ceil(j*b/8),N=new Uint8Array(R*x);let C=0;const A=[0,0,4,0,2,0,1],P=[0,4,0,2,0,1,0],M=[8,8,8,4,4,2,2],_=[8,8,4,4,2,2,1];let O=0;for(;O<7;){const k=M[O],I=_[O];let L=0,$=0,V=A[O];for(;V<R;)V+=k,$++;let z=P[O];for(;z<j;)z+=I,L++;const H=Math.ceil(L*b/8);a(w,g,C,L,$);let W=0,B=A[O];for(;B<R;){let G=P[O],Q=C+W*H<<3;for(;G<j;){var T;if(b==1&&(T=(T=w[Q>>3])>>7-(7&Q)&1,N[B*x+(G>>3)]|=T<<7-((7&G)<<0)),b==2&&(T=(T=w[Q>>3])>>6-(7&Q)&3,N[B*x+(G>>2)]|=T<<6-((3&G)<<1)),b==4&&(T=(T=w[Q>>3])>>4-(7&Q)&15,N[B*x+(G>>1)]|=T<<4-((1&G)<<2)),b>=8){const oe=B*x+G*D;for(let ne=0;ne<D;ne++)N[oe+ne]=w[(Q>>3)+ne]}Q+=b,G+=I}W++,B+=k}L*$!=0&&(C+=$*(1+H)),O+=1}return N}(u,d)),u}function r(d,u){return s(new Uint8Array(d.buffer,2,d.length-6),u)}var s=function(){const d={H:{}};return d.H.N=function(u,f){const p=Uint8Array;let m,v,S=0,y=0,w=0,g=0,j=0,R=0,b=0,D=0,x=0;if(u[0]==3&&u[1]==0)return f||new p(0);const N=d.H,C=N.b,A=N.e,P=N.R,M=N.n,_=N.A,O=N.Z,T=N.m,k=f==null;for(k&&(f=new p(u.length>>>2<<5));S==0;)if(S=C(u,x,1),y=C(u,x+1,2),x+=3,y!=0){if(k&&(f=d.H.W(f,D+(1<<17))),y==1&&(m=T.J,v=T.h,R=511,b=31),y==2){w=A(u,x,5)+257,g=A(u,x+5,5)+1,j=A(u,x+10,4)+4,x+=14;let L=1;for(var I=0;I<38;I+=2)T.Q[I]=0,T.Q[I+1]=0;for(I=0;I<j;I++){const z=A(u,x+3*I,3);T.Q[1+(T.X[I]<<1)]=z,z>L&&(L=z)}x+=3*j,M(T.Q,L),_(T.Q,L,T.u),m=T.w,v=T.d,x=P(T.u,(1<<L)-1,w+g,u,x,T.v);const $=N.V(T.v,0,w,T.C);R=(1<<$)-1;const V=N.V(T.v,w,g,T.D);b=(1<<V)-1,M(T.C,$),_(T.C,$,m),M(T.D,V),_(T.D,V,v)}for(;;){const L=m[O(u,x)&R];x+=15&L;const $=L>>>4;if(!($>>>8))f[D++]=$;else{if($==256)break;{let V=D+$-254;if($>264){const G=T.q[$-257];V=D+(G>>>3)+A(u,x,7&G),x+=7&G}const z=v[O(u,x)&b];x+=15&z;const H=z>>>4,W=T.c[H],B=(W>>>4)+C(u,x,15&W);for(x+=15&W;D<V;)f[D]=f[D++-B],f[D]=f[D++-B],f[D]=f[D++-B],f[D]=f[D++-B];D=V}}}}else{7&x&&(x+=8-(7&x));const L=4+(x>>>3),$=u[L-4]|u[L-3]<<8;k&&(f=d.H.W(f,D+$)),f.set(new p(u.buffer,u.byteOffset+L,$),D),x=L+$<<3,D+=$}return f.length==D?f:f.slice(0,D)},d.H.W=function(u,f){const p=u.length;if(f<=p)return u;const m=new Uint8Array(p<<1);return m.set(u,0),m},d.H.R=function(u,f,p,m,v,S){const y=d.H.e,w=d.H.Z;let g=0;for(;g<p;){const j=u[w(m,v)&f];v+=15&j;const R=j>>>4;if(R<=15)S[g]=R,g++;else{let b=0,D=0;R==16?(D=3+y(m,v,2),v+=2,b=S[g-1]):R==17?(D=3+y(m,v,3),v+=3):R==18&&(D=11+y(m,v,7),v+=7);const x=g+D;for(;g<x;)S[g]=b,g++}}return v},d.H.V=function(u,f,p,m){let v=0,S=0;const y=m.length>>>1;for(;S<p;){const w=u[S+f];m[S<<1]=0,m[1+(S<<1)]=w,w>v&&(v=w),S++}for(;S<y;)m[S<<1]=0,m[1+(S<<1)]=0,S++;return v},d.H.n=function(u,f){const p=d.H.m,m=u.length;let v,S,y,w;const g=p.j;for(var j=0;j<=f;j++)g[j]=0;for(j=1;j<m;j+=2)g[u[j]]++;const R=p.K;for(v=0,g[0]=0,S=1;S<=f;S++)v=v+g[S-1]<<1,R[S]=v;for(y=0;y<m;y+=2)w=u[y+1],w!=0&&(u[y]=R[w],R[w]++)},d.H.A=function(u,f,p){const m=u.length,v=d.H.m.r;for(let S=0;S<m;S+=2)if(u[S+1]!=0){const y=S>>1,w=u[S+1],g=y<<4|w,j=f-w;let R=u[S]<<j;const b=R+(1<<j);for(;R!=b;)p[v[R]>>>15-f]=g,R++}},d.H.l=function(u,f){const p=d.H.m.r,m=15-f;for(let v=0;v<u.length;v+=2){const S=u[v]<<f-u[v+1];u[v]=p[S]>>>m}},d.H.M=function(u,f,p){p<<=7&f;const m=f>>>3;u[m]|=p,u[m+1]|=p>>>8},d.H.I=function(u,f,p){p<<=7&f;const m=f>>>3;u[m]|=p,u[m+1]|=p>>>8,u[m+2]|=p>>>16},d.H.e=function(u,f,p){return(u[f>>>3]|u[1+(f>>>3)]<<8)>>>(7&f)&(1<<p)-1},d.H.b=function(u,f,p){return(u[f>>>3]|u[1+(f>>>3)]<<8|u[2+(f>>>3)]<<16)>>>(7&f)&(1<<p)-1},d.H.Z=function(u,f){return(u[f>>>3]|u[1+(f>>>3)]<<8|u[2+(f>>>3)]<<16)>>>(7&f)},d.H.i=function(u,f){return(u[f>>>3]|u[1+(f>>>3)]<<8|u[2+(f>>>3)]<<16|u[3+(f>>>3)]<<24)>>>(7&f)},d.H.m=function(){const u=Uint16Array,f=Uint32Array;return{K:new u(16),j:new u(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new u(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new f(32),J:new u(512),_:[],h:new u(32),$:[],w:new u(32768),C:[],v:[],d:new u(32768),D:[],u:new u(512),Q:[],r:new u(32768),s:new f(286),Y:new f(30),a:new f(19),t:new f(15e3),k:new u(65536),g:new u(32768)}}(),function(){const u=d.H.m;for(var f=0;f<32768;f++){let m=f;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,u.r[f]=(m>>>16|m<<16)>>>17}function p(m,v,S){for(;v--!=0;)m.push(0,S)}for(f=0;f<32;f++)u.q[f]=u.S[f]<<3|u.T[f],u.c[f]=u.p[f]<<4|u.z[f];p(u._,144,8),p(u._,112,9),p(u._,24,7),p(u._,8,8),d.H.n(u._,9),d.H.A(u._,9,u.J),d.H.l(u._,9),p(u.$,32,5),d.H.n(u.$,5),d.H.A(u.$,5,u.h),d.H.l(u.$,5),p(u.Q,19,0),p(u.C,286,0),p(u.D,30,0),p(u.v,320,0)}(),d.H.N}();function i(d){return[1,null,3,1,2,null,4][d.ctype]*d.depth}function a(d,u,f,p,m){let v=i(u);const S=Math.ceil(p*v/8);let y,w;v=Math.ceil(v/8);let g=d[f],j=0;if(g>1&&(d[f]=[0,0,1][g-2]),g==3)for(j=v;j<S;j++)d[j+1]=d[j+1]+(d[j+1-v]>>>1)&255;for(let R=0;R<m;R++)if(y=f+R*S,w=y+R+1,g=d[w-1],j=0,g==0)for(;j<S;j++)d[y+j]=d[w+j];else if(g==1){for(;j<v;j++)d[y+j]=d[w+j];for(;j<S;j++)d[y+j]=d[w+j]+d[y+j-v]}else if(g==2)for(;j<S;j++)d[y+j]=d[w+j]+d[y+j-S];else if(g==3){for(;j<v;j++)d[y+j]=d[w+j]+(d[y+j-S]>>>1);for(;j<S;j++)d[y+j]=d[w+j]+(d[y+j-S]+d[y+j-v]>>>1)}else{for(;j<v;j++)d[y+j]=d[w+j]+l(0,d[y+j-S],0);for(;j<S;j++)d[y+j]=d[w+j]+l(d[y+j-v],d[y+j-S],d[y+j-v-S])}return d}function l(d,u,f){const p=d+u-f,m=p-d,v=p-u,S=p-f;return m*m<=v*v&&m*m<=S*S?d:v*v<=S*S?u:f}function c(d,u,f){f.width=e.readUint(d,u),u+=4,f.height=e.readUint(d,u),u+=4,f.depth=d[u],u++,f.ctype=d[u],u++,f.compress=d[u],u++,f.filter=d[u],u++,f.interlace=d[u],u++}function h(d,u,f,p,m,v,S,y,w){const g=Math.min(u,m),j=Math.min(f,v);let R=0,b=0;for(let O=0;O<j;O++)for(let T=0;T<g;T++)if(S>=0&&y>=0?(R=O*u+T<<2,b=(y+O)*m+S+T<<2):(R=(-y+O)*u-S+T<<2,b=O*m+T<<2),w==0)p[b]=d[R],p[b+1]=d[R+1],p[b+2]=d[R+2],p[b+3]=d[R+3];else if(w==1){var D=d[R+3]*.00392156862745098,x=d[R]*D,N=d[R+1]*D,C=d[R+2]*D,A=p[b+3]*(1/255),P=p[b]*A,M=p[b+1]*A,_=p[b+2]*A;const k=1-D,I=D+A*k,L=I==0?0:1/I;p[b+3]=255*I,p[b+0]=(x+P*k)*L,p[b+1]=(N+M*k)*L,p[b+2]=(C+_*k)*L}else if(w==2)D=d[R+3],x=d[R],N=d[R+1],C=d[R+2],A=p[b+3],P=p[b],M=p[b+1],_=p[b+2],D==A&&x==P&&N==M&&C==_?(p[b]=0,p[b+1]=0,p[b+2]=0,p[b+3]=0):(p[b]=x,p[b+1]=N,p[b+2]=C,p[b+3]=D);else if(w==3){if(D=d[R+3],x=d[R],N=d[R+1],C=d[R+2],A=p[b+3],P=p[b],M=p[b+1],_=p[b+2],D==A&&x==P&&N==M&&C==_)continue;if(D<220&&A>20)return!1}return!0}return{decode:function(u){const f=new Uint8Array(u);let p=8;const m=e,v=m.readUshort,S=m.readUint,y={tabs:{},frames:[]},w=new Uint8Array(f.length);let g,j=0,R=0;const b=[137,80,78,71,13,10,26,10];for(var D=0;D<8;D++)if(f[D]!=b[D])throw"The input is not a PNG file!";for(;p<f.length;){const O=m.readUint(f,p);p+=4;const T=m.readASCII(f,p,4);if(p+=4,T=="IHDR")c(f,p,y);else if(T=="iCCP"){for(var x=p;f[x]!=0;)x++;m.readASCII(f,p,x-p),f[x+1];const k=f.slice(x+2,p+O);let I=null;try{I=r(k)}catch{I=s(k)}y.tabs[T]=I}else if(T=="CgBI")y.tabs[T]=f.slice(p,p+4);else if(T=="IDAT"){for(D=0;D<O;D++)w[j+D]=f[p+D];j+=O}else if(T=="acTL")y.tabs[T]={num_frames:S(f,p),num_plays:S(f,p+4)},g=new Uint8Array(f.length);else if(T=="fcTL"){R!=0&&((_=y.frames[y.frames.length-1]).data=n(y,g.slice(0,R),_.rect.width,_.rect.height),R=0);const k={x:S(f,p+12),y:S(f,p+16),width:S(f,p+4),height:S(f,p+8)};let I=v(f,p+22);I=v(f,p+20)/(I==0?100:I);const L={rect:k,delay:Math.round(1e3*I),dispose:f[p+24],blend:f[p+25]};y.frames.push(L)}else if(T=="fdAT"){for(D=0;D<O-4;D++)g[R+D]=f[p+D+4];R+=O-4}else if(T=="pHYs")y.tabs[T]=[m.readUint(f,p),m.readUint(f,p+4),f[p+8]];else if(T=="cHRM")for(y.tabs[T]=[],D=0;D<8;D++)y.tabs[T].push(m.readUint(f,p+4*D));else if(T=="tEXt"||T=="zTXt"){y.tabs[T]==null&&(y.tabs[T]={});var N=m.nextZero(f,p),C=m.readASCII(f,p,N-p),A=p+O-N-1;if(T=="tEXt")M=m.readASCII(f,N+1,A);else{var P=r(f.slice(N+2,N+2+A));M=m.readUTF8(P,0,P.length)}y.tabs[T][C]=M}else if(T=="iTXt"){y.tabs[T]==null&&(y.tabs[T]={}),N=0,x=p,N=m.nextZero(f,x),C=m.readASCII(f,x,N-x);const k=f[x=N+1];var M;f[x+1],x+=2,N=m.nextZero(f,x),m.readASCII(f,x,N-x),x=N+1,N=m.nextZero(f,x),m.readUTF8(f,x,N-x),A=O-((x=N+1)-p),k==0?M=m.readUTF8(f,x,A):(P=r(f.slice(x,x+A)),M=m.readUTF8(P,0,P.length)),y.tabs[T][C]=M}else if(T=="PLTE")y.tabs[T]=m.readBytes(f,p,O);else if(T=="hIST"){const k=y.tabs.PLTE.length/3;for(y.tabs[T]=[],D=0;D<k;D++)y.tabs[T].push(v(f,p+2*D))}else if(T=="tRNS")y.ctype==3?y.tabs[T]=m.readBytes(f,p,O):y.ctype==0?y.tabs[T]=v(f,p):y.ctype==2&&(y.tabs[T]=[v(f,p),v(f,p+2),v(f,p+4)]);else if(T=="gAMA")y.tabs[T]=m.readUint(f,p)/1e5;else if(T=="sRGB")y.tabs[T]=f[p];else if(T=="bKGD")y.ctype==0||y.ctype==4?y.tabs[T]=[v(f,p)]:y.ctype==2||y.ctype==6?y.tabs[T]=[v(f,p),v(f,p+2),v(f,p+4)]:y.ctype==3&&(y.tabs[T]=f[p]);else if(T=="IEND")break;p+=O,m.readUint(f,p),p+=4}var _;return R!=0&&((_=y.frames[y.frames.length-1]).data=n(y,g.slice(0,R),_.rect.width,_.rect.height)),y.data=n(y,w,y.width,y.height),delete y.compress,delete y.interlace,delete y.filter,y},toRGBA8:function(u){const f=u.width,p=u.height;if(u.tabs.acTL==null)return[t(u.data,f,p,u).buffer];const m=[];u.frames[0].data==null&&(u.frames[0].data=u.data);const v=f*p*4,S=new Uint8Array(v),y=new Uint8Array(v),w=new Uint8Array(v);for(let j=0;j<u.frames.length;j++){const R=u.frames[j],b=R.rect.x,D=R.rect.y,x=R.rect.width,N=R.rect.height,C=t(R.data,x,N,u);if(j!=0)for(var g=0;g<v;g++)w[g]=S[g];if(R.blend==0?h(C,x,N,S,f,p,b,D,0):R.blend==1&&h(C,x,N,S,f,p,b,D,1),m.push(S.buffer.slice(0)),R.dispose!=0){if(R.dispose==1)h(y,x,N,S,f,p,b,D,0);else if(R.dispose==2)for(g=0;g<v;g++)S[g]=w[g]}}return m},_paeth:l,_copyTile:h,_bin:e}}();(function(){const{_copyTile:e}=Qt,{_bin:t}=Qt,n=Qt._paeth;var r={table:function(){const x=new Uint32Array(256);for(let N=0;N<256;N++){let C=N;for(let A=0;A<8;A++)1&C?C=3988292384^C>>>1:C>>>=1;x[N]=C}return x}(),update(x,N,C,A){for(let P=0;P<A;P++)x=r.table[255&(x^N[C+P])]^x>>>8;return x},crc:(x,N,C)=>4294967295^r.update(4294967295,x,N,C)};function s(x,N,C,A){N[C]+=x[0]*A>>4,N[C+1]+=x[1]*A>>4,N[C+2]+=x[2]*A>>4,N[C+3]+=x[3]*A>>4}function i(x){return Math.max(0,Math.min(255,x))}function a(x,N){const C=x[0]-N[0],A=x[1]-N[1],P=x[2]-N[2],M=x[3]-N[3];return C*C+A*A+P*P+M*M}function l(x,N,C,A,P,M,_){_==null&&(_=1);const O=A.length,T=[];for(var k=0;k<O;k++){const B=A[k];T.push([B>>>0&255,B>>>8&255,B>>>16&255,B>>>24&255])}for(k=0;k<O;k++){let B=4294967295;for(var I=0,L=0;L<O;L++){var $=a(T[k],T[L]);L!=k&&$<B&&(B=$,I=L)}}const V=new Uint32Array(P.buffer),z=new Int16Array(N*C*4),H=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(k=0;k<H.length;k++)H[k]=255*((H[k]+.5)/16-.5);for(let B=0;B<C;B++)for(let G=0;G<N;G++){var W;k=4*(B*N+G),_!=2?W=[i(x[k]+z[k]),i(x[k+1]+z[k+1]),i(x[k+2]+z[k+2]),i(x[k+3]+z[k+3])]:($=H[4*(3&B)+(3&G)],W=[i(x[k]+$),i(x[k+1]+$),i(x[k+2]+$),i(x[k+3]+$)]),I=0;let Q=16777215;for(L=0;L<O;L++){const ie=a(W,T[L]);ie<Q&&(Q=ie,I=L)}const oe=T[I],ne=[W[0]-oe[0],W[1]-oe[1],W[2]-oe[2],W[3]-oe[3]];_==1&&(G!=N-1&&s(ne,z,k+4,7),B!=C-1&&(G!=0&&s(ne,z,k+4*N-4,3),s(ne,z,k+4*N,5),G!=N-1&&s(ne,z,k+4*N+4,1))),M[k>>2]=I,V[k>>2]=A[I]}}function c(x,N,C,A,P){P==null&&(P={});const{crc:M}=r,_=t.writeUint,O=t.writeUshort,T=t.writeASCII;let k=8;const I=x.frames.length>1;let L,$=!1,V=33+(I?20:0);if(P.sRGB!=null&&(V+=13),P.pHYs!=null&&(V+=21),P.iCCP!=null&&(L=pako.deflate(P.iCCP),V+=21+L.length+4),x.ctype==3){for(var z=x.plte.length,H=0;H<z;H++)x.plte[H]>>>24!=255&&($=!0);V+=8+3*z+4+($?8+1*z+4:0)}for(var W=0;W<x.frames.length;W++)I&&(V+=38),V+=(oe=x.frames[W]).cimg.length+12,W!=0&&(V+=4);V+=12;const B=new Uint8Array(V),G=[137,80,78,71,13,10,26,10];for(H=0;H<8;H++)B[H]=G[H];if(_(B,k,13),k+=4,T(B,k,"IHDR"),k+=4,_(B,k,N),k+=4,_(B,k,C),k+=4,B[k]=x.depth,k++,B[k]=x.ctype,k++,B[k]=0,k++,B[k]=0,k++,B[k]=0,k++,_(B,k,M(B,k-17,17)),k+=4,P.sRGB!=null&&(_(B,k,1),k+=4,T(B,k,"sRGB"),k+=4,B[k]=P.sRGB,k++,_(B,k,M(B,k-5,5)),k+=4),P.iCCP!=null){const ne=13+L.length;_(B,k,ne),k+=4,T(B,k,"iCCP"),k+=4,T(B,k,"ICC profile"),k+=11,k+=2,B.set(L,k),k+=L.length,_(B,k,M(B,k-(ne+4),ne+4)),k+=4}if(P.pHYs!=null&&(_(B,k,9),k+=4,T(B,k,"pHYs"),k+=4,_(B,k,P.pHYs[0]),k+=4,_(B,k,P.pHYs[1]),k+=4,B[k]=P.pHYs[2],k++,_(B,k,M(B,k-13,13)),k+=4),I&&(_(B,k,8),k+=4,T(B,k,"acTL"),k+=4,_(B,k,x.frames.length),k+=4,_(B,k,P.loop!=null?P.loop:0),k+=4,_(B,k,M(B,k-12,12)),k+=4),x.ctype==3){for(_(B,k,3*(z=x.plte.length)),k+=4,T(B,k,"PLTE"),k+=4,H=0;H<z;H++){const ne=3*H,ie=x.plte[H],ue=255&ie,ve=ie>>>8&255,St=ie>>>16&255;B[k+ne+0]=ue,B[k+ne+1]=ve,B[k+ne+2]=St}if(k+=3*z,_(B,k,M(B,k-3*z-4,3*z+4)),k+=4,$){for(_(B,k,z),k+=4,T(B,k,"tRNS"),k+=4,H=0;H<z;H++)B[k+H]=x.plte[H]>>>24&255;k+=z,_(B,k,M(B,k-z-4,z+4)),k+=4}}let Q=0;for(W=0;W<x.frames.length;W++){var oe=x.frames[W];I&&(_(B,k,26),k+=4,T(B,k,"fcTL"),k+=4,_(B,k,Q++),k+=4,_(B,k,oe.rect.width),k+=4,_(B,k,oe.rect.height),k+=4,_(B,k,oe.rect.x),k+=4,_(B,k,oe.rect.y),k+=4,O(B,k,A[W]),k+=2,O(B,k,1e3),k+=2,B[k]=oe.dispose,k++,B[k]=oe.blend,k++,_(B,k,M(B,k-30,30)),k+=4);const ne=oe.cimg;_(B,k,(z=ne.length)+(W==0?0:4)),k+=4;const ie=k;T(B,k,W==0?"IDAT":"fdAT"),k+=4,W!=0&&(_(B,k,Q++),k+=4),B.set(ne,k),k+=z,_(B,k,M(B,ie,k-ie)),k+=4}return _(B,k,0),k+=4,T(B,k,"IEND"),k+=4,_(B,k,M(B,k-4,4)),k+=4,B.buffer}function h(x,N,C){for(let A=0;A<x.frames.length;A++){const P=x.frames[A];P.rect.width;const M=P.rect.height,_=new Uint8Array(M*P.bpl+M);P.cimg=p(P.img,M,P.bpp,P.bpl,_,N,C)}}function d(x,N,C,A,P){const M=P[0],_=P[1],O=P[2],T=P[3],k=P[4],I=P[5];let L=6,$=8,V=255;for(var z=0;z<x.length;z++){const Te=new Uint8Array(x[z]);for(var H=Te.length,W=0;W<H;W+=4)V&=Te[W+3]}const B=V!=255,G=function(F,K,Y,ee,re,de){const le=[];for(var ce=0;ce<F.length;ce++){const at=new Uint8Array(F[ce]),Kt=new Uint32Array(at.buffer);var Ae;let Ot=0,jn=0,ln=K,Cr=Y,mc=ee?1:0;if(ce!=0){const dw=de||ee||ce==1||le[ce-2].dispose!=0?1:2;let gc=0,Hf=1e9;for(let ho=0;ho<dw;ho++){var kt=new Uint8Array(F[ce-1-ho]);const hw=new Uint32Array(F[ce-1-ho]);let Bn=K,zn=Y,fs=-1,fo=-1;for(let Er=0;Er<Y;Er++)for(let Pr=0;Pr<K;Pr++)Kt[Xe=Er*K+Pr]!=hw[Xe]&&(Pr<Bn&&(Bn=Pr),Pr>fs&&(fs=Pr),Er<zn&&(zn=Er),Er>fo&&(fo=Er));fs==-1&&(Bn=zn=fs=fo=0),re&&((1&Bn)==1&&Bn--,(1&zn)==1&&zn--);const Gf=(fs-Bn+1)*(fo-zn+1);Gf<Hf&&(Hf=Gf,gc=ho,Ot=Bn,jn=zn,ln=fs-Bn+1,Cr=fo-zn+1)}kt=new Uint8Array(F[ce-1-gc]),gc==1&&(le[ce-1].dispose=2),Ae=new Uint8Array(ln*Cr*4),e(kt,K,Y,Ae,ln,Cr,-Ot,-jn,0),mc=e(at,K,Y,Ae,ln,Cr,-Ot,-jn,3)?1:0,mc==1?f(at,K,Y,Ae,{x:Ot,y:jn,width:ln,height:Cr}):e(at,K,Y,Ae,ln,Cr,-Ot,-jn,0)}else Ae=at.slice(0);le.push({rect:{x:Ot,y:jn,width:ln,height:Cr},img:Ae,blend:mc,dispose:0})}if(ee)for(ce=0;ce<le.length;ce++){if((kr=le[ce]).blend==1)continue;const at=kr.rect,Kt=le[ce-1].rect,Ot=Math.min(at.x,Kt.x),jn=Math.min(at.y,Kt.y),ln={x:Ot,y:jn,width:Math.max(at.x+at.width,Kt.x+Kt.width)-Ot,height:Math.max(at.y+at.height,Kt.y+Kt.height)-jn};le[ce-1].dispose=1,ce-1!=0&&u(F,K,Y,le,ce-1,ln,re),u(F,K,Y,le,ce,ln,re)}let hs=0;if(F.length!=1)for(var Xe=0;Xe<le.length;Xe++){var kr;hs+=(kr=le[Xe]).rect.width*kr.rect.height}return le}(x,N,C,M,_,O),Q={},oe=[],ne=[];if(A!=0){const Te=[];for(W=0;W<G.length;W++)Te.push(G[W].img.buffer);const F=function(re){let de=0;for(var le=0;le<re.length;le++)de+=re[le].byteLength;const ce=new Uint8Array(de);let Ae=0;for(le=0;le<re.length;le++){const kt=new Uint8Array(re[le]),hs=kt.length;for(let Xe=0;Xe<hs;Xe+=4){let kr=kt[Xe],at=kt[Xe+1],Kt=kt[Xe+2];const Ot=kt[Xe+3];Ot==0&&(kr=at=Kt=0),ce[Ae+Xe]=kr,ce[Ae+Xe+1]=at,ce[Ae+Xe+2]=Kt,ce[Ae+Xe+3]=Ot}Ae+=hs}return ce.buffer}(Te),K=v(F,A);for(W=0;W<K.plte.length;W++)oe.push(K.plte[W].est.rgba);let Y=0;for(W=0;W<G.length;W++){const ee=(ue=G[W]).img.length;var ie=new Uint8Array(K.inds.buffer,Y>>2,ee>>2);ne.push(ie);const re=new Uint8Array(K.abuf,Y,ee);I&&l(ue.img,ue.rect.width,ue.rect.height,oe,re,ie),ue.img.set(re),Y+=ee}}else for(z=0;z<G.length;z++){var ue=G[z];const Te=new Uint32Array(ue.img.buffer);var ve=ue.rect.width;for(H=Te.length,ie=new Uint8Array(H),ne.push(ie),W=0;W<H;W++){const F=Te[W];if(W!=0&&F==Te[W-1])ie[W]=ie[W-1];else if(W>ve&&F==Te[W-ve])ie[W]=ie[W-ve];else{let K=Q[F];if(K==null&&(Q[F]=K=oe.length,oe.push(F),oe.length>=300))break;ie[W]=K}}}const St=oe.length;for(St<=256&&k==0&&($=St<=2?1:St<=4?2:St<=16?4:8,$=Math.max($,T)),z=0;z<G.length;z++){(ue=G[z]).rect.x,ue.rect.y,ve=ue.rect.width;const Te=ue.rect.height;let F=ue.img;new Uint32Array(F.buffer);let K=4*ve,Y=4;if(St<=256&&k==0){K=Math.ceil($*ve/8);var Ke=new Uint8Array(K*Te);const ee=ne[z];for(let re=0;re<Te;re++){W=re*K;const de=re*ve;if($==8)for(var ye=0;ye<ve;ye++)Ke[W+ye]=ee[de+ye];else if($==4)for(ye=0;ye<ve;ye++)Ke[W+(ye>>1)]|=ee[de+ye]<<4-4*(1&ye);else if($==2)for(ye=0;ye<ve;ye++)Ke[W+(ye>>2)]|=ee[de+ye]<<6-2*(3&ye);else if($==1)for(ye=0;ye<ve;ye++)Ke[W+(ye>>3)]|=ee[de+ye]<<7-1*(7&ye)}F=Ke,L=3,Y=1}else if(B==0&&G.length==1){Ke=new Uint8Array(ve*Te*3);const ee=ve*Te;for(W=0;W<ee;W++){const re=3*W,de=4*W;Ke[re]=F[de],Ke[re+1]=F[de+1],Ke[re+2]=F[de+2]}F=Ke,L=2,Y=3,K=3*ve}ue.img=F,ue.bpl=K,ue.bpp=Y}return{ctype:L,depth:$,plte:oe,frames:G}}function u(x,N,C,A,P,M,_){const O=Uint8Array,T=Uint32Array,k=new O(x[P-1]),I=new T(x[P-1]),L=P+1<x.length?new O(x[P+1]):null,$=new O(x[P]),V=new T($.buffer);let z=N,H=C,W=-1,B=-1;for(let Q=0;Q<M.height;Q++)for(let oe=0;oe<M.width;oe++){const ne=M.x+oe,ie=M.y+Q,ue=ie*N+ne,ve=V[ue];ve==0||A[P-1].dispose==0&&I[ue]==ve&&(L==null||L[4*ue+3]!=0)||(ne<z&&(z=ne),ne>W&&(W=ne),ie<H&&(H=ie),ie>B&&(B=ie))}W==-1&&(z=H=W=B=0),_&&((1&z)==1&&z--,(1&H)==1&&H--),M={x:z,y:H,width:W-z+1,height:B-H+1};const G=A[P];G.rect=M,G.blend=1,G.img=new Uint8Array(M.width*M.height*4),A[P-1].dispose==0?(e(k,N,C,G.img,M.width,M.height,-M.x,-M.y,0),f($,N,C,G.img,M)):e($,N,C,G.img,M.width,M.height,-M.x,-M.y,0)}function f(x,N,C,A,P){e(x,N,C,A,P.width,P.height,-P.x,-P.y,2)}function p(x,N,C,A,P,M,_){const O=[];let T,k=[0,1,2,3,4];M!=-1?k=[M]:(N*A>5e5||C==1)&&(k=[0]),_&&(T={level:0});const I=YC;for(var L=0;L<k.length;L++){for(let z=0;z<N;z++)m(P,x,z,A,C,k[L]);O.push(I.deflate(P,T))}let $,V=1e9;for(L=0;L<O.length;L++)O[L].length<V&&($=L,V=O[L].length);return O[$]}function m(x,N,C,A,P,M){const _=C*A;let O=_+C;if(x[O]=M,O++,M==0)if(A<500)for(var T=0;T<A;T++)x[O+T]=N[_+T];else x.set(new Uint8Array(N.buffer,_,A),O);else if(M==1){for(T=0;T<P;T++)x[O+T]=N[_+T];for(T=P;T<A;T++)x[O+T]=N[_+T]-N[_+T-P]+256&255}else if(C==0){for(T=0;T<P;T++)x[O+T]=N[_+T];if(M==2)for(T=P;T<A;T++)x[O+T]=N[_+T];if(M==3)for(T=P;T<A;T++)x[O+T]=N[_+T]-(N[_+T-P]>>1)+256&255;if(M==4)for(T=P;T<A;T++)x[O+T]=N[_+T]-n(N[_+T-P],0,0)+256&255}else{if(M==2)for(T=0;T<A;T++)x[O+T]=N[_+T]+256-N[_+T-A]&255;if(M==3){for(T=0;T<P;T++)x[O+T]=N[_+T]+256-(N[_+T-A]>>1)&255;for(T=P;T<A;T++)x[O+T]=N[_+T]+256-(N[_+T-A]+N[_+T-P]>>1)&255}if(M==4){for(T=0;T<P;T++)x[O+T]=N[_+T]+256-n(0,N[_+T-A],0)&255;for(T=P;T<A;T++)x[O+T]=N[_+T]+256-n(N[_+T-P],N[_+T-A],N[_+T-P-A])&255}}}function v(x,N){const C=new Uint8Array(x),A=C.slice(0),P=new Uint32Array(A.buffer),M=S(A,N),_=M[0],O=M[1],T=C.length,k=new Uint8Array(T>>2);let I;if(C.length<2e7)for(var L=0;L<T;L+=4)I=y(_,$=C[L]*(1/255),V=C[L+1]*(1/255),z=C[L+2]*(1/255),H=C[L+3]*(1/255)),k[L>>2]=I.ind,P[L>>2]=I.est.rgba;else for(L=0;L<T;L+=4){var $=C[L]*.00392156862745098,V=C[L+1]*(1/255),z=C[L+2]*(1/255),H=C[L+3]*(1/255);for(I=_;I.left;)I=w(I.est,$,V,z,H)<=0?I.left:I.right;k[L>>2]=I.ind,P[L>>2]=I.est.rgba}return{abuf:A.buffer,inds:k,plte:O}}function S(x,N,C){C==null&&(C=1e-4);const A=new Uint32Array(x.buffer),P={i0:0,i1:x.length,bst:null,est:null,tdst:0,left:null,right:null};P.bst=R(x,P.i0,P.i1),P.est=b(P.bst);const M=[P];for(;M.length<N;){let O=0,T=0;for(var _=0;_<M.length;_++)M[_].est.L>O&&(O=M[_].est.L,T=_);if(O<C)break;const k=M[T],I=g(x,A,k.i0,k.i1,k.est.e,k.est.eMq255);if(k.i0>=I||k.i1<=I){k.est.L=0;continue}const L={i0:k.i0,i1:I,bst:null,est:null,tdst:0,left:null,right:null};L.bst=R(x,L.i0,L.i1),L.est=b(L.bst);const $={i0:I,i1:k.i1,bst:null,est:null,tdst:0,left:null,right:null};for($.bst={R:[],m:[],N:k.bst.N-L.bst.N},_=0;_<16;_++)$.bst.R[_]=k.bst.R[_]-L.bst.R[_];for(_=0;_<4;_++)$.bst.m[_]=k.bst.m[_]-L.bst.m[_];$.est=b($.bst),k.left=L,k.right=$,M[T]=L,M.push($)}for(M.sort((O,T)=>T.bst.N-O.bst.N),_=0;_<M.length;_++)M[_].ind=_;return[P,M]}function y(x,N,C,A,P){if(x.left==null)return x.tdst=function(L,$,V,z,H){const W=$-L[0],B=V-L[1],G=z-L[2],Q=H-L[3];return W*W+B*B+G*G+Q*Q}(x.est.q,N,C,A,P),x;const M=w(x.est,N,C,A,P);let _=x.left,O=x.right;M>0&&(_=x.right,O=x.left);const T=y(_,N,C,A,P);if(T.tdst<=M*M)return T;const k=y(O,N,C,A,P);return k.tdst<T.tdst?k:T}function w(x,N,C,A,P){const{e:M}=x;return M[0]*N+M[1]*C+M[2]*A+M[3]*P-x.eMq}function g(x,N,C,A,P,M){for(A-=4;C<A;){for(;j(x,C,P)<=M;)C+=4;for(;j(x,A,P)>M;)A-=4;if(C>=A)break;const _=N[C>>2];N[C>>2]=N[A>>2],N[A>>2]=_,C+=4,A-=4}for(;j(x,C,P)>M;)C-=4;return C+4}function j(x,N,C){return x[N]*C[0]+x[N+1]*C[1]+x[N+2]*C[2]+x[N+3]*C[3]}function R(x,N,C){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],P=[0,0,0,0],M=C-N>>2;for(let _=N;_<C;_+=4){const O=x[_]*.00392156862745098,T=x[_+1]*(1/255),k=x[_+2]*(1/255),I=x[_+3]*(1/255);P[0]+=O,P[1]+=T,P[2]+=k,P[3]+=I,A[0]+=O*O,A[1]+=O*T,A[2]+=O*k,A[3]+=O*I,A[5]+=T*T,A[6]+=T*k,A[7]+=T*I,A[10]+=k*k,A[11]+=k*I,A[15]+=I*I}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:P,N:M}}function b(x){const{R:N}=x,{m:C}=x,{N:A}=x,P=C[0],M=C[1],_=C[2],O=C[3],T=A==0?0:1/A,k=[N[0]-P*P*T,N[1]-P*M*T,N[2]-P*_*T,N[3]-P*O*T,N[4]-M*P*T,N[5]-M*M*T,N[6]-M*_*T,N[7]-M*O*T,N[8]-_*P*T,N[9]-_*M*T,N[10]-_*_*T,N[11]-_*O*T,N[12]-O*P*T,N[13]-O*M*T,N[14]-O*_*T,N[15]-O*O*T],I=k,L=D;let $=[Math.random(),Math.random(),Math.random(),Math.random()],V=0,z=0;if(A!=0)for(let W=0;W<16&&($=L.multVec(I,$),z=Math.sqrt(L.dot($,$)),$=L.sml(1/z,$),!(W!=0&&Math.abs(z-V)<1e-9));W++)V=z;const H=[P*T,M*T,_*T,O*T];return{Cov:k,q:H,e:$,L:V,eMq255:L.dot(L.sml(255,H),$),eMq:L.dot($,H),rgba:(Math.round(255*H[3])<<24|Math.round(255*H[2])<<16|Math.round(255*H[1])<<8|Math.round(255*H[0])<<0)>>>0}}var D={multVec:(x,N)=>[x[0]*N[0]+x[1]*N[1]+x[2]*N[2]+x[3]*N[3],x[4]*N[0]+x[5]*N[1]+x[6]*N[2]+x[7]*N[3],x[8]*N[0]+x[9]*N[1]+x[10]*N[2]+x[11]*N[3],x[12]*N[0]+x[13]*N[1]+x[14]*N[2]+x[15]*N[3]],dot:(x,N)=>x[0]*N[0]+x[1]*N[1]+x[2]*N[2]+x[3]*N[3],sml:(x,N)=>[x*N[0],x*N[1],x*N[2],x*N[3]]};Qt.encode=function(N,C,A,P,M,_,O){P==null&&(P=0),O==null&&(O=!1);const T=d(N,C,A,P,[!1,!1,!1,0,O,!1]);return h(T,-1),c(T,C,A,M,_)},Qt.encodeLL=function(N,C,A,P,M,_,O,T){const k={ctype:0+(P==1?0:2)+(M==0?0:4),depth:_,frames:[]},I=(P+M)*_,L=I*C;for(let $=0;$<N.length;$++)k.frames.push({rect:{x:0,y:0,width:C,height:A},img:new Uint8Array(N[$]),blend:0,dispose:1,bpp:Math.ceil(I/8),bpl:Math.ceil(L/8)});return h(k,0,!0),c(k,C,A,O,T)},Qt.encode.compress=d,Qt.encode.dither=l,Qt.quantize=v,Qt.quantize.getKDtree=S,Qt.quantize.getNearest=y})();const R1={toArrayBuffer(e,t){const n=e.width,r=e.height,s=n<<2,i=e.getContext("2d").getImageData(0,0,n,r),a=new Uint32Array(i.data.buffer),l=(32*n+31)/32<<2,c=l*r,h=122+c,d=new ArrayBuffer(h),u=new DataView(d),f=1<<20;let p,m,v,S,y=f,w=0,g=0,j=0;function R(x){u.setUint16(g,x,!0),g+=2}function b(x){u.setUint32(g,x,!0),g+=4}function D(x){g+=x}R(19778),b(h),D(4),b(122),b(108),b(n),b(-r>>>0),R(1),R(32),b(3),b(c),b(2835),b(2835),D(8),b(16711680),b(65280),b(255),b(4278190080),b(1466527264),function x(){for(;w<r&&y>0;){for(S=122+w*l,p=0;p<s;)y--,m=a[j++],v=m>>>24,u.setUint32(S+p,m<<8|v),p+=4;w++}j<a.length?(y=f,setTimeout(x,R1._dly)):t(d)}()},toBlob(e,t){this.toArrayBuffer(e,n=>{t(new Blob([n],{type:"image/bmp"}))})},_dly:9};var mt={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},QC={[mt.CHROME]:16384,[mt.FIREFOX]:11180,[mt.DESKTOP_SAFARI]:16384,[mt.IE]:8192,[mt.IOS]:4096,[mt.ETC]:8192};const wf=typeof window<"u",_1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,xl=wf&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),JC=(wf||_1)&&(xl&&xl.getOriginalSymbol(window,"File")||typeof File<"u"&&File),M1=(wf||_1)&&(xl&&xl.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function jf(e,t,n=Date.now()){return new Promise(r=>{const s=e.split(","),i=s[0].match(/:(.*?);/)[1],a=globalThis.atob(s[1]);let l=a.length;const c=new Uint8Array(l);for(;l--;)c[l]=a.charCodeAt(l);const h=new Blob([c],{type:i});h.name=t,h.lastModified=n,r(h)})}function O1(e){return new Promise((t,n)=>{const r=new M1;r.onload=()=>t(r.result),r.onerror=s=>n(s),r.readAsDataURL(e)})}function L1(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=s=>n(s),r.src=e})}function Br(){if(Br.cachedResult!==void 0)return Br.cachedResult;let e=mt.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=mt.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=mt.IOS:/Safari/i.test(t)?e=mt.DESKTOP_SAFARI:/Firefox/i.test(t)?e=mt.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(e=mt.IE),Br.cachedResult=e,Br.cachedResult}function I1(e,t){const n=Br(),r=QC[n];let s=e,i=t,a=s*i;const l=s>i?i/s:s/i;for(;a>r*r;){const c=(r+s)/2,h=(r+i)/2;c<h?(i=h,s=h*l):(i=c*l,s=c),a=s*i}return{width:s,height:i}}function ic(e,t){let n,r;try{if(n=new OffscreenCanvas(e,t),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=e,n.height=t,[n,r]}function F1(e,t){const{width:n,height:r}=I1(e.width,e.height),[s,i]=ic(n,r);return t&&/jpe?g/.test(t)&&(i.fillStyle="white",i.fillRect(0,0,s.width,s.height)),i.drawImage(e,0,0,s.width,s.height),s}function Ia(){return Ia.cachedResult!==void 0||(Ia.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Ia.cachedResult}function yl(e,t={}){return new Promise(function(n,r){let s,i;var a=function(){try{return i=F1(s,t.fileType||e.type),n([s,i])}catch(c){return r(c)}},l=function(c){try{var h=function(d){try{throw d}catch(u){return r(u)}};try{let d;return O1(e).then(function(u){try{return d=u,L1(d).then(function(f){try{return s=f,function(){try{return a()}catch(p){return r(p)}}()}catch(p){return h(p)}},h)}catch(f){return h(f)}},h)}catch(d){h(d)}}catch(d){return r(d)}};try{if(Ia()||[mt.DESKTOP_SAFARI,mt.MOBILE_SAFARI].includes(Br()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(c){try{return s=c,a()}catch{return l()}},l)}catch{l()}})}function vl(e,t,n,r,s=1){return new Promise(function(i,a){let l;if(t==="image/png"){let h,d,u;return h=e.getContext("2d"),{data:d}=h.getImageData(0,0,e.width,e.height),u=Qt.encode([d.buffer],e.width,e.height,4096*s),l=new Blob([u],{type:t}),l.name=n,l.lastModified=r,c.call(this)}{let h=function(){return c.call(this)};if(t==="image/bmp")return new Promise(d=>R1.toBlob(e,d)).then((function(d){try{return l=d,l.name=n,l.lastModified=r,h.call(this)}catch(u){return a(u)}}).bind(this),a);{let d=function(){return h.call(this)};if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:s}).then((function(u){try{return l=u,l.name=n,l.lastModified=r,d.call(this)}catch(f){return a(f)}}).bind(this),a);{let u;return u=e.toDataURL(t,s),jf(u,n,r).then((function(f){try{return l=f,d.call(this)}catch(p){return a(p)}}).bind(this),a)}}}function c(){return i(l)}})}function hn(e){e.width=0,e.height=0}function Es(){return new Promise(function(e,t){let n,r,s,i;return Es.cachedResult!==void 0?e(Es.cachedResult):jf("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return n=a,yl(n).then(function(l){try{return r=l[1],vl(r,n.type,n.name,n.lastModified).then(function(c){try{return s=c,hn(r),yl(s).then(function(h){try{return i=h[0],Es.cachedResult=i.width===1&&i.height===2,e(Es.cachedResult)}catch(d){return t(d)}},t)}catch(h){return t(h)}},t)}catch(c){return t(c)}},t)}catch(l){return t(l)}},t)})}function $1(e){return new Promise((t,n)=>{const r=new M1;r.onload=s=>{const i=new DataView(s.target.result);if(i.getUint16(0,!1)!=65496)return t(-2);const a=i.byteLength;let l=2;for(;l<a;){if(i.getUint16(l+2,!1)<=8)return t(-1);const c=i.getUint16(l,!1);if(l+=2,c==65505){if(i.getUint32(l+=2,!1)!=1165519206)return t(-1);const h=i.getUint16(l+=6,!1)==18761;l+=i.getUint32(l+4,h);const d=i.getUint16(l,h);l+=2;for(let u=0;u<d;u++)if(i.getUint16(l+12*u,h)==274)return t(i.getUint16(l+12*u+8,h))}else{if((65280&c)!=65280)break;l+=i.getUint16(l,!1)}}return t(-1)},r.onerror=s=>n(s),r.readAsArrayBuffer(e)})}function B1(e,t){const{width:n}=e,{height:r}=e,{maxWidthOrHeight:s}=t;let i,a=e;return isFinite(s)&&(n>s||r>s)&&([a,i]=ic(n,r),n>r?(a.width=s,a.height=r/n*s):(a.width=n/r*s,a.height=s),i.drawImage(e,0,0,a.width,a.height),hn(e)),a}function z1(e,t){const{width:n}=e,{height:r}=e,[s,i]=ic(n,r);switch(t>4&&t<9?(s.width=r,s.height=n):(s.width=n,s.height=r),t){case 2:i.transform(-1,0,0,1,n,0);break;case 3:i.transform(-1,0,0,-1,n,r);break;case 4:i.transform(1,0,0,-1,0,r);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,r,0);break;case 7:i.transform(0,-1,-1,0,r,n);break;case 8:i.transform(0,-1,1,0,0,n)}return i.drawImage(e,0,0,n,r),hn(e),s}function cg(e,t,n=0){return new Promise(function(r,s){let i,a,l,c,h,d,u,f,p,m,v,S,y,w,g,j,R,b,D,x;function N(A=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;i+=A,t.onProgress(Math.min(i,100))}function C(A){if(t.signal&&t.signal.aborted)throw t.signal.reason;i=Math.min(Math.max(A,i),100),t.onProgress(i)}return i=n,a=t.maxIteration||10,l=1024*t.maxSizeMB*1024,N(),yl(e,t).then((function(A){try{return[,c]=A,N(),h=B1(c,t),N(),new Promise(function(P,M){var _;if(!(_=t.exifOrientation))return $1(e).then((function(T){try{return _=T,O.call(this)}catch(k){return M(k)}}).bind(this),M);function O(){return P(_)}return O.call(this)}).then((function(P){try{return d=P,N(),Es().then((function(M){try{return u=M?h:z1(h,d),N(),f=t.initialQuality||1,p=t.fileType||e.type,vl(u,p,e.name,e.lastModified,f).then((function(_){try{{let T=function(){if(a--&&(g>l||g>y)){let I,L;return I=x?.95*D.width:D.width,L=x?.95*D.height:D.height,[R,b]=ic(I,L),b.drawImage(D,0,0,I,L),f*=p==="image/png"?.85:.95,vl(R,p,e.name,e.lastModified,f).then(function($){try{return j=$,hn(D),D=R,g=j.size,C(Math.min(99,Math.floor((w-g)/(w-l)*100))),T}catch(V){return s(V)}},s)}return[1]},k=function(){return hn(D),hn(R),hn(h),hn(u),hn(c),C(100),r(j)};if(m=_,N(),v=m.size>l,S=m.size>e.size,!v&&!S)return C(100),r(m);var O;return y=e.size,w=m.size,g=w,D=u,x=!t.alwaysKeepResolution&&v,(O=(function(I){for(;I;){if(I.then)return void I.then(O,s);try{if(I.pop){if(I.length)return I.pop()?k.call(this):I;I=T}else I=I.call(this)}catch(L){return s(L)}}}).bind(this))(T)}}catch(T){return s(T)}}).bind(this),s)}catch(_){return s(_)}}).bind(this),s)}catch(M){return s(M)}}).bind(this),s)}catch(P){return s(P)}}).bind(this),s)})}const ZC=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let ou;function eE(e,t){return new Promise((n,r)=>{ou||(ou=function(a){const l=[];return l.push(a),URL.createObjectURL(new Blob(l))}(ZC));const s=new Worker(ou);s.addEventListener("message",function(a){if(t.signal&&t.signal.aborted)s.terminate();else if(a.data.progress===void 0){if(a.data.error)return r(new Error(a.data.error)),void s.terminate();n(a.data.file),s.terminate()}else t.onProgress(a.data.progress)}),s.addEventListener("error",r),t.signal&&t.signal.addEventListener("abort",()=>{r(t.signal.reason),s.terminate()}),s.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})})}function Ze(e,t){return new Promise(function(n,r){let s,i,a,l,c,h;if(s={...t},a=0,{onProgress:l}=s,s.maxSizeMB=s.maxSizeMB||Number.POSITIVE_INFINITY,c=typeof s.useWebWorker!="boolean"||s.useWebWorker,delete s.useWebWorker,s.onProgress=p=>{a=p,typeof l=="function"&&l(a)},!(e instanceof Blob||e instanceof JC))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return r(new Error("The file given is not an image"));if(h=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!c||typeof Worker!="function"||h)return cg(e,s).then((function(p){try{return i=p,f.call(this)}catch(m){return r(m)}}).bind(this),r);var d=(function(){try{return f.call(this)}catch(p){return r(p)}}).bind(this),u=function(p){try{return cg(e,s).then(function(m){try{return i=m,d()}catch(v){return r(v)}},r)}catch(m){return r(m)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",eE(e,s).then(function(p){try{return i=p,d()}catch{return u()}},u)}catch{u()}function f(){try{i.name=e.name,i.lastModified=e.lastModified}catch{}try{s.preserveExif&&e.type==="image/jpeg"&&(!s.fileType||s.fileType&&s.fileType===e.type)&&(i=D1(e,i))}catch{}return n(i)}})}Ze.getDataUrlFromFile=O1,Ze.getFilefromDataUrl=jf,Ze.loadImage=L1,Ze.drawImageInCanvas=F1,Ze.drawFileInCanvas=yl,Ze.canvasToFile=vl,Ze.getExifOrientation=$1,Ze.handleMaxWidthOrHeight=B1,Ze.followExifOrientation=z1,Ze.cleanupCanvasMemory=hn,Ze.isAutoOrientationInBrowser=Es,Ze.approximateBelowMaximumCanvasSizeOfBrowser=I1,Ze.copyExifWithoutOrientation=D1,Ze.getBrowserName=Br,Ze.version="2.0.2";const U1=({onUploadComplete:e,onClose:t})=>{const[n,r]=E.useState([]),[s,i]=E.useState(!1),[a,l]=E.useState(!1),[c,h]=E.useState({success:0,total:0}),d=E.useRef(null),{showPhotoSuccess:u}=Ai(),f=async R=>{try{return await Ze(R,{maxSizeMB:2,maxWidthOrHeight:1920,useWebWorker:!0,fileType:"image/jpeg",initialQuality:.8})}catch(b){return console.error("Image compression failed:",b),R}};console.log("PhotoUpload rendered",{files:n.length,isUploading:a,uploadStats:c});const p=R=>({file:R,id:Math.random().toString(36).substr(2,9),preview:URL.createObjectURL(R),status:"pending",progress:0}),m=E.useCallback(async R=>{if(!R)return;const b=Array.from(R).filter(A=>A.type.startsWith("image/")),D=b.map(A=>({...p(A),status:"uploading"}));r(A=>[...A,...D]);const x=await Promise.all(b.map(async(A,P)=>{try{console.log(`Compressing ${A.name} (${(A.size/1024/1024).toFixed(1)}MB)...`);const M=await f(A),_=((1-M.size/A.size)*100).toFixed(1);return console.log(`Compressed ${A.name} to ${(M.size/1024/1024).toFixed(1)}MB (${_}% reduction)`),{file:M,originalIndex:P,compressed:!0}}catch(M){console.error(`Failed to compress ${A.name}:`,M);const _=M instanceof Error?M.message:"Unknown compression error";return console.warn(`Using original file for ${A.name} due to compression error: ${_}`),{file:A,originalIndex:P,compressed:!1}}})),N=x.filter(A=>A.compressed).length,C=x.length;N<C?console.warn(`Compression completed: ${N}/${C} files compressed successfully`):console.log(`All ${C} files compressed successfully`),r(A=>{const P=[...A];return x.forEach(({file:M,originalIndex:_,compressed:O})=>{const T=P.length-b.length+_;P[T]&&(P[T]={...p(M),status:"pending"},!O&&M.size>5*1024*1024&&console.warn(`Large file ${M.name} (${(M.size/1024/1024).toFixed(1)}MB) will be uploaded without compression`))}),P})},[]),v=E.useCallback(R=>{R.preventDefault(),i(!1),m(R.dataTransfer.files)},[m]),S=E.useCallback(R=>{R.preventDefault(),i(!0)},[]),y=E.useCallback(R=>{R.preventDefault(),i(!1)},[]),w=R=>{r(b=>{const D=b.find(x=>x.id===R);return D&&URL.revokeObjectURL(D.preview),b.filter(x=>x.id!==R)})},g=async(R=0)=>{if(n.length!==0){console.log("Starting upload for",n.length,"files",R>0?`(Retry ${R})`:""),l(!0),h({success:0,total:n.length}),r(b=>b.map(D=>({...D,status:"uploading"})));try{const b=new FormData;n.forEach(({file:x})=>{b.append("photos",x),console.log("Added file to FormData:",x.name,x.size)}),r(x=>x.map(N=>({...N,progress:0}))),console.log("Sending upload request...");const D=await X.post("/api/photos/upload-multiple",b,{headers:{"Content-Type":void 0},timeout:3e5,onUploadProgress:x=>{if(x.total){const N=Math.round(x.loaded*100/x.total);console.log("Upload progress:",N+"%"),r(C=>C.map(A=>({...A,progress:A.status==="uploading"?Math.min(N,95):A.progress})))}}});if(console.log("Upload response:",D.status,D.data),D.status===200)r(x=>x.map(N=>({...N,status:"success",progress:100}))),h({success:n.length,total:n.length}),u(n.length),setTimeout(()=>{e(),setTimeout(()=>{t()},2e3)},1e3);else throw new Error(`Upload failed with status: ${D.status}`)}catch(b){console.error("Upload error:",b);const D=b instanceof Error&&(b.message.includes("timeout")||b.message.includes("ECONNABORTED")),x=2;if(D&&R<x){console.log(`Upload timed out, retrying... (${R+1}/${x})`),setTimeout(()=>{g(R+1)},2e3);return}r(A=>A.map(P=>({...P,status:"error"})));const N=b instanceof Error?b.message:"Unknown error";confirm(`Upload failed: ${N}

Would you like to try again?`)&&g(0)}finally{l(!1)}}},j=R=>{switch(R){case"success":return o.jsx(yd,{className:"w-5 h-5 text-green-500"});case"error":return o.jsx(dl,{className:"w-5 h-5 text-red-500"});case"uploading":return o.jsx("div",{className:"w-5 h-5 border-2 border-apple-blue-light border-t-transparent rounded-full animate-spin"});default:return o.jsx(Y2,{className:"w-5 h-5 text-apple-secondary-label"})}};return o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl apple-shadow max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-apple-separator",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-apple-blue-light/10 rounded-full flex items-center justify-center",children:o.jsx(mr,{className:"w-5 h-5 text-apple-blue-light"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-apple-label",children:"Upload Photos"}),o.jsx("p",{className:"text-sm text-apple-secondary-label",children:"Share your beautiful memories"})]})]}),o.jsx("button",{onClick:t,className:"w-8 h-8 rounded-full bg-apple-gray-6/10 hover:bg-apple-gray-6/20 flex items-center justify-center transition-colors",children:o.jsx(st,{className:"w-4 h-4 text-apple-secondary-label"})})]}),o.jsx("div",{className:"p-6",children:n.length===0?o.jsxs("div",{className:`border-2 border-dashed rounded-2xl p-12 text-center transition-all duration-200 ${s?"border-apple-blue-light bg-apple-blue-light/5":"border-apple-separator hover:border-apple-blue-light/50 hover:bg-apple-gray-6/5"}`,onDrop:v,onDragOver:S,onDragLeave:y,children:[o.jsx("div",{className:"w-16 h-16 bg-apple-blue-light/10 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Vy,{className:"w-8 h-8 text-apple-blue-light"})}),o.jsx("h3",{className:"text-lg font-medium text-apple-label mb-2",children:"Drop photos here or click to browse"}),o.jsx("p",{className:"text-apple-secondary-label mb-6",children:"Support for JPEG, PNG, HEIC and more. Images are automatically optimized for faster uploads!"}),o.jsx("button",{onClick:()=>{var R;return(R=d.current)==null?void 0:R.click()},className:"px-8 py-4 bg-apple-blue hover:bg-apple-blue-dark text-white rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:"Choose Photos"}),o.jsx("input",{ref:d,type:"file",multiple:!0,accept:"image/*",onChange:R=>m(R.target.files),className:"hidden"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:n.map(R=>o.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-apple-gray-6/5 rounded-xl",children:[o.jsx("img",{src:R.preview,alt:R.file.name,className:"w-12 h-12 object-cover rounded-lg"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-apple-label truncate",children:R.file.name}),o.jsxs("p",{className:"text-xs text-apple-secondary-label",children:[(R.file.size/1024/1024).toFixed(1)," MB"]}),R.status==="uploading"&&o.jsx("div",{className:"w-full bg-apple-gray-6/20 rounded-full h-1.5 mt-1",children:o.jsx("div",{className:"bg-apple-blue-light h-1.5 rounded-full transition-all duration-300",style:{width:`${R.progress}%`}})})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[j(R.status),R.status==="pending"&&o.jsx("button",{onClick:()=>w(R.id),className:"w-6 h-6 rounded-full bg-apple-gray-6/10 hover:bg-red-500/10 flex items-center justify-center transition-colors",children:o.jsx(st,{className:"w-3 h-3 text-apple-secondary-label hover:text-red-500"})})]})]},R.id))}),!a&&o.jsxs("button",{onClick:()=>{var R;return(R=d.current)==null?void 0:R.click()},className:"w-full p-3 border border-dashed border-apple-separator rounded-xl text-apple-blue-light hover:bg-apple-blue-light/5 transition-colors flex items-center justify-center space-x-2",children:[o.jsx(rt,{className:"w-4 h-4"}),o.jsx("span",{children:"Add More Photos"})]}),o.jsx("input",{ref:d,type:"file",multiple:!0,accept:"image/*",onChange:R=>m(R.target.files),className:"hidden"})]})}),c.success>0&&c.success===c.total&&!a&&o.jsx("div",{className:"p-6 border-t border-apple-separator bg-gradient-to-r from-green-50 to-emerald-50",children:o.jsxs("div",{className:"text-center animate-bounce-in",children:[o.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(yd,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-xl font-semibold text-green-700 mb-2",children:"Upload Successful! "}),o.jsxs("p",{className:"text-green-600 mb-4",children:[c.success," photo",c.success!==1?"s":""," uploaded successfully"]}),o.jsx("div",{className:"flex justify-center space-x-2",children:[...Array(3)].map((R,b)=>o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-sparkle",style:{animationDelay:`${b*.2}s`}},b))})]})}),n.length>0&&!a&&c.success===0&&o.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-apple-separator bg-apple-gray-6/5",children:[o.jsx("div",{className:"text-sm text-apple-secondary-label",children:a?o.jsxs("span",{children:["Uploading ",c.success,"/",c.total," photos..."]}):o.jsxs("span",{children:[n.length," photo",n.length!==1?"s":""," selected"]})}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:t,disabled:a,className:"px-4 py-2 text-apple-secondary-label hover:text-apple-label transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{onClick:g,disabled:a||n.length===0,className:"apple-button-primary px-6 py-2 rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Uploading...":`Upload ${n.length} Photo${n.length!==1?"s":""}`})]})]})]})})};function tE(){const[e,t]=E.useState([]),[n,r]=E.useState([]),[s,i]=E.useState(!0),[a,l]=E.useState(!1),[c,h]=E.useState("medium"),[d,u]=E.useState(null),[f,p]=E.useState(!1),[m,v]=E.useState(0),[S,y]=E.useState(0),[w,g]=E.useState(!0);E.useEffect(()=>{j()},[]),E.useEffect(()=>{e.length>=0&&b()},[e]);const j=async(O=0,T=!1)=>{try{T||i(!0);const k=await X.get(`/api/photos?page=${O}&limit=20`);t(T?I=>[...I,...k.data.photos]:k.data.photos),y(k.data.pagination.total),g(k.data.pagination.hasNext),v(O)}catch(k){console.error("Error fetching photos:",k)}finally{i(!1)}},R=async()=>{w&&!s&&await j(m+1,!0)},b=async()=>{try{const T=(await X.get("/api/categories")).data,k={id:-1,name:"Favorites",color:"#ef4444",photos:e.filter(I=>I.isFavorite),photoCount:e.filter(I=>I.isFavorite).length};r([k,...T])}catch(O){console.error("Error fetching categories:",O)}},D=async()=>{l(!1),await j(),await b()},x=async O=>{try{const T=e.find(I=>I.id===O),k=!(T!=null&&T.isFavorite);await X.post(`/api/photos/${O}/favorite`,{favorite:k}),t(I=>I.map(L=>L.id===O?{...L,isFavorite:k}:L)),await b()}catch(T){console.error("Error toggling favorite:",T)}},N=O=>{u(O),p(!0)},C=O=>{t(T=>T.map(k=>k.id===O.id?O:k)),u(O)},A=O=>{t(T=>T.filter(k=>k.id!==O)),p(!1),u(null)},P=()=>{switch(c){case"small":return"w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 lg:w-32 lg:h-32";case"medium":return"w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 lg:w-48 lg:h-48";case"large":return"w-32 h-32 sm:w-40 sm:h-40 md:w-52 md:h-52 lg:w-64 lg:h-64";default:return"w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 lg:w-48 lg:h-48"}},M=()=>{switch(c){case"small":return"grid-cols-4 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-8 xl:grid-cols-10";case"medium":return"grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7";case"large":return"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6";default:return"grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7"}},_=(O,T=!1)=>{const k=()=>{if(T)return O.length;switch(c){case"small":return Math.min(12,O.length);case"medium":return Math.min(8,O.length);case"large":return Math.min(6,O.length);default:return Math.min(8,O.length)}},I=O.slice(0,k());return o.jsx("div",{className:`grid ${M()} gap-4`,children:I.map(L=>o.jsx("div",{className:"relative group",children:o.jsxs("div",{className:`${P()} relative overflow-hidden rounded-lg cursor-pointer transition-transform hover:scale-105`,onClick:()=>N(L),children:[o.jsx("img",{src:`${ts}/api/photos/image/${L.filename}`,alt:L.originalName,className:"w-full h-full object-cover",loading:"lazy"}),o.jsx("button",{onClick:$=>{$.stopPropagation(),x(L.id)},className:"absolute top-3 right-3 p-2 bg-white/90 backdrop-blur-sm rounded-full hover:bg-white active:scale-95 transition-all duration-200 opacity-0 group-hover:opacity-100 shadow-sm hover:shadow-md hidden md:block",children:o.jsx(Ie,{className:`h-4 w-4 transition-all duration-200 ${L.isFavorite?"text-red-500 fill-current scale-110":"text-gray-600 hover:text-red-400"}`})})]})},L.id))})};return s?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})}):o.jsxs("div",{className:"space-y-6 fade-in",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Photo Gallery"}),o.jsx("p",{className:"text-gray-600",children:"Your beautiful memories organized by categories"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-2",children:[o.jsxs(ge,{to:"/recycle-bin",className:"group bg-white/80 backdrop-blur-sm hover:bg-white/90 active:bg-gray-50 text-gray-700 px-4 py-3 sm:px-5 sm:py-2.5 rounded-2xl sm:rounded-xl transition-all duration-200 flex items-center justify-center gap-2.5 sm:gap-2 shadow-sm hover:shadow-md border border-gray-200/60 font-medium text-sm sm:text-base min-h-[44px] sm:min-h-[40px]",children:[o.jsx(Ht,{className:"w-4 h-4 text-gray-600 group-hover:text-gray-700 transition-colors"}),o.jsx("span",{className:"hidden sm:inline",children:"Recycle Bin"}),o.jsx("span",{className:"sm:hidden",children:"Recycle"})]}),o.jsxs(ge,{to:"/categories",className:"group bg-white/80 backdrop-blur-sm hover:bg-white/90 active:bg-gray-50 text-gray-700 px-4 py-3 sm:px-5 sm:py-2.5 rounded-2xl sm:rounded-xl transition-all duration-200 flex items-center justify-center gap-2.5 sm:gap-2 shadow-sm hover:shadow-md border border-gray-200/60 font-medium text-sm sm:text-base min-h-[44px] sm:min-h-[40px]",children:[o.jsx(Jr,{className:"w-4 h-4 text-gray-600 group-hover:text-gray-700 transition-colors"}),o.jsx("span",{className:"hidden sm:inline",children:"Manage Categories"}),o.jsx("span",{className:"sm:hidden",children:"Categories"})]}),o.jsxs("button",{onClick:()=>l(!0),className:"group bg-blue-500 hover:bg-blue-600 active:bg-blue-700 text-white px-4 py-3 sm:px-5 sm:py-2.5 rounded-2xl sm:rounded-xl transition-all duration-200 flex items-center justify-center gap-2.5 sm:gap-2 shadow-sm hover:shadow-md font-medium text-sm sm:text-base min-h-[44px] sm:min-h-[40px]",children:[o.jsx(rt,{className:"w-4 h-4 transition-transform group-hover:scale-110"}),o.jsx("span",{className:"hidden sm:inline",children:"Add Photos"}),o.jsx("span",{className:"sm:hidden",children:"Add"})]})]})]}),o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Jr,{className:"h-4 w-4 text-gray-500"}),o.jsxs("select",{value:c,onChange:O=>h(O.target.value),className:"px-3 py-2 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 bg-white/80 backdrop-blur-sm transition-all duration-200 font-medium text-gray-700 shadow-sm hover:shadow-md",children:[o.jsx("option",{value:"small",children:"Small"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"large",children:"Large"})]})]})}),o.jsxs("div",{className:"mb-12",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-apple-label",children:"All Photos"}),o.jsxs(ge,{to:"/photos",className:"text-apple-blue hover:text-apple-blue-dark font-medium transition-colors",children:["View All (",S,")"]})]}),e.length>0?o.jsxs("div",{children:[_(e,!1),w&&o.jsx("div",{className:"mt-8 text-center",children:o.jsx("button",{onClick:R,disabled:s,className:"group bg-blue-500 hover:bg-blue-600 active:bg-blue-700 disabled:bg-gray-300 text-white px-8 py-3.5 rounded-2xl transition-all duration-200 font-medium text-base shadow-sm hover:shadow-md disabled:opacity-60 disabled:cursor-not-allowed disabled:shadow-none min-h-[48px] flex items-center justify-center gap-2",children:s?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),o.jsx("span",{children:"Loading..."})]}):o.jsx("span",{children:"Load More Photos"})})})]}):o.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl p-12 text-center",children:[o.jsx(mr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No photos yet"}),o.jsx("p",{className:"text-gray-500",children:"Start uploading to create your gallery!"})]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Categories"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(O=>{const T=O.id===-1?e.filter(k=>k.isFavorite):e.filter(k=>k.categories.some(I=>I.id===O.id));return o.jsxs("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden border border-apple-separator",children:[o.jsx("div",{className:"p-4 border-b border-apple-separator",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:O.color}}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:O.name})]}),o.jsxs("span",{className:"text-sm text-gray-500",children:["(",T.length,")"]})]})}),o.jsxs("div",{className:"p-4",children:[T.length>0?o.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[T.slice(0,3).map(k=>o.jsx("div",{className:"aspect-square relative overflow-hidden rounded-lg",children:o.jsx("img",{src:`${ts}/api/photos/image/${k.filename}`,alt:k.originalName,className:"w-full h-full object-cover hover:scale-110 transition-transform duration-300 cursor-pointer",onClick:()=>N(k)})},k.id)),T.length>3&&o.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg flex items-center justify-center",children:o.jsxs("span",{className:"text-sm text-gray-500 font-medium",children:["+",T.length-3]})})]}):o.jsx("div",{className:"h-24 bg-gray-50 rounded-lg flex items-center justify-center mb-3",children:o.jsx("p",{className:"text-gray-400 text-sm",children:"No photos yet"})}),O.id===-1?o.jsx(ge,{to:"/photos?filter=favorites",className:"block w-full text-center bg-white/80 backdrop-blur-sm hover:bg-white/90 active:bg-gray-50 text-gray-700 py-3 px-4 rounded-xl transition-all duration-200 text-sm font-medium border border-gray-200/60 shadow-sm hover:shadow-md",children:"View All Favorites"}):o.jsx(ge,{to:`/category/${O.id}`,className:"block w-full text-center bg-white/80 backdrop-blur-sm hover:bg-white/90 active:bg-gray-50 text-gray-700 py-3 px-4 rounded-xl transition-all duration-200 text-sm font-medium border border-gray-200/60 shadow-sm hover:shadow-md",children:"View All Photos"})]})]},O.id)})})]}),e.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Vy,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No photos yet"}),o.jsx("p",{className:"text-gray-500 mb-6",children:"Start building your gallery by uploading your first photos!"}),o.jsxs("button",{onClick:()=>l(!0),className:"group inline-flex items-center px-8 py-4 bg-blue-500 hover:bg-blue-600 active:bg-blue-700 text-white rounded-2xl transition-all duration-200 font-medium shadow-sm hover:shadow-md gap-3",children:[o.jsx(rt,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),"Add Your First Photo"]})]}),a&&o.jsx(U1,{onClose:()=>l(!1),onUploadComplete:D}),f&&d&&o.jsx(bf,{photo:d,onClose:()=>{p(!1),u(null)},onPhotoUpdate:C,onPhotoDelete:A})]})}function nE(){var A;const{id:e}=_y(),[t,n]=E.useState(null),[r,s]=E.useState([]),[i,a]=E.useState([]),[l,c]=E.useState(!0),[h,d]=E.useState(!1),[u,f]=E.useState(""),[p,m]=E.useState(!1),[v,S]=E.useState(!1),[y,w]=E.useState([]),g=P=>{try{let M;if(Array.isArray(P)){const[_,O,T,k=0,I=0,L=0]=P;M=new Date(_,O-1,T,k,I,L)}else{const _=P.includes("T")?P.split("T")[0]:P;M=new Date(_)}return isNaN(M.getTime())?"Invalid Date":M.toLocaleDateString()}catch{return"Invalid Date"}};E.useEffect(()=>{e&&(j(),R(),b())},[e]);const j=async()=>{try{const P=await X.get(`/api/photos/${e}`);n(P.data),w(P.data.categories.map(M=>M.id))}catch(P){console.error("Error fetching photo:",P)}finally{c(!1)}},R=async()=>{try{const P=await X.get(`/api/photos/${e}/notes`);s(P.data)}catch(P){console.error("Error fetching notes:",P)}},b=async()=>{try{const P=await X.get("/api/categories");a(P.data)}catch(P){console.error("Error fetching categories:",P)}},D=async()=>{try{await X.post(`/api/photos/${e}/favorite`),d(!h)}catch(P){console.error("Error toggling favorite:",P)}},x=async P=>{if(P.preventDefault(),!!u.trim()){m(!0);try{await X.post(`/api/photos/${e}/notes`,{content:u.trim()}),f(""),await R()}catch(M){console.error("Error adding note:",M),alert("Error adding note. Please try again.")}finally{m(!1)}}},N=async()=>{try{await X.put(`/api/photos/${e}/categories`,{categoryIds:y}),S(!1),await j()}catch(P){console.error("Error updating categories:",P),alert("Error updating categories. Please try again.")}},C=P=>{w(M=>M.includes(P)?M.filter(_=>_!==P):[...M,P])};return l?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})}):t?o.jsxs("div",{className:"space-y-6 fade-in",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(ge,{to:"/gallery",className:"inline-flex items-center text-gray-500 hover:text-gray-700 transition-colors",children:[o.jsx(Qr,{className:"h-5 w-5 mr-2"}),"Back to Gallery"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:D,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(Ie,{className:`h-5 w-5 ${h?"text-red-500 fill-current":"text-gray-600"}`})}),o.jsx("button",{onClick:()=>S(!0),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(Zr,{className:"h-5 w-5 text-gray-600"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsx("div",{className:"glass-effect rounded-xl overflow-hidden love-shadow",children:o.jsx("img",{src:`${ts}/api/photos/image/${t.filename}`,alt:t.originalName,className:"w-full h-auto max-h-96 object-contain bg-gray-50"})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:t.originalName}),t.caption&&o.jsx("p",{className:"text-gray-600 mb-4",children:t.caption}),o.jsxs("div",{className:"space-y-3 text-sm text-gray-500",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Zh,{className:"h-4 w-4 mr-2"}),o.jsxs("span",{children:["Uploaded by ",((A=t.uploader)==null?void 0:A.name)||"Unknown"]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(xt,{className:"h-4 w-4 mr-2"}),o.jsx("span",{children:g(t.createdAt)})]})]})]}),o.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Categories"}),o.jsx("button",{onClick:()=>S(!0),className:"text-gray-500 hover:text-gray-700 transition-colors",children:o.jsx(qs,{className:"h-4 w-4"})})]}),t.categories.length>0?o.jsx("div",{className:"flex flex-wrap gap-2",children:t.categories.map(P=>o.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium text-white",style:{backgroundColor:P.color},children:P.name},P.id))}):o.jsx("p",{className:"text-gray-500 text-sm",children:"No categories assigned"})]}),o.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notes"}),o.jsx(Z2,{className:"h-5 w-5 text-gray-500"})]}),o.jsx("form",{onSubmit:x,className:"mb-6",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("input",{type:"text",value:u,onChange:P=>f(P.target.value),placeholder:"Add a note...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent"}),o.jsx("button",{type:"submit",disabled:p||!u.trim(),className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?"...":o.jsx(rt,{className:"h-4 w-4"})})]})}),o.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:r.length>0?r.map(P=>{var M;return o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[o.jsx("p",{className:"text-gray-800 mb-2",children:P.content}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[o.jsxs("span",{children:["By ",((M=P.author)==null?void 0:M.name)||"Unknown"]}),o.jsx("span",{children:g(P.createdAt)})]})]},P.id)}):o.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No notes yet. Be the first to add one!"})})]})]})]}),v&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Manage Categories"}),o.jsx("button",{onClick:()=>S(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:o.jsx(st,{className:"h-5 w-5"})})]}),o.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto mb-6",children:i.map(P=>o.jsxs("label",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:y.includes(P.id),onChange:()=>C(P.id),className:"rounded border-gray-300 text-gray-600 focus:ring-gray-400"}),o.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:P.color}}),o.jsx("span",{className:"text-gray-800",children:P.name})]},P.id))}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:()=>S(!1),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-lg transition-colors",children:"Cancel"}),o.jsx("button",{onClick:N,className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors",children:"Update"})]})]})})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-600 mb-4",children:"Photo not found"}),o.jsxs(ge,{to:"/gallery",className:"inline-flex items-center text-gray-500 hover:text-gray-700 transition-colors",children:[o.jsx(Qr,{className:"h-5 w-5 mr-2"}),"Back to Gallery"]})]})}const rE=({onDayClick:e})=>{const[t,n]=E.useState(new Date),[r,s]=E.useState([]),[i,a]=E.useState(!1),l=new Date,c=t.getFullYear(),h=t.getMonth();E.useEffect(()=>{d()},[c,h]);const d=async()=>{a(!0);try{const x=await X.get("/api/memories");s(x.data)}catch(x){console.error("Error fetching memories:",x),s([])}finally{a(!1)}},u=new Date(c,h,1),f=new Date(c,h+1,0),p=u.getDay(),m=f.getDate(),v=r.filter(x=>{let N,C;if(Array.isArray(x.date))N=x.date[1],C=x.date[0];else{const P=x.date.toString(),[M,_,O]=P.split("-").map(Number);N=_,C=M}const A=N-1===h;if(x.type==="event"&&x.endDate){let P,M;Array.isArray(x.endDate)?(P=x.endDate[1],M=x.endDate[0]):[M,P]=x.endDate.toString().split("-").map(Number);const _=new Date(c,h,1),O=new Date(C,N-1,1),T=new Date(M,P-1,31),k=O<=_&&T>=_;return A||k}return A}),S={},y=(x,N)=>{S[x]||(S[x]=[]),S[x].push(N)};v.forEach(x=>{let N,C,A;if(Array.isArray(x.date))N=x.date[2],C=x.date[1],A=x.date[0];else{const P=x.date.toString(),[M,_,O]=P.split("-").map(Number);N=O,C=_,A=M}if(x.type==="event"&&x.endDate){let P,M,_;Array.isArray(x.endDate)?(P=x.endDate[2],M=x.endDate[1],_=x.endDate[0]):[_,M,P]=x.endDate.toString().split("-").map(Number);let O,T;C-1===h&&A===c?O=N:O=1,M-1===h&&_===c?T=P:M>h+1||_>c?T=m:T=O;for(let k=O;k<=T;k++)y(k,x)}else if(C-1===h){if(x.type==="event"&&A!==c)return;y(N,x)}});const w=x=>{n(N=>{const C=new Date(N);return x==="prev"?C.setMonth(N.getMonth()-1):C.setMonth(N.getMonth()+1),C})},g=x=>{const N=`${c}-${String(h+1).padStart(2,"0")}-${String(x).padStart(2,"0")}`,C=S[x]||[];e(N,C)},j=x=>{switch(x){case"anniversary":return"";case"milestone":return"";case"event":return"";default:return""}},R=()=>{const x=[];for(let N=0;N<p;N++)x.push(o.jsx("div",{className:"h-16"},`empty-${N}`));for(let N=1;N<=m;N++){const C=l.getFullYear()===c&&l.getMonth()===h&&l.getDate()===N,A=S[N]||[],P=A.length>0;x.push(o.jsxs("div",{onClick:()=>g(N),className:`h-10 md:h-16 flex flex-col items-center justify-center cursor-pointer rounded-lg transition-all duration-200 relative overflow-hidden ${C?"bg-gradient-to-br from-blue-500 to-blue-600 text-white font-semibold shadow-md":P?"bg-blue-50 text-blue-900 hover:bg-blue-100 border border-blue-200":"hover:bg-gray-50 text-gray-700 border border-transparent hover:border-gray-200"}`,children:[o.jsx("span",{className:`text-sm md:text-base font-medium ${C?"text-white":P?"text-blue-900":"text-gray-700"}`,children:N}),P&&o.jsxs("div",{className:"md:hidden flex items-center justify-center space-x-0.5 mt-1",children:[A.slice(0,3).map((M,_)=>o.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${C?"bg-white":"bg-blue-500"}`,title:M.title},M.id)),A.length>3&&o.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${C?"bg-white opacity-60":"bg-blue-300"}`})]}),P&&o.jsx("div",{className:"hidden md:flex flex-col items-center justify-center mt-1 w-full px-1 min-h-0 flex-1",children:A.length<=2?A.map((M,_)=>o.jsxs("div",{className:"flex items-center justify-center w-full mb-0.5 last:mb-0",children:[o.jsx("span",{className:"text-xs mr-1",children:j(M.type)}),o.jsx("span",{className:`text-xs truncate max-w-12 ${C?"text-white":"text-blue-700"}`,children:M.title})]},M.id)):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-center w-full mb-0.5",children:[o.jsx("span",{className:"text-xs mr-1",children:j(A[0].type)}),o.jsx("span",{className:`text-xs truncate max-w-12 ${C?"text-white":"text-blue-700"}`,children:A[0].title})]}),o.jsxs("span",{className:`text-xs font-semibold ${C?"text-white":"text-blue-600"}`,children:["+",A.length-1]})]})})]},N))}return x},b=["January","February","March","April","May","June","July","August","September","October","November","December"],D=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return o.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:[b[h]," ",c]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>w("prev"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:o.jsx(vd,{className:"h-5 w-5 text-gray-600"})}),o.jsx("button",{onClick:()=>w("next"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:o.jsx(nr,{className:"h-5 w-5 text-gray-600"})})]})]}),o.jsx("div",{className:"grid grid-cols-7 gap-1 md:gap-2 mb-2",children:D.map(x=>o.jsxs("div",{className:"h-8 flex items-center justify-center text-xs md:text-sm font-semibold text-gray-600 bg-gray-50 rounded-md",children:[o.jsx("span",{className:"hidden sm:inline",children:x}),o.jsx("span",{className:"sm:hidden",children:x.charAt(0)})]},x))}),o.jsx("div",{className:"grid grid-cols-7 gap-1 md:gap-2",children:R()}),o.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 md:gap-6 mt-6 text-xs text-gray-500",children:[o.jsxs("div",{className:"flex items-center space-x-1.5",children:[o.jsx("span",{className:"text-sm",children:""}),o.jsx("span",{className:"hidden sm:inline",children:"Anniversary"})]}),o.jsxs("div",{className:"flex items-center space-x-1.5",children:[o.jsx("span",{className:"text-sm",children:""}),o.jsx("span",{className:"hidden sm:inline",children:"Milestone"})]}),o.jsxs("div",{className:"flex items-center space-x-1.5",children:[o.jsx("span",{className:"text-sm",children:""}),o.jsx("span",{className:"hidden sm:inline",children:"Special Moment"})]}),o.jsxs("div",{className:"flex items-center space-x-1.5",children:[o.jsx("span",{className:"text-sm",children:""}),o.jsx("span",{className:"hidden sm:inline",children:"Event"})]}),o.jsxs("div",{className:"flex items-center space-x-1.5",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),o.jsx("span",{className:"hidden sm:inline",children:"Today"})]}),o.jsxs("div",{className:"flex items-center space-x-1.5 md:hidden",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),o.jsx("span",{children:"Has memories"})]})]})]})},sE=({isOpen:e,onClose:t,date:n,memories:r,onEdit:s,onDelete:i})=>{if(!e)return null;const a=c=>{switch(c){case"anniversary":return o.jsx(Ie,{className:"h-5 w-5 text-red-500"});case"milestone":return o.jsx(Ks,{className:"h-5 w-5 text-yellow-500"});case"event":return o.jsx(xt,{className:"h-5 w-5 text-blue-500"});case"special_moment":return o.jsx(He,{className:"h-5 w-5 text-purple-400"});default:return o.jsx(He,{className:"h-5 w-5 text-purple-400"})}},l=c=>{try{const h=c.includes("T")?c.split("T")[0]:c,[d,u,f]=h.split("-").map(Number),p=new Date(d,u-1,f);return isNaN(p.getTime())?"Invalid Date":p.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return"Invalid Date"}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Memories for ",l(n)]}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[r.length," ",r.length===1?"memory":"memories"," found"]})]}),o.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(st,{className:"h-5 w-5"})})]}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:r.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(xt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No memories found for this date"})]}):o.jsx("div",{className:"space-y-4",children:r.map(c=>{var h;return o.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 hover:border-gray-300 transition-colors",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a(c.type),o.jsx("h3",{className:"font-semibold text-gray-800",children:c.title})]}),o.jsx("p",{className:"text-gray-600 mb-3",children:c.description}),o.jsx("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:o.jsxs("span",{children:["Added by ",((h=c.creator)==null?void 0:h.name)||"Unknown"]})})]}),o.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[o.jsx("button",{onClick:()=>s(c),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Edit memory",children:o.jsx(qs,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>i(c.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Delete memory",children:o.jsx(Ht,{className:"h-4 w-4"})})]})]})},c.id)})})})]})})};function oE(){var ye,Te;const[e,t]=Fy(),[n,r]=E.useState([]),[s,i]=E.useState(!1);E.useEffect(()=>{console.log(" showForm state changed:",s)},[s]);const[a,l]=E.useState(null),[c,h]=E.useState({title:"",description:"",date:"",type:"special_moment",selectedPhotos:[]}),[d,u]=E.useState(!1),[f,p]=E.useState("all"),[m,v]=E.useState("all"),[S,y]=E.useState("asc"),[w,g]=E.useState(""),[j,R]=E.useState([]),[b,D]=E.useState(!1),[x,N]=E.useState([]),[C,A]=E.useState(null),[P,M]=E.useState(!1),[_,O]=E.useState(null),[T,k]=E.useState(!1);E.useEffect(()=>{I(),V()},[]),E.useEffect(()=>{$()},[f,m,S]);const I=async()=>{try{const F=await X.get("/api/memories");r(F.data)}catch(F){console.error("Error fetching memories:",F)}},L=()=>{let F=e.get("openMemory");if(F||(F=sessionStorage.getItem("openMemoryId")),console.log("Current URL:",window.location.href),console.log("SearchParams toString:",e.toString()),console.log("SessionStorage openMemoryId:",sessionStorage.getItem("openMemoryId")),console.log("Final openMemoryId:",F),console.log("Available memories:",n.length),F&&n.length>0){const K=n.find(Y=>Y.id===parseInt(F));console.log("Found memory to open:",K),K&&(console.log("Opening memory detail modal"),A(K),M(!0),sessionStorage.removeItem("openMemoryId"),setTimeout(()=>{t({})},100))}};E.useEffect(()=>{n.length>0&&L()},[n,e]);const $=async()=>{try{const F=new URLSearchParams;f!=="all"&&F.append("type",f),m!=="all"&&F.append("timeFilter",m),S&&F.append("sortOrder",S);const K=F.toString()?`/api/memories/filter?${F.toString()}`:"/api/memories",Y=await fetch(K);if(Y.ok){const ee=await Y.json();r(ee)}}catch(F){console.error("Error fetching filtered memories:",F)}},V=async()=>{try{const F=await X.get("/api/photos?limit=100");N(F.data.photos||[])}catch(F){console.error("Error fetching photos:",F)}},z=async F=>{if(console.log(" handleSubmit called",{event:F,formData:c,submitting:d}),F.preventDefault(),d){console.log(" Already submitting, returning early");return}if(!c.description.trim()){console.log(" Validation failed: empty description"),alert("Please enter a description for this memory.");return}console.log(" Starting memory submission..."),u(!0);try{const K={...c,selectedPhotos:(c.selectedPhotos||[]).map(ee=>ee.toString())};console.log(" Prepared memory data for backend:",K);let Y;if(a?(console.log(" Updating existing memory:",a.id),Y=await X.put(`/api/memories/${a.id}`,K)):(console.log(" Creating new memory with data:",K),Y=await X.post("/api/memories",K)),console.log(" Memory API response:",Y),c.type==="event"&&c.selectedPhotos&&c.selectedPhotos.length>0){const ee=a?a.id:Y.data.memory.id,re=(c.selectedPhotos||[]).map(de=>Number(de));console.log(" Associating photos with memory:",{memoryId:ee,photoIds:re});try{await X.post(`/api/memories/${ee}/photos`,re),console.log(" Photos associated successfully")}catch(de){console.error(" Error associating photos:",de),alert("Memory created but failed to associate photos. You can edit the memory to add photos later.")}}console.log(" Refreshing memories list..."),await I(),console.log(" Memory created/updated successfully!"),B()}catch(K){console.error(" Error saving memory:",K),K.response&&(console.error(" Error response data:",K.response.data),console.error(" Error response status:",K.response.status)),alert("Error saving memory. Please try again.")}finally{u(!1),console.log(" Form submission completed")}},H=F=>{l(F),h({title:F.title,description:F.description,date:(()=>{if(Array.isArray(F.date)){const[K,Y,ee]=F.date;return`${K}-${Y.toString().padStart(2,"0")}-${ee.toString().padStart(2,"0")}`}else if(typeof F.date=="string")return F.date.includes("T")?F.date.split("T")[0]:F.date;return""})(),endDate:(()=>{if(Array.isArray(F.endDate)){const[K,Y,ee]=F.endDate;return`${K}-${Y.toString().padStart(2,"0")}-${ee.toString().padStart(2,"0")}`}else if(typeof F.endDate=="string")return F.endDate.includes("T")?F.endDate.split("T")[0]:F.endDate})(),type:F.type,selectedPhotos:F.photos?F.photos.map(K=>K.id):[]}),i(!0)},W=async F=>{if(confirm("Are you sure you want to delete this memory?"))try{console.log(" Deleting memory with ID:",F),console.log(" Current selectedDayMemories before deletion:",j),await X.delete(`/api/memories/${F}`),console.log(" Memory deleted successfully from backend"),R(K=>{const Y=K.filter(ee=>ee.id!==F);return console.log(" Updated selectedDayMemories after deletion:",Y),Y}),await I(),console.log(" Memories refetched successfully")}catch(K){console.error(" Error deleting memory:",K),alert("Error deleting memory. Please try again.")}},B=()=>{h({title:"",description:"",date:"",endDate:void 0,type:"special_moment",selectedPhotos:[]}),l(null),i(!1)},G=F=>{A(F),M(!0)},Q=()=>{A(null),M(!1)},oe=F=>{O(F),k(!0)},ne=()=>{O(null),k(!1)},ie=(F,K)=>{console.log(" Day clicked in Memories component:",{date:F,memoriesCount:K.length,memories:K}),g(F),R(K),D(!0),console.log(" Modal state updated - showDayModal: true")},ue=F=>{switch(F){case"anniversary":return o.jsx(Ie,{className:"h-5 w-5 text-red-500",fill:"currentColor"});case"milestone":return o.jsx(Ks,{className:"h-5 w-5 text-yellow-500",fill:"currentColor"});case"event":return o.jsx(xt,{className:"h-5 w-5 text-blue-500"});default:return o.jsx(He,{className:"h-5 w-5 text-purple-400"})}},ve=F=>{switch(F){case"anniversary":return"Anniversary";case"milestone":return"Milestone";case"event":return"Event";case"all":return"memory";default:return"Special Moment"}},St=n,Ke=n.filter(F=>F.type!=="event").map(F=>{let K;if(Array.isArray(F.date)){const[le,ce,Ae]=F.date;K=new Date(le,ce-1,Ae)}else if(typeof F.date=="string"){const le=F.date.includes("T")?F.date.split("T")[0]:F.date,[ce,Ae,kt]=le.split("-").map(Number);K=new Date(ce,Ae-1,kt)}else K=new Date(F.date);if(isNaN(K.getTime()))return null;const Y=new Date,ee=Y.getFullYear(),re=new Date(ee,K.getMonth(),K.getDate()),de=re>=Y?re:new Date(ee+1,K.getMonth(),K.getDate());return{...F,nextAnniversaryDate:de,daysUntil:Math.ceil((de.getTime()-Y.getTime())/(1e3*60*60*24))}}).filter(F=>F!==null).sort((F,K)=>F.daysUntil-K.daysUntil).slice(0,3);return o.jsxs("div",{className:"space-y-6 fade-in",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"font-heading text-4xl text-gray-800 mb-2",children:"Our Memories"}),o.jsx("p",{className:"text-lg text-gray-600",children:"Special moments and milestones in our journey together"})]}),o.jsxs("button",{onClick:()=>{console.log(' "Add Memory" button clicked'),i(!0)},className:"flex items-center space-x-2 romantic-gradient text-white px-6 py-3 rounded-lg hover:opacity-90 transition-opacity",children:[o.jsx(rt,{className:"h-5 w-5"}),o.jsx("span",{children:"Add Memory"})]})]}),Ke.length>0&&o.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[o.jsx(bd,{className:"h-5 w-5 mr-2 text-purple-400"}),"Upcoming Anniversaries"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Ke.map(F=>{let K;try{if(F.date&&typeof F.date=="string"){const ee=F.date.includes("T")?F.date.split("T")[0]:F.date,[re,de,le]=ee.split("-").map(Number);K=new Date(re,de-1,le)}else K=new Date(F.date)}catch{K=new Date}const Y=F.nextAnniversaryDate&&!isNaN(F.nextAnniversaryDate.getTime())?F.nextAnniversaryDate.getFullYear()-K.getFullYear():0;return o.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-purple-50 rounded-lg p-4 border border-pink-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[ue(F.type),o.jsx("span",{className:"text-xs text-gray-500",children:F.nextAnniversaryDate&&!isNaN(F.nextAnniversaryDate.getTime())?F.nextAnniversaryDate.toLocaleDateString():"Invalid Date"})]}),o.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:F.title}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:F.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[Y>0&&o.jsxs("p",{className:"text-xs text-purple-500 font-medium",children:[Y," year",Y!==1?"s":""," anniversary"]}),o.jsx("p",{className:"text-xs text-gray-500",children:F.daysUntil===0?"Today!":`${F.daysUntil} days`})]})]},F.id)})})]}),o.jsx(rE,{onDayClick:ie}),o.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[o.jsx(xt,{className:"h-5 w-5 mr-2 text-purple-400"}),"All Memories"]}),o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap items-stretch sm:items-center gap-4",children:[o.jsxs("div",{className:"relative flex-1 sm:flex-none sm:min-w-[140px]",children:[o.jsx("label",{className:"block text-gray-500 text-sm font-medium mb-1",children:"Type"}),o.jsxs("select",{value:f,onChange:F=>p(F.target.value),className:"w-full appearance-none bg-white border border-gray-300 rounded-lg px-4 py-3 pr-8 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 transition-colors touch-manipulation",children:[o.jsx("option",{value:"all",children:"All Types"}),o.jsx("option",{value:"anniversary",children:"Anniversary"}),o.jsx("option",{value:"milestone",children:"Milestone"}),o.jsx("option",{value:"special_moment",children:"Special Moment"}),o.jsx("option",{value:"event",children:"Event"})]}),o.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none mt-6",children:o.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),o.jsxs("div",{className:"relative flex-1 sm:flex-none sm:min-w-[140px]",children:[o.jsx("label",{className:"block text-gray-500 text-sm font-medium mb-1",children:"Time Period"}),o.jsxs("select",{value:m,onChange:F=>v(F.target.value),className:"w-full appearance-none bg-white border border-gray-300 rounded-lg px-4 py-3 pr-8 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 transition-colors touch-manipulation",children:[o.jsx("option",{value:"all",children:"All Time"}),o.jsx("option",{value:"thisMonth",children:"This Month"}),o.jsx("option",{value:"last6Months",children:"Last 6 Months"}),o.jsx("option",{value:"thisYear",children:"This Year"}),o.jsx("option",{value:"lastYear",children:"Last Year"}),o.jsx("option",{value:"older",children:"2+ Years Ago"})]}),o.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none mt-6",children:o.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),o.jsxs("div",{className:"relative flex-1 sm:flex-none sm:min-w-[140px]",children:[o.jsx("label",{className:"block text-gray-500 text-sm font-medium mb-1",children:"Sort Order"}),o.jsxs("select",{value:S,onChange:F=>y(F.target.value),className:"w-full appearance-none bg-white border border-gray-300 rounded-lg px-4 py-3 pr-8 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 transition-colors touch-manipulation",children:[o.jsx("option",{value:"desc",children:"Newest First"}),o.jsx("option",{value:"asc",children:"Oldest First"})]}),o.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none mt-6",children:o.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})}),St.length>0?o.jsx("div",{className:"space-y-4",children:St.map(F=>{var K;return o.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:shadow-md transition-all cursor-pointer group",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",onClick:()=>G(F),children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[ue(F.type),o.jsx("h3",{className:"text-lg font-semibold text-gray-800 group-hover:text-blue-600 transition-colors",children:F.title}),o.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:ve(F.type)})]}),o.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:F.description}),F.type==="event"&&F.photos&&F.photos.length>0&&o.jsxs("div",{className:"mb-3",children:[o.jsxs("div",{className:"flex flex-wrap gap-2",children:[F.photos.slice(0,4).map(Y=>o.jsx("div",{className:"relative",children:o.jsx("img",{src:`/api/photos/image/${Y.filename}`,alt:Y.originalName,className:"w-16 h-16 object-cover rounded-lg border border-gray-200",title:Y.caption||Y.originalName})},Y.id)),F.photos.length>4&&o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg border border-gray-200 flex items-center justify-center",children:o.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:["+",F.photos.length-4]})})]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[F.photos.length," photo",F.photos.length!==1?"s":""," attached"]})]}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(xt,{className:"h-4 w-4"}),o.jsx("span",{children:F.type==="event"&&F.endDate?(()=>{try{let Y,ee,re;if(Array.isArray(F.date))[Y,ee,re]=F.date;else if(typeof F.date=="string")[Y,ee,re]=(F.date.includes("T")?F.date.split("T")[0]:F.date).split("-").map(Number);else return"Invalid Date";let de,le,ce;if(Array.isArray(F.endDate))[de,le,ce]=F.endDate;else if(typeof F.endDate=="string")[de,le,ce]=(F.endDate.includes("T")?F.endDate.split("T")[0]:F.endDate).split("-").map(Number);else return"Invalid Date";const Ae=new Date(Y,ee-1,re),kt=new Date(de,le-1,ce);return`${isNaN(Ae.getTime())?"Invalid Date":Ae.toLocaleDateString()} - ${isNaN(kt.getTime())?"Invalid Date":kt.toLocaleDateString()}`}catch{return"Invalid Date"}})():(()=>{try{let Y,ee,re;if(Array.isArray(F.date))[Y,ee,re]=F.date;else if(typeof F.date=="string")[Y,ee,re]=(F.date.includes("T")?F.date.split("T")[0]:F.date).split("-").map(Number);else return"Invalid Date";const de=new Date(Y,ee-1,re);return isNaN(de.getTime())?"Invalid Date":de.toLocaleDateString()}catch{return"Invalid Date"}})()})]}),o.jsx("span",{children:""}),o.jsxs("span",{children:["Added by ",((K=F.creator)==null?void 0:K.name)||"Unknown"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 ml-4 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:Y=>{Y.stopPropagation(),H(F)},className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(qs,{className:"h-4 w-4"})}),o.jsx("button",{onClick:Y=>{Y.stopPropagation(),W(F.id)},className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(Ht,{className:"h-4 w-4"})})]})]})},F.id)})}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(xt,{className:"h-16 w-16 text-pink-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:f==="all"?"No memories yet":`No ${ve(f).toLowerCase()}s yet`}),o.jsx("p",{className:"text-gray-500 mb-6",children:"Start documenting your special moments and milestones!"}),o.jsxs("button",{onClick:()=>{console.log(' "Add First Memory" button clicked'),i(!0)},className:"inline-flex items-center px-6 py-3 romantic-gradient text-white rounded-lg hover:opacity-90 transition-opacity",children:[o.jsx(rt,{className:"h-5 w-5 mr-2"}),"Add First Memory"]})]})]}),o.jsx(sE,{isOpen:b,onClose:()=>D(!1),date:w,memories:j,onEdit:H,onDelete:W}),P&&C&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[85vh] overflow-hidden",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:C.title}),o.jsx("button",{onClick:Q,className:"w-8 h-8 flex items-center justify-center rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors",children:""})]}),o.jsx("div",{className:"overflow-y-auto max-h-[calc(85vh-140px)] p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[ue(C.type),o.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 text-sm rounded-full",children:ve(C.type)})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("p",{className:"text-gray-600 leading-relaxed",children:C.description})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Date"}),o.jsx("p",{className:"text-gray-600",children:C.type==="event"&&C.endDate?(()=>{try{let F,K,Y;if(Array.isArray(C.date))[F,K,Y]=C.date;else if(typeof C.date=="string")[F,K,Y]=(C.date.includes("T")?C.date.split("T")[0]:C.date).split("-").map(Number);else return"Invalid Date";let ee,re,de;if(Array.isArray(C.endDate))[ee,re,de]=C.endDate;else if(typeof C.endDate=="string")[ee,re,de]=(C.endDate.includes("T")?C.endDate.split("T")[0]:C.endDate).split("-").map(Number);else return"Invalid Date";const le=new Date(F,K-1,Y),ce=new Date(ee,re-1,de);return`${isNaN(le.getTime())?"Invalid Date":le.toLocaleDateString()} - ${isNaN(ce.getTime())?"Invalid Date":ce.toLocaleDateString()}`}catch{return"Invalid Date"}})():(()=>{try{let F,K,Y;if(Array.isArray(C.date))[F,K,Y]=C.date;else if(typeof C.date=="string")[F,K,Y]=(C.date.includes("T")?C.date.split("T")[0]:C.date).split("-").map(Number);else return"Invalid Date";const ee=new Date(F,K-1,Y);return isNaN(ee.getTime())?"Invalid Date":ee.toLocaleDateString()}catch{return"Invalid Date"}})()})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Added by"}),o.jsx("p",{className:"text-gray-600",children:((ye=C.creator)==null?void 0:ye.name)||"Unknown"})]})]}),C.type==="event"&&C.photos&&C.photos.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:["Photos (",C.photos.length,")"]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:C.photos.map(F=>o.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>oe(F),children:[o.jsx("img",{src:`/api/photos/image/${F.filename}`,alt:F.originalName,className:"w-full h-24 object-cover rounded-lg border border-gray-200 group-hover:shadow-lg group-hover:scale-105 transition-all duration-200"}),o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 rounded-lg transition-all flex items-center justify-center",children:o.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity bg-white bg-opacity-90 rounded-full p-2",children:o.jsx("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})}),F.caption&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-60 text-white text-xs p-2 rounded-b-lg",children:o.jsx("p",{className:"truncate",children:F.caption})})]},F.id))})]})]})}),o.jsxs("div",{className:"flex space-x-3 p-6 border-t border-gray-100 bg-gray-50",children:[o.jsxs("button",{onClick:()=>{Q(),H(C)},className:"flex-1 px-6 py-3 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium flex items-center justify-center space-x-2",children:[o.jsx(qs,{className:"h-4 w-4"}),o.jsx("span",{children:"Edit Memory"})]}),o.jsx("button",{onClick:Q,className:"flex-1 px-6 py-3 romantic-gradient text-white rounded-lg hover:opacity-90 transition-colors font-medium",children:"Close"})]})]})}),T&&_&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"relative max-w-4xl max-h-full w-full h-full flex items-center justify-center",children:[o.jsx("button",{onClick:ne,className:"absolute top-4 right-4 w-10 h-10 flex items-center justify-center rounded-full bg-black bg-opacity-50 text-white hover:bg-opacity-70 transition-colors z-10",children:""}),o.jsxs("div",{className:"relative max-w-full max-h-full",children:[o.jsx("img",{src:`/api/photos/image/${_.filename}`,alt:_.originalName,className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl"}),_.caption&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 text-white p-4 rounded-b-lg",children:o.jsx("p",{className:"text-center text-sm",children:_.caption})})]}),o.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-50 text-white px-4 py-2 rounded-full text-sm",children:_.originalName})]})}),s&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-2 md:p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[95vh] md:max-h-[85vh] overflow-hidden",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 md:p-6 border-b border-gray-100",children:[o.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-800",children:a?"Edit Memory":"Create Memory"}),o.jsx("button",{onClick:B,className:"w-8 h-8 flex items-center justify-center rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors",children:""})]}),o.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-140px)] md:max-h-[calc(85vh-140px)]",children:o.jsxs("form",{onSubmit:z,className:"p-4 md:p-6 space-y-4 md:space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),o.jsx("input",{type:"text",value:c.title,onChange:F=>h({...c,title:F.target.value}),className:"w-full px-3 md:px-4 py-2 md:py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all text-sm md:text-base",placeholder:"Enter memory title",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",c.type==="event"?"Start Date":"Date"]}),o.jsx("input",{type:"date",value:c.date,onChange:F=>h({...c,date:F.target.value}),className:"w-full px-3 md:px-4 py-2 md:py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all text-sm md:text-base",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),o.jsxs("select",{value:c.type,onChange:F=>h({...c,type:F.target.value}),className:"w-full px-3 md:px-4 py-2 md:py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all text-sm md:text-base",children:[o.jsx("option",{value:"special_moment",children:"Special Moment"}),o.jsx("option",{value:"anniversary",children:"Anniversary"}),o.jsx("option",{value:"milestone",children:"Milestone"}),o.jsx("option",{value:"event",children:"Event"})]})]})]}),c.type==="event"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" End Date (Optional)"}),o.jsx("input",{type:"date",value:c.endDate||"",onChange:F=>h({...c,endDate:F.target.value||void 0}),min:c.date,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty for single-day events"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:c.description,onChange:F=>h({...c,description:F.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all resize-none",rows:3,placeholder:"Share the story behind this memory...",required:!0})]}),c.type==="event"&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Select Photos (",((Te=c.selectedPhotos)==null?void 0:Te.length)||0," selected)"]}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx("div",{className:"max-h-64 overflow-y-auto p-3",children:o.jsx("div",{className:"grid grid-cols-3 gap-3",children:x.map(F=>{var K,Y;return o.jsxs("div",{className:`relative cursor-pointer rounded-lg border-2 transition-all ${(K=c.selectedPhotos)!=null&&K.includes(F.id)?"border-pink-500 bg-pink-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{const ee=c.selectedPhotos||[],de=ee.includes(F.id)?ee.filter(le=>le!==F.id):[...ee,F.id];h({...c,selectedPhotos:de})},children:[o.jsx("img",{src:`/api/photos/image/${F.filename}`,alt:F.originalName,className:"w-full h-20 object-cover rounded-md"}),((Y=c.selectedPhotos)==null?void 0:Y.includes(F.id))&&o.jsx("div",{className:"absolute top-1 right-1 w-5 h-5 bg-pink-500 text-white rounded-full flex items-center justify-center text-xs",children:""}),F.caption&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-60 text-white text-xs p-1 rounded-b-md",children:o.jsx("p",{className:"truncate",children:F.caption})})]},F.id)})})})})]})]}),o.jsxs("div",{className:"flex space-x-3 pt-4 md:pt-6 border-t border-gray-100 bg-gray-50",children:[o.jsx("button",{type:"button",onClick:B,className:"flex-1 px-4 md:px-6 py-2 md:py-3 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm md:text-base",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:d,onClick:F=>{console.log(" Submit button clicked"),console.log(" Form data at submit:",c)},className:"flex-1 px-4 md:px-6 py-2 md:py-3 romantic-gradient text-white rounded-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium text-sm md:text-base",children:d?a?"Updating...":"Creating...":a?"Update Memory":"Create Memory"})]})]})})]})})]})}const iE=({prizes:e,size:t=300})=>{const n=(d,u)=>d==="MONEY"?u>=500?o.jsx(Bt,{className:"w-4 h-4 text-yellow-400"}):u>=100?o.jsx(Bt,{className:"w-4 h-4 text-white"}):u>=50?o.jsx(Bt,{className:"w-4 h-4 text-white"}):u>=25?o.jsx(Bt,{className:"w-4 h-4 text-white"}):u>=10?o.jsx(Bt,{className:"w-4 h-4 text-gray-800"}):o.jsx(Bt,{className:"w-4 h-4 text-gray-600"}):o.jsx(He,{className:"w-4 h-4 text-white"}),r=d=>{const u=d.replace("#",""),f=parseInt(u.substr(0,2),16),p=parseInt(u.substr(2,2),16),m=parseInt(u.substr(4,2),16);return(.299*f+.587*p+.114*m)/255>.5?"#000000":"#FFFFFF"},s=t/2,i=s,a=s,l=e.map((d,u)=>{const f=360/e.length,p=u*f,m=(u+1)*f;return{...d,startAngle:p,endAngle:m,segmentAngle:f}}),c=(d,u)=>{const f=d*Math.PI/180,p=u*Math.PI/180,m=i+(s-20)*Math.cos(f),v=a+(s-20)*Math.sin(f),S=i+(s-20)*Math.cos(p),y=a+(s-20)*Math.sin(p),w=u-d<=180?"0":"1";return[`M ${i} ${a}`,`L ${m} ${v}`,`A ${s-20} ${s-20} 0 ${w} 1 ${S} ${y}`,"Z"].join(" ")},h=(d,u)=>{const f=(d+u)/2,p=u-d,m=s-20,v=.45,S=.8,y=Math.min(p/180,1),w=v+(S-v)*Math.sqrt(y),g=m*w,R=(f-90)*Math.PI/180;return{x:i+g*Math.cos(R),y:a+g*Math.sin(R)}};return e.length===0?o.jsx("div",{className:"flex items-center justify-center bg-gray-100 rounded-full border-4 border-gray-300",style:{width:t,height:t},children:o.jsx("p",{className:"text-gray-500 text-center px-4",children:"No prizes configured"})}):o.jsxs("div",{className:"relative",children:[o.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",children:[l.map((d,u)=>o.jsx("g",{children:o.jsx("path",{d:c(d.startAngle,d.endAngle),fill:d.color,stroke:"#ffffff",strokeWidth:"2"})},u)),o.jsx("circle",{cx:i,cy:a,r:"20",fill:"#ffffff",stroke:"#e5e7eb",strokeWidth:"2"})]}),o.jsx("div",{className:"absolute inset-0",children:l.map((d,u)=>{const f=h(d.startAngle,d.endAngle),p=r(d.color);return o.jsx("div",{className:"absolute flex flex-col items-center justify-center text-center pointer-events-none",style:{left:f.x,top:f.y,transform:"translate(-50%, -50%)",color:p,minWidth:"max-content"},children:o.jsxs("div",{className:"flex flex-col items-center space-y-1 px-1",children:[n(d.prizeType,d.prizeValue),o.jsx("div",{className:"text-xs font-medium max-w-16 truncate",title:d.prizeName,children:d.prizeName})]})},u)})}),o.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1",style:{marginTop:"10px"},children:o.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-b-8 border-l-transparent border-r-transparent border-b-red-500"})})]})},aE=`
  .slider {
    -webkit-appearance: none;
    appearance: none;
    height: 12px;
    border-radius: 6px;
    outline: none;
    transition: all 0.2s ease;
  }
  
  .slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: #3B82F6;
    cursor: pointer;
    border: 3px solid white;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    transition: all 0.2s ease;
  }
  
  .slider::-webkit-slider-thumb:hover {
    background: #2563EB;
    transform: scale(1.1);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  }
  
  .slider::-moz-range-thumb {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: #3B82F6;
    cursor: pointer;
    border: 3px solid white;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    transition: all 0.2s ease;
  }
  
  .slider::-moz-range-thumb:hover {
    background: #2563EB;
    transform: scale(1.1);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  }
`,lE=({targetUserId:e,targetUserName:t,onPrizesChange:n})=>{const[r,s]=E.useState([]),[i,a]=E.useState(!0),[l,c]=E.useState(!1),[h,d]=E.useState(!1),[u,f]=E.useState(new Set),{showToast:p}=Ai(),m=[{value:"#F3F4F6",name:"Light Gray"},{value:"#E5E7EB",name:"Gray"},{value:"#D1D5DB",name:"Medium Gray"},{value:"#9CA3AF",name:"Dark Gray"},{value:"#6B7280",name:"Slate Gray"},{value:"#4B5563",name:"Charcoal"},{value:"#374151",name:"Dark Charcoal"},{value:"#1F2937",name:"Black"},{value:"#FEF3C7",name:"Light Yellow"},{value:"#FDE68A",name:"Pale Yellow"},{value:"#FCD34D",name:"Yellow"},{value:"#F59E0B",name:"Orange Yellow"},{value:"#D97706",name:"Orange"},{value:"#92400E",name:"Dark Orange"},{value:"#78350F",name:"Brown"},{value:"#FEE2E2",name:"Light Pink"},{value:"#FECACA",name:"Pale Pink"},{value:"#FCA5A5",name:"Pink"},{value:"#F87171",name:"Rose"},{value:"#EF4444",name:"Red"},{value:"#DC2626",name:"Dark Red"},{value:"#B91C1C",name:"Crimson"},{value:"#991B1B",name:"Maroon"},{value:"#7F1D1D",name:"Dark Maroon"},{value:"#DBEAFE",name:"Light Blue"},{value:"#BFDBFE",name:"Pale Blue"},{value:"#93C5FD",name:"Sky Blue"},{value:"#60A5FA",name:"Blue"},{value:"#3B82F6",name:"Royal Blue"},{value:"#2563EB",name:"Dark Blue"},{value:"#1D4ED8",name:"Navy Blue"},{value:"#1E40AF",name:"Deep Blue"},{value:"#1E3A8A",name:"Midnight Blue"},{value:"#D1FAE5",name:"Light Green"},{value:"#A7F3D0",name:"Pale Green"},{value:"#6EE7B7",name:"Mint Green"},{value:"#34D399",name:"Green"},{value:"#10B981",name:"Emerald"},{value:"#059669",name:"Dark Green"},{value:"#047857",name:"Forest Green"}];E.useEffect(()=>{v()},[e]);const v=async()=>{try{a(!0);const C=e?`/api/wheel-config/other-user-wheel/${e}`:"/api/wheel-config/my-wheel",A=await X.get(C);if(A.data.hasConfiguration&&A.data.prizes)s(A.data.prizes.map((P,M)=>({id:P.id,prizeName:P.prizeName,prizeDescription:P.prizeDescription,prizeType:P.prizeType,prizeValue:P.prizeValue,probability:parseFloat(P.probability),color:P.color,displayOrder:P.displayOrder||M}))),d(!0),n&&n(A.data.prizes.map((P,M)=>({id:P.id,prizeName:P.prizeName,prizeDescription:P.prizeDescription,prizeType:P.prizeType,prizeValue:P.prizeValue,probability:parseFloat(P.probability),color:P.color,displayOrder:P.displayOrder||M})));else{const P=S();s(P),d(!1),n&&n(P)}}catch(C){console.error("Error loading wheel configuration:",C),p("Failed to load wheel configuration","general"),s(S()),d(!1)}finally{a(!1)}},S=()=>[{prizeName:"$1",prizeDescription:"Win $1 love points",prizeType:"MONEY",prizeValue:1,probability:45,color:"#F3F4F6",displayOrder:0},{prizeName:"$5",prizeDescription:"Win $5 love points",prizeType:"MONEY",prizeValue:5,probability:25,color:"#E5E7EB",displayOrder:1},{prizeName:"$10",prizeDescription:"Win $10 love points",prizeType:"MONEY",prizeValue:10,probability:15,color:"#D1D5DB",displayOrder:2},{prizeName:"$25",prizeDescription:"Win $25 love points",prizeType:"MONEY",prizeValue:25,probability:10,color:"#9CA3AF",displayOrder:3},{prizeName:"$77",prizeDescription:"Win $77 love points",prizeType:"MONEY",prizeValue:77,probability:2.5,color:"#6B7280",displayOrder:4},{prizeName:"$100",prizeDescription:"Win $100 love points",prizeType:"MONEY",prizeValue:100,probability:1.5,color:"#4B5563",displayOrder:5},{prizeName:"$500",prizeDescription:"Win $500 love points",prizeType:"MONEY",prizeValue:500,probability:.5,color:"#374151",displayOrder:6},{prizeName:"$1000",prizeDescription:"Win $1000 love points",prizeType:"MONEY",prizeValue:1e3,probability:.5,color:"#1F2937",displayOrder:7}],y=C=>{const A=new Set(u);A.has(C)?A.delete(C):A.add(C),f(A)},w=()=>{const C={prizeName:"New Prize",prizeDescription:"Description for new prize",prizeType:"MONEY",prizeValue:1,probability:1,color:m[Math.floor(Math.random()*m.length)].value,displayOrder:r.length},A=[...r,C];s(A),f(P=>new Set([...P,r.length])),n&&n(A)},g=C=>{if(r.length<=2){p("You must have at least 2 prizes","general");return}const A=r.filter((P,M)=>M!==C);s(A),n&&n(A)},j=(C,A,P)=>{const M=[...r];M[C]={...M[C],[A]:P},s(M),n&&n(M)},R=(C,A)=>{const P=[...r];P[C].probability=A,s(P),n&&n(P)},b=C=>{const A=[...r];A[C].locked=!A[C].locked,s(A),n&&n(A)},D=()=>{const C=S();s(C),p("Reset to default configuration","general"),n&&n(C)},x=async()=>{var C,A;try{c(!0);const P=r.reduce(($,V)=>$+V.probability,0);if(Math.abs(P-100)>.1){p("Total probability must equal 100%","general");return}for(const $ of r)if(!$.prizeName.trim()||!$.prizeDescription.trim()||$.prizeValue<=0){p("All prize fields must be filled with valid values","general");return}const M=e?`/api/wheel-config/save-for-user/${e}`:"/api/wheel-config/save",_=[...r],O=_.reduce(($,V)=>$+V.probability,0);console.log("Original total probability:",O);const T=100/O;_.forEach($=>{$.probability=$.probability*T});let k=0;for(let $=0;$<_.length-1;$++)_[$].probability=Math.round(_[$].probability*1e8)/1e8,k+=_[$].probability;_[_.length-1].probability=Math.round((100-k)*1e8)/1e8;const I=_.reduce(($,V)=>$+V.probability,0);console.log("Normalized total probability:",I);const L={prizes:_.map($=>({prizeName:$.prizeName,prizeDescription:$.prizeDescription,prizeType:$.prizeType,prizeValue:$.prizeValue,probability:$.probability,color:$.color}))};await X.post(M,L),p(e?`Successfully saved wheel configuration for ${t}`:"Successfully saved wheel configuration","general"),d(!0)}catch(P){console.error("Error saving wheel configuration:",P),p(((A=(C=P.response)==null?void 0:C.data)==null?void 0:A.message)||"Failed to save wheel configuration","general")}finally{c(!1)}},N=r.reduce((C,A)=>C+A.probability,0);return i?o.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),o.jsx("div",{className:"space-y-3",children:[1,2,3].map(C=>o.jsx("div",{className:"h-20 bg-gray-200 rounded"},C))})]})}):o.jsxs(o.Fragment,{children:[o.jsx("style",{children:aE}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-violet-50 p-6 border-b border-gray-100",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:o.jsx(Jr,{className:"w-5 h-5 text-purple-500"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?`${t}'s Wheel Configuration`:"My Wheel Configuration"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Configure prizes and probabilities"})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Math.abs(N-100)<.1?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:["Total: ",N.toFixed(1),"%"]})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Live Preview"}),o.jsx("div",{className:"flex justify-center",children:o.jsx(iE,{prizes:r,size:280})})]}),o.jsxs("div",{className:"space-y-6 mb-8",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Prize Configuration"}),r.map((C,A)=>{var M;const P=u.has(A);return o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl overflow-hidden hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>y(A),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:C.color}}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium text-gray-900",children:C.prizeName}),o.jsxs("span",{className:"text-sm text-gray-500",children:[C.probability.toFixed(1),"% chance"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:_=>{_.stopPropagation(),g(A)},disabled:r.length<=2,className:`p-2 rounded-lg transition-colors ${r.length<=2?"text-gray-400 cursor-not-allowed":"text-red-500 hover:text-red-700 hover:bg-red-50"}`,title:r.length<=2?"Minimum 2 prizes required":"Remove prize",children:o.jsx(Ht,{className:"w-4 h-4"})}),P?o.jsx(tr,{className:"w-5 h-5 text-gray-400"}):o.jsx(nr,{className:"w-5 h-5 text-gray-400"})]})]}),P&&o.jsx("div",{className:"px-4 pb-4 border-t border-gray-200",children:o.jsxs("div",{className:"pt-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prize Name"}),o.jsx("input",{type:"text",value:C.prizeName,onChange:_=>j(A,"prizeName",_.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent",placeholder:"e.g., $10"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("input",{type:"text",value:C.prizeDescription,onChange:_=>j(A,"prizeDescription",_.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent",placeholder:"Prize description"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),o.jsxs("select",{value:C.prizeType,onChange:_=>j(A,"prizeType",_.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent",children:[o.jsx("option",{value:"MONEY",children:" Money"}),o.jsx("option",{value:"GIFT",children:" Gift"}),o.jsx("option",{value:"EXPERIENCE",children:" Experience"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Value"}),o.jsx("input",{type:"number",value:C.prizeValue,onChange:_=>j(A,"prizeValue",parseFloat(_.target.value)||0),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent",placeholder:"Value",min:"0",step:"0.01"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center space-x-2 p-2 border border-gray-300 rounded-lg cursor-pointer hover:border-purple-400 transition-colors",onClick:()=>{const _=document.getElementById(`color-select-${A}`);_&&_.focus()},children:[o.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:C.color}}),o.jsx("span",{className:"text-sm text-gray-700",children:((M=m.find(_=>_.value===C.color))==null?void 0:M.name)||"Custom Color"}),o.jsx("svg",{className:"w-4 h-4 text-gray-400 ml-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o.jsx("select",{id:`color-select-${A}`,value:C.color,onChange:_=>j(A,"color",_.target.value),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",children:m.map(_=>o.jsx("option",{value:_.value,children:_.name},_.value))})]}),o.jsx("div",{className:"mt-2 grid grid-cols-8 gap-1",children:m.map(_=>o.jsx("button",{type:"button",onClick:()=>j(A,"color",_.value),className:`w-6 h-6 rounded-full border-2 hover:scale-110 transition-transform ${C.color===_.value?"border-purple-400 ring-2 ring-purple-200":"border-white shadow-sm"}`,style:{backgroundColor:_.value},title:_.name},_.value))})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Probability"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>b(A),className:`p-1 rounded transition-colors ${C.locked?"text-yellow-600 hover:text-yellow-700 bg-yellow-50 hover:bg-yellow-100":"text-gray-400 hover:text-gray-600 hover:bg-gray-50"}`,title:C.locked?"Unlock probability":"Lock probability",children:C.locked?o.jsx(zy,{className:"w-4 h-4"}):o.jsx(oS,{className:"w-4 h-4"})}),o.jsxs("span",{className:"text-sm font-semibold text-purple-500",children:[C.probability.toFixed(1),"%"]})]})]}),o.jsx("input",{type:"range",min:"0.1",max:"95",step:"0.1",value:C.probability,onChange:_=>R(A,parseFloat(_.target.value)),disabled:C.locked,className:`w-full h-3 bg-gray-200 rounded-lg appearance-none slider ${C.locked?"cursor-not-allowed opacity-50":"cursor-pointer"}`,style:{background:`linear-gradient(to right, ${C.color} 0%, ${C.color} ${C.probability}%, #e5e7eb ${C.probability}%, #e5e7eb 100%)`}}),"                    "]})]})})]},A)})]}),o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[o.jsxs("button",{onClick:w,className:"flex items-center justify-center space-x-2 px-4 py-2.5 bg-gradient-to-r from-purple-400 to-purple-500 text-white rounded-lg hover:from-purple-500 hover:to-purple-600 transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 text-sm",children:[o.jsx(rt,{className:"w-4 h-4"}),o.jsx("span",{className:"font-medium",children:"Add Prize"})]}),o.jsxs("button",{onClick:D,className:"flex items-center justify-center space-x-2 px-4 py-2.5 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-lg hover:from-gray-600 hover:to-gray-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 text-sm",children:[o.jsx(wd,{className:"w-4 h-4"}),o.jsx("span",{className:"font-medium",children:"Reset"})]}),o.jsxs("button",{onClick:()=>{const C=[...r],A=C.filter(T=>T.locked),P=C.filter(T=>!T.locked);if(P.length===0){p("Cannot normalize: all probabilities are locked","general");return}const _=100-A.reduce((T,k)=>T+k.probability,0);if(_<=0){p("Cannot normalize: locked probabilities exceed 100%","general");return}const O=P.reduce((T,k)=>T+k.probability,0);if(O>0){const T=_/O;P.forEach(k=>{k.probability=k.probability*T})}s(C),n&&n(C),p("Probabilities normalized to 100%","general")},disabled:Math.abs(N-100)<.1,className:`flex items-center justify-center space-x-2 px-4 py-2.5 rounded-lg font-medium transition-all duration-200 shadow-md transform text-sm ${Math.abs(N-100)<.1?"bg-gray-400 cursor-not-allowed text-white":"bg-gradient-to-r from-purple-400 to-purple-500 text-white hover:from-purple-500 hover:to-purple-600 hover:shadow-lg hover:-translate-y-0.5"}`,children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),o.jsx("span",{className:"font-medium",children:"Normalize"})]})]}),o.jsx("div",{className:"flex justify-center",children:o.jsxs("button",{onClick:x,disabled:l||Math.abs(N-100)>.1,className:`flex items-center justify-center space-x-2 px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-md transform ${l||Math.abs(N-100)>.1?"bg-gray-400 cursor-not-allowed text-white":"bg-gradient-to-r from-green-500 to-green-600 text-white hover:from-green-600 hover:to-green-700 hover:shadow-lg hover:-translate-y-0.5"}`,children:[o.jsx(Jh,{className:"w-5 h-5"}),o.jsx("span",{children:l?"Saving...":"Save Configuration"})]})})]}),Math.abs(N-100)>.1&&o.jsx("div",{className:"mt-6 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"text-amber-500",children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),o.jsxs("p",{className:"text-sm font-medium text-amber-800",children:["Total probability must equal 100% to save the configuration. Current total: ",N.toFixed(1),"%"]})]})})]})]})]})};function cE(){const{user:e}=os(),[t,n]=E.useState(null),[r,s]=E.useState([]),[i,a]=E.useState({totalPrizes:0,totalValue:0}),[l,c]=E.useState(!0),[h,d]=E.useState(0),[u,f]=E.useState(!0),[p,m]=E.useState(null),[v,S]=E.useState([]),[y,w]=E.useState([]),[g,j]=E.useState({relationship:!0,stats:!1,prizeHistory:!1,wheelConfig:!1}),R=D=>{j(x=>({...x,[D]:!x[D]}))};E.useEffect(()=>{const D=async()=>{try{const A=await X.get("/api/auth/relationship-info");n(A.data)}catch(A){console.error("Error fetching relationship info:",A)}},x=async()=>{try{c(!0);const[A,P]=await Promise.all([X.get("/api/wheel-prizes"),X.get("/api/wheel-prizes/stats")]);s(A.data.prizes||[]),a(P.data)}catch(A){console.error("Error fetching wheel prizes:",A)}finally{c(!1)}},N=async()=>{try{f(!0);const A=await X.get("/api/opportunities/stats");d(A.data.unused||0)}catch(A){console.error("Error fetching user data:",A)}finally{f(!1)}},C=async()=>{try{const A=await X.get("/api/auth/other-user");m(A.data)}catch(A){console.error("Error fetching other user:",A)}};D(),x(),N(),C()},[]),E.useEffect(()=>{p&&(async()=>{try{const x=await X.get("/api/wheel-config/my-wheel");x.data.hasConfiguration&&x.data.prizes&&S(x.data.prizes);const N=await X.get(`/api/wheel-config/other-user-wheel/${p.id}`);N.data.hasConfiguration&&N.data.prizes&&w(N.data.prizes)}catch(x){console.error("Error fetching wheel configurations:",x)}})()},[p]);const b=D=>{try{const x=D.includes("T")?D.split("T")[0]:D,[N,C,A]=x.split("-").map(Number),P=new Date(N,C-1,A);return isNaN(P.getTime())?"Invalid Date":P.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return"Invalid Date"}};return o.jsx("div",{className:"min-h-screen bg-apple-secondary-background",children:o.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs(ge,{to:"/dashboard",className:"inline-flex items-center text-apple-purple hover:text-apple-purple/80 mb-6 transition-colors",children:[o.jsx(Qr,{className:"h-5 w-5 mr-2"}),"Back to Dashboard"]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"bg-apple-purple/10 p-4 rounded-2xl",children:o.jsx(Ie,{className:"h-8 w-8 text-apple-purple",fill:"currentColor"})})}),o.jsx("h1",{className:"font-heading text-4xl font-semibold text-apple-label mb-3",children:"Relationship Settings"}),o.jsx("p",{className:"text-apple-secondary-label text-lg",children:"Customize your love story timeline"})]})]}),o.jsxs("div",{className:"apple-card apple-shadow overflow-hidden",children:[o.jsxs("button",{onClick:()=>R("relationship"),className:"w-full p-6 flex items-center justify-between hover:bg-apple-gray-6/5 transition-colors duration-200",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"bg-apple-purple/10 p-3 rounded-xl mr-4",children:o.jsx(xt,{className:"h-6 w-6 text-apple-purple"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("h2",{className:"font-heading text-xl font-semibold text-apple-label",children:"Relationship Timeline"}),o.jsx("p",{className:"text-sm text-apple-secondary-label",children:"Your love story details"})]})]}),o.jsx("div",{className:"transition-transform duration-200",children:g.relationship?o.jsx(tr,{className:"h-5 w-5 text-apple-secondary-label"}):o.jsx(nr,{className:"h-5 w-5 text-apple-secondary-label"})})]}),o.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${g.relationship?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:o.jsx("div",{className:"px-6 pb-6",children:o.jsx("div",{className:"bg-apple-purple/5 border border-apple-purple/20 rounded-xl p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-apple-purple mb-3",children:""}),o.jsx("div",{className:"text-lg font-semibold text-apple-label mb-2",children:"Your Love Story"}),o.jsxs("div",{className:"text-apple-secondary-label mb-3",children:["Started on ",t?b(t.startDate):"June 8th, 2020"]}),o.jsx("div",{className:"text-sm text-apple-tertiary-label",children:"Watch your days together count up in real-time in the header!"})]})})})})]}),o.jsx("div",{className:"mt-6",children:o.jsxs("div",{className:"apple-card apple-shadow overflow-hidden",children:[o.jsxs("button",{onClick:()=>R("stats"),className:"w-full p-6 flex items-center justify-between hover:bg-apple-gray-6/5 transition-colors duration-200",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`p-3 rounded-xl mr-4 ${(e==null?void 0:e.username)==="scott"?"bg-purple-100":"bg-pink-100"}`,children:o.jsx(G2,{className:`h-6 w-6 ${(e==null?void 0:e.username)==="scott"?"text-purple-400":"text-pink-600"}`})}),o.jsxs("div",{className:"text-left",children:[o.jsxs("h2",{className:"font-heading text-xl font-semibold text-apple-label",children:[(e==null?void 0:e.name)||(e==null?void 0:e.username)||"Your"," Stats"]}),o.jsx("p",{className:"text-sm text-apple-secondary-label",children:"Personal statistics and opportunities"})]})]}),o.jsx("div",{className:"transition-transform duration-200",children:g.stats?o.jsx(tr,{className:"h-5 w-5 text-apple-secondary-label"}):o.jsx(nr,{className:"h-5 w-5 text-apple-secondary-label"})})]}),o.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${g.stats?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:o.jsx("div",{className:"px-6 pb-6",children:u?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-400 mx-auto mb-2"}),o.jsx("div",{className:"text-sm text-apple-secondary-label",children:"Loading your stats..."})]}):o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6 text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:h}),o.jsx("div",{className:"text-yellow-700 font-medium mb-1",children:"Saved Opportunities"}),o.jsx("div",{className:"text-sm text-yellow-600",children:"Ready to use on prize wheel"})]})})})]})}),o.jsx("div",{className:"mt-6",children:o.jsxs("div",{className:"apple-card apple-shadow overflow-hidden",children:[o.jsxs("button",{onClick:()=>R("prizeHistory"),className:"w-full p-6 flex items-center justify-between hover:bg-apple-gray-6/5 transition-colors duration-200",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"bg-purple-100 p-3 rounded-xl mr-4",children:o.jsx(mm,{className:"h-6 w-6 text-purple-400"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("h2",{className:"font-heading text-xl font-semibold text-apple-label",children:"Prize Wheel History"}),o.jsxs("p",{className:"text-sm text-apple-secondary-label",children:[i.totalPrizes," prizes won  Total value: ",i.totalValue]})]})]}),o.jsx("div",{className:"transition-transform duration-200",children:g.prizeHistory?o.jsx(tr,{className:"h-5 w-5 text-apple-secondary-label"}):o.jsx(nr,{className:"h-5 w-5 text-apple-secondary-label"})})]}),o.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${g.prizeHistory?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:o.jsxs("div",{className:"px-6 pb-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-400 mb-1",children:i.totalPrizes}),o.jsx("div",{className:"text-sm text-purple-700",children:"Total Prizes Won"})]}),o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:i.totalValue}),o.jsx("div",{className:"text-sm text-green-700",children:"Total Value"})]})]}),l?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-apple-secondary-label",children:"Loading prize history..."})}):r.length>0?o.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:r.map(D=>o.jsx("div",{className:"bg-apple-secondary-background border border-apple-separator rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"bg-yellow-100 p-2 rounded-lg mr-3",children:o.jsx(He,{className:"h-4 w-4 text-yellow-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-apple-label",children:D.prizeDescription}),o.jsx("div",{className:"text-sm text-apple-secondary-label",children:new Date(D.wonAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-semibold text-green-600",children:["+",D.prizeValue]}),o.jsx("div",{className:"text-xs text-apple-tertiary-label",children:D.prizeType})]})]})},D.id))}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"bg-gray-100 p-4 rounded-2xl mb-4 inline-block",children:o.jsx(mm,{className:"h-8 w-8 text-gray-400"})}),o.jsx("div",{className:"text-apple-secondary-label mb-2",children:"No prizes won yet"}),o.jsx("div",{className:"text-sm text-apple-tertiary-label",children:"Start spinning the wheel to win prizes!"})]})]})})]})}),o.jsx("div",{className:"mt-6",children:o.jsxs("div",{className:"apple-card apple-shadow overflow-hidden",children:[o.jsxs("button",{onClick:()=>R("wheelConfig"),className:"w-full p-6 flex items-center justify-between hover:bg-apple-gray-6/5 transition-colors duration-200",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"bg-purple-100 p-3 rounded-xl mr-4",children:o.jsx(K2,{className:"h-6 w-6 text-purple-400"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("h2",{className:"font-heading text-xl font-semibold text-apple-label",children:"Wheel Configuration"}),o.jsxs("p",{className:"text-sm text-apple-secondary-label",children:["Customize ",(p==null?void 0:p.displayName)||(p==null?void 0:p.username)||"your partner","'s prize wheel"]})]})]}),o.jsx("div",{className:"transition-transform duration-200",children:g.wheelConfig?o.jsx(tr,{className:"h-5 w-5 text-apple-secondary-label"}):o.jsx(nr,{className:"h-5 w-5 text-apple-secondary-label"})})]}),o.jsx("div",{className:`transition-all duration-300 ease-in-out ${g.wheelConfig?"max-h-96 opacity-100 overflow-y-auto":"max-h-0 opacity-0 overflow-hidden"}`,children:o.jsxs("div",{className:"px-6 pb-6",children:[o.jsx("div",{className:"text-center mb-6",children:o.jsx("p",{className:"text-apple-secondary-label",children:"Customize prize wheel settings and adjust winning probabilities"})}),o.jsx(lE,{targetUserId:p==null?void 0:p.id,targetUserName:(p==null?void 0:p.displayName)||(p==null?void 0:p.username),onPrizesChange:w})]})})]})})]})})}function uE({category:e,onClose:t,onCategoryUpdated:n}={}){const[r,s]=E.useState([]),[i,a]=E.useState(!0),[l,c]=E.useState(!1),[h,d]=E.useState(null),[u,f]=E.useState({name:"",description:"",color:"#3B82F6"}),p=[{value:"#EF4444",name:"Red"},{value:"#F59E0B",name:"Orange"},{value:"#10B981",name:"Green"},{value:"#3B82F6",name:"Blue"},{value:"#8B5CF6",name:"Purple"},{value:"#EC4899",name:"Pink"},{value:"#6B7280",name:"Gray"}];E.useEffect(()=>{m(),e&&(d(e),f({name:e.name,description:e.description||"",color:e.color})),t&&c(!0)},[e,t]);const m=async()=>{try{const g=await X.get("/api/categories");s(g.data)}catch(g){console.error("Error fetching categories:",g)}finally{a(!1)}},v=async g=>{var j,R;g.preventDefault();try{h?await X.put(`/api/categories/${h.id}`,u):await X.post("/api/categories",u),await m(),n==null||n(),w()}catch(b){console.error("Error saving category:",b),alert(((R=(j=b.response)==null?void 0:j.data)==null?void 0:R.message)||"Error saving category")}},S=async g=>{if(confirm("Are you sure you want to delete this category? This will remove it from all photos."))try{await X.delete(`/api/categories/${g}`),await m()}catch(j){console.error("Error deleting category:",j),alert("Error deleting category")}},y=g=>{d(g),f({name:g.name,description:g.description||"",color:g.color}),c(!0)},w=()=>{f({name:"",description:"",color:"#3B82F6"}),d(null),c(!1),t==null||t()};return i?o.jsx("div",{className:"flex items-center justify-center min-h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})}):o.jsxs("div",{className:"space-y-6 fade-in",children:[!t&&o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"font-heading text-4xl text-gray-800 mb-4",children:"Photo Categories"}),o.jsx("p",{className:"text-lg text-gray-600",children:"Organize your memories into meaningful collections"})]}),!t&&o.jsx("div",{className:"flex justify-center",children:o.jsxs("button",{onClick:()=>c(!0),className:"flex items-center space-x-2 bg-gray-800 hover:bg-gray-900 text-white px-6 py-3 rounded-lg transition-colors font-medium",children:[o.jsx(rt,{className:"h-5 w-5"}),o.jsx("span",{children:"Create New Category"})]})}),l&&o.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:h?"Edit Category":"Create New Category"}),o.jsx("button",{onClick:w,className:"text-gray-500 hover:text-gray-700 transition-colors",children:o.jsx(st,{className:"h-5 w-5"})})]}),o.jsxs("form",{onSubmit:v,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name"}),o.jsx("input",{type:"text",value:u.name,onChange:g=>f({...u,name:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent",placeholder:"Enter category name",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),o.jsx("textarea",{value:u.description,onChange:g=>f({...u,description:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent",placeholder:"Describe this category",rows:3})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(g=>o.jsx("button",{type:"button",onClick:()=>f({...u,color:g.value}),className:`w-8 h-8 rounded-full border-2 transition-all ${u.color===g.value?"border-gray-800 scale-110":"border-gray-300 hover:border-gray-500"}`,style:{backgroundColor:g.value},title:g.name,children:u.color===g.value&&o.jsx(Gs,{className:"h-4 w-4 text-white mx-auto"})},g.value))})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"submit",className:"flex-1 bg-gray-800 hover:bg-gray-900 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:h?"Update Category":"Create Category"}),o.jsx("button",{type:"button",onClick:w,className:"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"})]})]})]}),!t&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(g=>o.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:g.color}}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:g.name})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>y(g),className:"text-gray-500 hover:text-purple-500 transition-colors",children:o.jsx(qs,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>S(g.id),className:"text-gray-500 hover:text-red-600 transition-colors",children:o.jsx(Ht,{className:"h-4 w-4"})})]})]}),g.description&&o.jsx("p",{className:"text-gray-600 text-sm mb-4",children:g.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[o.jsx(Zr,{className:"h-4 w-4"}),o.jsxs("span",{children:[g.photoCount," photos"]})]}),o.jsx("button",{onClick:()=>window.location.href=`/photos/category/${g.id}`,className:"text-gray-600 hover:text-gray-700 text-sm font-medium transition-colors",children:"View Photos"})]})]},g.id))}),r.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Zr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No categories yet"}),o.jsx("p",{className:"text-gray-500 mb-6",children:"Create your first category to start organizing your photos!"}),o.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center px-6 py-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg transition-colors",children:[o.jsx(rt,{className:"h-5 w-5 mr-2"}),"Create First Category"]})]})]})}function dE(){const[e,t]=E.useState([]),[n,r]=E.useState(!0),[s,i]=E.useState(!1),[a,l]=E.useState(null);E.useEffect(()=>{c()},[]);const c=async()=>{try{const p=await X.get("/api/categories");t(p.data)}catch(p){console.error("Error fetching categories:",p)}finally{r(!1)}},h=async p=>{if(confirm("Are you sure you want to delete this category? This will not delete the photos, only remove them from this category."))try{await X.delete(`/api/categories/${p}`),await c()}catch(m){console.error("Error deleting category:",m),alert("Error deleting category")}},d=()=>{c(),i(!1),l(null)},u=p=>{l(p),i(!0)},f=()=>{l(null),i(!0)};return n?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})}):o.jsxs("div",{className:"space-y-6 fade-in",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(ge,{to:"/gallery",className:"inline-flex items-center text-gray-500 hover:text-gray-700 transition-colors p-2 hover:bg-gray-100 rounded-full",children:o.jsx(Qr,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Photo Categories"}),o.jsx("p",{className:"text-gray-600",children:"Organize your memories by themes and moments"})]})]}),o.jsxs("button",{onClick:f,className:"flex items-center space-x-2 bg-gray-800 hover:bg-gray-900 text-white px-6 py-3 rounded-lg transition-colors font-medium",children:[o.jsx(rt,{className:"h-5 w-5"}),o.jsx("span",{children:"New Category"})]})]}),s&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsx("div",{className:"bg-white rounded-xl max-w-md w-full",children:o.jsx(uE,{category:a,onClose:()=>{i(!1),l(null)},onCategoryUpdated:d})})}),e.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(p=>o.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow hover:scale-105 transition-transform group",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:p.color}}),o.jsx("h3",{className:"font-semibold text-gray-800 truncate",children:p.name})]}),o.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>u(p),className:"p-1 text-gray-500 hover:text-blue-600 transition-colors",title:"Edit category",children:o.jsx(qs,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>h(p.id),className:"p-1 text-gray-500 hover:text-red-600 transition-colors",title:"Delete category",children:o.jsx(Ht,{className:"h-4 w-4"})})]})]}),p.description&&o.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:p.description}),o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[o.jsx(Zr,{className:"h-4 w-4"}),o.jsxs("span",{children:[p.photoCount," ",p.photoCount===1?"photo":"photos"]})]})}),o.jsxs(ge,{to:`/category/${p.id}`,className:"flex items-center justify-center space-x-2 w-full py-2 px-4 bg-gray-800 hover:bg-gray-900 text-white rounded-lg transition-colors font-medium",children:[o.jsx(X2,{className:"h-4 w-4"}),o.jsx("span",{children:"View Photos"})]})]},p.id))}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Zr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No categories yet"}),o.jsx("p",{className:"text-gray-500 mb-6",children:"Create your first category to start organizing your photos!"}),o.jsxs("button",{onClick:f,className:"inline-flex items-center px-6 py-3 bg-purple-400 hover:bg-purple-500 text-white rounded-lg transition-colors",children:[o.jsx(rt,{className:"h-5 w-5 mr-2"}),"Create First Category"]})]}),e.length>0&&o.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Category Overview"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-gray-700",children:e.length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Categories"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-gray-700",children:e.reduce((p,m)=>p+m.photoCount,0)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Categorized Photos"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:Math.round(e.reduce((p,m)=>p+m.photoCount,0)/e.length)||0}),o.jsx("div",{className:"text-sm text-gray-600",children:"Avg Photos/Category"})]})]})]})]})}function hE(){var M,_;const{id:e}=_y(),[t,n]=E.useState([]),[r,s]=E.useState(null),[i,a]=E.useState(!0),[l,c]=E.useState(null),[h,d]=E.useState("medium"),[u,f]=E.useState(!1),[p,m]=E.useState(new Set),[v,S]=E.useState(null),[y,w]=E.useState(!1);E.useEffect(()=>{console.log("CategoryPhotos useEffect triggered with categoryId:",e),e?(console.log("Fetching data for categoryId:",e),g(),j()):console.log("No categoryId provided")},[e]);const g=async()=>{var O,T,k,I,L;console.log("fetchCategoryPhotos called for categoryId:",e);try{if(console.log("Setting loading to true"),a(!0),c(null),e==="-1"){console.log("Fetching favorite photos from /api/photos/favorites");const $=await X.get("/api/photos/favorites");console.log("Favorite photos response:",$.data),n($.data)}else{const $=`/api/categories/${e}/photos`;console.log("Fetching category photos from:",$);const V=await X.get($);console.log("Category photos response:",V.data),n(V.data)}console.log("Photos fetched successfully")}catch($){console.error("Error fetching category photos:",$),console.error("Error details:",{status:(O=$.response)==null?void 0:O.status,statusText:(T=$.response)==null?void 0:T.statusText,data:(k=$.response)==null?void 0:k.data,message:$.message}),((I=$.response)==null?void 0:I.status)===401||((L=$.response)==null?void 0:L.status)===403?c("Authentication required. Please log in."):c("Failed to load photos. Please try again."),n([])}finally{console.log("Setting loading to false"),a(!1)}},j=async()=>{var O,T,k,I,L;console.log("fetchCategoryInfo called for categoryId:",e);try{if(e==="-1")console.log("Setting favorites category info"),s({id:-1,name:"Favorites",color:"#ef4444"});else{const $=`/api/categories/${e}`;console.log("Fetching category info from:",$);const V=await X.get($);console.log("Category info response:",V.data),s(V.data)}console.log("Category info fetched successfully")}catch($){console.error("Error fetching category info:",$),console.error("Category info error details:",{status:(O=$.response)==null?void 0:O.status,statusText:(T=$.response)==null?void 0:T.statusText,data:(k=$.response)==null?void 0:k.data,message:$.message}),(((I=$.response)==null?void 0:I.status)===401||((L=$.response)==null?void 0:L.status)===403)&&console.error("Authentication required. Please log in."),s(null)}},R=async O=>{try{const T=t.find(I=>I.id===O),k=!(T!=null&&T.isFavorite);await X.post(`/api/photos/${O}/favorite`,{favorite:k}),n(I=>I.map(L=>L.id===O?{...L,isFavorite:k}:L)),e==="-1"&&!k&&n(I=>I.filter(L=>L.id!==O))}catch(T){console.error("Error toggling favorite:",T)}},b=O=>{m(T=>{const k=new Set(T);return k.has(O)?k.delete(O):k.add(O),k})},D=async()=>{if(p.size!==0&&confirm(`Are you sure you want to delete ${p.size} photo(s)?`))try{await X.delete("/api/photos/bulk",{data:{photoIds:Array.from(p)}}),m(new Set),f(!1),await g()}catch(O){console.error("Error deleting photos:",O),alert("Error deleting photos. Please try again.")}},x=O=>{S(O),w(!0)},N=O=>{n(T=>T.map(k=>k.id===O.id?O:k)),S(O)},C=O=>{n(T=>T.filter(k=>k.id!==O)),w(!1),S(null)},A=()=>{switch(h){case"small":return"w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 lg:w-32 lg:h-32";case"medium":return"w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 lg:w-48 lg:h-48";case"large":return"w-32 h-32 sm:w-40 sm:h-40 md:w-52 md:h-52 lg:w-64 lg:h-64";default:return"w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 lg:w-48 lg:h-48"}},P=()=>{switch(h){case"small":return"grid-cols-4 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-8 xl:grid-cols-10";case"medium":return"grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7";case"large":return"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6";default:return"grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7"}};return console.log("CategoryPhotos render - loading:",i,"error:",l,"photos.length:",t.length,"category:",r),i?(console.log("Rendering loading spinner"),o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})})):l?o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen space-y-4",children:[o.jsx("div",{className:"text-red-500 text-lg font-medium",children:l}),o.jsx("button",{onClick:()=>{c(null),g(),j()},className:"px-4 py-2 bg-purple-400 text-white rounded-lg hover:bg-purple-500 transition-colors",children:"Try Again"}),o.jsx(ge,{to:"/photos",className:"text-purple-400 hover:text-purple-500 underline",children:"Back to Photos"})]}):o.jsxs("div",{className:"space-y-6 fade-in",children:[o.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(ge,{to:"/photos",className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(Qr,{className:"h-5 w-5 text-gray-600"})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[r&&o.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:r.color}}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:(r==null?void 0:r.name)||"Category"}),o.jsxs("p",{className:"text-gray-600",children:[t.length," photos"]})]})]})]})}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Jr,{className:"h-4 w-4 text-gray-600"}),o.jsxs("select",{value:h,onChange:O=>d(O.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-purple-400",children:[o.jsx("option",{value:"small",children:"Small"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"large",children:"Large"})]})]}),o.jsx("button",{onClick:()=>{f(!u),m(new Set)},className:`px-3 py-1 rounded-md text-sm transition-colors ${u?"bg-purple-400 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:u?"Cancel Selection":"Select Photos"})]}),u&&p.size>0&&o.jsxs("button",{onClick:D,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[o.jsx(Ht,{className:"w-4 h-4"}),o.jsxs("span",{children:["Delete Selected (",p.size,")"]})]})]}),t.length>0?o.jsx("div",{className:`grid ${P()} gap-4`,children:t.map(O=>o.jsxs("div",{className:"relative group",children:[o.jsxs("div",{className:`${A()} relative overflow-hidden rounded-lg cursor-pointer transition-transform hover:scale-105 ${u&&p.has(O.id)?"ring-4 ring-purple-400":""}`,onClick:()=>u?b(O.id):x(O),children:[o.jsx("img",{src:`${ts}/api/photos/image/${O.filename}`,alt:O.originalName,className:"w-full h-full object-cover",loading:"lazy"}),u&&o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:p.has(O.id)&&o.jsx("div",{className:"bg-purple-400 text-white rounded-full p-1",children:o.jsx(Gs,{className:"h-4 w-4"})})}),!u&&o.jsx("button",{onClick:T=>{T.stopPropagation(),R(O.id)},className:"absolute top-2 right-2 p-1 bg-white/80 rounded-full hover:bg-white transition-colors opacity-0 group-hover:opacity-100 hidden md:block",children:o.jsx(Ie,{className:`h-4 w-4 ${O.isFavorite?"text-red-500 fill-current":"text-gray-600"}`})})]}),O.caption&&o.jsx("div",{className:"mt-2",children:o.jsx("p",{className:"text-xs text-gray-600 truncate",children:O.caption})})]},O.id))}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-400 mb-4",children:r&&o.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center text-white text-2xl font-bold",style:{backgroundColor:r.color},children:((_=(M=r==null?void 0:r.name)==null?void 0:M.charAt(0))==null?void 0:_.toUpperCase())||"?"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No photos in this category"}),o.jsx("p",{className:"text-gray-500",children:"Photos assigned to this category will appear here."})]}),y&&v&&o.jsx(bf,{photo:v,onClose:()=>{w(!1),S(null)},onPhotoUpdate:N,onPhotoDelete:C})]})}function fE(){const[e]=Fy(),n=e.get("filter")==="favorites",[r,s]=E.useState([]),[i,a]=E.useState(!0),[l,c]=E.useState("medium"),[h,d]=E.useState(!1),[u,f]=E.useState(null),[p,m]=E.useState(!1),[v,S]=E.useState(0),[y,w]=E.useState(0),[g,j]=E.useState(0),[R,b]=E.useState(!1),[D,x]=E.useState(new Set),[N,C]=E.useState([]),[A,P]=E.useState(!1);E.useEffect(()=>{M()},[v,n]),E.useEffect(()=>{_()},[]);const M=async()=>{try{a(!0);const B=n?`/api/photos/favorites?page=${v}&limit=20`:`/api/photos?page=${v}&limit=20`,G=await X.get(B);n?G.data.photos?(s(G.data.photos),w(G.data.pagination.totalPages),j(G.data.pagination.total)):(s(G.data),j(G.data.length),w(1)):(s(G.data.photos),w(G.data.pagination.totalPages),j(G.data.pagination.total))}catch(B){console.error("Error fetching photos:",B)}finally{a(!1)}},_=async()=>{try{const B=await X.get("/api/categories");C(B.data)}catch(B){console.error("Error fetching categories:",B)}},O=async B=>{try{const G=r.find(oe=>oe.id===B),Q=!(G!=null&&G.isFavorite);await X.post(`/api/photos/${B}/favorite`,{favorite:Q}),s(oe=>oe.map(ne=>ne.id===B?{...ne,isFavorite:Q}:ne))}catch(G){console.error("Error toggling favorite:",G)}},T=B=>{x(G=>{const Q=new Set(G);return Q.has(B)?Q.delete(B):Q.add(B),Q})},k=async()=>{if(D.size!==0&&confirm(`Are you sure you want to delete ${D.size} photo(s)?`))try{await X.delete("/api/photos/bulk",{data:{photoIds:Array.from(D)}}),x(new Set),b(!1),await M()}catch(B){console.error("Error deleting photos:",B),alert("Error deleting photos. Please try again.")}},I=async B=>{if(D.size!==0)try{await X.put("/api/photos/bulk/categories",{photoIds:Array.from(D),categoryIds:B}),x(new Set),b(!1),P(!1),await M()}catch(G){console.error("Error assigning categories:",G),alert("Error assigning categories. Please try again.")}},L=B=>{f(B),d(!0)},$=B=>{s(G=>G.map(Q=>Q.id===B.id?B:Q)),f(B)},V=B=>{s(G=>G.filter(Q=>Q.id!==B)),d(!1),f(null)},z=()=>{m(!1),M()},H=()=>{switch(l){case"small":return"grid-cols-4 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-8 xl:grid-cols-10";case"medium":return"grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7";case"large":return"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6";default:return"grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7"}},W=()=>{switch(l){case"small":return"aspect-square w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 lg:w-32 lg:h-32";case"medium":return"aspect-square w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 lg:w-48 lg:h-48";case"large":return"aspect-square w-32 h-32 sm:w-40 sm:h-40 md:w-52 md:h-52 lg:w-64 lg:h-64";default:return"aspect-square w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 lg:w-48 lg:h-48"}};return i&&v===0?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-200 border-t-blue-500"})}):o.jsxs("div",{className:"space-y-6 fade-in",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(ge,{to:"/gallery",className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(Qr,{className:"h-5 w-5 text-gray-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-apple-label",children:n?"Favorites":"All Photos"}),o.jsxs("p",{className:"text-apple-secondary-label",children:[g," photos"]})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:R?o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"text-sm text-apple-secondary-label",children:[D.size," selected"]}),D.size>0&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:k,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[o.jsx(Ht,{className:"w-4 h-4"}),o.jsx("span",{children:"Delete"})]}),o.jsxs("button",{onClick:()=>P(!0),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[o.jsx(Zr,{className:"w-4 h-4"}),o.jsx("span",{children:"Assign Categories"})]})]}),o.jsx("button",{onClick:()=>{b(!1),x(new Set)},className:"bg-apple-gray-6 hover:bg-apple-gray-5 text-apple-label px-4 py-2 rounded-lg transition-colors border border-apple-separator",children:"Cancel"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>b(!0),className:"bg-apple-gray-6 hover:bg-apple-gray-5 text-apple-label px-6 py-3 rounded-xl transition-all duration-300 flex items-center space-x-2 shadow-lg hover:shadow-xl transform hover:scale-105 font-medium border border-apple-separator",children:[o.jsx(Gs,{className:"w-5 h-5"}),o.jsx("span",{children:"Select"})]}),o.jsxs("button",{onClick:()=>m(!0),className:"bg-apple-gray-6 hover:bg-apple-gray-5 text-apple-label px-6 py-3 rounded-xl transition-all duration-300 flex items-center space-x-2 shadow-lg hover:shadow-xl transform hover:scale-105 font-medium border border-apple-separator",children:[o.jsx(rt,{className:"w-5 h-5"}),o.jsx("span",{children:"Add Photos"})]})]})})]}),o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Jr,{className:"h-4 w-4 text-gray-600"}),o.jsxs("select",{value:l,onChange:B=>c(B.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-purple-400",children:[o.jsx("option",{value:"small",children:"Small"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"large",children:"Large"})]})]})}),r.length>0?o.jsx("div",{className:`grid ${H()} gap-2 sm:gap-3 md:gap-4 px-2 sm:px-0`,children:r.map(B=>o.jsx("div",{className:"relative group",children:o.jsxs("div",{className:`${W()} relative overflow-hidden rounded-xl cursor-pointer transition-all duration-300 hover:scale-[1.02] hover:shadow-lg shadow-sm bg-white`,onClick:()=>R?T(B.id):L(B),children:[o.jsx("img",{src:`${ts}/api/photos/image/${B.filename}`,alt:B.originalName,className:"w-full h-full object-cover rounded-xl",loading:"lazy"}),R&&o.jsx("div",{className:"absolute top-2 left-2 p-1.5 bg-white/95 backdrop-blur-sm rounded-full shadow-sm",children:o.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${D.has(B.id)?"bg-blue-500 border-blue-500 scale-110":"border-gray-300 bg-white hover:border-blue-400"}`,children:D.has(B.id)&&o.jsx(Gs,{className:"w-3.5 h-3.5 text-white"})})}),!R&&o.jsx("button",{onClick:G=>{G.stopPropagation(),O(B.id)},className:"absolute top-2 right-2 p-2 bg-white/95 backdrop-blur-sm rounded-full shadow-sm hover:bg-white transition-all duration-200 opacity-0 group-hover:opacity-100 hover:scale-110 hidden md:block",children:o.jsx(Ie,{className:`h-4 w-4 transition-colors duration-200 ${B.isFavorite?"text-red-500 fill-current":"text-gray-600 hover:text-red-400"}`})})]})},B.id))}):o.jsxs("div",{className:"text-center py-16 px-4",children:[o.jsx("div",{className:"text-gray-300 mb-6",children:o.jsx(rt,{className:"w-20 h-20 mx-auto mb-6 stroke-1"})}),o.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-3",children:"No photos yet"}),o.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto leading-relaxed",children:"Start building your gallery by uploading your first photos!"}),o.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-8 py-4 bg-blue-500 hover:bg-blue-600 text-white rounded-xl transition-all duration-200 font-medium shadow-lg hover:shadow-xl hover:scale-105",children:[o.jsx(rt,{className:"w-5 h-5 mr-2"}),"Add Your First Photo"]})]}),y>1&&o.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[o.jsx("button",{onClick:()=>S(Math.max(0,v-1)),disabled:v===0,className:"px-4 py-2 bg-apple-gray-6 hover:bg-apple-gray-5 disabled:opacity-50 disabled:cursor-not-allowed text-apple-label rounded-lg transition-colors border border-apple-separator",children:"Previous"}),o.jsxs("span",{className:"text-apple-secondary-label",children:["Page ",v+1," of ",y]}),o.jsx("button",{onClick:()=>S(Math.min(y-1,v+1)),disabled:v>=y-1,className:"px-4 py-2 bg-apple-gray-6 hover:bg-apple-gray-5 disabled:opacity-50 disabled:cursor-not-allowed text-apple-label rounded-lg transition-colors border border-apple-separator",children:"Next"})]}),p&&o.jsx(U1,{onClose:()=>m(!1),onUploadComplete:z}),h&&u&&o.jsx(bf,{photo:u,onClose:()=>{d(!1),f(null)},onPhotoUpdate:$,onPhotoDelete:V}),A&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Assign Categories"}),o.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Select categories to assign to ",D.size," photo(s):"]}),o.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto mb-4",children:N.map(B=>o.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded",value:B.id}),o.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:B.color}}),o.jsx("span",{className:"text-sm",children:B.name})]},B.id))}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),o.jsx("button",{onClick:()=>{const B=document.querySelectorAll('input[type="checkbox"]:checked'),G=Array.from(B).map(Q=>parseInt(Q.value));I(G)},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Assign"})]})]})})]})}function pE(){const{showToast:e}=Ai(),[t,n]=E.useState([]),[r,s]=E.useState(!0),[i,a]=E.useState(new Set),[l,c]=E.useState(0),[h,d]=E.useState(0),[u,f]=E.useState(0);E.useEffect(()=>{p()},[l]);const p=async()=>{try{s(!0);const b=await fetch(`/api/photos/recycle-bin?page=${l}&size=20`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(b.ok){const D=await b.json();n(D.photos),d(D.totalPages),f(D.totalElements)}else e("Failed to fetch deleted photos","general")}catch(b){console.error("Error fetching deleted photos:",b),e("Error loading recycle bin","general")}finally{s(!1)}},m=b=>{const D=new Set(i);D.has(b)?D.delete(b):D.add(b),a(D)},v=()=>{i.size===t.length?a(new Set):a(new Set(t.map(b=>b.id)))},S=async b=>{try{(await fetch(`/api/photos/${b}/recover`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok?(e("Photo recovered successfully","general"),p(),a(x=>{const N=new Set(x);return N.delete(b),N})):e("Failed to recover photo","general")}catch(D){console.error("Error recovering photo:",D),e("Error recovering photo","general")}},y=async b=>{if(confirm("Are you sure you want to permanently delete this photo? This action cannot be undone."))try{(await fetch(`/api/photos/${b}/permanent`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok?(e("Photo permanently deleted","general"),p(),a(x=>{const N=new Set(x);return N.delete(b),N})):e("Failed to delete photo","general")}catch(D){console.error("Error deleting photo:",D),e("Error deleting photo","general")}},w=async()=>{if(i.size===0){e("Please select photos to recover","general");return}try{const b=await fetch("/api/photos/bulk/recover",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({photoIds:Array.from(i)})});if(b.ok){const D=await b.json();e(D.message,"general"),p(),a(new Set)}else e("Failed to recover photos","general")}catch(b){console.error("Error recovering photos:",b),e("Error recovering photos","general")}},g=async()=>{if(i.size===0){e("Please select photos to delete","general");return}if(confirm(`Are you sure you want to permanently delete ${i.size} photo(s)? This action cannot be undone.`))try{const b=await fetch("/api/photos/bulk/permanent",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({photoIds:Array.from(i)})});if(b.ok){const D=await b.json();e(D.message,"general"),p(),a(new Set)}else e("Failed to delete photos","general")}catch(b){console.error("Error deleting photos:",b),e("Error deleting photos","general")}},j=b=>{if(b==null||isNaN(b))return"Unknown size";if(b===0)return"0 Bytes";const D=1024,x=["Bytes","KB","MB","GB"],N=Math.floor(Math.log(b)/Math.log(D));return parseFloat((b/Math.pow(D,N)).toFixed(2))+" "+x[N]},R=b=>{if(!b)return"Unknown date";try{const D=new Date(b);return isNaN(D.getTime())?"Invalid date":D.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid date"}};return r?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500"})}):o.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[o.jsx(ge,{to:"/gallery",className:"inline-flex items-center text-gray-500 hover:text-gray-700 transition-colors p-2 hover:bg-gray-100 rounded-full",children:o.jsx(Qr,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Recycle Bin"}),o.jsxs("p",{className:"text-gray-600",children:[u," deleted photo",u!==1?"s":"","  Photos will be permanently deleted after 7 days"]})]})]})}),t.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Ht,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),o.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Recycle bin is empty"}),o.jsx("p",{className:"text-gray-500",children:"Deleted photos will appear here"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6 flex flex-wrap gap-4 items-center",children:[o.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[i.size===t.length?o.jsx(um,{className:"h-4 w-4"}):o.jsx(pm,{className:"h-4 w-4"}),"Select All"]}),i.size>0&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[o.jsx(wd,{className:"h-4 w-4"}),"Recover Selected (",i.size,")"]}),o.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[o.jsx(H2,{className:"h-4 w-4"}),"Permanently Delete (",i.size,")"]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(b=>{var D;return o.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border flex flex-col h-full",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsx("img",{src:`/api/photos/image/${b.filename}`,alt:b.originalName,className:"w-full h-48 object-cover"}),o.jsx("div",{className:"absolute top-2 left-2",children:o.jsx("button",{onClick:()=>m(b.id),className:"p-1 bg-white bg-opacity-80 rounded hover:bg-opacity-100",children:i.has(b.id)?o.jsx(um,{className:"h-4 w-4 text-blue-600"}):o.jsx(pm,{className:"h-4 w-4 text-gray-600"})})})]}),o.jsxs("div",{className:"p-4 flex flex-col h-full",children:[o.jsx("h3",{className:"font-medium text-gray-900 mb-1 truncate",children:b.originalName}),b.caption&&o.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:b.caption}),o.jsxs("div",{className:"text-xs text-gray-500 mb-3",children:[o.jsxs("p",{children:["Deleted: ",R(b.deletedAt)]}),o.jsxs("p",{children:["Size: ",j(b.size)]}),o.jsxs("p",{children:["By: ",((D=b.uploader)==null?void 0:D.name)||"Unknown"]})]}),b.categories.length>0&&o.jsx("div",{className:"mb-3",children:o.jsx("div",{className:"flex flex-wrap gap-1",children:b.categories.map(x=>o.jsx("span",{className:"inline-block px-2 py-1 text-xs rounded-full text-white",style:{backgroundColor:x.color},children:x.name},x.id))})}),o.jsxs("div",{className:"flex gap-2 mt-auto",children:[o.jsxs("button",{onClick:()=>S(b.id),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-green-600 text-white text-sm rounded hover:bg-green-700 transition-colors duration-200 min-h-[36px]",children:[o.jsx(wd,{className:"h-3 w-3 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:"Recover"})]}),o.jsxs("button",{onClick:()=>y(b.id),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors duration-200 min-h-[36px]",children:[o.jsx(Ht,{className:"h-3 w-3 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:"Delete"})]})]})]})]},b.id)})}),h>1&&o.jsxs("div",{className:"mt-8 flex justify-center gap-2",children:[o.jsx("button",{onClick:()=>c(b=>Math.max(0,b-1)),disabled:l===0,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),o.jsxs("span",{className:"px-4 py-2 text-gray-600",children:["Page ",l+1," of ",h]}),o.jsx("button",{onClick:()=>c(b=>Math.min(h-1,b+1)),disabled:l>=h-1,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})}function Yt(){const{logout:e}=os(),t=ss(),[n,r]=E.useState(null),[s,i]=E.useState(!1),[a,l]=E.useState(!1),[c,h]=E.useState({days:0,hours:0,minutes:0,seconds:0}),d=E.useCallback(()=>{if(!(n!=null&&n.startDate)){const j=new Date("2020-06-08T00:00:00"),b=new Date().getTime()-j.getTime(),D=Math.floor(b/(1e3*60*60*24)),x=Math.floor(b%(1e3*60*60*24)/(1e3*60*60)),N=Math.floor(b%(1e3*60*60)/(1e3*60)),C=Math.floor(b%(1e3*60)/1e3);h({days:D,hours:x,minutes:N,seconds:C});return}const p=new Date(n.startDate),v=new Date().getTime()-p.getTime(),S=Math.floor(v/(1e3*60*60*24)),y=Math.floor(v%(1e3*60*60*24)/(1e3*60*60)),w=Math.floor(v%(1e3*60*60)/(1e3*60)),g=Math.floor(v%(1e3*60)/1e3);h({days:S,hours:y,minutes:w,seconds:g})},[n]),u=E.useCallback(async()=>{try{const p=await X.get("/api/auth/relationship-info");r(p.data)}catch(p){console.error("Error fetching relationship info:",p)}},[]);E.useEffect(()=>{u()},[u]),E.useEffect(()=>{d();const p=setInterval(d,1e3);return window.refreshRelationshipInfo=u,()=>{clearInterval(p),delete window.refreshRelationshipInfo}},[u,d]),E.useEffect(()=>{const p=m=>{s&&!m.target.closest(".relationship-dropdown")&&i(!1),a&&!m.target.closest(".mobile-menu")&&l(!1)};return(s||a)&&document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[s,a]);const f=p=>t.pathname===p;return o.jsx("header",{className:"apple-glass-effect border-b border-apple-separator sticky top-0 z-40 backdrop-blur-xl",children:o.jsxs("div",{className:"container mx-auto px-4 sm:px-6",children:[o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs(ge,{to:"/",className:"flex items-center space-x-3 group flex-shrink-0",children:[o.jsx(Ie,{className:"h-6 w-6 sm:h-7 sm:w-7 text-apple-purple animate-heart-bounce hover-glow transition-all duration-500",fill:"currentColor",style:{filter:"drop-shadow(0 0 12px rgba(168, 85, 247, 0.4))"}}),o.jsx("span",{className:"font-semibold text-lg sm:text-xl text-apple-label group-hover:text-apple-purple transition-colors duration-300 hidden xs:block",children:"Scott & Zoe"})]}),n&&o.jsxs("div",{className:"relative hidden lg:block relationship-dropdown",children:[o.jsxs("button",{onClick:()=>i(!s),className:"flex items-center space-x-2 apple-glass-background rounded-xl px-4 py-2 apple-shadow hover:bg-apple-gray-6/10 transition-all duration-200",children:[o.jsx(Ie,{className:"h-4 w-4 text-apple-purple",fill:"currentColor"}),o.jsx("span",{className:"text-sm font-medium text-apple-label",children:"Days Together"}),o.jsx(tr,{className:`h-4 w-4 text-apple-secondary-label transition-transform duration-200 ${s?"rotate-180":""}`})]}),s&&o.jsx("div",{className:"absolute top-full right-0 mt-2 bg-white/95 backdrop-blur-xl rounded-xl p-6 apple-shadow border border-apple-separator min-w-[280px] z-40",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-3",children:[o.jsx("div",{className:"text-2xl font-bold text-apple-purple",children:c.days}),o.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Days"})]}),o.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-3",children:[o.jsx("div",{className:"text-2xl font-bold text-apple-purple",children:c.hours}),o.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Hours"})]}),o.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-3",children:[o.jsx("div",{className:"text-2xl font-bold text-apple-purple",children:c.minutes}),o.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Minutes"})]}),o.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-3",children:[o.jsx("div",{className:"text-2xl font-bold text-apple-purple",children:c.seconds}),o.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Seconds"})]})]}),o.jsxs("div",{className:"text-apple-secondary-label border-t border-apple-separator pt-3",children:[o.jsx("div",{className:"text-xs",children:"Since June 8th, 2020"}),o.jsx("div",{className:"font-medium text-apple-label text-sm mt-1",children:" Every second counts! "})]})]})})]}),o.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[o.jsxs(ge,{to:"/",className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${f("/")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[o.jsx(hm,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden lg:inline font-medium",children:"Home"})]}),o.jsxs(ge,{to:"/gallery",className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${f("/gallery")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[o.jsx(mr,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden lg:inline font-medium",children:"Gallery"})]}),o.jsxs(ge,{to:"/memories",className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${f("/memories")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[o.jsx(xt,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden lg:inline font-medium",children:"Memories"})]}),o.jsxs(ge,{to:"/surprise-boxes",className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${f("/surprise-boxes")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[o.jsx(He,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden lg:inline font-medium",children:"Surprises"})]}),o.jsxs(ge,{to:"/settings",className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${f("/settings")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[o.jsx(Jr,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden lg:inline font-medium",children:"Settings"})]}),o.jsxs("button",{onClick:e,className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-apple-secondary-label hover:bg-red-500/10 hover:text-red-500 transition-all duration-200",children:[o.jsx(fm,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden lg:inline font-medium",children:"Logout"})]})]}),o.jsxs("div",{className:"md:hidden mobile-menu",children:[o.jsx("button",{onClick:()=>l(!a),className:"p-2 text-apple-secondary-label hover:text-apple-purple hover:bg-apple-purple/5 rounded-lg transition-colors",children:a?o.jsx(st,{className:"h-5 w-5"}):o.jsx(J2,{className:"h-5 w-5"})}),a&&o.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white/95 backdrop-blur-xl rounded-xl apple-shadow border border-apple-separator z-50",children:o.jsxs("div",{className:"p-2",children:[o.jsxs(ge,{to:"/",onClick:()=>l(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 ${f("/")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[o.jsx(hm,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"Home"})]}),o.jsxs(ge,{to:"/gallery",onClick:()=>l(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 ${f("/gallery")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[o.jsx(mr,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"Gallery"})]}),o.jsxs(ge,{to:"/memories",onClick:()=>l(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 ${f("/memories")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[o.jsx(xt,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"Memories"})]}),o.jsxs(ge,{to:"/surprise-boxes",onClick:()=>l(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 ${f("/surprise-boxes")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[o.jsx(He,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"Surprises"})]}),o.jsxs(ge,{to:"/settings",onClick:()=>l(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 ${f("/settings")?"bg-apple-purple/10 text-apple-purple":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[o.jsx(Jr,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"Settings"})]}),o.jsx("div",{className:"border-t border-apple-separator my-2"}),o.jsxs("button",{onClick:()=>{l(!1),e()},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-apple-secondary-label hover:bg-red-500/10 hover:text-red-500 transition-all duration-200",children:[o.jsx(fm,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"Logout"})]})]})})]})]}),n&&!a&&o.jsx("div",{className:"lg:hidden pb-4 text-center",children:o.jsxs("div",{className:"relative inline-block relationship-dropdown",children:[o.jsxs("button",{onClick:()=>i(!s),className:"flex items-center space-x-2 apple-glass-background rounded-xl px-4 py-2 apple-shadow hover:bg-apple-gray-6/10 transition-all duration-200",children:[o.jsx(Ie,{className:"h-4 w-4 text-apple-purple",fill:"currentColor"}),o.jsx("span",{className:"text-sm font-medium text-apple-label",children:"Days Together"}),o.jsx(tr,{className:`h-4 w-4 text-apple-secondary-label transition-transform duration-200 ${s?"rotate-180":""}`})]}),s&&o.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 bg-white/95 backdrop-blur-xl rounded-xl p-4 apple-shadow border border-apple-separator min-w-[200px] z-50",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[o.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-2",children:[o.jsx("div",{className:"text-lg font-bold text-apple-purple",children:c.days}),o.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Days"})]}),o.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-2",children:[o.jsx("div",{className:"text-lg font-bold text-apple-purple",children:c.hours}),o.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Hours"})]}),o.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-2",children:[o.jsx("div",{className:"text-lg font-bold text-apple-purple",children:c.minutes}),o.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Minutes"})]}),o.jsxs("div",{className:"bg-apple-purple/5 rounded-lg p-2",children:[o.jsx("div",{className:"text-lg font-bold text-apple-purple",children:c.seconds}),o.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Seconds"})]})]}),o.jsxs("div",{className:"text-apple-secondary-label border-t border-apple-separator pt-3",children:[o.jsx("div",{className:"text-xs",children:"Since June 8th, 2020"}),o.jsx("div",{className:"font-medium text-apple-label text-sm mt-1",children:" Every second counts! "})]})]})})]})})]})})}function mE(){return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[o.jsxs("div",{className:"relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 to-purple-600/5"}),o.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[o.jsx("div",{className:"flex justify-center lg:justify-start",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-80 h-80 rounded-2xl overflow-hidden shadow-2xl bg-gradient-to-br from-blue-50 to-purple-50",children:o.jsx("img",{src:"https://github.com/miaoti/Test/blob/main/ResumeICON.png?raw=true",alt:"Tingshuo Miao",className:"w-full h-full object-cover"})}),o.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl opacity-20"})]})}),o.jsxs("div",{className:"text-center lg:text-left space-y-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h1",{className:"text-5xl lg:text-6xl font-bold text-gray-900 leading-tight",children:["Tingshuo ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"Miao"})]}),o.jsx("p",{className:"text-2xl text-gray-600 font-light",children:"PhD Student in Computer Science"}),o.jsx("p",{className:"text-lg text-gray-500 max-w-2xl leading-relaxed",children:"Passionate researcher specializing in microservice architecture, software engineering, and system quality assurance. Dedicated to advancing the field through innovative testing methodologies and robust system design."})]}),o.jsxs("div",{className:"flex flex-wrap gap-4 justify-center lg:justify-start",children:[o.jsxs("a",{href:"mailto:tingshuo_miao2@baylor.edu",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:[o.jsx(Uy,{className:"h-5 w-5"}),o.jsx("span",{className:"font-medium",children:"Email"})]}),o.jsxs("a",{href:"https://www.linkedin.com/in/tingshuo-miao-823912232",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-white text-gray-700 rounded-xl hover:bg-gray-50 transition-all duration-300 shadow-lg hover:shadow-xl border border-gray-200",children:[o.jsx(Q2,{className:"h-5 w-5 text-blue-600"}),o.jsx("span",{className:"font-medium",children:"LinkedIn"})]}),o.jsxs("a",{href:"https://github.com/miaoti/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-white text-gray-700 rounded-xl hover:bg-gray-50 transition-all duration-300 shadow-lg hover:shadow-xl border border-gray-200",children:[o.jsx(dm,{className:"h-5 w-5 text-gray-700"}),o.jsx("span",{className:"font-medium",children:"GitHub"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-6 border-t border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[o.jsx(Qh,{className:"h-5 w-5 text-blue-500 flex-shrink-0"}),o.jsx("span",{children:"Waco/Dallas, TX (Open to Relocation)"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[o.jsx(_a,{className:"h-5 w-5 text-blue-500 flex-shrink-0"}),o.jsx("span",{children:"F1 Visa (English & Native Mandarin)"})]})]})]})]})})]}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 space-y-20",children:[o.jsxs("section",{className:"relative",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Research & Expertise"}),o.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Advancing software engineering through innovative research in microservice architectures and quality assurance"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"group relative bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mb-6",children:o.jsx(Wc,{className:"h-8 w-8 text-white"})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Microservice Testing"}),o.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Developing comprehensive testing methodologies for distributed microservice architectures to ensure system reliability and performance."})]})]}),o.jsxs("div",{className:"group relative bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mb-6",children:o.jsx(hl,{className:"h-8 w-8 text-white"})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quality Assurance"}),o.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Researching innovative approaches to software quality metrics and system availability measurement in distributed environments."})]})]}),o.jsxs("div",{className:"group relative bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-50 to-teal-50 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mb-6",children:o.jsx(xd,{className:"h-8 w-8 text-white"})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Academic Research"}),o.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Contributing to the academic community through peer-reviewed publications and collaborative research initiatives."})]})]})]})]}),o.jsxs("section",{className:"relative",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Education"}),o.jsx("p",{className:"text-xl text-gray-600",children:"Academic foundation in computer science and mathematics"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"group relative bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center",children:o.jsx(By,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Baylor University"}),o.jsx("p",{className:"text-blue-600 font-medium",children:"Waco, TX"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"PhD in Computer Science"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"Aug 2022 - Present"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),o.jsxs("p",{className:"text-gray-700",children:[o.jsx("strong",{children:"Research Focus:"})," Software Engineering, Microservice Testing & Quality Assurance"]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),o.jsxs("p",{className:"text-gray-700",children:[o.jsx("strong",{children:"Coursework:"})," Advanced Algorithms, Distributed Systems, Software Engineering Research Methods, Microservice Testing"]})]})]})]})]})]}),o.jsxs("div",{className:"group relative bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center",children:o.jsx(hl,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"UMass Amherst"}),o.jsx("p",{className:"text-purple-600 font-medium",children:"Amherst, MA"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"BS in Applied Mathematics"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"Sep 2018 - Jan 2022"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),o.jsxs("p",{className:"text-gray-700",children:[o.jsx("strong",{children:"Honors:"})," Dean's List (Fall 2019, Spring 2019, Fall 2020)"]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),o.jsxs("p",{className:"text-gray-700",children:[o.jsx("strong",{children:"Foundation:"})," Mathematical modeling and statistical analysis"]})]})]})]})]})]})]})]}),o.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[o.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx(Wc,{className:"h-6 w-6 text-blue-500"}),"Technical Skills"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Programming Languages"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:["Java (8+)","Python","JavaScript/TypeScript","C++","HTML/CSS","Bash"].map(e=>o.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:e},e))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Frameworks & Libraries"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:["Spring Boot","React","Node.js","Express","JUnit","Mockito","jQuery","NumPy","Pandas","TensorFlow"].map(e=>o.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:e},e))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Databases & Tools"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:["PostgreSQL","MySQL","MongoDB","Git","Docker","AWS","Postman","IntelliJ","VS Code"].map(e=>o.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium",children:e},e))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Concepts & Methodologies"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:["Microservice Architecture","REST APIs","System Availability","Metrics","Test Automation","Agile","CI/CD"].map(e=>o.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium",children:e},e))})]})]})]}),o.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[o.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx($y,{className:"h-6 w-6 text-blue-500"}),"Professional Experience"]}),o.jsx("div",{className:"space-y-8",children:o.jsxs("div",{className:"border-l-4 border-blue-500 pl-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-2",children:[o.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"Graduate Teaching & Research Assistant"}),o.jsx("span",{className:"text-blue-600 font-medium",children:"Aug 2022 - Present"})]}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[o.jsx("p",{className:"text-gray-600 font-medium",children:"Baylor University"}),o.jsx("span",{className:"text-gray-500",children:"Waco, TX"})]}),o.jsxs("ul",{className:"text-gray-700 space-y-2",children:[o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Teaching Responsibilities:"})," Taught undergraduate CS courses, led discussion sections, held office hours, graded assignments, developed instructional materials"]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Research Activities:"})," Supported faculty research, conducted literature reviews, collected/analyzed experimental data, co-authored publications on microservice testing"]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Student Mentoring:"})," Mentored 50+ students in programming fundamentals, data structures, algorithms, and software development best practices"]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Academic Contributions:"})," Contributed to research projects focusing on software engineering and microservice architecture quality assurance"]})]})]})})]}),o.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[o.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx(Wc,{className:"h-6 w-6 text-blue-500"}),"Featured Projects"]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("a",{href:"https://qimiao.life",target:"_blank",rel:"noopener noreferrer",className:"block border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow hover:border-blue-300",children:[o.jsxs("h4",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:["Scott & Zoe Couple Website",o.jsx(_a,{className:"h-4 w-4 text-blue-500"})]}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Full-stack web application for couples to share memories, photos, and special moments with beautiful UI/UX design."}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["React","TypeScript","Spring Boot","PostgreSQL","Railway","Docker"].map(e=>o.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-sm",children:e},e))}),o.jsxs("ul",{className:"text-gray-700 text-sm space-y-1",children:[o.jsx("li",{children:" Responsive design with modern UI components and animations"}),o.jsx("li",{children:" RESTful API with comprehensive error handling and validation"}),o.jsx("li",{children:" Deployed on Railway with CI/CD pipeline and custom domain"})]})]}),o.jsxs("a",{href:"https://khoemanh.info/",target:"_blank",rel:"noopener noreferrer",className:"block border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow hover:border-green-300",children:[o.jsxs("h4",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:["WellnessPathway v2  Health Management Platform",o.jsx(_a,{className:"h-4 w-4 text-green-500"})]}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Microservice-based health monitoring system with real-time metrics and automated alerting capabilities."}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Spring Boot","Microservices","Grafana","Prometheus","Docker","GitLab CI"].map(e=>o.jsx("span",{className:"px-2 py-1 bg-green-50 text-green-700 rounded text-sm",children:e},e))}),o.jsxs("ul",{className:"text-gray-700 text-sm space-y-1",children:[o.jsx("li",{children:" Implemented health check endpoints with Spring Boot Actuator"}),o.jsx("li",{children:" Integrated monitoring dashboards with real-time alerting"}),o.jsx("li",{children:" Monitored system health via Grafana/Prometheus; participated in release cycles, backup strategies, and incident response"})]})]}),o.jsxs("a",{href:"https://github.com/miaoti/inventoryPro",target:"_blank",rel:"noopener noreferrer",className:"block border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow hover:border-purple-300",children:[o.jsxs("h4",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:["InventoryPro  Internal Inventory Management System",o.jsx(dm,{className:"h-4 w-4 text-purple-500"})]}),o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Jun 2025  Sep 2025"}),o.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs font-medium",children:"Full-Stack Developer (Solo Project)"})]}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Designed and delivered a secure, scalable inventory system for internal company use, featuring role-based access, barcode scanning, audit logs, and low-stock alerts."}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Spring Boot","Next.js","TypeScript","MySQL","Docker","GCP","Flyway"].map(e=>o.jsx("span",{className:"px-2 py-1 bg-purple-50 text-purple-700 rounded text-sm",children:e},e))}),o.jsxs("ul",{className:"text-gray-700 text-sm space-y-1",children:[o.jsx("li",{children:" Implemented backend with Spring Security + JWT for authentication; used Flyway for version-controlled, repeatable database migrations"}),o.jsx("li",{children:" Developed responsive frontend with Next.js App Router + Redux; integrated real-time notifications and exportable reporting dashboards"}),o.jsx("li",{children:" Containerized deployment via Docker + Nginx reverse proxy with HTTPS; configured CI/CD on GitHub Actions for automated testing & deployment to GCP"}),o.jsx("li",{children:" Delivered audit trails, email alerts, and scheduled tasks to support operational compliance and decision-making"})]})]})]})]}),o.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[o.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx(xd,{className:"h-6 w-6 text-blue-500"}),"Publications"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"border-l-4 border-blue-500 pl-6",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:'"Systematic Mapping Study of Test Generation for Microservices: Approaches, Challenges, and Impact on System Quality"'}),o.jsxs("p",{className:"text-gray-600 mb-2",children:[o.jsx("strong",{children:"Miao, T."}),", Shaafi, A. I., & Song, E. (2025). ",o.jsx("em",{children:"Electronics"}),", 14(7), 1397."]}),o.jsx("p",{className:"text-gray-700 text-sm mb-2",children:"Comprehensive analysis of microservice testing methodologies and their impact on system reliability and performance."}),o.jsx("a",{href:"https://doi.org/10.3390/electronics14071397",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"https://doi.org/10.3390/electronics14071397"})]}),o.jsxs("div",{className:"border-l-4 border-green-500 pl-6",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:'"Service Availability Ratio (SAR): An Availability Metric for Microservices"'}),o.jsxs("p",{className:"text-gray-600 mb-2",children:[o.jsx("strong",{children:"Miao, T."}),", & Shaafi, A. I. (2025). In ",o.jsx("em",{children:"Lecture Notes in Computer Science"})," (Vol. 14678, pp. 112127). Springer."]}),o.jsx("p",{className:"text-gray-700 text-sm mb-2",children:"Novel availability metric for microservice architectures that considers end-to-end service dependencies and system reliability."}),o.jsx("a",{href:"https://doi.org/10.1007/978-3-031-86644-9_8",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"https://doi.org/10.1007/978-3-031-86644-9_8"})]})]})]})]})]})}function gE(){return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-purple-50",children:[o.jsx("div",{className:"bg-white shadow-lg",children:o.jsx("div",{className:"max-w-6xl mx-auto px-6 py-12",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-8",children:[o.jsx("div",{className:"w-48 h-48 bg-gradient-to-br from-pink-500 to-purple-600 rounded-full flex items-center justify-center text-white text-6xl font-bold shadow-xl",children:"Z"}),o.jsxs("div",{className:"flex-1 text-center md:text-left",children:[o.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"Zoe"}),o.jsx("h2",{className:"text-2xl text-pink-600 font-semibold mb-6",children:"Professional & Creative Specialist"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-600",children:[o.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[o.jsx(Qh,{className:"h-5 w-5 text-pink-500"}),o.jsx("span",{children:"Location Available Upon Request"})]}),o.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[o.jsx(Uy,{className:"h-5 w-5 text-pink-500"}),o.jsx("a",{href:"mailto:zoe@example.com",className:"hover:text-pink-600 transition-colors",children:"zoe@example.com"})]}),o.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[o.jsx(nS,{className:"h-5 w-5 text-pink-500"}),o.jsx("span",{children:"Contact Available Upon Request"})]}),o.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[o.jsx(_a,{className:"h-5 w-5 text-pink-500"}),o.jsx("span",{children:"Multilingual Professional"})]})]})]})]})})}),o.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12 space-y-12",children:[o.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[o.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx(Ie,{className:"h-6 w-6 text-pink-500"}),"About Me"]}),o.jsx("p",{className:"text-gray-700 leading-relaxed text-lg",children:"A dedicated professional with a passion for excellence and innovation. I bring creativity, analytical thinking, and strong communication skills to every project. Currently expanding my expertise and looking forward to new opportunities and challenges."})]}),o.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[o.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx(By,{className:"h-6 w-6 text-pink-500"}),"Education"]}),o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"border-l-4 border-pink-500 pl-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-2",children:[o.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"Bachelor's Degree"}),o.jsx("span",{className:"text-pink-600 font-medium",children:"Location"})]}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-3",children:[o.jsx("p",{className:"text-gray-600",children:"University Name"}),o.jsx("span",{className:"text-gray-500",children:"Year - Year"})]}),o.jsxs("ul",{className:"text-gray-700 space-y-1",children:[o.jsx("li",{children:" Major: [To be updated]"}),o.jsx("li",{children:" Relevant coursework and achievements"}),o.jsx("li",{children:" Academic honors and distinctions"})]})]})})]}),o.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[o.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx(hl,{className:"h-6 w-6 text-pink-500"}),"Core Competencies"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Professional Skills"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:["Communication","Project Management","Problem Solving","Leadership","Teamwork","Analysis"].map(e=>o.jsx("span",{className:"px-3 py-1 bg-pink-100 text-pink-800 rounded-full text-sm font-medium",children:e},e))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Technical Skills"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:["Microsoft Office","Data Analysis","Research","Presentation","Documentation","Planning"].map(e=>o.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium",children:e},e))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Creative Skills"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:["Design Thinking","Creative Writing","Visual Arts","Innovation","Brainstorming","Conceptualization"].map(e=>o.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm font-medium",children:e},e))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Languages"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:["English (Fluent)","Additional Languages","Cross-Cultural Communication"].map(e=>o.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:e},e))})]})]})]}),o.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[o.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx($y,{className:"h-6 w-6 text-pink-500"}),"Professional Experience"]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"border-l-4 border-pink-500 pl-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-2",children:[o.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"Position Title"}),o.jsx("span",{className:"text-pink-600 font-medium",children:"Date - Date"})]}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[o.jsx("p",{className:"text-gray-600 font-medium",children:"Company/Organization Name"}),o.jsx("span",{className:"text-gray-500",children:"Location"})]}),o.jsxs("ul",{className:"text-gray-700 space-y-2",children:[o.jsx("li",{children:" Key responsibility and achievement"}),o.jsx("li",{children:" Major project or initiative led"}),o.jsx("li",{children:" Quantifiable results and impact"}),o.jsx("li",{children:" Skills developed and applied"})]})]}),o.jsxs("div",{className:"border-l-4 border-purple-500 pl-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-2",children:[o.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"Previous Position"}),o.jsx("span",{className:"text-purple-600 font-medium",children:"Date - Date"})]}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[o.jsx("p",{className:"text-gray-600 font-medium",children:"Previous Company/Organization"}),o.jsx("span",{className:"text-gray-500",children:"Location"})]}),o.jsxs("ul",{className:"text-gray-700 space-y-2",children:[o.jsx("li",{children:" Notable accomplishment or project"}),o.jsx("li",{children:" Leadership or collaborative experience"}),o.jsx("li",{children:" Process improvement or innovation"}),o.jsx("li",{children:" Professional growth and learning"})]})]})]})]}),o.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[o.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx(hl,{className:"h-6 w-6 text-pink-500"}),"Projects & Achievements"]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[o.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Featured Project"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Description of a significant project, initiative, or accomplishment that demonstrates skills, creativity, and impact."}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Skill 1","Skill 2","Skill 3","Tool/Method"].map(e=>o.jsx("span",{className:"px-2 py-1 bg-pink-50 text-pink-700 rounded text-sm",children:e},e))}),o.jsxs("ul",{className:"text-gray-700 text-sm space-y-1",children:[o.jsx("li",{children:" Key outcome or result achieved"}),o.jsx("li",{children:" Methodology or approach used"}),o.jsx("li",{children:" Impact on organization or community"})]})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[o.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Creative Initiative"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"A creative project or innovative solution that showcases problem-solving abilities and unique perspective."}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Creativity","Innovation","Design","Implementation"].map(e=>o.jsx("span",{className:"px-2 py-1 bg-purple-50 text-purple-700 rounded text-sm",children:e},e))}),o.jsxs("ul",{className:"text-gray-700 text-sm space-y-1",children:[o.jsx("li",{children:" Creative approach or unique solution"}),o.jsx("li",{children:" Collaboration and teamwork involved"}),o.jsx("li",{children:" Positive feedback or recognition received"})]})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[o.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Leadership Experience"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Leadership role or initiative that demonstrates ability to guide, motivate, and achieve results through others."}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Leadership","Team Management","Strategy","Communication"].map(e=>o.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 rounded text-sm",children:e},e))}),o.jsxs("ul",{className:"text-gray-700 text-sm space-y-1",children:[o.jsx("li",{children:" Team size and scope of responsibility"}),o.jsx("li",{children:" Challenges overcome and solutions implemented"}),o.jsx("li",{children:" Measurable outcomes and team development"})]})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[o.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Community Involvement"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Volunteer work, community service, or social impact initiative that demonstrates commitment to making a positive difference."}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Volunteer Work","Community Service","Social Impact","Organizing"].map(e=>o.jsx("span",{className:"px-2 py-1 bg-green-50 text-green-700 rounded text-sm",children:e},e))}),o.jsxs("ul",{className:"text-gray-700 text-sm space-y-1",children:[o.jsx("li",{children:" Organization or cause supported"}),o.jsx("li",{children:" Role and responsibilities undertaken"}),o.jsx("li",{children:" Impact on community or beneficiaries"})]})]})]})]}),o.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[o.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx(xd,{className:"h-6 w-6 text-pink-500"}),"Interests & Professional Goals"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Professional Interests"}),o.jsxs("ul",{className:"text-gray-700 space-y-2",children:[o.jsx("li",{children:" Continuous learning and professional development"}),o.jsx("li",{children:" Innovation and creative problem-solving"}),o.jsx("li",{children:" Collaborative team environments"}),o.jsx("li",{children:" Making meaningful contributions to projects"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Career Goals"}),o.jsxs("ul",{className:"text-gray-700 space-y-2",children:[o.jsx("li",{children:" Expanding expertise in chosen field"}),o.jsx("li",{children:" Taking on leadership responsibilities"}),o.jsx("li",{children:" Contributing to impactful projects"}),o.jsx("li",{children:" Building lasting professional relationships"})]})]})]})]}),o.jsxs("section",{className:"bg-gradient-to-r from-pink-500 to-purple-600 rounded-xl shadow-lg p-8 text-center text-white",children:[o.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Let's Connect"}),o.jsx("p",{className:"text-lg mb-6 opacity-90",children:"I'm always interested in new opportunities and meaningful connections. Feel free to reach out to discuss potential collaborations or just to say hello!"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsx("a",{href:"mailto:zoe@example.com",className:"bg-white text-pink-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Send Email"}),o.jsx("a",{href:"#",className:"border-2 border-white text-white px-6 py-3 rounded-lg font-semibold hover:bg-white hover:text-pink-600 transition-colors",children:"View LinkedIn"})]})]})]})]})}const V1=E.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),ac=E.createContext({}),lc=E.createContext(null),cc=typeof document<"u",Nf=cc?E.useLayoutEffect:E.useEffect,W1=E.createContext({strict:!1}),Sf=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),xE="framerAppearId",H1="data-"+Sf(xE);function yE(e,t,n,r){const{visualElement:s}=E.useContext(ac),i=E.useContext(W1),a=E.useContext(lc),l=E.useContext(V1).reducedMotion,c=E.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const h=c.current;E.useInsertionEffect(()=>{h&&h.update(n,a)});const d=E.useRef(!!(n[H1]&&!window.HandoffComplete));return Nf(()=>{h&&(h.render(),d.current&&h.animationState&&h.animationState.animateChanges())}),E.useEffect(()=>{h&&(h.updateFeatures(),!d.current&&h.animationState&&h.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),h}function Ps(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function vE(e,t,n){return E.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ps(n)&&(n.current=r))},[t])}function yi(e){return typeof e=="string"||Array.isArray(e)}function uc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const kf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cf=["initial",...kf];function dc(e){return uc(e.animate)||Cf.some(t=>yi(e[t]))}function G1(e){return!!(dc(e)||e.variants)}function bE(e,t){if(dc(e)){const{initial:n,animate:r}=e;return{initial:n===!1||yi(n)?n:void 0,animate:yi(r)?r:void 0}}return e.inherit!==!1?t:{}}function wE(e){const{initial:t,animate:n}=bE(e,E.useContext(ac));return E.useMemo(()=>({initial:t,animate:n}),[ug(t),ug(n)])}function ug(e){return Array.isArray(e)?e.join(" "):e}const dg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vi={};for(const e in dg)vi[e]={isEnabled:t=>dg[e].some(n=>!!t[n])};function jE(e){for(const t in e)vi[t]={...vi[t],...e[t]}}const Ef=E.createContext({}),q1=E.createContext({}),NE=Symbol.for("motionComponentSymbol");function SE({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&jE(e);function i(l,c){let h;const d={...E.useContext(V1),...l,layoutId:kE(l)},{isStatic:u}=d,f=wE(l),p=r(l,u);if(!u&&cc){f.visualElement=yE(s,p,d,t);const m=E.useContext(q1),v=E.useContext(W1).strict;f.visualElement&&(h=f.visualElement.loadFeatures(d,v,e,m))}return E.createElement(ac.Provider,{value:f},h&&f.visualElement?E.createElement(h,{visualElement:f.visualElement,...d}):null,n(s,l,vE(p,f.visualElement,c),p,u,f.visualElement))}const a=E.forwardRef(i);return a[NE]=s,a}function kE({layoutId:e}){const t=E.useContext(Ef).id;return t&&e!==void 0?t+"-"+e:e}function CE(e){function t(r,s={}){return SE(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const EE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Pf(e){return typeof e!="string"||e.includes("-")?!1:!!(EE.indexOf(e)>-1||/[A-Z]/.test(e))}const bl={};function PE(e){Object.assign(bl,e)}const Ui=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],us=new Set(Ui);function K1(e,{layout:t,layoutId:n}){return us.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!bl[e]||e==="opacity")}const Nt=e=>!!(e&&e.getVelocity),TE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AE=Ui.length;function DE(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let i="";for(let a=0;a<AE;a++){const l=Ui[a];if(e[l]!==void 0){const c=TE[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,r?"":i):n&&r&&(i="none"),i}const X1=e=>t=>typeof t=="string"&&t.startsWith(e),Y1=X1("--"),Fd=X1("var(--"),RE=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,_E=(e,t)=>t&&typeof e=="number"?t.transform(e):e,xr=(e,t,n)=>Math.min(Math.max(n,e),t),ds={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ho={...ds,transform:e=>xr(0,1,e)},xa={...ds,default:1},Go=e=>Math.round(e*1e5)/1e5,hc=/(-)?([\d]*\.?[\d])+/g,Q1=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,ME=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Vi(e){return typeof e=="string"}const Wi=e=>({test:t=>Vi(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Wn=Wi("deg"),yn=Wi("%"),te=Wi("px"),OE=Wi("vh"),LE=Wi("vw"),hg={...yn,parse:e=>yn.parse(e)/100,transform:e=>yn.transform(e*100)},fg={...ds,transform:Math.round},J1={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,size:te,top:te,right:te,bottom:te,left:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,rotate:Wn,rotateX:Wn,rotateY:Wn,rotateZ:Wn,scale:xa,scaleX:xa,scaleY:xa,scaleZ:xa,skew:Wn,skewX:Wn,skewY:Wn,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:Ho,originX:hg,originY:hg,originZ:te,zIndex:fg,fillOpacity:Ho,strokeOpacity:Ho,numOctaves:fg};function Tf(e,t,n,r){const{style:s,vars:i,transform:a,transformOrigin:l}=e;let c=!1,h=!1,d=!0;for(const u in t){const f=t[u];if(Y1(u)){i[u]=f;continue}const p=J1[u],m=_E(f,p);if(us.has(u)){if(c=!0,a[u]=m,!d)continue;f!==(p.default||0)&&(d=!1)}else u.startsWith("origin")?(h=!0,l[u]=m):s[u]=m}if(t.transform||(c||r?s.transform=DE(e.transform,n,d,r):s.transform&&(s.transform="none")),h){const{originX:u="50%",originY:f="50%",originZ:p=0}=l;s.transformOrigin=`${u} ${f} ${p}`}}const Af=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Z1(e,t,n){for(const r in t)!Nt(t[r])&&!K1(r,n)&&(e[r]=t[r])}function IE({transformTemplate:e},t,n){return E.useMemo(()=>{const r=Af();return Tf(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function FE(e,t,n){const r=e.style||{},s={};return Z1(s,r,e),Object.assign(s,IE(e,t,n)),e.transformValues?e.transformValues(s):s}function $E(e,t,n){const r={},s=FE(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const BE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||BE.has(e)}let eb=e=>!wl(e);function zE(e){e&&(eb=t=>t.startsWith("on")?!wl(t):e(t))}try{zE(require("@emotion/is-prop-valid").default)}catch{}function UE(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(eb(s)||n===!0&&wl(s)||!t&&!wl(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function pg(e,t,n){return typeof e=="string"?e:te.transform(t+n*e)}function VE(e,t,n){const r=pg(t,e.x,e.width),s=pg(n,e.y,e.height);return`${r} ${s}`}const WE={offset:"stroke-dashoffset",array:"stroke-dasharray"},HE={offset:"strokeDashoffset",array:"strokeDasharray"};function GE(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?WE:HE;e[i.offset]=te.transform(-r);const a=te.transform(t),l=te.transform(n);e[i.array]=`${a} ${l}`}function Df(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},d,u,f){if(Tf(e,h,d,f),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:v}=e;p.transform&&(v&&(m.transform=p.transform),delete p.transform),v&&(s!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=VE(v,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),a!==void 0&&GE(p,a,l,c,!1)}const tb=()=>({...Af(),attrs:{}}),Rf=e=>typeof e=="string"&&e.toLowerCase()==="svg";function qE(e,t,n,r){const s=E.useMemo(()=>{const i=tb();return Df(i,t,{enableHardwareAcceleration:!1},Rf(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Z1(i,e.style,e),s.style={...i,...s.style}}return s}function KE(e=!1){return(n,r,s,{latestValues:i},a)=>{const c=(Pf(n)?qE:$E)(r,i,a,n),d={...UE(r,typeof n=="string",e),...c,ref:s},{children:u}=r,f=E.useMemo(()=>Nt(u)?u.get():u,[u]);return E.createElement(n,{...d,children:f})}}function nb(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const rb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sb(e,t,n,r){nb(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(rb.has(s)?s:Sf(s),t.attrs[s])}function _f(e,t){const{style:n}=e,r={};for(const s in n)(Nt(n[s])||t.style&&Nt(t.style[s])||K1(s,e))&&(r[s]=n[s]);return r}function ob(e,t){const n=_f(e,t);for(const r in e)if(Nt(e[r])||Nt(t[r])){const s=Ui.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function Mf(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function ib(e){const t=E.useRef(null);return t.current===null&&(t.current=e()),t.current}const jl=e=>Array.isArray(e),XE=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),YE=e=>jl(e)?e[e.length-1]||0:e;function Fa(e){const t=Nt(e)?e.get():e;return XE(t)?t.toValue():t}function QE({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,i){const a={latestValues:JE(r,s,i,e),renderState:t()};return n&&(a.mount=l=>n(r,l,a)),a}const ab=e=>(t,n)=>{const r=E.useContext(ac),s=E.useContext(lc),i=()=>QE(e,t,r,s);return n?i():ib(i)};function JE(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=Fa(i[f]);let{initial:a,animate:l}=e;const c=dc(e),h=G1(e);t&&h&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const u=d?l:a;return u&&typeof u!="boolean"&&!uc(u)&&(Array.isArray(u)?u:[u]).forEach(p=>{const m=Mf(e,p);if(!m)return;const{transitionEnd:v,transition:S,...y}=m;for(const w in y){let g=y[w];if(Array.isArray(g)){const j=d?g.length-1:0;g=g[j]}g!==null&&(s[w]=g)}for(const w in v)s[w]=v[w]}),s}const _e=e=>e;class mg{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function ZE(e){let t=new mg,n=new mg,r=0,s=!1,i=!1;const a=new WeakSet,l={schedule:(c,h=!1,d=!1)=>{const u=d&&s,f=u?t:n;return h&&a.add(c),f.add(c)&&u&&s&&(r=t.order.length),c},cancel:c=>{n.remove(c),a.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let h=0;h<r;h++){const d=t.order[h];d(c),a.has(d)&&(l.schedule(d),e())}s=!1,i&&(i=!1,l.process(c))}};return l}const ya=["prepare","read","update","preRender","render","postRender"],eP=40;function tP(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=ya.reduce((u,f)=>(u[f]=ZE(()=>n=!0),u),{}),a=u=>i[u].process(s),l=()=>{const u=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(u-s.timestamp,eP),1),s.timestamp=u,s.isProcessing=!0,ya.forEach(a),s.isProcessing=!1,n&&t&&(r=!1,e(l))},c=()=>{n=!0,r=!0,s.isProcessing||e(l)};return{schedule:ya.reduce((u,f)=>{const p=i[f];return u[f]=(m,v=!1,S=!1)=>(n||c(),p.schedule(m,v,S)),u},{}),cancel:u=>ya.forEach(f=>i[f].cancel(u)),state:s,steps:i}}const{schedule:we,cancel:Ln,state:et,steps:iu}=tP(typeof requestAnimationFrame<"u"?requestAnimationFrame:_e,!0),nP={useVisualState:ab({scrapeMotionValuesFromProps:ob,createRenderState:tb,onMount:(e,t,{renderState:n,latestValues:r})=>{we.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),we.render(()=>{Df(n,r,{enableHardwareAcceleration:!1},Rf(t.tagName),e.transformTemplate),sb(t,n)})}})},rP={useVisualState:ab({scrapeMotionValuesFromProps:_f,createRenderState:Af})};function sP(e,{forwardMotionProps:t=!1},n,r){return{...Pf(e)?nP:rP,preloadedFeatures:n,useRender:KE(t),createVisualElement:r,Component:e}}function En(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const lb=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function fc(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const oP=e=>t=>lb(t)&&e(t,fc(t));function An(e,t,n,r){return En(e,t,oP(n),r)}const iP=(e,t)=>n=>t(e(n)),hr=(...e)=>e.reduce(iP);function cb(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const gg=cb("dragHorizontal"),xg=cb("dragVertical");function ub(e){let t=!1;if(e==="y")t=xg();else if(e==="x")t=gg();else{const n=gg(),r=xg();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function db(){const e=ub(!0);return e?(e(),!1):!0}class Sr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function yg(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(i,a)=>{if(i.pointerType==="touch"||db())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&we.update(()=>l[r](i,a))};return An(e.current,n,s,{passive:!e.getProps()[r]})}class aP extends Sr{mount(){this.unmount=hr(yg(this.node,!0),yg(this.node,!1))}unmount(){}}class lP extends Sr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hr(En(this.node.current,"focus",()=>this.onFocus()),En(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const hb=(e,t)=>t?e===t?!0:hb(e,t.parentElement):!1;function au(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,fc(n))}class cP extends Sr{constructor(){super(...arguments),this.removeStartListeners=_e,this.removeEndListeners=_e,this.removeAccessibleListeners=_e,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=An(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:h,onTapCancel:d,globalTapTarget:u}=this.node.getProps();we.update(()=>{!u&&!hb(this.node.current,l.target)?d&&d(l,c):h&&h(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),a=An(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=hr(i,a),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||au("up",(c,h)=>{const{onTap:d}=this.node.getProps();d&&we.update(()=>d(c,h))})};this.removeEndListeners(),this.removeEndListeners=En(this.node.current,"keyup",a),au("down",(l,c)=>{this.startPress(l,c)})},n=En(this.node.current,"keydown",t),r=()=>{this.isPressing&&au("cancel",(i,a)=>this.cancelPress(i,a))},s=En(this.node.current,"blur",r);this.removeAccessibleListeners=hr(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&we.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!db()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&we.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=An(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=En(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=hr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const $d=new WeakMap,lu=new WeakMap,uP=e=>{const t=$d.get(e.target);t&&t(e)},dP=e=>{e.forEach(uP)};function hP({root:e,...t}){const n=e||document;lu.has(n)||lu.set(n,{});const r=lu.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(dP,{root:e,...t})),r[s]}function fP(e,t,n){const r=hP(t);return $d.set(e,n),r.observe(e),()=>{$d.delete(e),r.unobserve(e)}}const pP={some:0,all:1};class mP extends Sr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:pP[s]},l=c=>{const{isIntersecting:h}=c;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:d,onViewportLeave:u}=this.node.getProps(),f=h?d:u;f&&f(c)};return fP(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(gP(t,n))&&this.startObserver()}unmount(){}}function gP({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const xP={inView:{Feature:mP},tap:{Feature:cP},focus:{Feature:lP},hover:{Feature:aP}};function fb(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function yP(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function vP(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function pc(e,t,n){const r=e.getProps();return Mf(r,t,n!==void 0?n:r.custom,yP(e),vP(e))}let Of=_e;const Hr=e=>e*1e3,Dn=e=>e/1e3,bP={current:!1},pb=e=>Array.isArray(e)&&typeof e[0]=="number";function mb(e){return!!(!e||typeof e=="string"&&gb[e]||pb(e)||Array.isArray(e)&&e.every(mb))}const _o=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,gb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_o([0,.65,.55,1]),circOut:_o([.55,0,1,.45]),backIn:_o([.31,.01,.66,-.59]),backOut:_o([.33,1.53,.69,.99])};function xb(e){if(e)return pb(e)?_o(e):Array.isArray(e)?e.map(xb):gb[e]}function wP(e,t,n,{delay:r=0,duration:s,repeat:i=0,repeatType:a="loop",ease:l,times:c}={}){const h={[t]:n};c&&(h.offset=c);const d=xb(l);return Array.isArray(d)&&(h.easing=d),e.animate(h,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function jP(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const yb=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,NP=1e-7,SP=12;function kP(e,t,n,r,s){let i,a,l=0;do a=t+(n-t)/2,i=yb(a,r,s)-e,i>0?n=a:t=a;while(Math.abs(i)>NP&&++l<SP);return a}function Hi(e,t,n,r){if(e===t&&n===r)return _e;const s=i=>kP(i,0,1,e,n);return i=>i===0||i===1?i:yb(s(i),t,r)}const CP=Hi(.42,0,1,1),EP=Hi(0,0,.58,1),vb=Hi(.42,0,.58,1),PP=e=>Array.isArray(e)&&typeof e[0]!="number",bb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,wb=e=>t=>1-e(1-t),Lf=e=>1-Math.sin(Math.acos(e)),jb=wb(Lf),TP=bb(Lf),Nb=Hi(.33,1.53,.69,.99),If=wb(Nb),AP=bb(If),DP=e=>(e*=2)<1?.5*If(e):.5*(2-Math.pow(2,-10*(e-1))),RP={linear:_e,easeIn:CP,easeInOut:vb,easeOut:EP,circIn:Lf,circInOut:TP,circOut:jb,backIn:If,backInOut:AP,backOut:Nb,anticipate:DP},vg=e=>{if(Array.isArray(e)){Of(e.length===4);const[t,n,r,s]=e;return Hi(t,n,r,s)}else if(typeof e=="string")return RP[e];return e},Ff=(e,t)=>n=>!!(Vi(n)&&ME.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Sb=(e,t,n)=>r=>{if(!Vi(r))return r;const[s,i,a,l]=r.match(hc);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},_P=e=>xr(0,255,e),cu={...ds,transform:e=>Math.round(_P(e))},zr={test:Ff("rgb","red"),parse:Sb("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+cu.transform(e)+", "+cu.transform(t)+", "+cu.transform(n)+", "+Go(Ho.transform(r))+")"};function MP(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Bd={test:Ff("#"),parse:MP,transform:zr.transform},Ts={test:Ff("hsl","hue"),parse:Sb("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+yn.transform(Go(t))+", "+yn.transform(Go(n))+", "+Go(Ho.transform(r))+")"},lt={test:e=>zr.test(e)||Bd.test(e)||Ts.test(e),parse:e=>zr.test(e)?zr.parse(e):Ts.test(e)?Ts.parse(e):Bd.parse(e),transform:e=>Vi(e)?e:e.hasOwnProperty("red")?zr.transform(e):Ts.transform(e)},Ce=(e,t,n)=>-n*e+n*t+e;function uu(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function OP({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,a=0;if(!t)s=i=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=uu(c,l,e+1/3),i=uu(c,l,e),a=uu(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}const du=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},LP=[Bd,zr,Ts],IP=e=>LP.find(t=>t.test(e));function bg(e){const t=IP(e);let n=t.parse(e);return t===Ts&&(n=OP(n)),n}const kb=(e,t)=>{const n=bg(e),r=bg(t),s={...n};return i=>(s.red=du(n.red,r.red,i),s.green=du(n.green,r.green,i),s.blue=du(n.blue,r.blue,i),s.alpha=Ce(n.alpha,r.alpha,i),zr.transform(s))};function FP(e){var t,n;return isNaN(e)&&Vi(e)&&(((t=e.match(hc))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Q1))===null||n===void 0?void 0:n.length)||0)>0}const Cb={regex:RE,countKey:"Vars",token:"${v}",parse:_e},Eb={regex:Q1,countKey:"Colors",token:"${c}",parse:lt.parse},Pb={regex:hc,countKey:"Numbers",token:"${n}",parse:ds.parse};function hu(e,{regex:t,countKey:n,token:r,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(s)))}function Nl(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&hu(n,Cb),hu(n,Eb),hu(n,Pb),n}function Tb(e){return Nl(e).values}function Ab(e){const{values:t,numColors:n,numVars:r,tokenised:s}=Nl(e),i=t.length;return a=>{let l=s;for(let c=0;c<i;c++)c<r?l=l.replace(Cb.token,a[c]):c<r+n?l=l.replace(Eb.token,lt.transform(a[c])):l=l.replace(Pb.token,Go(a[c]));return l}}const $P=e=>typeof e=="number"?0:e;function BP(e){const t=Tb(e);return Ab(e)(t.map($P))}const yr={test:FP,parse:Tb,createTransformer:Ab,getAnimatableNone:BP},Db=(e,t)=>n=>`${n>0?t:e}`;function Rb(e,t){return typeof e=="number"?n=>Ce(e,t,n):lt.test(e)?kb(e,t):e.startsWith("var(")?Db(e,t):Mb(e,t)}const _b=(e,t)=>{const n=[...e],r=n.length,s=e.map((i,a)=>Rb(i,t[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}},zP=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Rb(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},Mb=(e,t)=>{const n=yr.createTransformer(t),r=Nl(e),s=Nl(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?hr(_b(r.values,s.values),n):Db(e,t)},bi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},wg=(e,t)=>n=>Ce(e,t,n);function UP(e){return typeof e=="number"?wg:typeof e=="string"?lt.test(e)?kb:Mb:Array.isArray(e)?_b:typeof e=="object"?zP:wg}function VP(e,t,n){const r=[],s=n||UP(e[0]),i=e.length-1;for(let a=0;a<i;a++){let l=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||_e:t;l=hr(c,l)}r.push(l)}return r}function Ob(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Of(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=VP(t,r,s),l=a.length,c=h=>{let d=0;if(l>1)for(;d<e.length-2&&!(h<e[d+1]);d++);const u=bi(e[d],e[d+1],h);return a[d](u)};return n?h=>c(xr(e[0],e[i-1],h)):c}function WP(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=bi(0,t,r);e.push(Ce(n,1,s))}}function HP(e){const t=[0];return WP(t,e.length-1),t}function GP(e,t){return e.map(n=>n*t)}function qP(e,t){return e.map(()=>t||vb).splice(0,e.length-1)}function Sl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=PP(r)?r.map(vg):vg(r),i={done:!1,value:t[0]},a=GP(n&&n.length===t.length?n:HP(t),e),l=Ob(a,t,{ease:Array.isArray(s)?s:qP(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function Lb(e,t){return t?e*(1e3/t):0}const KP=5;function Ib(e,t,n){const r=Math.max(t-KP,0);return Lb(n-e(r),t-r)}const fu=.001,XP=.01,YP=10,QP=.05,JP=1;function ZP({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,i,a=1-t;a=xr(QP,JP,a),e=xr(XP,YP,Dn(e)),a<1?(s=h=>{const d=h*a,u=d*e,f=d-n,p=zd(h,a),m=Math.exp(-u);return fu-f/p*m},i=h=>{const u=h*a*e,f=u*n+n,p=Math.pow(a,2)*Math.pow(h,2)*e,m=Math.exp(-u),v=zd(Math.pow(h,2),a);return(-s(h)+fu>0?-1:1)*((f-p)*m)/v}):(s=h=>{const d=Math.exp(-h*e),u=(h-n)*e+1;return-fu+d*u},i=h=>{const d=Math.exp(-h*e),u=(n-h)*(e*e);return d*u});const l=5/e,c=tT(s,i,l);if(e=Hr(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const h=Math.pow(c,2)*r;return{stiffness:h,damping:a*2*Math.sqrt(r*h),duration:e}}}const eT=12;function tT(e,t,n){let r=n;for(let s=1;s<eT;s++)r=r-e(r)/t(r);return r}function zd(e,t){return e*Math.sqrt(1-t*t)}const nT=["duration","bounce"],rT=["stiffness","damping","mass"];function jg(e,t){return t.some(n=>e[n]!==void 0)}function sT(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!jg(e,rT)&&jg(e,nT)){const n=ZP(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Fb({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],i=e[e.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:h,duration:d,velocity:u,isResolvedFromDuration:f}=sT({...r,velocity:-Dn(r.velocity||0)}),p=u||0,m=c/(2*Math.sqrt(l*h)),v=i-s,S=Dn(Math.sqrt(l/h)),y=Math.abs(v)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let w;if(m<1){const g=zd(S,m);w=j=>{const R=Math.exp(-m*S*j);return i-R*((p+m*S*v)/g*Math.sin(g*j)+v*Math.cos(g*j))}}else if(m===1)w=g=>i-Math.exp(-S*g)*(v+(p+S*v)*g);else{const g=S*Math.sqrt(m*m-1);w=j=>{const R=Math.exp(-m*S*j),b=Math.min(g*j,300);return i-R*((p+m*S*v)*Math.sinh(b)+g*v*Math.cosh(b))/g}}return{calculatedDuration:f&&d||null,next:g=>{const j=w(g);if(f)a.done=g>=d;else{let R=p;g!==0&&(m<1?R=Ib(w,g,j):R=0);const b=Math.abs(R)<=n,D=Math.abs(i-j)<=t;a.done=b&&D}return a.value=a.done?i:j,a}}}function Ng({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:h=.5,restSpeed:d}){const u=e[0],f={done:!1,value:u},p=x=>l!==void 0&&x<l||c!==void 0&&x>c,m=x=>l===void 0?c:c===void 0||Math.abs(l-x)<Math.abs(c-x)?l:c;let v=n*t;const S=u+v,y=a===void 0?S:a(S);y!==S&&(v=y-u);const w=x=>-v*Math.exp(-x/r),g=x=>y+w(x),j=x=>{const N=w(x),C=g(x);f.done=Math.abs(N)<=h,f.value=f.done?y:C};let R,b;const D=x=>{p(f.value)&&(R=x,b=Fb({keyframes:[f.value,m(f.value)],velocity:Ib(g,x,f.value),damping:s,stiffness:i,restDelta:h,restSpeed:d}))};return D(0),{calculatedDuration:null,next:x=>{let N=!1;return!b&&R===void 0&&(N=!0,j(x),D(x)),R!==void 0&&x>R?b.next(x-R):(!N&&j(x),f)}}}const oT=e=>{const t=({timestamp:n})=>e(n);return{start:()=>we.update(t,!0),stop:()=>Ln(t),now:()=>et.isProcessing?et.timestamp:performance.now()}},Sg=2e4;function kg(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Sg;)t+=n,r=e.next(t);return t>=Sg?1/0:t}const iT={decay:Ng,inertia:Ng,tween:Sl,keyframes:Sl,spring:Fb};function kl({autoplay:e=!0,delay:t=0,driver:n=oT,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:h,onComplete:d,onUpdate:u,...f}){let p=1,m=!1,v,S;const y=()=>{S=new Promise(V=>{v=V})};y();let w;const g=iT[s]||Sl;let j;g!==Sl&&typeof r[0]!="number"&&(j=Ob([0,100],r,{clamp:!1}),r=[0,100]);const R=g({...f,keyframes:r});let b;l==="mirror"&&(b=g({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let D="idle",x=null,N=null,C=null;R.calculatedDuration===null&&i&&(R.calculatedDuration=kg(R));const{calculatedDuration:A}=R;let P=1/0,M=1/0;A!==null&&(P=A+a,M=P*(i+1)-a);let _=0;const O=V=>{if(N===null)return;p>0&&(N=Math.min(N,V)),p<0&&(N=Math.min(V-M/p,N)),x!==null?_=x:_=Math.round(V-N)*p;const z=_-t*(p>=0?1:-1),H=p>=0?z<0:z>M;_=Math.max(z,0),D==="finished"&&x===null&&(_=M);let W=_,B=R;if(i){const ne=Math.min(_,M)/P;let ie=Math.floor(ne),ue=ne%1;!ue&&ne>=1&&(ue=1),ue===1&&ie--,ie=Math.min(ie,i+1),!!(ie%2)&&(l==="reverse"?(ue=1-ue,a&&(ue-=a/P)):l==="mirror"&&(B=b)),W=xr(0,1,ue)*P}const G=H?{done:!1,value:r[0]}:B.next(W);j&&(G.value=j(G.value));let{done:Q}=G;!H&&A!==null&&(Q=p>=0?_>=M:_<=0);const oe=x===null&&(D==="finished"||D==="running"&&Q);return u&&u(G.value),oe&&I(),G},T=()=>{w&&w.stop(),w=void 0},k=()=>{D="idle",T(),v(),y(),N=C=null},I=()=>{D="finished",d&&d(),T(),v()},L=()=>{if(m)return;w||(w=n(O));const V=w.now();c&&c(),x!==null?N=V-x:(!N||D==="finished")&&(N=V),D==="finished"&&y(),C=N,x=null,D="running",w.start()};e&&L();const $={then(V,z){return S.then(V,z)},get time(){return Dn(_)},set time(V){V=Hr(V),_=V,x!==null||!w||p===0?x=V:N=w.now()-V/p},get duration(){const V=R.calculatedDuration===null?kg(R):R.calculatedDuration;return Dn(V)},get speed(){return p},set speed(V){V===p||!w||(p=V,$.time=Dn(_))},get state(){return D},play:L,pause:()=>{D="paused",x=_},stop:()=>{m=!0,D!=="idle"&&(D="idle",h&&h(),k())},cancel:()=>{C!==null&&O(C),k()},complete:()=>{D="finished"},sample:V=>(N=0,O(V))};return $}function aT(e){let t;return()=>(t===void 0&&(t=e()),t)}const lT=aT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),cT=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),va=10,uT=2e4,dT=(e,t)=>t.type==="spring"||e==="backgroundColor"||!mb(t.ease);function hT(e,t,{onUpdate:n,onComplete:r,...s}){if(!(lT()&&cT.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let a=!1,l,c,h=!1;const d=()=>{c=new Promise(g=>{l=g})};d();let{keyframes:u,duration:f=300,ease:p,times:m}=s;if(dT(t,s)){const g=kl({...s,repeat:0,delay:0});let j={done:!1,value:u[0]};const R=[];let b=0;for(;!j.done&&b<uT;)j=g.sample(b),R.push(j.value),b+=va;m=void 0,u=R,f=b-va,p="linear"}const v=wP(e.owner.current,t,u,{...s,duration:f,ease:p,times:m}),S=()=>{h=!1,v.cancel()},y=()=>{h=!0,we.update(S),l(),d()};return v.onfinish=()=>{h||(e.set(jP(u,s)),r&&r(),y())},{then(g,j){return c.then(g,j)},attachTimeline(g){return v.timeline=g,v.onfinish=null,_e},get time(){return Dn(v.currentTime||0)},set time(g){v.currentTime=Hr(g)},get speed(){return v.playbackRate},set speed(g){v.playbackRate=g},get duration(){return Dn(f)},play:()=>{a||(v.play(),Ln(S))},pause:()=>v.pause(),stop:()=>{if(a=!0,v.playState==="idle")return;const{currentTime:g}=v;if(g){const j=kl({...s,autoplay:!1});e.setWithVelocity(j.sample(g-va).value,j.sample(g).value,va)}y()},complete:()=>{h||v.finish()},cancel:y}}function fT({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:_e,pause:_e,stop:_e,then:i=>(i(),Promise.resolve()),cancel:_e,complete:_e});return t?kl({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const pT={type:"spring",stiffness:500,damping:25,restSpeed:10},mT=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),gT={type:"keyframes",duration:.8},xT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yT=(e,{keyframes:t})=>t.length>2?gT:us.has(e)?e.startsWith("scale")?mT(t[1]):pT:xT,Ud=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(yr.test(t)||t==="0")&&!t.startsWith("url(")),vT=new Set(["brightness","contrast","saturate","opacity"]);function bT(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(hc)||[];if(!r)return e;const s=n.replace(r,"");let i=vT.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const wT=/([a-z-]*)\(.*?\)/g,Vd={...yr,getAnimatableNone:e=>{const t=e.match(wT);return t?t.map(bT).join(" "):e}},jT={...J1,color:lt,backgroundColor:lt,outlineColor:lt,fill:lt,stroke:lt,borderColor:lt,borderTopColor:lt,borderRightColor:lt,borderBottomColor:lt,borderLeftColor:lt,filter:Vd,WebkitFilter:Vd},$f=e=>jT[e];function $b(e,t){let n=$f(e);return n!==Vd&&(n=yr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Bb=e=>/^0[^.\s]+$/.test(e);function NT(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Bb(e)}function ST(e,t,n,r){const s=Ud(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const a=r.from!==void 0?r.from:e.get();let l;const c=[];for(let h=0;h<i.length;h++)i[h]===null&&(i[h]=h===0?a:i[h-1]),NT(i[h])&&c.push(h),typeof i[h]=="string"&&i[h]!=="none"&&i[h]!=="0"&&(l=i[h]);if(s&&c.length&&l)for(let h=0;h<c.length;h++){const d=c[h];i[d]=$b(t,l)}return i}function kT({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:h,...d}){return!!Object.keys(d).length}function Bf(e,t){return e[t]||e.default||e}const CT={skipAnimations:!1},zf=(e,t,n,r={})=>s=>{const i=Bf(r,e)||{},a=i.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Hr(a);const c=ST(t,e,n,i),h=c[0],d=c[c.length-1],u=Ud(e,h),f=Ud(e,d);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:m=>{t.set(m),i.onUpdate&&i.onUpdate(m)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(kT(i)||(p={...p,...yT(e,p)}),p.duration&&(p.duration=Hr(p.duration)),p.repeatDelay&&(p.repeatDelay=Hr(p.repeatDelay)),!u||!f||bP.current||i.type===!1||CT.skipAnimations)return fT(p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const m=hT(t,e,p);if(m)return m}return kl(p)};function Cl(e){return!!(Nt(e)&&e.add)}const zb=e=>/^\-?\d*\.?\d+$/.test(e);function Uf(e,t){e.indexOf(t)===-1&&e.push(t)}function Vf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Wf{constructor(){this.subscriptions=[]}add(t){return Uf(this.subscriptions,t),()=>Vf(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ET=e=>!isNaN(parseFloat(e));class PT{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:a}=et;this.lastUpdated!==a&&(this.timeDelta=i,this.lastUpdated=a,we.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>we.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=ET(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Wf);const r=this.events[t].add(n);return t==="change"?()=>{r(),we.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Lb(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qs(e,t){return new PT(e,t)}const Ub=e=>t=>t.test(e),TT={test:e=>e==="auto",parse:e=>e},Vb=[ds,te,yn,Wn,LE,OE,TT],So=e=>Vb.find(Ub(e)),AT=[...Vb,lt,yr],DT=e=>AT.find(Ub(e));function RT(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Qs(n))}function _T(e,t){const n=pc(e,t);let{transitionEnd:r={},transition:s={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const a in i){const l=YE(i[a]);RT(e,a,l)}}function MT(e,t,n){var r,s;const i=Object.keys(t).filter(l=>!e.hasValue(l)),a=i.length;if(a)for(let l=0;l<a;l++){const c=i[l],h=t[c];let d=null;Array.isArray(h)&&(d=h[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(zb(d)||Bb(d))?d=parseFloat(d):!DT(d)&&yr.test(h)&&(d=$b(c,h)),e.addValue(c,Qs(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function OT(e,t){return t?(t[e]||t.default||t).from:void 0}function LT(e,t,n){const r={};for(const s in e){const i=OT(s,t);if(i!==void 0)r[s]=i;else{const a=n.getValue(s);a&&(r[s]=a.get())}}return r}function IT({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function FT(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function Wb(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(i=r);const h=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const u in l){const f=e.getValue(u),p=l[u];if(!f||p===void 0||d&&IT(d,u))continue;const m={delay:n,elapsed:0,...Bf(i||{},u)};if(window.HandoffAppearAnimations){const y=e.getProps()[H1];if(y){const w=window.HandoffAppearAnimations(y,u,f,we);w!==null&&(m.elapsed=w,m.isHandoff=!0)}}let v=!m.isHandoff&&!FT(f,p);if(m.type==="spring"&&(f.getVelocity()||m.velocity)&&(v=!1),f.animation&&(v=!1),v)continue;f.start(zf(u,f,p,e.shouldReduceMotion&&us.has(u)?{type:!1}:m));const S=f.animation;Cl(c)&&(c.add(u),S.then(()=>c.remove(u))),h.push(S)}return a&&Promise.all(h).then(()=>{a&&_T(e,a)}),h}function Wd(e,t,n={}){const r=pc(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Wb(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:u}=s;return $T(e,t,h+c,d,u,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,h]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>h())}else return Promise.all([i(),a(n.delay)])}function $T(e,t,n=0,r=0,s=1,i){const a=[],l=(e.variantChildren.size-1)*r,c=s===1?(h=0)=>h*r:(h=0)=>l-h*r;return Array.from(e.variantChildren).sort(BT).forEach((h,d)=>{h.notify("AnimationStart",t),a.push(Wd(h,t,{...i,delay:n+c(d)}).then(()=>h.notify("AnimationComplete",t)))}),Promise.all(a)}function BT(e,t){return e.sortNodePosition(t)}function zT(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Wd(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Wd(e,t,n);else{const s=typeof t=="function"?pc(e,t,n.custom):t;r=Promise.all(Wb(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const UT=[...kf].reverse(),VT=kf.length;function WT(e){return t=>Promise.all(t.map(({animation:n,options:r})=>zT(e,n,r)))}function HT(e){let t=WT(e);const n=qT();let r=!0;const s=(c,h)=>{const d=pc(e,h);if(d){const{transition:u,transitionEnd:f,...p}=d;c={...c,...p,...f}}return c};function i(c){t=c(e)}function a(c,h){const d=e.getProps(),u=e.getVariantContext(!0)||{},f=[],p=new Set;let m={},v=1/0;for(let y=0;y<VT;y++){const w=UT[y],g=n[w],j=d[w]!==void 0?d[w]:u[w],R=yi(j),b=w===h?g.isActive:null;b===!1&&(v=y);let D=j===u[w]&&j!==d[w]&&R;if(D&&r&&e.manuallyAnimateOnMount&&(D=!1),g.protectedKeys={...m},!g.isActive&&b===null||!j&&!g.prevProp||uc(j)||typeof j=="boolean")continue;let N=GT(g.prevProp,j)||w===h&&g.isActive&&!D&&R||y>v&&R,C=!1;const A=Array.isArray(j)?j:[j];let P=A.reduce(s,{});b===!1&&(P={});const{prevResolvedValues:M={}}=g,_={...M,...P},O=T=>{N=!0,p.has(T)&&(C=!0,p.delete(T)),g.needsAnimating[T]=!0};for(const T in _){const k=P[T],I=M[T];if(m.hasOwnProperty(T))continue;let L=!1;jl(k)&&jl(I)?L=!fb(k,I):L=k!==I,L?k!==void 0?O(T):p.add(T):k!==void 0&&p.has(T)?O(T):g.protectedKeys[T]=!0}g.prevProp=j,g.prevResolvedValues=P,g.isActive&&(m={...m,...P}),r&&e.blockInitialAnimation&&(N=!1),N&&(!D||C)&&f.push(...A.map(T=>({animation:T,options:{type:w,...c}})))}if(p.size){const y={};p.forEach(w=>{const g=e.getBaseTarget(w);g!==void 0&&(y[w]=g)}),f.push({animation:y})}let S=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(S=!1),r=!1,S?t(f):Promise.resolve()}function l(c,h,d){var u;if(n[c].isActive===h)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(c,h)}),n[c].isActive=h;const f=a(d,c);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n}}function GT(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!fb(t,e):!1}function Tr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qT(){return{animate:Tr(!0),whileInView:Tr(),whileHover:Tr(),whileTap:Tr(),whileDrag:Tr(),whileFocus:Tr(),exit:Tr()}}class KT extends Sr{constructor(t){super(t),t.animationState||(t.animationState=HT(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),uc(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let XT=0;class YT extends Sr{constructor(){super(...arguments),this.id=XT++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const QT={animation:{Feature:KT},exit:{Feature:YT}},Cg=(e,t)=>Math.abs(e-t);function JT(e,t){const n=Cg(e.x,t.x),r=Cg(e.y,t.y);return Math.sqrt(n**2+r**2)}class Hb{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=mu(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=JT(u.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:m}=u,{timestamp:v}=et;this.history.push({...m,timestamp:v});const{onStart:S,onMove:y}=this.handlers;f||(S&&S(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,u)},this.handlePointerMove=(u,f)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=pu(f,this.transformPagePoint),we.update(this.updatePoint,!0)},this.handlePointerUp=(u,f)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=mu(u.type==="pointercancel"?this.lastMoveEventInfo:pu(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(u,S),m&&m(u,S)},!lb(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=fc(t),l=pu(a,this.transformPagePoint),{point:c}=l,{timestamp:h}=et;this.history=[{...c,timestamp:h}];const{onSessionStart:d}=n;d&&d(t,mu(l,this.history)),this.removeListeners=hr(An(this.contextWindow,"pointermove",this.handlePointerMove),An(this.contextWindow,"pointerup",this.handlePointerUp),An(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ln(this.updatePoint)}}function pu(e,t){return t?{point:t(e.point)}:e}function Eg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function mu({point:e},t){return{point:e,delta:Eg(e,Gb(t)),offset:Eg(e,ZT(t)),velocity:e6(t,.1)}}function ZT(e){return e[0]}function Gb(e){return e[e.length-1]}function e6(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Gb(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Hr(t)));)n--;if(!r)return{x:0,y:0};const i=Dn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Rt(e){return e.max-e.min}function Hd(e,t=0,n=.01){return Math.abs(e-t)<=n}function Pg(e,t,n,r=.5){e.origin=r,e.originPoint=Ce(t.min,t.max,e.origin),e.scale=Rt(n)/Rt(t),(Hd(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Ce(n.min,n.max,e.origin)-e.originPoint,(Hd(e.translate)||isNaN(e.translate))&&(e.translate=0)}function qo(e,t,n,r){Pg(e.x,t.x,n.x,r?r.originX:void 0),Pg(e.y,t.y,n.y,r?r.originY:void 0)}function Tg(e,t,n){e.min=n.min+t.min,e.max=e.min+Rt(t)}function t6(e,t,n){Tg(e.x,t.x,n.x),Tg(e.y,t.y,n.y)}function Ag(e,t,n){e.min=t.min-n.min,e.max=e.min+Rt(t)}function Ko(e,t,n){Ag(e.x,t.x,n.x),Ag(e.y,t.y,n.y)}function n6(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ce(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ce(n,e,r.max):Math.min(e,n)),e}function Dg(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function r6(e,{top:t,left:n,bottom:r,right:s}){return{x:Dg(e.x,n,s),y:Dg(e.y,t,r)}}function Rg(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function s6(e,t){return{x:Rg(e.x,t.x),y:Rg(e.y,t.y)}}function o6(e,t){let n=.5;const r=Rt(e),s=Rt(t);return s>r?n=bi(t.min,t.max-r,e.min):r>s&&(n=bi(e.min,e.max-s,t.min)),xr(0,1,n)}function i6(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Gd=.35;function a6(e=Gd){return e===!1?e=0:e===!0&&(e=Gd),{x:_g(e,"left","right"),y:_g(e,"top","bottom")}}function _g(e,t,n){return{min:Mg(e,t),max:Mg(e,n)}}function Mg(e,t){return typeof e=="number"?e:e[t]||0}const Og=()=>({translate:0,scale:1,origin:0,originPoint:0}),As=()=>({x:Og(),y:Og()}),Lg=()=>({min:0,max:0}),Oe=()=>({x:Lg(),y:Lg()});function It(e){return[e("x"),e("y")]}function qb({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function l6({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function c6(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function gu(e){return e===void 0||e===1}function qd({scale:e,scaleX:t,scaleY:n}){return!gu(e)||!gu(t)||!gu(n)}function Rr(e){return qd(e)||Kb(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Kb(e){return Ig(e.x)||Ig(e.y)}function Ig(e){return e&&e!=="0%"}function El(e,t,n){const r=e-n,s=t*r;return n+s}function Fg(e,t,n,r,s){return s!==void 0&&(e=El(e,s,r)),El(e,n,r)+t}function Kd(e,t=0,n=1,r,s){e.min=Fg(e.min,t,n,r,s),e.max=Fg(e.max,t,n,r,s)}function Xb(e,{x:t,y:n}){Kd(e.x,t.translate,t.scale,t.originPoint),Kd(e.y,n.translate,n.scale,n.originPoint)}function u6(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ds(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Xb(e,a)),r&&Rr(i.latestValues)&&Ds(e,i.latestValues))}t.x=$g(t.x),t.y=$g(t.y)}function $g(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function qn(e,t){e.min=e.min+t,e.max=e.max+t}function Bg(e,t,[n,r,s]){const i=t[s]!==void 0?t[s]:.5,a=Ce(e.min,e.max,i);Kd(e,t[n],t[r],a,t.scale)}const d6=["x","scaleX","originX"],h6=["y","scaleY","originY"];function Ds(e,t){Bg(e.x,t,d6),Bg(e.y,t,h6)}function Yb(e,t){return qb(c6(e.getBoundingClientRect(),t))}function f6(e,t,n){const r=Yb(e,n),{scroll:s}=t;return s&&(qn(r.x,s.offset.x),qn(r.y,s.offset.y)),r}const Qb=({current:e})=>e?e.ownerDocument.defaultView:null,p6=new WeakMap;class m6{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Oe(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(fc(d,"page").point)},i=(d,u)=>{const{drag:f,dragPropagation:p,onDragStart:m}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ub(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),It(S=>{let y=this.getAxisMotionValue(S).get()||0;if(yn.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const g=w.layout.layoutBox[S];g&&(y=Rt(g)*(parseFloat(y)/100))}}this.originPoint[S]=y}),m&&we.update(()=>m(d,u),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(d,u)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:m,onDrag:v}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:S}=u;if(p&&this.currentDirection===null){this.currentDirection=g6(S),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",u.point,S),this.updateAxis("y",u.point,S),this.visualElement.render(),v&&v(d,u)},l=(d,u)=>this.stop(d,u),c=()=>It(d=>{var u;return this.getAnimationState(d)==="paused"&&((u=this.getAxisMotionValue(d).animation)===null||u===void 0?void 0:u.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new Hb(t,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:Qb(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&we.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!ba(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=n6(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Ps(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=r6(s.layoutBox,n):this.constraints=!1,this.elastic=a6(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&It(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=i6(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ps(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=f6(r,s.root,this.visualElement.getTransformPagePoint());let a=s6(s.layout.layoutBox,i);if(n){const l=n(l6(a));this.hasMutatedConstraints=!!l,l&&(a=qb(l))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},h=It(d=>{if(!ba(d,n,this.currentDirection))return;let u=c&&c[d]||{};a&&(u={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,m={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...u};return this.startAxisValueAnimation(d,m)});return Promise.all(h).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(zf(t,r,0,n))}stopAnimation(){It(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){It(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){It(n=>{const{drag:r}=this.getProps();if(!ba(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(t[n]-Ce(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ps(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};It(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();s[a]=o6({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),It(a=>{if(!ba(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:h}=this.constraints[a];l.set(Ce(c,h,s[a]))})}addListeners(){if(!this.visualElement.current)return;p6.set(this.visualElement,this);const t=this.visualElement.current,n=An(t,"pointerdown",c=>{const{drag:h,dragListener:d=!0}=this.getProps();h&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ps(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const a=En(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h})=>{this.isDragging&&h&&(It(d=>{const u=this.getAxisMotionValue(d);u&&(this.originPoint[d]+=c[d].translate,u.set(u.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Gd,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function ba(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function g6(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class x6 extends Sr{constructor(t){super(t),this.removeGroupControls=_e,this.removeListeners=_e,this.controls=new m6(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_e}unmount(){this.removeGroupControls(),this.removeListeners()}}const zg=e=>(t,n)=>{e&&we.update(()=>e(t,n))};class y6 extends Sr{constructor(){super(...arguments),this.removePointerDownListener=_e}onPointerDown(t){this.session=new Hb(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Qb(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:zg(t),onStart:zg(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&we.update(()=>s(i,a))}}}mount(){this.removePointerDownListener=An(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function v6(){const e=E.useContext(lc);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=E.useId();return E.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const $a={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ug(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ko={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(te.test(e))e=parseFloat(e);else return e;const n=Ug(e,t.target.x),r=Ug(e,t.target.y);return`${n}% ${r}%`}},b6={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=yr.parse(e);if(s.length>5)return r;const i=yr.createTransformer(e),a=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+a]/=l,s[1+a]/=c;const h=Ce(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=h),typeof s[3+a]=="number"&&(s[3+a]/=h),i(s)}};class w6 extends eo.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;PE(j6),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),$a.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||we.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Jb(e){const[t,n]=v6(),r=E.useContext(Ef);return eo.createElement(w6,{...e,layoutGroup:r,switchLayoutGroup:E.useContext(q1),isPresent:t,safeToRemove:n})}const j6={borderRadius:{...ko,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ko,borderTopRightRadius:ko,borderBottomLeftRadius:ko,borderBottomRightRadius:ko,boxShadow:b6},Zb=["TopLeft","TopRight","BottomLeft","BottomRight"],N6=Zb.length,Vg=e=>typeof e=="string"?parseFloat(e):e,Wg=e=>typeof e=="number"||te.test(e);function S6(e,t,n,r,s,i){s?(e.opacity=Ce(0,n.opacity!==void 0?n.opacity:1,k6(r)),e.opacityExit=Ce(t.opacity!==void 0?t.opacity:1,0,C6(r))):i&&(e.opacity=Ce(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<N6;a++){const l=`border${Zb[a]}Radius`;let c=Hg(t,l),h=Hg(n,l);if(c===void 0&&h===void 0)continue;c||(c=0),h||(h=0),c===0||h===0||Wg(c)===Wg(h)?(e[l]=Math.max(Ce(Vg(c),Vg(h),r),0),(yn.test(h)||yn.test(c))&&(e[l]+="%")):e[l]=h}(t.rotate||n.rotate)&&(e.rotate=Ce(t.rotate||0,n.rotate||0,r))}function Hg(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const k6=ew(0,.5,jb),C6=ew(.5,.95,_e);function ew(e,t,n){return r=>r<e?0:r>t?1:n(bi(e,t,r))}function Gg(e,t){e.min=t.min,e.max=t.max}function Lt(e,t){Gg(e.x,t.x),Gg(e.y,t.y)}function qg(e,t,n,r,s){return e-=t,e=El(e,1/n,r),s!==void 0&&(e=El(e,1/s,r)),e}function E6(e,t=0,n=1,r=.5,s,i=e,a=e){if(yn.test(t)&&(t=parseFloat(t),t=Ce(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=Ce(i.min,i.max,r);e===i&&(l-=t),e.min=qg(e.min,t,n,l,s),e.max=qg(e.max,t,n,l,s)}function Kg(e,t,[n,r,s],i,a){E6(e,t[n],t[r],t[s],t.scale,i,a)}const P6=["x","scaleX","originX"],T6=["y","scaleY","originY"];function Xg(e,t,n,r){Kg(e.x,t,P6,n?n.x:void 0,r?r.x:void 0),Kg(e.y,t,T6,n?n.y:void 0,r?r.y:void 0)}function Yg(e){return e.translate===0&&e.scale===1}function tw(e){return Yg(e.x)&&Yg(e.y)}function A6(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function nw(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Qg(e){return Rt(e.x)/Rt(e.y)}class D6{constructor(){this.members=[]}add(t){Uf(this.members,t),t.scheduleRender()}remove(t){if(Vf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Jg(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:h,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),h&&(r+=`rotateX(${h}deg) `),d&&(r+=`rotateY(${d}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const R6=(e,t)=>e.depth-t.depth;class _6{constructor(){this.children=[],this.isDirty=!1}add(t){Uf(this.children,t),this.isDirty=!0}remove(t){Vf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(R6),this.isDirty=!1,this.children.forEach(t)}}function M6(e,t){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Ln(r),e(i-t))};return we.read(r,!0),()=>Ln(r)}function O6(e){window.MotionDebug&&window.MotionDebug.record(e)}function L6(e){return e instanceof SVGElement&&e.tagName!=="svg"}function I6(e,t,n){const r=Nt(e)?e:Qs(e);return r.start(zf("",r,t,n)),r.animation}const Zg=["","X","Y","Z"],F6={visibility:"hidden"},e0=1e3;let $6=0;const _r={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function rw({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=t==null?void 0:t()){this.id=$6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,_r.totalNodes=_r.resolvedTargetDeltas=_r.recalculatedProjection=0,this.nodes.forEach(U6),this.nodes.forEach(q6),this.nodes.forEach(K6),this.nodes.forEach(V6),O6(_r)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new _6)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Wf),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=L6(a),this.instance=a;const{layoutId:c,layout:h,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(h||c)&&(this.isLayoutDirty=!0),e){let u;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=M6(f,250),$a.hasAnimatedSinceResize&&($a.hasAnimatedSinceResize=!1,this.nodes.forEach(n0))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||h)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||Z6,{onLayoutAnimationStart:S,onLayoutAnimationComplete:y}=d.getProps(),w=!this.targetLayout||!nw(this.targetLayout,m)||p,g=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,g);const j={...Bf(v,"layout"),onPlay:S,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else f||n0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ln(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(X6),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const u=this.path[d];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(t0);return}this.isUpdating||this.nodes.forEach(H6),this.isUpdating=!1,this.nodes.forEach(G6),this.nodes.forEach(B6),this.nodes.forEach(z6),this.clearAllSnapshots();const l=performance.now();et.delta=xr(0,1e3/60,l-et.timestamp),et.timestamp=l,et.isProcessing=!0,iu.update.process(et),iu.preRender.process(et),iu.render.process(et),et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(W6),this.sharedNodes.forEach(Y6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,we.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){we.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Oe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!tw(this.projectionDelta),c=this.getTransformTemplate(),h=c?c(this.latestValues,""):void 0,d=h!==this.prevTransformTemplateValue;a&&(l||Rr(this.latestValues)||d)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),eA(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Oe();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&(qn(l.x,c.offset.x),qn(l.y,c.offset.y)),l}removeElementScroll(a){const l=Oe();Lt(l,a);for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:d,options:u}=h;if(h!==this.root&&d&&u.layoutScroll){if(d.isRoot){Lt(l,a);const{scroll:f}=this.root;f&&(qn(l.x,-f.offset.x),qn(l.y,-f.offset.y))}qn(l.x,d.offset.x),qn(l.y,d.offset.y)}}return l}applyTransform(a,l=!1){const c=Oe();Lt(c,a);for(let h=0;h<this.path.length;h++){const d=this.path[h];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ds(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Rr(d.latestValues)&&Ds(c,d.latestValues)}return Rr(this.latestValues)&&Ds(c,this.latestValues),c}removeTransform(a){const l=Oe();Lt(l,a);for(let c=0;c<this.path.length;c++){const h=this.path[c];if(!h.instance||!Rr(h.latestValues))continue;qd(h.latestValues)&&h.updateSnapshot();const d=Oe(),u=h.measurePageBox();Lt(d,u),Xg(l,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,d)}return Rr(this.latestValues)&&Xg(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(a||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=et.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oe(),this.relativeTargetOrigin=Oe(),Ko(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Lt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Oe(),this.targetWithTransforms=Oe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),t6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Lt(this.target,this.layout.layoutBox),Xb(this.target,this.targetDelta)):Lt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oe(),this.relativeTargetOrigin=Oe(),Ko(this.relativeTargetOrigin,this.target,p.target),Lt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}_r.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||qd(this.parent.latestValues)||Kb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===et.timestamp&&(h=!1),h)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Lt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;u6(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:m}=l;if(!m){this.projectionTransform&&(this.projectionDelta=As(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=As(),this.projectionDeltaWithTransform=As());const v=this.projectionTransform;qo(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=Jg(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),_r.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,h=c?c.latestValues:{},d={...this.latestValues},u=As();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Oe(),p=c?c.source:void 0,m=this.layout?this.layout.source:void 0,v=p!==m,S=this.getStack(),y=!S||S.members.length<=1,w=!!(v&&!y&&this.options.crossfade===!0&&!this.path.some(J6));this.animationProgress=0;let g;this.mixTargetDelta=j=>{const R=j/1e3;r0(u.x,a.x,R),r0(u.y,a.y,R),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ko(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Q6(this.relativeTarget,this.relativeTargetOrigin,f,R),g&&A6(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=Oe()),Lt(g,this.relativeTarget)),v&&(this.animationValues=d,S6(d,h,this.latestValues,R,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ln(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=we.update(()=>{$a.hasAnimatedSinceResize=!0,this.currentAnimation=I6(0,e0,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(e0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:h,latestValues:d}=a;if(!(!l||!c||!h)){if(this!==a&&this.layout&&h&&sw(this.options.animationType,this.layout.layoutBox,h.layoutBox)){c=this.target||Oe();const u=Rt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+u;const f=Rt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}Lt(l,c),Ds(l,d),qo(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new D6),this.sharedNodes.get(a).add(l);const h=l.options.initialPromotionConfig;l.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const h=this.getStack();h&&h.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const h={};for(let d=0;d<Zg.length;d++){const u="rotate"+Zg[d];c[u]&&(h[u]=c[u],a.setStaticValue(u,0))}a.render();for(const d in h)a.setStaticValue(d,h[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return F6;const h={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Fa(a==null?void 0:a.pointerEvents)||"",h.transform=d?d(this.latestValues,""):"none",h;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Fa(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Rr(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const f=u.animationValues||u.latestValues;this.applyTransformsToTarget(),h.transform=Jg(this.projectionDeltaWithTransform,this.treeScale,f),d&&(h.transform=d(f,h.transform));const{x:p,y:m}=this.projectionDelta;h.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,u.animationValues?h.opacity=u===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:h.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in bl){if(f[v]===void 0)continue;const{correct:S,applyTo:y}=bl[v],w=h.transform==="none"?f[v]:S(f[v],u);if(y){const g=y.length;for(let j=0;j<g;j++)h[y[j]]=w}else h[v]=w}return this.options.layoutId&&(h.pointerEvents=u===this?Fa(a==null?void 0:a.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(t0),this.root.sharedNodes.clear()}}}function B6(e){e.updateLayout()}function z6(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;i==="size"?It(u=>{const f=a?n.measuredBox[u]:n.layoutBox[u],p=Rt(f);f.min=r[u].min,f.max=f.min+p}):sw(i,n.layoutBox,r)&&It(u=>{const f=a?n.measuredBox[u]:n.layoutBox[u],p=Rt(r[u]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+p)});const l=As();qo(l,r,n.layoutBox);const c=As();a?qo(c,e.applyTransform(s,!0),n.measuredBox):qo(c,r,n.layoutBox);const h=!tw(l);let d=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:f,layout:p}=u;if(f&&p){const m=Oe();Ko(m,n.layoutBox,f.layoutBox);const v=Oe();Ko(v,r,p.layoutBox),nw(m,v)||(d=!0),u.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=m,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:h,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function U6(e){_r.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function V6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function W6(e){e.clearSnapshot()}function t0(e){e.clearMeasurements()}function H6(e){e.isLayoutDirty=!1}function G6(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function n0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function q6(e){e.resolveTargetDelta()}function K6(e){e.calcProjection()}function X6(e){e.resetRotation()}function Y6(e){e.removeLeadSnapshot()}function r0(e,t,n){e.translate=Ce(t.translate,0,n),e.scale=Ce(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function s0(e,t,n,r){e.min=Ce(t.min,n.min,r),e.max=Ce(t.max,n.max,r)}function Q6(e,t,n,r){s0(e.x,t.x,n.x,r),s0(e.y,t.y,n.y,r)}function J6(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Z6={duration:.45,ease:[.4,0,.1,1]},o0=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),i0=o0("applewebkit/")&&!o0("chrome/")?Math.round:_e;function a0(e){e.min=i0(e.min),e.max=i0(e.max)}function eA(e){a0(e.x),a0(e.y)}function sw(e,t,n){return e==="position"||e==="preserve-aspect"&&!Hd(Qg(t),Qg(n),.2)}const tA=rw({attachResizeListener:(e,t)=>En(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xu={current:void 0},ow=rw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!xu.current){const e=new tA({});e.mount(window),e.setOptions({layoutScroll:!0}),xu.current=e}return xu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),nA={pan:{Feature:y6},drag:{Feature:x6,ProjectionNode:ow,MeasureLayout:Jb}},rA=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function sA(e){const t=rA.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Xd(e,t,n=1){const[r,s]=sA(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const a=i.trim();return zb(a)?parseFloat(a):a}else return Fd(s)?Xd(s,t,n+1):s}function oA(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const i=s.get();if(!Fd(i))return;const a=Xd(i,r);a&&s.set(a)});for(const s in t){const i=t[s];if(!Fd(i))continue;const a=Xd(i,r);a&&(t[s]=a,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:t,transitionEnd:n}}const iA=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),iw=e=>iA.has(e),aA=e=>Object.keys(e).some(iw),l0=e=>e===ds||e===te,c0=(e,t)=>parseFloat(e.split(", ")[t]),u0=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return c0(s[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?c0(i[1],e):0}},lA=new Set(["x","y","z"]),cA=Ui.filter(e=>!lA.has(e));function uA(e){const t=[];return cA.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Js={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:u0(4,13),y:u0(5,14)};Js.translateX=Js.x;Js.translateY=Js.y;const dA=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:a}=i,l={};a==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(h=>{l[h]=Js[h](r,i)}),t.render();const c=t.measureViewportBox();return n.forEach(h=>{const d=t.getValue(h);d&&d.jump(l[h]),e[h]=Js[h](c,i)}),e},hA=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(iw);let i=[],a=!1;const l=[];if(s.forEach(c=>{const h=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],u=So(d);const f=t[c];let p;if(jl(f)){const m=f.length,v=f[0]===null?1:0;d=f[v],u=So(d);for(let S=v;S<m&&f[S]!==null;S++)p?Of(So(f[S])===p):p=So(f[S])}else p=So(f);if(u!==p)if(l0(u)&&l0(p)){const m=h.get();typeof m=="string"&&h.set(parseFloat(m)),typeof f=="string"?t[c]=parseFloat(f):Array.isArray(f)&&p===te&&(t[c]=f.map(parseFloat))}else u!=null&&u.transform&&(p!=null&&p.transform)&&(d===0||f===0)?d===0?h.set(p.transform(d)):t[c]=u.transform(f):(a||(i=uA(e),a=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],h.jump(f))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,h=dA(t,e,l);return i.length&&i.forEach(([d,u])=>{e.getValue(d).set(u)}),e.render(),cc&&c!==null&&window.scrollTo({top:c}),{target:h,transitionEnd:r}}else return{target:t,transitionEnd:r}};function fA(e,t,n,r){return aA(t)?hA(e,t,n,r):{target:t,transitionEnd:r}}const pA=(e,t,n,r)=>{const s=oA(e,t,r);return t=s.target,r=s.transitionEnd,fA(e,t,n,r)},Yd={current:null},aw={current:!1};function mA(){if(aw.current=!0,!!cc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Yd.current=e.matches;e.addListener(t),t()}else Yd.current=!1}function gA(e,t,n){const{willChange:r}=t;for(const s in t){const i=t[s],a=n[s];if(Nt(i))e.addValue(s,i),Cl(r)&&r.add(s);else if(Nt(a))e.addValue(s,Qs(i,{owner:e})),Cl(r)&&r.remove(s);else if(a!==i)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(s);e.addValue(s,Qs(l!==void 0?l:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const d0=new WeakMap,lw=Object.keys(vi),xA=lw.length,h0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],yA=Cf.length;class vA{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>we.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.isControllingVariants=dc(n),this.isVariantNode=G1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{});for(const u in d){const f=d[u];l[u]!==void 0&&Nt(f)&&(f.set(l[u],!1),Cl(h)&&h.add(u))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,d0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),aw.current||mA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){d0.delete(this.current),this.projection&&this.projection.unmount(),Ln(this.notifyUpdate),Ln(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=us.has(t),s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&we.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,i){let a,l;for(let c=0;c<xA;c++){const h=lw[c],{isEnabled:d,Feature:u,ProjectionNode:f,MeasureLayout:p}=vi[h];f&&(a=f),d(n)&&(!this.features[h]&&u&&(this.features[h]=new u(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:h,drag:d,dragConstraints:u,layoutScroll:f,layoutRoot:p}=n;this.projection.setOptions({layoutId:c,layout:h,alwaysMeasureLayout:!!d||u&&Ps(u),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof h=="string"?h:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Oe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<h0.length;r++){const s=h0[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=gA(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<yA;r++){const s=Cf[r],i=this.props[s];(yi(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Qs(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Mf(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Nt(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Wf),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class cw extends vA{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},i){let a=LT(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),a&&(a=s(a))),i){MT(this,r,a);const l=pA(this,r,a,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function bA(e){return window.getComputedStyle(e)}class wA extends cw{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(us.has(n)){const r=$f(n);return r&&r.default||0}else{const r=bA(t),s=(Y1(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Yb(t,n)}build(t,n,r,s){Tf(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return _f(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Nt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){nb(t,n,r,s)}}class jA extends cw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(us.has(n)){const r=$f(n);return r&&r.default||0}return n=rb.has(n)?n:Sf(n),t.getAttribute(n)}measureInstanceViewportBox(){return Oe()}scrapeMotionValuesFromProps(t,n){return ob(t,n)}build(t,n,r,s){Df(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){sb(t,n,r,s)}mount(t){this.isSVGTag=Rf(t.tagName),super.mount(t)}}const NA=(e,t)=>Pf(e)?new jA(t,{enableHardwareAcceleration:!1}):new wA(t,{enableHardwareAcceleration:!0}),SA={layout:{ProjectionNode:ow,MeasureLayout:Jb}},kA={...QT,...xP,...nA,...SA},Fe=CE((e,t)=>sP(e,t,kA,NA));function uw(){const e=E.useRef(!1);return Nf(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function CA(){const e=uw(),[t,n]=E.useState(0),r=E.useCallback(()=>{e.current&&n(t+1)},[t]);return[E.useCallback(()=>we.postRender(r),[r]),t]}class EA extends E.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PA({children:e,isPresent:t}){const n=E.useId(),r=E.useRef(null),s=E.useRef({width:0,height:0,top:0,left:0});return E.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:c}=s.current;if(t||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),E.createElement(EA,{isPresent:t,childRef:r,sizeRef:s},E.cloneElement(e,{ref:r}))}const yu=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a})=>{const l=ib(TA),c=E.useId(),h=E.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const u of l.values())if(!u)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),i?void 0:[n]);return E.useMemo(()=>{l.forEach((d,u)=>l.set(u,!1))},[n]),E.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(e=E.createElement(PA,{isPresent:n},e)),E.createElement(lc.Provider,{value:h},e)};function TA(){return new Map}function AA(e){return E.useEffect(()=>()=>e(),[])}const Mr=e=>e.key||"";function DA(e,t){e.forEach(n=>{const r=Mr(n);t.set(r,n)})}function RA(e){const t=[];return E.Children.forEach(e,n=>{E.isValidElement(n)&&t.push(n)}),t}const Rs=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:a="sync"})=>{const l=E.useContext(Ef).forceRender||CA()[0],c=uw(),h=RA(e);let d=h;const u=E.useRef(new Map).current,f=E.useRef(d),p=E.useRef(new Map).current,m=E.useRef(!0);if(Nf(()=>{m.current=!1,DA(h,p),f.current=d}),AA(()=>{m.current=!0,p.clear(),u.clear()}),m.current)return E.createElement(E.Fragment,null,d.map(w=>E.createElement(yu,{key:Mr(w),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:a},w)));d=[...d];const v=f.current.map(Mr),S=h.map(Mr),y=v.length;for(let w=0;w<y;w++){const g=v[w];S.indexOf(g)===-1&&!u.has(g)&&u.set(g,void 0)}return a==="wait"&&u.size&&(d=[]),u.forEach((w,g)=>{if(S.indexOf(g)!==-1)return;const j=p.get(g);if(!j)return;const R=v.indexOf(g);let b=w;if(!b){const D=()=>{u.delete(g);const x=Array.from(p.keys()).filter(N=>!S.includes(N));if(x.forEach(N=>p.delete(N)),f.current=h.filter(N=>{const C=Mr(N);return C===g||x.includes(C)}),!u.size){if(c.current===!1)return;l(),r&&r()}};b=E.createElement(yu,{key:Mr(j),isPresent:!1,onExitComplete:D,custom:t,presenceAffectsLayout:i,mode:a},j),u.set(g,b)}d.splice(R,0,b)}),d=d.map(w=>{const g=w.key;return u.has(g)?w:E.createElement(yu,{key:Mr(w),isPresent:!0,presenceAffectsLayout:i,mode:a},w)}),E.createElement(E.Fragment,null,u.size?d:d.map(w=>E.cloneElement(w)))},vu=({targetDate:e,className:t="",onExpire:n,showSeconds:r=!0,compact:s=!1})=>{const[i,a]=E.useState({days:0,hours:0,minutes:0,seconds:0,total:0}),[l,c]=E.useState(!1),h=()=>{let p;try{if(Array.isArray(e)){const[v,S,y,w=0,g=0,j=0]=e;p=new Date(v,S-1,y,w,g,j).getTime()}else{const v=String(e);if(v.includes("T"))p=new Date(v).getTime();else{const S=v.replace(" ","T")+"Z";p=new Date(S).getTime()}}}catch(v){console.error("Failed to parse target date:",e,v),p=0}if(isNaN(p)||p===0)return console.error("Invalid target time calculated:",p,"from:",e),{days:0,hours:0,minutes:0,seconds:0,total:0};const m=p-new Date().getTime();return m>0?{days:Math.floor(m/(1e3*60*60*24)),hours:Math.floor(m/(1e3*60*60)%24),minutes:Math.floor(m/1e3/60%60),seconds:Math.floor(m/1e3%60),total:m}:{days:0,hours:0,minutes:0,seconds:0,total:0}};E.useEffect(()=>{const p=setInterval(()=>{const v=h();a(v),v.total<=0&&!l&&(c(!0),n&&n())},1e3),m=h();return a(m),m.total<=0&&(c(!0),n&&n()),()=>clearInterval(p)},[e,n,l]);const d=p=>p.toString().padStart(2,"0"),u=()=>l?"text-red-600":i.total<60*60*1e3?"text-red-500":i.total<24*60*60*1e3?"text-amber-500":"text-gray-600";if(l)return o.jsx("span",{className:`${t} text-red-600 font-medium`,children:"Expired"});if(s)return i.days>0?o.jsxs("span",{className:`${t} ${u()}`,children:[i.days,"d ",d(i.hours),"h"]}):i.hours>0?o.jsxs("span",{className:`${t} ${u()}`,children:[i.hours,"h ",d(i.minutes),"m"]}):o.jsxs("span",{className:`${t} ${u()}`,children:[i.minutes,"m ",r?`${d(i.seconds)}s`:""]});const f=[];return i.days>0&&f.push({label:"day",value:i.days,plural:"days"}),(i.hours>0||i.days>0)&&f.push({label:"hour",value:i.hours,plural:"hours"}),f.push({label:"minute",value:i.minutes,plural:"minutes"}),r&&i.days===0&&f.push({label:"second",value:i.seconds,plural:"seconds"}),o.jsx("div",{className:`${t} flex items-center space-x-1`,children:f.map((p,m)=>o.jsxs(eo.Fragment,{children:[o.jsxs(Fe.div,{initial:{scale:1.2,opacity:0},animate:{scale:1,opacity:1},className:"flex items-center space-x-1",children:[o.jsx(Fe.span,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.2},className:`font-mono font-bold ${u()}`,children:d(p.value)},p.value),o.jsx("span",{className:`text-xs ${u()}`,children:p.value===1?p.label:p.plural})]},`${p.label}-${p.value}`),m<f.length-1&&o.jsx("span",{className:`text-xs ${u()}`,children:":"})]},p.label))})},_A=({box:e,onClose:t,onSuccess:n})=>{const{updateBox:r,isLoading:s,error:i}=vf(),[a,l]=E.useState({prizeName:e.prizeName||"",prizeDescription:e.prizeDescription||"",completionType:e.completionType||"TASK",priceAmount:e.priceAmount||0,taskDescription:e.taskDescription||"",expirationMinutes:e.expirationMinutes||60}),c=async d=>{d.preventDefault();try{await r(e.id,a),n==null||n(),t()}catch(u){console.error("Failed to update box:",u)}},h=d=>{const{name:u,value:f}=d.target;l(p=>({...p,[u]:u==="priceAmount"||u==="expirationMinutes"?Number(f):f}))};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Edit Surprise Box"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx(st,{className:"w-5 h-5"})})]}),i&&o.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:i}),o.jsxs("form",{onSubmit:c,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prize Name *"}),o.jsx("input",{type:"text",name:"prizeName",value:a.prizeName,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"What's the prize?"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prize Description"}),o.jsx("textarea",{name:"prizeDescription",value:a.prizeDescription,onChange:h,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"Describe the prize in detail..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Completion Type *"}),o.jsxs("select",{name:"completionType",value:a.completionType,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",children:[o.jsx("option",{value:"TASK",children:"Task"}),o.jsx("option",{value:"PHOTO",children:"Photo"}),o.jsx("option",{value:"LOCATION",children:"Location"}),o.jsx("option",{value:"TIME",children:"Time-based"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price Amount ($)"}),o.jsx("input",{type:"number",name:"priceAmount",value:a.priceAmount,onChange:h,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Description"}),o.jsx("textarea",{name:"taskDescription",value:a.taskDescription,onChange:h,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"Additional task details..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiration (minutes)"}),o.jsx("input",{type:"number",name:"expirationMinutes",value:a.expirationMinutes,onChange:h,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"60"})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:s,className:"flex-1 bg-pink-500 text-white px-4 py-2 rounded-md hover:bg-pink-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:[o.jsx(Jh,{className:"w-4 h-4"}),s?"Updating...":"Update Box"]})]})]})]})})},Qd=e=>{if(!e)return null;try{if(Array.isArray(e)){const[r,s,i,a=0,l=0,c=0,h=0]=e;return new Date(r,s-1,i,a,l,c,Math.floor(h/1e6))}const t=e;if(t.includes("T"))return new Date(t);const n=t.replace(" ","T");return new Date(n)}catch(t){return console.error("Failed to parse date:",e,t),null}},f0=(e,t=!1)=>{const n=Qd(e);return!n||isNaN(n.getTime())?"Invalid Date":t?n.toLocaleString():n.toLocaleDateString()},p0=({box:e,isOwner:t=!1})=>{var Ke,ye,Te;const{openBox:n,completeBox:r,approveCompletion:s,rejectCompletion:i,cancelBox:a,claimBox:l,isLoading:c}=oc(),[h,d]=E.useState(!1),[u,f]=E.useState(!1),[p,m]=E.useState(!1),[v,S]=E.useState(!1),[y,w]=E.useState(!1),[g,j]=E.useState(""),[R,b]=E.useState(""),[D,x]=E.useState(!1),N=F=>{switch(F){case"PHOTO":return mr;case"TASK":return sS;case"LOCATION":return Qh;case"TIME":return rS;case"PAYMENT":return Bt;default:return He}},C=F=>{switch(F){case"CREATED":return"bg-blue-100 text-blue-800";case"DROPPED":return"bg-green-100 text-green-800";case"OPENED":return"bg-indigo-100 text-indigo-800";case"WAITING_APPROVAL":return"bg-amber-100 text-amber-800";case"APPROVED":return"bg-emerald-100 text-emerald-800";case"REJECTED":return"bg-red-100 text-red-800";case"CLAIMED":return"bg-purple-100 text-purple-800";case"EXPIRED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},A=F=>{switch(F){case"CREATED":return"Scheduled";case"DROPPED":return"Available";case"OPENED":return"Opened";case"WAITING_APPROVAL":return"Pending Approval";case"APPROVED":return"Approved";case"REJECTED":return"Rejected";case"CLAIMED":return"Claimed";case"EXPIRED":return"Expired";default:return F}},P=!t&&e.status==="DROPPED"&&!e.isExpired,M=!t&&e.status==="OPENED"&&!e.isExpired,_=!t&&e.status==="APPROVED";!t&&e.status==="APPROVED"&&console.log(" canClaim debug for APPROVED box (SIMPLIFIED):",{boxId:e.id,isOwner:t,status:e.status,rejectionReason:e.rejectionReason,rejectionReasonType:typeof e.rejectionReason,isExpired:e.isExpired,isExpiredType:typeof e.isExpired,canClaim:_});const O=t&&e.status==="WAITING_APPROVAL",T=t&&["CREATED","DROPPED"].includes(e.status),k=t&&e.status==="CREATED",I=t&&["DROPPED","OPENED"].includes(e.status)&&!e.isExpired,L=!t&&e.status==="WAITING_APPROVAL"&&e.rejectionReason===null,$=async()=>{try{await n(e.id),d(!1)}catch{}},V=async()=>{if(g.trim())try{await r(e.id,g),S(!1),j("")}catch{}},z=()=>{S(!1),j("")},H=async()=>{try{await s(e.id)}catch{}},W=async()=>{if(R.trim())try{await i(e.id,R),f(!1),b("")}catch{}},B=async()=>{if(window.confirm("Are you sure you want to cancel this surprise box?"))try{await a(e.id)}catch{}},G=async()=>{try{await l(e.id),w(!0)}catch{}},Q=N(e.completionType),oe=Qd(e.expiresAt),ne=Qd(e.dropAt),ie=e.status!=="CLAIMED"&&(e.isExpired||!1);e.isDropping;const ue=ne?ne.getTime()-new Date().getTime():0,ve=oe?oe.getTime()-new Date().getTime():0,St=e.openedAt&&!ie&&e.status!=="COMPLETED"&&e.status!=="CLAIMED"&&e.status!=="APPROVED";return o.jsxs(o.Fragment,{children:[o.jsxs(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white/90 backdrop-blur-sm rounded-lg apple-shadow border transition-all duration-200 hover:shadow-md ${e.status==="OPENED"?"md:col-span-2 md:row-span-2 border-indigo-300 shadow-lg":ie?"border-red-200 hover:border-red-300":P?"border-green-200 hover:border-green-300":M?"border-indigo-200 hover:border-indigo-300":O?"border-amber-200 hover:border-amber-300":"border-gray-200 hover:border-purple-300"}`,children:[o.jsx("div",{className:`${e.status==="OPENED"?"px-4 py-3 md:px-6 md:py-4":"px-3 py-2"} rounded-t-lg ${ie?"bg-red-50":P?"bg-green-50":M?"bg-indigo-50":O?"bg-amber-50":e.status==="CLAIMED"?"bg-gradient-to-r from-purple-50 to-pink-50":"bg-purple-50"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[o.jsx("div",{className:`${e.status==="OPENED"?"p-1.5 md:p-2":"p-1"} rounded-md flex-shrink-0 ${ie?"bg-red-200 text-red-700":P?"bg-green-200 text-green-700":M?"bg-indigo-200 text-indigo-700":O?"bg-amber-200 text-amber-700":e.status==="CLAIMED"?"bg-gradient-to-r from-purple-200 to-pink-200 text-purple-700":"bg-purple-200 text-purple-700"}`,children:o.jsx(He,{className:e.status==="OPENED"?"w-4 h-4 md:w-5 md:h-5":"w-3 h-3"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:`font-medium text-gray-800 leading-tight ${e.status==="OPENED"?"text-base md:text-lg mb-1":"text-xs truncate"}`,children:e.prizeName}),e.status==="CLAIMED"?o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("span",{className:"px-2 py-1 bg-gradient-to-r from-purple-200 to-pink-200 text-purple-700 rounded text-xs font-medium",children:"Claimed"})}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Prize: ",e.prizeName]}),e.priceAmount&&o.jsxs("div",{className:"text-sm font-medium text-green-600",children:["$",e.priceAmount]})]}):o.jsx("div",{className:`flex items-center space-x-1 ${e.status==="OPENED"?"mt-1":"mt-0.5"}`,children:o.jsx("span",{className:`px-1 py-0.5 rounded font-medium ${e.status==="OPENED"?"px-2 py-1 text-xs md:text-sm":"text-xs"} ${C(e.status)}`,children:A(e.status)})})]})]}),e.status!=="CLAIMED"&&o.jsx("button",{onClick:()=>x(!D),className:`text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0 ${e.status==="OPENED"?"p-0.5 md:p-1":"p-0.5"}`,children:D?o.jsx(q2,{className:e.status==="OPENED"?"w-3 h-3 md:w-4 md:h-4":"w-3 h-3"}):o.jsx(tr,{className:e.status==="OPENED"?"w-3 h-3 md:w-4 md:h-4":"w-3 h-3"})})]})}),o.jsx("div",{className:e.status==="OPENED"?"px-4 py-3 md:px-6 md:py-4":"px-3 py-2",children:e.status==="CLAIMED"?o.jsxs("div",{className:"text-center py-4",children:[o.jsx("div",{className:"text-4xl mb-3",children:""}),o.jsxs("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 border border-purple-200 rounded-xl p-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:e.prizeName}),e.prizeDescription&&o.jsx("p",{className:"text-sm text-gray-600",children:e.prizeDescription}),o.jsxs("div",{className:"mt-3 flex items-center justify-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full animate-pulse"}),o.jsxs("span",{className:"text-sm font-medium text-purple-700",children:["Successfully Claimed ",e.prizeName]}),o.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full animate-pulse"})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:`flex items-center justify-between text-gray-600 mb-1 ${e.status==="OPENED"?"text-xs md:text-sm mb-2 md:mb-3":"text-xs"}`,children:[o.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Zh,{className:e.status==="OPENED"?"w-3 h-3 md:w-4 md:h-4 mr-0.5 md:mr-1":"w-3 h-3 mr-0.5"}),o.jsx("span",{className:e.status==="OPENED"?"max-w-20 md:max-w-32 truncate":"truncate max-w-16",children:t?((Ke=e.recipient)==null?void 0:Ke.name)||"Unknown":((ye=e.owner)==null?void 0:ye.name)||"Unknown"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Bt,{className:e.status==="OPENED"?"w-3 h-3 md:w-4 md:h-4 mr-0.5 md:mr-1":"w-3 h-3 mr-0.5"}),o.jsxs("span",{className:"font-medium",children:["$",e.priceAmount||0]})]})]}),e.status==="CREATED"&&ue>0&&o.jsxs("div",{className:"flex items-center text-blue-600",children:[o.jsx(bd,{className:"w-3 h-3 mr-0.5"}),o.jsx(vu,{targetDate:e.dropAt,className:"font-medium text-xs"})]}),St&&e.status!=="OPENED"&&o.jsxs("div",{className:"flex items-center text-red-600",children:[o.jsx(dl,{className:"w-3 h-3 mr-0.5"}),o.jsx(vu,{targetDate:e.expiresAt,className:"font-medium text-xs",onExpire:()=>window.location.reload()})]}),ie&&o.jsxs("div",{className:"flex items-center text-red-600",children:[o.jsx(st,{className:"w-3 h-3 mr-0.5"}),o.jsx("span",{className:"text-xs",children:"Expired"})]})]}),e.status==="OPENED"&&e.prizeDescription&&o.jsx("div",{className:"mb-3 md:mb-4 p-2 md:p-3 bg-indigo-50 border border-indigo-200 rounded-lg",children:o.jsx("p",{className:"text-xs md:text-sm text-indigo-700",children:e.prizeDescription})}),e.status==="OPENED"&&e.taskDescription&&o.jsxs("div",{className:"mb-3 md:mb-4 p-2 md:p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("h4",{className:"text-xs md:text-sm font-semibold text-blue-800 mb-1",children:"Task:"}),o.jsx("p",{className:"text-xs md:text-sm text-blue-700",children:e.taskDescription})]}),o.jsx(Rs,{children:D&&o.jsxs(Fe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:`border-t border-gray-100 mt-2 pt-2 space-y-1 ${e.status==="OPENED"?"mt-4 pt-4 space-y-2":""}`,children:[e.prizeDescription&&e.status!=="OPENED"&&o.jsxs("div",{children:[o.jsx("span",{className:`font-medium text-gray-700 ${e.status==="OPENED"?"text-sm":"text-xs"}`,children:"Prize: "}),o.jsx("span",{className:e.status==="OPENED"?"text-sm text-gray-600":"text-xs text-gray-600",children:e.prizeDescription})]}),e.taskDescription&&e.status!=="OPENED"&&o.jsxs("div",{children:[o.jsx("span",{className:`font-medium text-gray-700 ${e.status==="OPENED"?"text-sm":"text-xs"}`,children:"Task: "}),o.jsx("span",{className:e.status==="OPENED"?"text-sm text-gray-600":"text-xs text-gray-600",children:e.taskDescription})]}),o.jsxs("div",{className:`flex items-center justify-between ${e.status==="OPENED"?"text-sm":"text-xs"} text-gray-500`,children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(xt,{className:e.status==="OPENED"?"w-4 h-4 mr-1":"w-3 h-3 mr-0.5"}),o.jsxs("span",{children:["Drops: ",f0(e.dropAt)]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(bd,{className:e.status==="OPENED"?"w-4 h-4 mr-1":"w-3 h-3 mr-0.5"}),o.jsxs("span",{children:["Expires: ",f0(e.expiresAt)]})]})]}),o.jsxs("div",{className:`flex items-center text-gray-500 ${e.status==="OPENED"?"text-sm":"text-xs"}`,children:[o.jsx(Q,{className:e.status==="OPENED"?"w-4 h-4 mr-1":"w-3 h-3 mr-1"}),o.jsx("span",{children:((Te=e.completionType)==null?void 0:Te.toLowerCase())||"unknown"})]}),e.status==="DROPPED"&&!e.openedAt&&!ie&&o.jsx("div",{className:"bg-blue-50 rounded px-2 py-1",children:o.jsx("p",{className:e.status==="OPENED"?"text-sm text-blue-600":"text-xs text-blue-600",children:"Tap to open and start timer"})}),e.status==="WAITING_APPROVAL"&&e.completionData&&o.jsx("div",{className:"bg-gray-50 rounded px-2 py-1",children:o.jsx("p",{className:e.status==="OPENED"?"text-sm text-gray-800":"text-xs text-gray-800 line-clamp-2",children:e.completionData})}),e.rejectionReason&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded px-2 py-1",children:o.jsx("p",{className:e.status==="OPENED"?"text-sm text-red-800":"text-xs text-red-800 line-clamp-2",children:e.rejectionReason})})]})}),St&&ve>0&&o.jsx("div",{className:`mt-2 p-2 bg-amber-50 border border-amber-200 rounded-lg ${e.status==="OPENED"?"mt-4 p-3":""}`,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(dl,{className:e.status==="OPENED"?"w-4 h-4 text-amber-600":"w-3 h-3 text-amber-600"}),o.jsx("span",{className:`font-medium text-amber-800 ${e.status==="OPENED"?"text-sm":"text-xs"}`,children:o.jsx(vu,{targetDate:oe})})]})}),o.jsxs("div",{className:`flex items-center gap-2 mt-2 ${e.status==="OPENED"?"mt-3 md:mt-4 gap-2 md:gap-3":""}`,children:[P&&o.jsx("button",{onClick:$,disabled:c,className:"flex-1 px-2 py-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded text-xs font-medium disabled:opacity-50 hover:from-green-600 hover:to-emerald-600 transition-all duration-200",children:c?"Opening...":"Open"}),M&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>S(!0),className:`flex-1 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded font-medium hover:from-indigo-600 hover:to-purple-600 transition-all duration-200 ${e.status==="OPENED"?"px-3 py-1.5 md:px-4 md:py-2 text-xs md:text-sm":"px-2 py-1 text-xs"}`,children:[o.jsx("span",{className:"hidden sm:inline",children:"Complete Task"}),o.jsx("span",{className:"sm:hidden",children:"Complete"})]}),o.jsxs("button",{onClick:()=>{j(`Paid $${e.priceAmount||0} for prize`),S(!0)},className:`bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded font-medium hover:from-yellow-600 hover:to-orange-600 transition-all duration-200 flex items-center space-x-1 ${e.status==="OPENED"?"px-2 py-1.5 md:px-3 md:py-2 text-xs md:text-sm":"px-2 py-1 text-xs"}`,children:[o.jsx(Bt,{className:e.status==="OPENED"?"w-3 h-3 md:w-4 md:h-4":"w-3 h-3"}),o.jsxs("span",{children:["$",e.priceAmount||0]})]})]}),_&&o.jsxs("button",{onClick:G,disabled:c,className:"flex-1 px-2 py-1 bg-gradient-to-r from-emerald-500 to-green-500 text-white rounded text-xs font-medium hover:from-emerald-600 hover:to-green-600 transition-all duration-200 disabled:opacity-50",children:["Claim $",e.priceAmount||0]}),O&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:H,disabled:c,className:"flex-1 px-2 py-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded text-xs font-medium hover:from-green-600 hover:to-emerald-600 transition-all duration-200 disabled:opacity-50",children:c?"Approving...":"Approve"}),o.jsx("button",{onClick:()=>f(!0),className:"px-2 py-1 bg-red-500 text-white rounded text-xs font-medium hover:bg-red-600 transition-colors",children:o.jsx(st,{className:"w-3 h-3"})})]}),k&&o.jsx("button",{onClick:()=>m(!0),className:"px-2 py-1 text-blue-600 hover:text-blue-700 rounded text-xs",children:o.jsx(tS,{className:"w-3 h-3"})}),T&&o.jsx("button",{onClick:B,disabled:c,className:"px-2 py-1 text-red-600 hover:text-red-700 rounded text-xs disabled:opacity-50",children:o.jsx(Ht,{className:"w-3 h-3"})}),I&&o.jsx("div",{className:"flex-1 text-center",children:o.jsx("span",{className:"text-xs text-gray-500",children:e.status==="DROPPED"?"Waiting for recipient to open":"Waiting for completion"})}),L&&o.jsx("div",{className:"flex-1 text-center",children:o.jsx("span",{className:"text-xs text-amber-600",children:"Waiting for approval"})})]})]})})]}),o.jsx(Rs,{children:v&&o.jsx(Fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:F=>F.target===F.currentTarget&&z(),children:o.jsx(Fe.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx("div",{className:`p-2 rounded-lg ${g.startsWith("Paid $")?"bg-yellow-100":"bg-indigo-100"}`,children:o.jsx(Q,{className:`w-6 h-6 ${g.startsWith("Paid $")?"text-yellow-600":"text-indigo-600"}`})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:g.startsWith("Paid $")?"Pay for Prize":"Complete Task"}),o.jsx("p",{className:"text-sm text-gray-600",children:e.prizeName})]})]}),e.taskDescription&&o.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Task:"}),o.jsx("p",{className:"text-sm text-blue-700",children:e.taskDescription})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:g.startsWith("Paid $")?"Confirm payment details:":e.completionType==="PHOTO"?"Describe the photo you took:":e.completionType==="TEXT"?"Enter your response:":e.completionType==="LOCATION"?"Confirm your location:":e.completionType==="TIMER"?"Confirm completion:":"Complete the challenge:"}),o.jsx("textarea",{value:g,onChange:F=>j(F.target.value),placeholder:g.startsWith("Paid $")?"Enter payment confirmation or receipt details...":e.completionType==="PHOTO"?"Describe what you photographed...":e.completionType==="TASK"?"Enter your answer...":e.completionType==="LOCATION"?"Confirm you are at the location...":e.completionType==="TIME"?"Confirm you have completed the challenge...":"Enter completion details...",rows:3,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent resize-none ${g.startsWith("Paid $")?"focus:ring-yellow-500":"focus:ring-indigo-500"}`})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:z,className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:V,disabled:!g.trim()||c,className:`flex-1 px-4 py-2 text-white rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${g.startsWith("Paid $")?"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600":"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600"}`,children:c?"Submitting...":g.startsWith("Paid $")?"Confirm Payment":"Submit Completion"})]})]})})})}),o.jsx(Rs,{children:u&&o.jsx(Fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:F=>F.target===F.currentTarget&&f(!1),children:o.jsx(Fe.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:o.jsx(st,{className:"w-6 h-6 text-red-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Reject Completion"}),o.jsx("p",{className:"text-sm text-gray-600",children:e.prizeName})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for rejection:"}),o.jsx("textarea",{value:R,onChange:F=>b(F.target.value),placeholder:"Explain why this completion doesn't meet the requirements...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:()=>f(!1),className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:W,disabled:!R.trim()||c,className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Rejecting...":"Reject"})]})]})})})}),p&&o.jsx(_A,{box:e,onClose:()=>m(!1),onSuccess:()=>{m(!1)}}),o.jsx(Rs,{children:y&&o.jsx(Fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:F=>F.target===F.currentTarget&&w(!1),children:o.jsxs(Fe.div,{initial:{scale:.8,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:20},className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-br from-purple-500 via-pink-500 to-yellow-400 p-8 text-center relative overflow-hidden",children:[o.jsx(Fe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"text-6xl mb-4",children:""}),o.jsx(Fe.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-2xl font-bold text-white mb-2",children:"Congratulations!"}),o.jsx(Fe.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-white/90 text-lg",children:"You've earned your prize!"}),o.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(6)].map((F,K)=>o.jsx(Fe.div,{initial:{y:100,opacity:0,rotate:0},animate:{y:-100,opacity:[0,1,0],rotate:360,x:[0,Math.random()*40-20]},transition:{duration:3,delay:K*.2,repeat:1/0,repeatDelay:2},className:`absolute text-2xl ${K%3===0?"left-1/4":K%3===1?"left-1/2":"left-3/4"}`,style:{top:"100%"},children:["","","","","",""][K]},K))})]}),o.jsxs("div",{className:"p-6",children:[o.jsx(Fe.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-2xl p-4 mb-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-4xl mb-3",children:""}),o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:e.prizeName}),e.priceAmount&&o.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",e.priceAmount||0]}),e.prizeDescription&&o.jsx("p",{className:"text-gray-600 text-sm mt-2",children:e.prizeDescription})]})}),o.jsx(Fe.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},onClick:()=>w(!1),className:"w-full px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-semibold hover:from-purple-600 hover:to-pink-600 transition-all duration-200 transform hover:scale-105",children:"Awesome! "})]})]})})})]})},MA=()=>{const{ownedBoxes:e,receivedBoxes:t,isLoading:n,error:r,isConnected:s,setShowCreateForm:i,loadOwnedBoxes:a,loadReceivedBoxes:l,connectWebSocket:c,disconnectWebSocket:h,getBoxesWaitingApproval:d,getActiveBoxesCount:u,setError:f}=vf(),[p,m]=E.useState("received"),[v,S]=E.useState(0),[y,w]=E.useState(0),g=20;E.useEffect(()=>{const P=localStorage.getItem("token");return P&&(a(),l(),c(P)),()=>{h()}},[]);const j=d();u();const R=()=>{f(null)},b=(P,M)=>{const _=M*g;return P.slice(_,_+g)},D=P=>Math.ceil(P.length/g),x=b(t,v),N=b(e,y),C=D(t),A=D(e);return o.jsx("div",{className:"min-h-screen bg-apple-system-background",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[o.jsx(Fe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-xl rounded-2xl apple-shadow border border-apple-separator p-4 mb-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-apple-purple/10 rounded-xl",children:o.jsx(He,{className:"w-6 h-6 text-apple-purple"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-semibold text-apple-label",children:"Surprise Boxes"}),o.jsxs("p",{className:"text-sm text-apple-secondary-label flex items-center",children:["Create and manage surprise boxes for each other",s&&o.jsxs("span",{className:"ml-2 flex items-center text-green-600",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1 animate-pulse"}),"Live"]})]})]})]}),o.jsx("div",{className:"flex items-center space-x-3 w-full sm:w-auto",children:o.jsxs("button",{onClick:()=>i(!0),className:"flex items-center justify-center space-x-2 px-4 py-2 rounded-xl transition-all duration-200 apple-shadow bg-apple-purple text-white hover:bg-apple-purple/90 min-w-0 flex-shrink-0",title:"Create a new surprise box",children:[o.jsx(rt,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{className:"hidden xs:inline font-medium",children:"Create Box"})]})})]})}),o.jsx(Rs,{children:r&&o.jsx(Fe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-red-800",children:[o.jsx(dl,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:r})]}),o.jsx("button",{onClick:R,className:"text-red-600 hover:text-red-700",children:o.jsx(st,{className:"w-4 h-4"})})]})})}),o.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl apple-shadow border border-apple-separator overflow-hidden",children:[o.jsxs("div",{className:"flex border-b border-apple-separator",children:[o.jsxs("button",{onClick:()=>{m("received"),S(0)},className:`flex-1 px-6 py-3 text-center font-medium transition-colors ${p==="received"?"bg-apple-purple/5 text-apple-purple border-b-2 border-apple-purple":"text-apple-secondary-label hover:text-apple-purple hover:bg-apple-purple/5"}`,children:["Received (",t.length,")"]}),o.jsxs("button",{onClick:()=>{m("owned"),w(0)},className:`flex-1 px-6 py-3 text-center font-medium transition-colors ${p==="owned"?"bg-apple-purple/5 text-apple-purple border-b-2 border-apple-purple":"text-apple-secondary-label hover:text-apple-purple hover:bg-apple-purple/5"}`,children:["Created (",e.length,")",j.length>0&&o.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs bg-amber-100 text-amber-800",children:[j.length," pending"]})]})]}),o.jsx("div",{className:"p-4",children:n?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-apple-purple"})}):o.jsx(Rs,{mode:"wait",children:o.jsx(Fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:p==="received"?o.jsx("div",{children:t.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(He,{className:"w-16 h-16 text-apple-tertiary-label mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-apple-secondary-label mb-2",children:"No received boxes"}),o.jsx("p",{className:"text-apple-tertiary-label",children:"Surprise boxes from your partner will appear here"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4 auto-rows-min",children:x.map(P=>{var _,O;return console.log(" Received box debug:",{boxId:P.id,status:P.status,isOwner:!1,currentUserId:(()=>{try{const T=localStorage.getItem("token");return T?JSON.parse(atob(T.split(".")[1])).userId:null}catch{return null}})(),ownerId:(_=P.owner)==null?void 0:_.id,recipientId:(O=P.recipient)==null?void 0:O.id,rejectionReason:P.rejectionReason,rejectionReasonType:typeof P.rejectionReason}),o.jsx(p0,{box:P,isOwner:!1},P.id)})}),C>1&&o.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-4",children:[o.jsx("button",{onClick:()=>S(Math.max(0,v-1)),disabled:v===0,className:"p-2 rounded-lg text-apple-secondary-label hover:text-apple-purple hover:bg-apple-purple/5 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o.jsx(vd,{className:"w-5 h-5"})}),o.jsxs("span",{className:"text-sm text-apple-secondary-label",children:["Page ",v+1," of ",C]}),o.jsx("button",{onClick:()=>S(Math.min(C-1,v+1)),disabled:v>=C-1,className:"p-2 rounded-lg text-apple-secondary-label hover:text-apple-purple hover:bg-apple-purple/5 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o.jsx(nr,{className:"w-5 h-5"})})]})]})}):o.jsx("div",{children:e.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(rt,{className:"w-16 h-16 text-apple-tertiary-label mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-apple-secondary-label mb-2",children:"No created boxes"}),o.jsx("p",{className:"text-apple-tertiary-label mb-4",children:"Create your first surprise box for your partner"}),o.jsx("button",{onClick:()=>i(!0),className:"px-6 py-2 rounded-xl transition-all duration-200 bg-apple-purple text-white hover:bg-apple-purple/90 apple-shadow",title:"Create a new surprise box",children:"Create Box"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4 auto-rows-min",children:N.map(P=>o.jsx(p0,{box:P,isOwner:!0},P.id))}),A>1&&o.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-4",children:[o.jsx("button",{onClick:()=>w(Math.max(0,y-1)),disabled:y===0,className:"p-2 rounded-lg text-apple-secondary-label hover:text-apple-purple hover:bg-apple-purple/5 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o.jsx(vd,{className:"w-5 h-5"})}),o.jsxs("span",{className:"text-sm text-apple-secondary-label",children:["Page ",y+1," of ",A]}),o.jsx("button",{onClick:()=>w(Math.min(A-1,y+1)),disabled:y>=A-1,className:"p-2 rounded-lg text-apple-secondary-label hover:text-apple-purple hover:bg-apple-purple/5 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o.jsx(nr,{className:"w-5 h-5"})})]})]})})},p)})})]})]})})};function OA(){const{isAuthenticated:e,loading:t}=os();return t?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):o.jsxs(D2,{children:[o.jsx(Je,{path:"/scott",element:o.jsx(mE,{})}),o.jsx(Je,{path:"/zoe",element:o.jsx(gE,{})}),o.jsx(Je,{path:"/login",element:e?o.jsx(Ct,{to:"/",replace:!0}):o.jsx(Lk,{})}),o.jsx(Je,{path:"/",element:e?o.jsxs("div",{className:"min-h-screen",children:[o.jsx(Yt,{}),o.jsx("main",{className:"container mx-auto px-4 py-8",children:o.jsx(lg,{})})]}):o.jsx(Ct,{to:"/login",replace:!0})}),o.jsx(Je,{path:"/dashboard",element:e?o.jsxs("div",{className:"min-h-screen",children:[o.jsx(Yt,{}),o.jsx("main",{className:"container mx-auto px-4 py-8",children:o.jsx(lg,{})})]}):o.jsx(Ct,{to:"/login",replace:!0})}),o.jsx(Je,{path:"/gallery",element:e?o.jsxs("div",{className:"min-h-screen",children:[o.jsx(Yt,{}),o.jsx("main",{className:"container mx-auto px-4 py-8",children:o.jsx(tE,{})})]}):o.jsx(Ct,{to:"/login",replace:!0})}),o.jsx(Je,{path:"/photos",element:e?o.jsxs("div",{className:"min-h-screen",children:[o.jsx(Yt,{}),o.jsx("main",{className:"container mx-auto px-4 py-8",children:o.jsx(fE,{})})]}):o.jsx(Ct,{to:"/login",replace:!0})}),o.jsx(Je,{path:"/category/:id",element:e?o.jsxs("div",{className:"min-h-screen",children:[o.jsx(Yt,{}),o.jsx("main",{className:"container mx-auto px-4 py-8",children:o.jsx(hE,{})})]}):o.jsx(Ct,{to:"/login",replace:!0})}),o.jsx(Je,{path:"/photo/:id",element:e?o.jsxs("div",{className:"min-h-screen",children:[o.jsx(Yt,{}),o.jsx("main",{className:"container mx-auto px-4 py-8",children:o.jsx(nE,{})})]}):o.jsx(Ct,{to:"/login",replace:!0})}),o.jsx(Je,{path:"/memories",element:e?o.jsxs("div",{className:"min-h-screen",children:[o.jsx(Yt,{}),o.jsx("main",{className:"container mx-auto px-4 py-8",children:o.jsx(oE,{})})]}):o.jsx(Ct,{to:"/login",replace:!0})}),o.jsx(Je,{path:"/categories",element:e?o.jsxs("div",{className:"min-h-screen",children:[o.jsx(Yt,{}),o.jsx("main",{className:"container mx-auto px-4 py-8",children:o.jsx(dE,{})})]}):o.jsx(Ct,{to:"/login",replace:!0})}),o.jsx(Je,{path:"/recycle-bin",element:e?o.jsxs("div",{className:"min-h-screen",children:[o.jsx(Yt,{}),o.jsx("main",{className:"container mx-auto px-4 py-8",children:o.jsx(pE,{})})]}):o.jsx(Ct,{to:"/login",replace:!0})}),o.jsx(Je,{path:"/settings",element:e?o.jsxs("div",{className:"min-h-screen",children:[o.jsx(Yt,{}),o.jsx("main",{className:"container mx-auto px-4 py-8",children:o.jsx(cE,{})})]}):o.jsx(Ct,{to:"/login",replace:!0})}),o.jsx(Je,{path:"/surprise-boxes",element:e?o.jsxs("div",{className:"min-h-screen",children:[o.jsx(Yt,{}),o.jsx("main",{className:"container mx-auto px-4 py-8",children:o.jsx(MA,{})})]}):o.jsx(Ct,{to:"/login",replace:!0})}),o.jsx(Je,{path:"*",element:o.jsx(Ct,{to:"/login",replace:!0})})]})}function LA(){return o.jsx(Ok,{children:o.jsx(Fk,{children:o.jsx($2,{children:o.jsx(OA,{})})})})}bu.createRoot(document.getElementById("root")).render(o.jsx(eo.StrictMode,{children:o.jsx(LA,{})}));
