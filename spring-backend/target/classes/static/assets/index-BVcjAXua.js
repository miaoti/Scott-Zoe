function nf(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function sf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tu={exports:{}},ol={},ru={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yn=Symbol.for("react.element"),lf=Symbol.for("react.portal"),af=Symbol.for("react.fragment"),of=Symbol.for("react.strict_mode"),cf=Symbol.for("react.profiler"),uf=Symbol.for("react.provider"),df=Symbol.for("react.context"),pf=Symbol.for("react.forward_ref"),ff=Symbol.for("react.suspense"),hf=Symbol.for("react.memo"),mf=Symbol.for("react.lazy"),wi=Symbol.iterator;function gf(e){return e===null||typeof e!="object"?null:(e=wi&&e[wi]||e["@@iterator"],typeof e=="function"?e:null)}var nu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},su=Object.assign,lu={};function Kr(e,t,r){this.props=e,this.context=t,this.refs=lu,this.updater=r||nu}Kr.prototype.isReactComponent={};Kr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function au(){}au.prototype=Kr.prototype;function mo(e,t,r){this.props=e,this.context=t,this.refs=lu,this.updater=r||nu}var go=mo.prototype=new au;go.constructor=mo;su(go,Kr.prototype);go.isPureReactComponent=!0;var ji=Array.isArray,ou=Object.prototype.hasOwnProperty,xo={current:null},iu={key:!0,ref:!0,__self:!0,__source:!0};function cu(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)ou.call(t,n)&&!iu.hasOwnProperty(n)&&(s[n]=t[n]);var i=arguments.length-2;if(i===1)s.children=r;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in i=e.defaultProps,i)s[n]===void 0&&(s[n]=i[n]);return{$$typeof:Yn,type:e,key:a,ref:o,props:s,_owner:xo.current}}function xf(e,t){return{$$typeof:Yn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yo(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yn}function yf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ni=/\/+/g;function Ol(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yf(""+e.key):t.toString(36)}function vs(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Yn:case lf:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Ol(o,0):n,ji(s)?(r="",e!=null&&(r=e.replace(Ni,"$&/")+"/"),vs(s,t,r,"",function(u){return u})):s!=null&&(yo(s)&&(s=xf(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ni,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",ji(e))for(var i=0;i<e.length;i++){a=e[i];var c=n+Ol(a,i);o+=vs(a,t,r,c,s)}else if(c=gf(e),typeof c=="function")for(e=c.call(e),i=0;!(a=e.next()).done;)a=a.value,c=n+Ol(a,i++),o+=vs(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function rs(e,t,r){if(e==null)return e;var n=[],s=0;return vs(e,n,"","",function(a){return t.call(r,a,s++)}),n}function vf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ce={current:null},ws={transition:null},wf={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:ws,ReactCurrentOwner:xo};function uu(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:rs,forEach:function(e,t,r){rs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return rs(e,function(){t++}),t},toArray:function(e){return rs(e,function(t){return t})||[]},only:function(e){if(!yo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=Kr;H.Fragment=af;H.Profiler=cf;H.PureComponent=mo;H.StrictMode=of;H.Suspense=ff;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wf;H.act=uu;H.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=su({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=xo.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)ou.call(t,c)&&!iu.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];n.children=i}return{$$typeof:Yn,type:e.type,key:s,ref:a,props:n,_owner:o}};H.createContext=function(e){return e={$$typeof:df,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uf,_context:e},e.Consumer=e};H.createElement=cu;H.createFactory=function(e){var t=cu.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:pf,render:e}};H.isValidElement=yo;H.lazy=function(e){return{$$typeof:mf,_payload:{_status:-1,_result:e},_init:vf}};H.memo=function(e,t){return{$$typeof:hf,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=ws.transition;ws.transition={};try{e()}finally{ws.transition=t}};H.unstable_act=uu;H.useCallback=function(e,t){return Ce.current.useCallback(e,t)};H.useContext=function(e){return Ce.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return Ce.current.useDeferredValue(e)};H.useEffect=function(e,t){return Ce.current.useEffect(e,t)};H.useId=function(){return Ce.current.useId()};H.useImperativeHandle=function(e,t,r){return Ce.current.useImperativeHandle(e,t,r)};H.useInsertionEffect=function(e,t){return Ce.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return Ce.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return Ce.current.useMemo(e,t)};H.useReducer=function(e,t,r){return Ce.current.useReducer(e,t,r)};H.useRef=function(e){return Ce.current.useRef(e)};H.useState=function(e){return Ce.current.useState(e)};H.useSyncExternalStore=function(e,t,r){return Ce.current.useSyncExternalStore(e,t,r)};H.useTransition=function(){return Ce.current.useTransition()};H.version="18.3.1";ru.exports=H;var v=ru.exports;const du=sf(v),jf=nf({__proto__:null,default:du},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nf=v,bf=Symbol.for("react.element"),Sf=Symbol.for("react.fragment"),kf=Object.prototype.hasOwnProperty,Ef=Nf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cf={key:!0,ref:!0,__self:!0,__source:!0};function pu(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)kf.call(t,n)&&!Cf.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:bf,type:e,key:a,ref:o,props:s,_owner:Ef.current}}ol.Fragment=Sf;ol.jsx=pu;ol.jsxs=pu;tu.exports=ol;var l=tu.exports,ca={},fu={exports:{}},Ie={},hu={exports:{}},mu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,F){var W=D.length;D.push(F);e:for(;0<W;){var J=W-1>>>1,ce=D[J];if(0<s(ce,F))D[J]=F,D[W]=ce,W=J;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var F=D[0],W=D.pop();if(W!==F){D[0]=W;e:for(var J=0,ce=D.length,wr=ce>>>1;J<wr;){var ft=2*(J+1)-1,I=D[ft],q=ft+1,de=D[q];if(0>s(I,W))q<ce&&0>s(de,I)?(D[J]=de,D[q]=W,J=q):(D[J]=I,D[ft]=W,J=ft);else if(q<ce&&0>s(de,W))D[J]=de,D[q]=W,J=q;else break e}}return F}function s(D,F){var W=D.sortIndex-F.sortIndex;return W!==0?W:D.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var c=[],u=[],p=1,d=null,x=3,g=!1,y=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(D){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=D)n(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(u)}}function w(D){if(j=!1,m(D),!y)if(r(c)!==null)y=!0,R(E);else{var F=r(u);F!==null&&B(w,F.startTime-D)}}function E(D,F){y=!1,j&&(j=!1,h(N),N=-1),g=!0;var W=x;try{for(m(F),d=r(c);d!==null&&(!(d.expirationTime>F)||D&&!z());){var J=d.callback;if(typeof J=="function"){d.callback=null,x=d.priorityLevel;var ce=J(d.expirationTime<=F);F=e.unstable_now(),typeof ce=="function"?d.callback=ce:d===r(c)&&n(c),m(F)}else n(c);d=r(c)}if(d!==null)var wr=!0;else{var ft=r(u);ft!==null&&B(w,ft.startTime-F),wr=!1}return wr}finally{d=null,x=W,g=!1}}var b=!1,S=null,N=-1,P=5,C=-1;function z(){return!(e.unstable_now()-C<P)}function U(){if(S!==null){var D=e.unstable_now();C=D;var F=!0;try{F=S(!0,D)}finally{F?M():(b=!1,S=null)}}else b=!1}var M;if(typeof f=="function")M=function(){f(U)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,L=_.port2;_.port1.onmessage=U,M=function(){L.postMessage(null)}}else M=function(){k(U,0)};function R(D){S=D,b||(b=!0,M())}function B(D,F){N=k(function(){D(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,R(E))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(x){case 1:case 2:case 3:var F=3;break;default:F=x}var W=x;x=F;try{return D()}finally{x=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=x;x=D;try{return F()}finally{x=W}},e.unstable_scheduleCallback=function(D,F,W){var J=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?J+W:J):W=J,D){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=W+ce,D={id:p++,callback:F,priorityLevel:D,startTime:W,expirationTime:ce,sortIndex:-1},W>J?(D.sortIndex=W,t(u,D),r(c)===null&&D===r(u)&&(j?(h(N),N=-1):j=!0,B(w,W-J))):(D.sortIndex=ce,t(c,D),y||g||(y=!0,R(E))),D},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(D){var F=x;return function(){var W=x;x=F;try{return D.apply(this,arguments)}finally{x=W}}}})(mu);hu.exports=mu;var Pf=hu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf=v,Ue=Pf;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gu=new Set,En={};function xr(e,t){Ur(e,t),Ur(e+"Capture",t)}function Ur(e,t){for(En[e]=t,e=0;e<t.length;e++)gu.add(t[e])}var wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ua=Object.prototype.hasOwnProperty,zf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bi={},Si={};function Df(e){return ua.call(Si,e)?!0:ua.call(bi,e)?!1:zf.test(e)?Si[e]=!0:(bi[e]=!0,!1)}function Rf(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Of(e,t,r,n){if(t===null||typeof t>"u"||Rf(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pe(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ve[e]=new Pe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ve[t]=new Pe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ve[e]=new Pe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ve[e]=new Pe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ve[e]=new Pe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ve[e]=new Pe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ve[e]=new Pe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ve[e]=new Pe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ve[e]=new Pe(e,5,!1,e.toLowerCase(),null,!1,!1)});var vo=/[\-:]([a-z])/g;function wo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vo,wo);ve[t]=new Pe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vo,wo);ve[t]=new Pe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vo,wo);ve[t]=new Pe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ve[e]=new Pe(e,1,!1,e.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ve[e]=new Pe(e,1,!1,e.toLowerCase(),null,!0,!0)});function jo(e,t,r,n){var s=ve.hasOwnProperty(t)?ve[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Of(t,r,s,n)&&(r=null),n||s===null?Df(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var kt=Tf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ns=Symbol.for("react.element"),Nr=Symbol.for("react.portal"),br=Symbol.for("react.fragment"),No=Symbol.for("react.strict_mode"),da=Symbol.for("react.profiler"),xu=Symbol.for("react.provider"),yu=Symbol.for("react.context"),bo=Symbol.for("react.forward_ref"),pa=Symbol.for("react.suspense"),fa=Symbol.for("react.suspense_list"),So=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),vu=Symbol.for("react.offscreen"),ki=Symbol.iterator;function nn(e){return e===null||typeof e!="object"?null:(e=ki&&e[ki]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,Ml;function fn(e){if(Ml===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ml=t&&t[1]||""}return`
`+Ml+e}var _l=!1;function Ll(e,t){if(!e||_l)return"";_l=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,i=a.length-1;1<=o&&0<=i&&s[o]!==a[i];)i--;for(;1<=o&&0<=i;o--,i--)if(s[o]!==a[i]){if(o!==1||i!==1)do if(o--,i--,0>i||s[o]!==a[i]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=i);break}}}finally{_l=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?fn(e):""}function Mf(e){switch(e.tag){case 5:return fn(e.type);case 16:return fn("Lazy");case 13:return fn("Suspense");case 19:return fn("SuspenseList");case 0:case 2:case 15:return e=Ll(e.type,!1),e;case 11:return e=Ll(e.type.render,!1),e;case 1:return e=Ll(e.type,!0),e;default:return""}}function ha(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case br:return"Fragment";case Nr:return"Portal";case da:return"Profiler";case No:return"StrictMode";case pa:return"Suspense";case fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yu:return(e.displayName||"Context")+".Consumer";case xu:return(e._context.displayName||"Context")+".Provider";case bo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case So:return t=e.displayName||null,t!==null?t:ha(e.type)||"Memo";case Pt:t=e._payload,e=e._init;try{return ha(e(t))}catch{}}return null}function _f(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ha(t);case 8:return t===No?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lf(e){var t=wu(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ss(e){e._valueTracker||(e._valueTracker=Lf(e))}function ju(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=wu(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ms(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ma(e,t){var r=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ei(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Yt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nu(e,t){t=t.checked,t!=null&&jo(e,"checked",t,!1)}function ga(e,t){Nu(e,t);var r=Yt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xa(e,t.type,r):t.hasOwnProperty("defaultValue")&&xa(e,t.type,Yt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ci(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function xa(e,t,r){(t!=="number"||Ms(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var hn=Array.isArray;function Mr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Yt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ya(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pi(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(O(92));if(hn(r)){if(1<r.length)throw Error(O(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Yt(r)}}function bu(e,t){var r=Yt(t.value),n=Yt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ti(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Su(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function va(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Su(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ls,ku=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ls=ls||document.createElement("div"),ls.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ls.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var xn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ff=["Webkit","ms","Moz","O"];Object.keys(xn).forEach(function(e){Ff.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xn[t]=xn[e]})});function Eu(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||xn.hasOwnProperty(e)&&xn[e]?(""+t).trim():t+"px"}function Cu(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Eu(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Af=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wa(e,t){if(t){if(Af[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function ja(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Na=null;function ko(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ba=null,_r=null,Lr=null;function zi(e){if(e=Kn(e)){if(typeof ba!="function")throw Error(O(280));var t=e.stateNode;t&&(t=pl(t),ba(e.stateNode,e.type,t))}}function Pu(e){_r?Lr?Lr.push(e):Lr=[e]:_r=e}function Tu(){if(_r){var e=_r,t=Lr;if(Lr=_r=null,zi(e),t)for(e=0;e<t.length;e++)zi(t[e])}}function zu(e,t){return e(t)}function Du(){}var Fl=!1;function Ru(e,t,r){if(Fl)return e(t,r);Fl=!0;try{return zu(e,t,r)}finally{Fl=!1,(_r!==null||Lr!==null)&&(Du(),Tu())}}function Pn(e,t){var r=e.stateNode;if(r===null)return null;var n=pl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(O(231,t,typeof r));return r}var Sa=!1;if(wt)try{var sn={};Object.defineProperty(sn,"passive",{get:function(){Sa=!0}}),window.addEventListener("test",sn,sn),window.removeEventListener("test",sn,sn)}catch{Sa=!1}function $f(e,t,r,n,s,a,o,i,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(p){this.onError(p)}}var yn=!1,_s=null,Ls=!1,ka=null,Uf={onError:function(e){yn=!0,_s=e}};function If(e,t,r,n,s,a,o,i,c){yn=!1,_s=null,$f.apply(Uf,arguments)}function Bf(e,t,r,n,s,a,o,i,c){if(If.apply(this,arguments),yn){if(yn){var u=_s;yn=!1,_s=null}else throw Error(O(198));Ls||(Ls=!0,ka=u)}}function yr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ou(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Di(e){if(yr(e)!==e)throw Error(O(188))}function Wf(e){var t=e.alternate;if(!t){if(t=yr(e),t===null)throw Error(O(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return Di(s),e;if(a===n)return Di(s),t;a=a.sibling}throw Error(O(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,i=s.child;i;){if(i===r){o=!0,r=s,n=a;break}if(i===n){o=!0,n=s,r=a;break}i=i.sibling}if(!o){for(i=a.child;i;){if(i===r){o=!0,r=a,n=s;break}if(i===n){o=!0,n=a,r=s;break}i=i.sibling}if(!o)throw Error(O(189))}}if(r.alternate!==n)throw Error(O(190))}if(r.tag!==3)throw Error(O(188));return r.stateNode.current===r?e:t}function Mu(e){return e=Wf(e),e!==null?_u(e):null}function _u(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_u(e);if(t!==null)return t;e=e.sibling}return null}var Lu=Ue.unstable_scheduleCallback,Ri=Ue.unstable_cancelCallback,Vf=Ue.unstable_shouldYield,Hf=Ue.unstable_requestPaint,ae=Ue.unstable_now,Yf=Ue.unstable_getCurrentPriorityLevel,Eo=Ue.unstable_ImmediatePriority,Fu=Ue.unstable_UserBlockingPriority,Fs=Ue.unstable_NormalPriority,Qf=Ue.unstable_LowPriority,Au=Ue.unstable_IdlePriority,il=null,ut=null;function qf(e){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(il,e,void 0,(e.current.flags&128)===128)}catch{}}var et=Math.clz32?Math.clz32:Gf,Kf=Math.log,Jf=Math.LN2;function Gf(e){return e>>>=0,e===0?32:31-(Kf(e)/Jf|0)|0}var as=64,os=4194304;function mn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function As(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var i=o&~s;i!==0?n=mn(i):(a&=o,a!==0&&(n=mn(a)))}else o=r&~s,o!==0?n=mn(o):a!==0&&(n=mn(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-et(t),s=1<<r,n|=e[r],t&=~s;return n}function Xf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zf(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-et(a),i=1<<o,c=s[o];c===-1?(!(i&r)||i&n)&&(s[o]=Xf(i,t)):c<=t&&(e.expiredLanes|=i),a&=~i}}function Ea(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $u(){var e=as;return as<<=1,!(as&4194240)&&(as=64),e}function Al(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Qn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-et(t),e[t]=r}function eh(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-et(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function Co(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-et(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var K=0;function Uu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Iu,Po,Bu,Wu,Vu,Ca=!1,is=[],_t=null,Lt=null,Ft=null,Tn=new Map,zn=new Map,zt=[],th="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oi(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":Tn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zn.delete(t.pointerId)}}function ln(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Kn(t),t!==null&&Po(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function rh(e,t,r,n,s){switch(t){case"focusin":return _t=ln(_t,e,t,r,n,s),!0;case"dragenter":return Lt=ln(Lt,e,t,r,n,s),!0;case"mouseover":return Ft=ln(Ft,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Tn.set(a,ln(Tn.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,zn.set(a,ln(zn.get(a)||null,e,t,r,n,s)),!0}return!1}function Hu(e){var t=er(e.target);if(t!==null){var r=yr(t);if(r!==null){if(t=r.tag,t===13){if(t=Ou(r),t!==null){e.blockedOn=t,Vu(e.priority,function(){Bu(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function js(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Pa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Na=n,r.target.dispatchEvent(n),Na=null}else return t=Kn(r),t!==null&&Po(t),e.blockedOn=r,!1;t.shift()}return!0}function Mi(e,t,r){js(e)&&r.delete(t)}function nh(){Ca=!1,_t!==null&&js(_t)&&(_t=null),Lt!==null&&js(Lt)&&(Lt=null),Ft!==null&&js(Ft)&&(Ft=null),Tn.forEach(Mi),zn.forEach(Mi)}function an(e,t){e.blockedOn===t&&(e.blockedOn=null,Ca||(Ca=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,nh)))}function Dn(e){function t(s){return an(s,e)}if(0<is.length){an(is[0],e);for(var r=1;r<is.length;r++){var n=is[r];n.blockedOn===e&&(n.blockedOn=null)}}for(_t!==null&&an(_t,e),Lt!==null&&an(Lt,e),Ft!==null&&an(Ft,e),Tn.forEach(t),zn.forEach(t),r=0;r<zt.length;r++)n=zt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<zt.length&&(r=zt[0],r.blockedOn===null);)Hu(r),r.blockedOn===null&&zt.shift()}var Fr=kt.ReactCurrentBatchConfig,$s=!0;function sh(e,t,r,n){var s=K,a=Fr.transition;Fr.transition=null;try{K=1,To(e,t,r,n)}finally{K=s,Fr.transition=a}}function lh(e,t,r,n){var s=K,a=Fr.transition;Fr.transition=null;try{K=4,To(e,t,r,n)}finally{K=s,Fr.transition=a}}function To(e,t,r,n){if($s){var s=Pa(e,t,r,n);if(s===null)ql(e,t,n,Us,r),Oi(e,n);else if(rh(s,e,t,r,n))n.stopPropagation();else if(Oi(e,n),t&4&&-1<th.indexOf(e)){for(;s!==null;){var a=Kn(s);if(a!==null&&Iu(a),a=Pa(e,t,r,n),a===null&&ql(e,t,n,Us,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else ql(e,t,n,null,r)}}var Us=null;function Pa(e,t,r,n){if(Us=null,e=ko(n),e=er(e),e!==null)if(t=yr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ou(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Us=e,null}function Yu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yf()){case Eo:return 1;case Fu:return 4;case Fs:case Qf:return 16;case Au:return 536870912;default:return 16}default:return 16}}var Rt=null,zo=null,Ns=null;function Qu(){if(Ns)return Ns;var e,t=zo,r=t.length,n,s="value"in Rt?Rt.value:Rt.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return Ns=s.slice(e,1<n?1-n:void 0)}function bs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cs(){return!0}function _i(){return!1}function Be(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(r=e[i],this[i]=r?r(a):a[i]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?cs:_i,this.isPropagationStopped=_i,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),t}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Do=Be(Jr),qn=se({},Jr,{view:0,detail:0}),ah=Be(qn),$l,Ul,on,cl=se({},qn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ro,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&e.type==="mousemove"?($l=e.screenX-on.screenX,Ul=e.screenY-on.screenY):Ul=$l=0,on=e),$l)},movementY:function(e){return"movementY"in e?e.movementY:Ul}}),Li=Be(cl),oh=se({},cl,{dataTransfer:0}),ih=Be(oh),ch=se({},qn,{relatedTarget:0}),Il=Be(ch),uh=se({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),dh=Be(uh),ph=se({},Jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fh=Be(ph),hh=se({},Jr,{data:0}),Fi=Be(hh),mh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xh[e])?!!t[e]:!1}function Ro(){return yh}var vh=se({},qn,{key:function(e){if(e.key){var t=mh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ro,charCode:function(e){return e.type==="keypress"?bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wh=Be(vh),jh=se({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ai=Be(jh),Nh=se({},qn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ro}),bh=Be(Nh),Sh=se({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),kh=Be(Sh),Eh=se({},cl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ch=Be(Eh),Ph=[9,13,27,32],Oo=wt&&"CompositionEvent"in window,vn=null;wt&&"documentMode"in document&&(vn=document.documentMode);var Th=wt&&"TextEvent"in window&&!vn,qu=wt&&(!Oo||vn&&8<vn&&11>=vn),$i=" ",Ui=!1;function Ku(e,t){switch(e){case"keyup":return Ph.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ju(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sr=!1;function zh(e,t){switch(e){case"compositionend":return Ju(t);case"keypress":return t.which!==32?null:(Ui=!0,$i);case"textInput":return e=t.data,e===$i&&Ui?null:e;default:return null}}function Dh(e,t){if(Sr)return e==="compositionend"||!Oo&&Ku(e,t)?(e=Qu(),Ns=zo=Rt=null,Sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qu&&t.locale!=="ko"?null:t.data;default:return null}}var Rh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ii(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rh[e.type]:t==="textarea"}function Gu(e,t,r,n){Pu(n),t=Is(t,"onChange"),0<t.length&&(r=new Do("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var wn=null,Rn=null;function Oh(e){id(e,0)}function ul(e){var t=Cr(e);if(ju(t))return e}function Mh(e,t){if(e==="change")return t}var Xu=!1;if(wt){var Bl;if(wt){var Wl="oninput"in document;if(!Wl){var Bi=document.createElement("div");Bi.setAttribute("oninput","return;"),Wl=typeof Bi.oninput=="function"}Bl=Wl}else Bl=!1;Xu=Bl&&(!document.documentMode||9<document.documentMode)}function Wi(){wn&&(wn.detachEvent("onpropertychange",Zu),Rn=wn=null)}function Zu(e){if(e.propertyName==="value"&&ul(Rn)){var t=[];Gu(t,Rn,e,ko(e)),Ru(Oh,t)}}function _h(e,t,r){e==="focusin"?(Wi(),wn=t,Rn=r,wn.attachEvent("onpropertychange",Zu)):e==="focusout"&&Wi()}function Lh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ul(Rn)}function Fh(e,t){if(e==="click")return ul(t)}function Ah(e,t){if(e==="input"||e==="change")return ul(t)}function $h(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rt=typeof Object.is=="function"?Object.is:$h;function On(e,t){if(rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ua.call(t,s)||!rt(e[s],t[s]))return!1}return!0}function Vi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hi(e,t){var r=Vi(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vi(r)}}function ed(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ed(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function td(){for(var e=window,t=Ms();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ms(e.document)}return t}function Mo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Uh(e){var t=td(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ed(r.ownerDocument.documentElement,r)){if(n!==null&&Mo(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=Hi(r,a);var o=Hi(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ih=wt&&"documentMode"in document&&11>=document.documentMode,kr=null,Ta=null,jn=null,za=!1;function Yi(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;za||kr==null||kr!==Ms(n)||(n=kr,"selectionStart"in n&&Mo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),jn&&On(jn,n)||(jn=n,n=Is(Ta,"onSelect"),0<n.length&&(t=new Do("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=kr)))}function us(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Er={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionend:us("Transition","TransitionEnd")},Vl={},rd={};wt&&(rd=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function dl(e){if(Vl[e])return Vl[e];if(!Er[e])return e;var t=Er[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in rd)return Vl[e]=t[r];return e}var nd=dl("animationend"),sd=dl("animationiteration"),ld=dl("animationstart"),ad=dl("transitionend"),od=new Map,Qi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qt(e,t){od.set(e,t),xr(t,[e])}for(var Hl=0;Hl<Qi.length;Hl++){var Yl=Qi[Hl],Bh=Yl.toLowerCase(),Wh=Yl[0].toUpperCase()+Yl.slice(1);qt(Bh,"on"+Wh)}qt(nd,"onAnimationEnd");qt(sd,"onAnimationIteration");qt(ld,"onAnimationStart");qt("dblclick","onDoubleClick");qt("focusin","onFocus");qt("focusout","onBlur");qt(ad,"onTransitionEnd");Ur("onMouseEnter",["mouseout","mouseover"]);Ur("onMouseLeave",["mouseout","mouseover"]);Ur("onPointerEnter",["pointerout","pointerover"]);Ur("onPointerLeave",["pointerout","pointerover"]);xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vh=new Set("cancel close invalid load scroll toggle".split(" ").concat(gn));function qi(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Bf(n,t,void 0,e),e.currentTarget=null}function id(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var i=n[o],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==a&&s.isPropagationStopped())break e;qi(s,i,u),a=c}else for(o=0;o<n.length;o++){if(i=n[o],c=i.instance,u=i.currentTarget,i=i.listener,c!==a&&s.isPropagationStopped())break e;qi(s,i,u),a=c}}}if(Ls)throw e=ka,Ls=!1,ka=null,e}function X(e,t){var r=t[_a];r===void 0&&(r=t[_a]=new Set);var n=e+"__bubble";r.has(n)||(cd(t,e,2,!1),r.add(n))}function Ql(e,t,r){var n=0;t&&(n|=4),cd(r,e,n,t)}var ds="_reactListening"+Math.random().toString(36).slice(2);function Mn(e){if(!e[ds]){e[ds]=!0,gu.forEach(function(r){r!=="selectionchange"&&(Vh.has(r)||Ql(r,!1,e),Ql(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ds]||(t[ds]=!0,Ql("selectionchange",!1,t))}}function cd(e,t,r,n){switch(Yu(t)){case 1:var s=sh;break;case 4:s=lh;break;default:s=To}r=s.bind(null,t,r,e),s=void 0,!Sa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ql(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var i=n.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;i!==null;){if(o=er(i),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}i=i.parentNode}}n=n.return}Ru(function(){var u=a,p=ko(r),d=[];e:{var x=od.get(e);if(x!==void 0){var g=Do,y=e;switch(e){case"keypress":if(bs(r)===0)break e;case"keydown":case"keyup":g=wh;break;case"focusin":y="focus",g=Il;break;case"focusout":y="blur",g=Il;break;case"beforeblur":case"afterblur":g=Il;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Li;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=bh;break;case nd:case sd:case ld:g=dh;break;case ad:g=kh;break;case"scroll":g=ah;break;case"wheel":g=Ch;break;case"copy":case"cut":case"paste":g=fh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ai}var j=(t&4)!==0,k=!j&&e==="scroll",h=j?x!==null?x+"Capture":null:x;j=[];for(var f=u,m;f!==null;){m=f;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,h!==null&&(w=Pn(f,h),w!=null&&j.push(_n(f,w,m)))),k)break;f=f.return}0<j.length&&(x=new g(x,y,null,r,p),d.push({event:x,listeners:j}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",x&&r!==Na&&(y=r.relatedTarget||r.fromElement)&&(er(y)||y[jt]))break e;if((g||x)&&(x=p.window===p?p:(x=p.ownerDocument)?x.defaultView||x.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=u,y=y?er(y):null,y!==null&&(k=yr(y),y!==k||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(j=Li,w="onMouseLeave",h="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(j=Ai,w="onPointerLeave",h="onPointerEnter",f="pointer"),k=g==null?x:Cr(g),m=y==null?x:Cr(y),x=new j(w,f+"leave",g,r,p),x.target=k,x.relatedTarget=m,w=null,er(p)===u&&(j=new j(h,f+"enter",y,r,p),j.target=m,j.relatedTarget=k,w=j),k=w,g&&y)t:{for(j=g,h=y,f=0,m=j;m;m=jr(m))f++;for(m=0,w=h;w;w=jr(w))m++;for(;0<f-m;)j=jr(j),f--;for(;0<m-f;)h=jr(h),m--;for(;f--;){if(j===h||h!==null&&j===h.alternate)break t;j=jr(j),h=jr(h)}j=null}else j=null;g!==null&&Ki(d,x,g,j,!1),y!==null&&k!==null&&Ki(d,k,y,j,!0)}}e:{if(x=u?Cr(u):window,g=x.nodeName&&x.nodeName.toLowerCase(),g==="select"||g==="input"&&x.type==="file")var E=Mh;else if(Ii(x))if(Xu)E=Ah;else{E=Lh;var b=_h}else(g=x.nodeName)&&g.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(E=Fh);if(E&&(E=E(e,u))){Gu(d,E,r,p);break e}b&&b(e,x,u),e==="focusout"&&(b=x._wrapperState)&&b.controlled&&x.type==="number"&&xa(x,"number",x.value)}switch(b=u?Cr(u):window,e){case"focusin":(Ii(b)||b.contentEditable==="true")&&(kr=b,Ta=u,jn=null);break;case"focusout":jn=Ta=kr=null;break;case"mousedown":za=!0;break;case"contextmenu":case"mouseup":case"dragend":za=!1,Yi(d,r,p);break;case"selectionchange":if(Ih)break;case"keydown":case"keyup":Yi(d,r,p)}var S;if(Oo)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Sr?Ku(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(qu&&r.locale!=="ko"&&(Sr||N!=="onCompositionStart"?N==="onCompositionEnd"&&Sr&&(S=Qu()):(Rt=p,zo="value"in Rt?Rt.value:Rt.textContent,Sr=!0)),b=Is(u,N),0<b.length&&(N=new Fi(N,e,null,r,p),d.push({event:N,listeners:b}),S?N.data=S:(S=Ju(r),S!==null&&(N.data=S)))),(S=Th?zh(e,r):Dh(e,r))&&(u=Is(u,"onBeforeInput"),0<u.length&&(p=new Fi("onBeforeInput","beforeinput",null,r,p),d.push({event:p,listeners:u}),p.data=S))}id(d,t)})}function _n(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Is(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Pn(e,r),a!=null&&n.unshift(_n(e,a,s)),a=Pn(e,t),a!=null&&n.push(_n(e,a,s))),e=e.return}return n}function jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ki(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var i=r,c=i.alternate,u=i.stateNode;if(c!==null&&c===n)break;i.tag===5&&u!==null&&(i=u,s?(c=Pn(r,a),c!=null&&o.unshift(_n(r,c,i))):s||(c=Pn(r,a),c!=null&&o.push(_n(r,c,i)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Hh=/\r\n?/g,Yh=/\u0000|\uFFFD/g;function Ji(e){return(typeof e=="string"?e:""+e).replace(Hh,`
`).replace(Yh,"")}function ps(e,t,r){if(t=Ji(t),Ji(e)!==t&&r)throw Error(O(425))}function Bs(){}var Da=null,Ra=null;function Oa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ma=typeof setTimeout=="function"?setTimeout:void 0,Qh=typeof clearTimeout=="function"?clearTimeout:void 0,Gi=typeof Promise=="function"?Promise:void 0,qh=typeof queueMicrotask=="function"?queueMicrotask:typeof Gi<"u"?function(e){return Gi.resolve(null).then(e).catch(Kh)}:Ma;function Kh(e){setTimeout(function(){throw e})}function Kl(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Dn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Dn(t)}function At(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xi(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Gr=Math.random().toString(36).slice(2),ct="__reactFiber$"+Gr,Ln="__reactProps$"+Gr,jt="__reactContainer$"+Gr,_a="__reactEvents$"+Gr,Jh="__reactListeners$"+Gr,Gh="__reactHandles$"+Gr;function er(e){var t=e[ct];if(t)return t;for(var r=e.parentNode;r;){if(t=r[jt]||r[ct]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Xi(e);e!==null;){if(r=e[ct])return r;e=Xi(e)}return t}e=r,r=e.parentNode}return null}function Kn(e){return e=e[ct]||e[jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function pl(e){return e[Ln]||null}var La=[],Pr=-1;function Kt(e){return{current:e}}function Z(e){0>Pr||(e.current=La[Pr],La[Pr]=null,Pr--)}function G(e,t){Pr++,La[Pr]=e.current,e.current=t}var Qt={},Se=Kt(Qt),De=Kt(!1),or=Qt;function Ir(e,t){var r=e.type.contextTypes;if(!r)return Qt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Re(e){return e=e.childContextTypes,e!=null}function Ws(){Z(De),Z(Se)}function Zi(e,t,r){if(Se.current!==Qt)throw Error(O(168));G(Se,t),G(De,r)}function ud(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(O(108,_f(e)||"Unknown",s));return se({},r,n)}function Vs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qt,or=Se.current,G(Se,e),G(De,De.current),!0}function ec(e,t,r){var n=e.stateNode;if(!n)throw Error(O(169));r?(e=ud(e,t,or),n.__reactInternalMemoizedMergedChildContext=e,Z(De),Z(Se),G(Se,e)):Z(De),G(De,r)}var mt=null,fl=!1,Jl=!1;function dd(e){mt===null?mt=[e]:mt.push(e)}function Xh(e){fl=!0,dd(e)}function Jt(){if(!Jl&&mt!==null){Jl=!0;var e=0,t=K;try{var r=mt;for(K=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}mt=null,fl=!1}catch(s){throw mt!==null&&(mt=mt.slice(e+1)),Lu(Eo,Jt),s}finally{K=t,Jl=!1}}return null}var Tr=[],zr=0,Hs=null,Ys=0,Ve=[],He=0,ir=null,xt=1,yt="";function Xt(e,t){Tr[zr++]=Ys,Tr[zr++]=Hs,Hs=e,Ys=t}function pd(e,t,r){Ve[He++]=xt,Ve[He++]=yt,Ve[He++]=ir,ir=e;var n=xt;e=yt;var s=32-et(n)-1;n&=~(1<<s),r+=1;var a=32-et(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,xt=1<<32-et(t)+s|r<<s|n,yt=a+e}else xt=1<<a|r<<s|n,yt=e}function _o(e){e.return!==null&&(Xt(e,1),pd(e,1,0))}function Lo(e){for(;e===Hs;)Hs=Tr[--zr],Tr[zr]=null,Ys=Tr[--zr],Tr[zr]=null;for(;e===ir;)ir=Ve[--He],Ve[He]=null,yt=Ve[--He],Ve[He]=null,xt=Ve[--He],Ve[He]=null}var $e=null,Ae=null,ee=!1,Ze=null;function fd(e,t){var r=Ye(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function tc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$e=e,Ae=At(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$e=e,Ae=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ir!==null?{id:xt,overflow:yt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ye(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,$e=e,Ae=null,!0):!1;default:return!1}}function Fa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Aa(e){if(ee){var t=Ae;if(t){var r=t;if(!tc(e,t)){if(Fa(e))throw Error(O(418));t=At(r.nextSibling);var n=$e;t&&tc(e,t)?fd(n,r):(e.flags=e.flags&-4097|2,ee=!1,$e=e)}}else{if(Fa(e))throw Error(O(418));e.flags=e.flags&-4097|2,ee=!1,$e=e}}}function rc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$e=e}function fs(e){if(e!==$e)return!1;if(!ee)return rc(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Oa(e.type,e.memoizedProps)),t&&(t=Ae)){if(Fa(e))throw hd(),Error(O(418));for(;t;)fd(e,t),t=At(t.nextSibling)}if(rc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ae=At(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ae=null}}else Ae=$e?At(e.stateNode.nextSibling):null;return!0}function hd(){for(var e=Ae;e;)e=At(e.nextSibling)}function Br(){Ae=$e=null,ee=!1}function Fo(e){Ze===null?Ze=[e]:Ze.push(e)}var Zh=kt.ReactCurrentBatchConfig;function cn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(O(309));var n=r.stateNode}if(!n)throw Error(O(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var i=s.refs;o===null?delete i[a]:i[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(O(284));if(!r._owner)throw Error(O(290,e))}return e}function hs(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nc(e){var t=e._init;return t(e._payload)}function md(e){function t(h,f){if(e){var m=h.deletions;m===null?(h.deletions=[f],h.flags|=16):m.push(f)}}function r(h,f){if(!e)return null;for(;f!==null;)t(h,f),f=f.sibling;return null}function n(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function s(h,f){return h=Bt(h,f),h.index=0,h.sibling=null,h}function a(h,f,m){return h.index=m,e?(m=h.alternate,m!==null?(m=m.index,m<f?(h.flags|=2,f):m):(h.flags|=2,f)):(h.flags|=1048576,f)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function i(h,f,m,w){return f===null||f.tag!==6?(f=na(m,h.mode,w),f.return=h,f):(f=s(f,m),f.return=h,f)}function c(h,f,m,w){var E=m.type;return E===br?p(h,f,m.props.children,w,m.key):f!==null&&(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Pt&&nc(E)===f.type)?(w=s(f,m.props),w.ref=cn(h,f,m),w.return=h,w):(w=zs(m.type,m.key,m.props,null,h.mode,w),w.ref=cn(h,f,m),w.return=h,w)}function u(h,f,m,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=sa(m,h.mode,w),f.return=h,f):(f=s(f,m.children||[]),f.return=h,f)}function p(h,f,m,w,E){return f===null||f.tag!==7?(f=lr(m,h.mode,w,E),f.return=h,f):(f=s(f,m),f.return=h,f)}function d(h,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=na(""+f,h.mode,m),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ns:return m=zs(f.type,f.key,f.props,null,h.mode,m),m.ref=cn(h,null,f),m.return=h,m;case Nr:return f=sa(f,h.mode,m),f.return=h,f;case Pt:var w=f._init;return d(h,w(f._payload),m)}if(hn(f)||nn(f))return f=lr(f,h.mode,m,null),f.return=h,f;hs(h,f)}return null}function x(h,f,m,w){var E=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return E!==null?null:i(h,f,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ns:return m.key===E?c(h,f,m,w):null;case Nr:return m.key===E?u(h,f,m,w):null;case Pt:return E=m._init,x(h,f,E(m._payload),w)}if(hn(m)||nn(m))return E!==null?null:p(h,f,m,w,null);hs(h,m)}return null}function g(h,f,m,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return h=h.get(m)||null,i(f,h,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ns:return h=h.get(w.key===null?m:w.key)||null,c(f,h,w,E);case Nr:return h=h.get(w.key===null?m:w.key)||null,u(f,h,w,E);case Pt:var b=w._init;return g(h,f,m,b(w._payload),E)}if(hn(w)||nn(w))return h=h.get(m)||null,p(f,h,w,E,null);hs(f,w)}return null}function y(h,f,m,w){for(var E=null,b=null,S=f,N=f=0,P=null;S!==null&&N<m.length;N++){S.index>N?(P=S,S=null):P=S.sibling;var C=x(h,S,m[N],w);if(C===null){S===null&&(S=P);break}e&&S&&C.alternate===null&&t(h,S),f=a(C,f,N),b===null?E=C:b.sibling=C,b=C,S=P}if(N===m.length)return r(h,S),ee&&Xt(h,N),E;if(S===null){for(;N<m.length;N++)S=d(h,m[N],w),S!==null&&(f=a(S,f,N),b===null?E=S:b.sibling=S,b=S);return ee&&Xt(h,N),E}for(S=n(h,S);N<m.length;N++)P=g(S,h,N,m[N],w),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?N:P.key),f=a(P,f,N),b===null?E=P:b.sibling=P,b=P);return e&&S.forEach(function(z){return t(h,z)}),ee&&Xt(h,N),E}function j(h,f,m,w){var E=nn(m);if(typeof E!="function")throw Error(O(150));if(m=E.call(m),m==null)throw Error(O(151));for(var b=E=null,S=f,N=f=0,P=null,C=m.next();S!==null&&!C.done;N++,C=m.next()){S.index>N?(P=S,S=null):P=S.sibling;var z=x(h,S,C.value,w);if(z===null){S===null&&(S=P);break}e&&S&&z.alternate===null&&t(h,S),f=a(z,f,N),b===null?E=z:b.sibling=z,b=z,S=P}if(C.done)return r(h,S),ee&&Xt(h,N),E;if(S===null){for(;!C.done;N++,C=m.next())C=d(h,C.value,w),C!==null&&(f=a(C,f,N),b===null?E=C:b.sibling=C,b=C);return ee&&Xt(h,N),E}for(S=n(h,S);!C.done;N++,C=m.next())C=g(S,h,N,C.value,w),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?N:C.key),f=a(C,f,N),b===null?E=C:b.sibling=C,b=C);return e&&S.forEach(function(U){return t(h,U)}),ee&&Xt(h,N),E}function k(h,f,m,w){if(typeof m=="object"&&m!==null&&m.type===br&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ns:e:{for(var E=m.key,b=f;b!==null;){if(b.key===E){if(E=m.type,E===br){if(b.tag===7){r(h,b.sibling),f=s(b,m.props.children),f.return=h,h=f;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Pt&&nc(E)===b.type){r(h,b.sibling),f=s(b,m.props),f.ref=cn(h,b,m),f.return=h,h=f;break e}r(h,b);break}else t(h,b);b=b.sibling}m.type===br?(f=lr(m.props.children,h.mode,w,m.key),f.return=h,h=f):(w=zs(m.type,m.key,m.props,null,h.mode,w),w.ref=cn(h,f,m),w.return=h,h=w)}return o(h);case Nr:e:{for(b=m.key;f!==null;){if(f.key===b)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){r(h,f.sibling),f=s(f,m.children||[]),f.return=h,h=f;break e}else{r(h,f);break}else t(h,f);f=f.sibling}f=sa(m,h.mode,w),f.return=h,h=f}return o(h);case Pt:return b=m._init,k(h,f,b(m._payload),w)}if(hn(m))return y(h,f,m,w);if(nn(m))return j(h,f,m,w);hs(h,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(r(h,f.sibling),f=s(f,m),f.return=h,h=f):(r(h,f),f=na(m,h.mode,w),f.return=h,h=f),o(h)):r(h,f)}return k}var Wr=md(!0),gd=md(!1),Qs=Kt(null),qs=null,Dr=null,Ao=null;function $o(){Ao=Dr=qs=null}function Uo(e){var t=Qs.current;Z(Qs),e._currentValue=t}function $a(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ar(e,t){qs=e,Ao=Dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ze=!0),e.firstContext=null)}function qe(e){var t=e._currentValue;if(Ao!==e)if(e={context:e,memoizedValue:t,next:null},Dr===null){if(qs===null)throw Error(O(308));Dr=e,qs.dependencies={lanes:0,firstContext:e}}else Dr=Dr.next=e;return t}var tr=null;function Io(e){tr===null?tr=[e]:tr.push(e)}function xd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Io(t)):(r.next=s.next,s.next=r),t.interleaved=r,Nt(e,n)}function Nt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Tt=!1;function Bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $t(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Q&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Nt(e,r)}return s=n.interleaved,s===null?(t.next=t,Io(n)):(t.next=s.next,s.next=t),n.interleaved=t,Nt(e,r)}function Ss(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Co(e,r)}}function sc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ks(e,t,r,n){var s=e.updateQueue;Tt=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var c=i,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var p=e.alternate;p!==null&&(p=p.updateQueue,i=p.lastBaseUpdate,i!==o&&(i===null?p.firstBaseUpdate=u:i.next=u,p.lastBaseUpdate=c))}if(a!==null){var d=s.baseState;o=0,p=u=c=null,i=a;do{var x=i.lane,g=i.eventTime;if((n&x)===x){p!==null&&(p=p.next={eventTime:g,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var y=e,j=i;switch(x=t,g=r,j.tag){case 1:if(y=j.payload,typeof y=="function"){d=y.call(g,d,x);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=j.payload,x=typeof y=="function"?y.call(g,d,x):y,x==null)break e;d=se({},d,x);break e;case 2:Tt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,x=s.effects,x===null?s.effects=[i]:x.push(i))}else g={eventTime:g,lane:x,tag:i.tag,payload:i.payload,callback:i.callback,next:null},p===null?(u=p=g,c=d):p=p.next=g,o|=x;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;x=i,i=x.next,x.next=null,s.lastBaseUpdate=x,s.shared.pending=null}}while(!0);if(p===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);ur|=o,e.lanes=o,e.memoizedState=d}}function lc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(O(191,s));s.call(n)}}}var Jn={},dt=Kt(Jn),Fn=Kt(Jn),An=Kt(Jn);function rr(e){if(e===Jn)throw Error(O(174));return e}function Wo(e,t){switch(G(An,t),G(Fn,e),G(dt,Jn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:va(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=va(t,e)}Z(dt),G(dt,t)}function Vr(){Z(dt),Z(Fn),Z(An)}function vd(e){rr(An.current);var t=rr(dt.current),r=va(t,e.type);t!==r&&(G(Fn,e),G(dt,r))}function Vo(e){Fn.current===e&&(Z(dt),Z(Fn))}var re=Kt(0);function Js(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gl=[];function Ho(){for(var e=0;e<Gl.length;e++)Gl[e]._workInProgressVersionPrimary=null;Gl.length=0}var ks=kt.ReactCurrentDispatcher,Xl=kt.ReactCurrentBatchConfig,cr=0,ne=null,pe=null,me=null,Gs=!1,Nn=!1,$n=0,em=0;function we(){throw Error(O(321))}function Yo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!rt(e[r],t[r]))return!1;return!0}function Qo(e,t,r,n,s,a){if(cr=a,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ks.current=e===null||e.memoizedState===null?sm:lm,e=r(n,s),Nn){a=0;do{if(Nn=!1,$n=0,25<=a)throw Error(O(301));a+=1,me=pe=null,t.updateQueue=null,ks.current=am,e=r(n,s)}while(Nn)}if(ks.current=Xs,t=pe!==null&&pe.next!==null,cr=0,me=pe=ne=null,Gs=!1,t)throw Error(O(300));return e}function qo(){var e=$n!==0;return $n=0,e}function ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ne.memoizedState=me=e:me=me.next=e,me}function Ke(){if(pe===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=me===null?ne.memoizedState:me.next;if(t!==null)me=t,pe=e;else{if(e===null)throw Error(O(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},me===null?ne.memoizedState=me=e:me=me.next=e}return me}function Un(e,t){return typeof t=="function"?t(e):t}function Zl(e){var t=Ke(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=pe,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var i=o=null,c=null,u=a;do{var p=u.lane;if((cr&p)===p)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(i=c=d,o=n):c=c.next=d,ne.lanes|=p,ur|=p}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=i,rt(n,t.memoizedState)||(ze=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,ne.lanes|=a,ur|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ea(e){var t=Ke(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);rt(a,t.memoizedState)||(ze=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function wd(){}function jd(e,t){var r=ne,n=Ke(),s=t(),a=!rt(n.memoizedState,s);if(a&&(n.memoizedState=s,ze=!0),n=n.queue,Ko(Sd.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||me!==null&&me.memoizedState.tag&1){if(r.flags|=2048,In(9,bd.bind(null,r,n,s,t),void 0,null),ge===null)throw Error(O(349));cr&30||Nd(r,t,s)}return s}function Nd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function bd(e,t,r,n){t.value=r,t.getSnapshot=n,kd(t)&&Ed(e)}function Sd(e,t,r){return r(function(){kd(t)&&Ed(e)})}function kd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!rt(e,r)}catch{return!0}}function Ed(e){var t=Nt(e,1);t!==null&&tt(t,e,1,-1)}function ac(e){var t=ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:e},t.queue=e,e=e.dispatch=nm.bind(null,ne,e),[t.memoizedState,e]}function In(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Cd(){return Ke().memoizedState}function Es(e,t,r,n){var s=ot();ne.flags|=e,s.memoizedState=In(1|t,r,void 0,n===void 0?null:n)}function hl(e,t,r,n){var s=Ke();n=n===void 0?null:n;var a=void 0;if(pe!==null){var o=pe.memoizedState;if(a=o.destroy,n!==null&&Yo(n,o.deps)){s.memoizedState=In(t,r,a,n);return}}ne.flags|=e,s.memoizedState=In(1|t,r,a,n)}function oc(e,t){return Es(8390656,8,e,t)}function Ko(e,t){return hl(2048,8,e,t)}function Pd(e,t){return hl(4,2,e,t)}function Td(e,t){return hl(4,4,e,t)}function zd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dd(e,t,r){return r=r!=null?r.concat([e]):null,hl(4,4,zd.bind(null,t,e),r)}function Jo(){}function Rd(e,t){var r=Ke();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Yo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Od(e,t){var r=Ke();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Yo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Md(e,t,r){return cr&21?(rt(r,t)||(r=$u(),ne.lanes|=r,ur|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ze=!0),e.memoizedState=r)}function tm(e,t){var r=K;K=r!==0&&4>r?r:4,e(!0);var n=Xl.transition;Xl.transition={};try{e(!1),t()}finally{K=r,Xl.transition=n}}function _d(){return Ke().memoizedState}function rm(e,t,r){var n=It(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ld(e))Fd(t,r);else if(r=xd(e,t,r,n),r!==null){var s=Ee();tt(r,e,n,s),Ad(r,t,n)}}function nm(e,t,r){var n=It(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ld(e))Fd(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,i=a(o,r);if(s.hasEagerState=!0,s.eagerState=i,rt(i,o)){var c=t.interleaved;c===null?(s.next=s,Io(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=xd(e,t,s,n),r!==null&&(s=Ee(),tt(r,e,n,s),Ad(r,t,n))}}function Ld(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function Fd(e,t){Nn=Gs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ad(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Co(e,r)}}var Xs={readContext:qe,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},sm={readContext:qe,useCallback:function(e,t){return ot().memoizedState=[e,t===void 0?null:t],e},useContext:qe,useEffect:oc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Es(4194308,4,zd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Es(4194308,4,e,t)},useInsertionEffect:function(e,t){return Es(4,2,e,t)},useMemo:function(e,t){var r=ot();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ot();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=rm.bind(null,ne,e),[n.memoizedState,e]},useRef:function(e){var t=ot();return e={current:e},t.memoizedState=e},useState:ac,useDebugValue:Jo,useDeferredValue:function(e){return ot().memoizedState=e},useTransition:function(){var e=ac(!1),t=e[0];return e=tm.bind(null,e[1]),ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ne,s=ot();if(ee){if(r===void 0)throw Error(O(407));r=r()}else{if(r=t(),ge===null)throw Error(O(349));cr&30||Nd(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,oc(Sd.bind(null,n,a,e),[e]),n.flags|=2048,In(9,bd.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=ot(),t=ge.identifierPrefix;if(ee){var r=yt,n=xt;r=(n&~(1<<32-et(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=$n++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=em++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lm={readContext:qe,useCallback:Rd,useContext:qe,useEffect:Ko,useImperativeHandle:Dd,useInsertionEffect:Pd,useLayoutEffect:Td,useMemo:Od,useReducer:Zl,useRef:Cd,useState:function(){return Zl(Un)},useDebugValue:Jo,useDeferredValue:function(e){var t=Ke();return Md(t,pe.memoizedState,e)},useTransition:function(){var e=Zl(Un)[0],t=Ke().memoizedState;return[e,t]},useMutableSource:wd,useSyncExternalStore:jd,useId:_d,unstable_isNewReconciler:!1},am={readContext:qe,useCallback:Rd,useContext:qe,useEffect:Ko,useImperativeHandle:Dd,useInsertionEffect:Pd,useLayoutEffect:Td,useMemo:Od,useReducer:ea,useRef:Cd,useState:function(){return ea(Un)},useDebugValue:Jo,useDeferredValue:function(e){var t=Ke();return pe===null?t.memoizedState=e:Md(t,pe.memoizedState,e)},useTransition:function(){var e=ea(Un)[0],t=Ke().memoizedState;return[e,t]},useMutableSource:wd,useSyncExternalStore:jd,useId:_d,unstable_isNewReconciler:!1};function Ge(e,t){if(e&&e.defaultProps){t=se({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ua(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:se({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ml={isMounted:function(e){return(e=e._reactInternals)?yr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ee(),s=It(e),a=vt(n,s);a.payload=t,r!=null&&(a.callback=r),t=$t(e,a,s),t!==null&&(tt(t,e,s,n),Ss(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ee(),s=It(e),a=vt(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=$t(e,a,s),t!==null&&(tt(t,e,s,n),Ss(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ee(),n=It(e),s=vt(r,n);s.tag=2,t!=null&&(s.callback=t),t=$t(e,s,n),t!==null&&(tt(t,e,n,r),Ss(t,e,n))}};function ic(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!On(r,n)||!On(s,a):!0}function $d(e,t,r){var n=!1,s=Qt,a=t.contextType;return typeof a=="object"&&a!==null?a=qe(a):(s=Re(t)?or:Se.current,n=t.contextTypes,a=(n=n!=null)?Ir(e,s):Qt),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ml,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function cc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ml.enqueueReplaceState(t,t.state,null)}function Ia(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Bo(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=qe(a):(a=Re(t)?or:Se.current,s.context=Ir(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ua(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ml.enqueueReplaceState(s,s.state,null),Ks(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Hr(e,t){try{var r="",n=t;do r+=Mf(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function ta(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ba(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var om=typeof WeakMap=="function"?WeakMap:Map;function Ud(e,t,r){r=vt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){el||(el=!0,Xa=n),Ba(e,t)},r}function Id(e,t,r){r=vt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Ba(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Ba(e,t),typeof n!="function"&&(Ut===null?Ut=new Set([this]):Ut.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function uc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new om;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=jm.bind(null,e,t,r),t.then(e,e))}function dc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function pc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=vt(-1,1),t.tag=2,$t(r,t,1))),r.lanes|=1),e)}var im=kt.ReactCurrentOwner,ze=!1;function ke(e,t,r,n){t.child=e===null?gd(t,null,r,n):Wr(t,e.child,r,n)}function fc(e,t,r,n,s){r=r.render;var a=t.ref;return Ar(t,s),n=Qo(e,t,r,n,a,s),r=qo(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bt(e,t,s)):(ee&&r&&_o(t),t.flags|=1,ke(e,t,n,s),t.child)}function hc(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!si(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Bd(e,t,a,n,s)):(e=zs(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:On,r(o,n)&&e.ref===t.ref)return bt(e,t,s)}return t.flags|=1,e=Bt(a,n),e.ref=t.ref,e.return=t,t.child=e}function Bd(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(On(a,n)&&e.ref===t.ref)if(ze=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(ze=!0);else return t.lanes=e.lanes,bt(e,t,s)}return Wa(e,t,r,n,s)}function Wd(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(Or,Fe),Fe|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,G(Or,Fe),Fe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,G(Or,Fe),Fe|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,G(Or,Fe),Fe|=n;return ke(e,t,s,r),t.child}function Vd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Wa(e,t,r,n,s){var a=Re(r)?or:Se.current;return a=Ir(t,a),Ar(t,s),r=Qo(e,t,r,n,a,s),n=qo(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bt(e,t,s)):(ee&&n&&_o(t),t.flags|=1,ke(e,t,r,s),t.child)}function mc(e,t,r,n,s){if(Re(r)){var a=!0;Vs(t)}else a=!1;if(Ar(t,s),t.stateNode===null)Cs(e,t),$d(t,r,n),Ia(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,i=t.memoizedProps;o.props=i;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=qe(u):(u=Re(r)?or:Se.current,u=Ir(t,u));var p=r.getDerivedStateFromProps,d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==n||c!==u)&&cc(t,o,n,u),Tt=!1;var x=t.memoizedState;o.state=x,Ks(t,n,o,s),c=t.memoizedState,i!==n||x!==c||De.current||Tt?(typeof p=="function"&&(Ua(t,r,p,n),c=t.memoizedState),(i=Tt||ic(t,r,i,n,x,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=i):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,yd(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:Ge(t.type,i),o.props=u,d=t.pendingProps,x=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=qe(c):(c=Re(r)?or:Se.current,c=Ir(t,c));var g=r.getDerivedStateFromProps;(p=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==d||x!==c)&&cc(t,o,n,c),Tt=!1,x=t.memoizedState,o.state=x,Ks(t,n,o,s);var y=t.memoizedState;i!==d||x!==y||De.current||Tt?(typeof g=="function"&&(Ua(t,r,g,n),y=t.memoizedState),(u=Tt||ic(t,r,u,n,x,y,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),n=!1)}return Va(e,t,r,n,a,s)}function Va(e,t,r,n,s,a){Vd(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&ec(t,r,!1),bt(e,t,a);n=t.stateNode,im.current=t;var i=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Wr(t,e.child,null,a),t.child=Wr(t,null,i,a)):ke(e,t,i,a),t.memoizedState=n.state,s&&ec(t,r,!0),t.child}function Hd(e){var t=e.stateNode;t.pendingContext?Zi(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zi(e,t.context,!1),Wo(e,t.containerInfo)}function gc(e,t,r,n,s){return Br(),Fo(s),t.flags|=256,ke(e,t,r,n),t.child}var Ha={dehydrated:null,treeContext:null,retryLane:0};function Ya(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yd(e,t,r){var n=t.pendingProps,s=re.current,a=!1,o=(t.flags&128)!==0,i;if((i=o)||(i=e!==null&&e.memoizedState===null?!1:(s&2)!==0),i?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),G(re,s&1),e===null)return Aa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=yl(o,n,0,null),e=lr(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ya(r),t.memoizedState=Ha,e):Go(t,o));if(s=e.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return cm(e,t,o,n,i,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,i=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Bt(s,c),n.subtreeFlags=s.subtreeFlags&14680064),i!==null?a=Bt(i,a):(a=lr(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Ya(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Ha,n}return a=e.child,e=a.sibling,n=Bt(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Go(e,t){return t=yl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ms(e,t,r,n){return n!==null&&Fo(n),Wr(t,e.child,null,r),e=Go(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cm(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=ta(Error(O(422))),ms(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=yl({mode:"visible",children:n.children},s,0,null),a=lr(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Wr(t,e.child,null,o),t.child.memoizedState=Ya(o),t.memoizedState=Ha,a);if(!(t.mode&1))return ms(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var i=n.dgst;return n=i,a=Error(O(419)),n=ta(a,n,void 0),ms(e,t,o,n)}if(i=(o&e.childLanes)!==0,ze||i){if(n=ge,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Nt(e,s),tt(n,e,s,-1))}return ni(),n=ta(Error(O(421))),ms(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Nm.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Ae=At(s.nextSibling),$e=t,ee=!0,Ze=null,e!==null&&(Ve[He++]=xt,Ve[He++]=yt,Ve[He++]=ir,xt=e.id,yt=e.overflow,ir=t),t=Go(t,n.children),t.flags|=4096,t)}function xc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),$a(e.return,t,r)}function ra(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function Qd(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(ke(e,t,n.children,r),n=re.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xc(e,r,t);else if(e.tag===19)xc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(G(re,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Js(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ra(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Js(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ra(t,!0,r,null,a);break;case"together":ra(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ur|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,r=Bt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Bt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function um(e,t,r){switch(t.tag){case 3:Hd(t),Br();break;case 5:vd(t);break;case 1:Re(t.type)&&Vs(t);break;case 4:Wo(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;G(Qs,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(G(re,re.current&1),t.flags|=128,null):r&t.child.childLanes?Yd(e,t,r):(G(re,re.current&1),e=bt(e,t,r),e!==null?e.sibling:null);G(re,re.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Qd(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),G(re,re.current),n)break;return null;case 22:case 23:return t.lanes=0,Wd(e,t,r)}return bt(e,t,r)}var qd,Qa,Kd,Jd;qd=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qa=function(){};Kd=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,rr(dt.current);var a=null;switch(r){case"input":s=ma(e,s),n=ma(e,n),a=[];break;case"select":s=se({},s,{value:void 0}),n=se({},n,{value:void 0}),a=[];break;case"textarea":s=ya(e,s),n=ya(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Bs)}wa(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var i=s[u];for(o in i)i.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(En.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(i=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==i&&(c!=null||i!=null))if(u==="style")if(i){for(o in i)!i.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&i[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(En.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&X("scroll",e),a||i===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Jd=function(e,t,r,n){r!==n&&(t.flags|=4)};function un(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function dm(e,t,r){var n=t.pendingProps;switch(Lo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return Re(t.type)&&Ws(),je(t),null;case 3:return n=t.stateNode,Vr(),Z(De),Z(Se),Ho(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(fs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ze!==null&&(to(Ze),Ze=null))),Qa(e,t),je(t),null;case 5:Vo(t);var s=rr(An.current);if(r=t.type,e!==null&&t.stateNode!=null)Kd(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(O(166));return je(t),null}if(e=rr(dt.current),fs(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ct]=t,n[Ln]=a,e=(t.mode&1)!==0,r){case"dialog":X("cancel",n),X("close",n);break;case"iframe":case"object":case"embed":X("load",n);break;case"video":case"audio":for(s=0;s<gn.length;s++)X(gn[s],n);break;case"source":X("error",n);break;case"img":case"image":case"link":X("error",n),X("load",n);break;case"details":X("toggle",n);break;case"input":Ei(n,a),X("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},X("invalid",n);break;case"textarea":Pi(n,a),X("invalid",n)}wa(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var i=a[o];o==="children"?typeof i=="string"?n.textContent!==i&&(a.suppressHydrationWarning!==!0&&ps(n.textContent,i,e),s=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(a.suppressHydrationWarning!==!0&&ps(n.textContent,i,e),s=["children",""+i]):En.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&X("scroll",n)}switch(r){case"input":ss(n),Ci(n,a,!0);break;case"textarea":ss(n),Ti(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Bs)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Su(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ct]=t,e[Ln]=n,qd(e,t,!1,!1),t.stateNode=e;e:{switch(o=ja(r,n),r){case"dialog":X("cancel",e),X("close",e),s=n;break;case"iframe":case"object":case"embed":X("load",e),s=n;break;case"video":case"audio":for(s=0;s<gn.length;s++)X(gn[s],e);s=n;break;case"source":X("error",e),s=n;break;case"img":case"image":case"link":X("error",e),X("load",e),s=n;break;case"details":X("toggle",e),s=n;break;case"input":Ei(e,n),s=ma(e,n),X("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=se({},n,{value:void 0}),X("invalid",e);break;case"textarea":Pi(e,n),s=ya(e,n),X("invalid",e);break;default:s=n}wa(r,s),i=s;for(a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="style"?Cu(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ku(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Cn(e,c):typeof c=="number"&&Cn(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(En.hasOwnProperty(a)?c!=null&&a==="onScroll"&&X("scroll",e):c!=null&&jo(e,a,c,o))}switch(r){case"input":ss(e),Ci(e,n,!1);break;case"textarea":ss(e),Ti(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Yt(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Mr(e,!!n.multiple,a,!1):n.defaultValue!=null&&Mr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Bs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return je(t),null;case 6:if(e&&t.stateNode!=null)Jd(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(O(166));if(r=rr(An.current),rr(dt.current),fs(t)){if(n=t.stateNode,r=t.memoizedProps,n[ct]=t,(a=n.nodeValue!==r)&&(e=$e,e!==null))switch(e.tag){case 3:ps(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ps(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ct]=t,t.stateNode=n}return je(t),null;case 13:if(Z(re),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&Ae!==null&&t.mode&1&&!(t.flags&128))hd(),Br(),t.flags|=98560,a=!1;else if(a=fs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(O(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(O(317));a[ct]=t}else Br(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;je(t),a=!1}else Ze!==null&&(to(Ze),Ze=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?fe===0&&(fe=3):ni())),t.updateQueue!==null&&(t.flags|=4),je(t),null);case 4:return Vr(),Qa(e,t),e===null&&Mn(t.stateNode.containerInfo),je(t),null;case 10:return Uo(t.type._context),je(t),null;case 17:return Re(t.type)&&Ws(),je(t),null;case 19:if(Z(re),a=t.memoizedState,a===null)return je(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)un(a,!1);else{if(fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Js(e),o!==null){for(t.flags|=128,un(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return G(re,re.current&1|2),t.child}e=e.sibling}a.tail!==null&&ae()>Yr&&(t.flags|=128,n=!0,un(a,!1),t.lanes=4194304)}else{if(!n)if(e=Js(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),un(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ee)return je(t),null}else 2*ae()-a.renderingStartTime>Yr&&r!==1073741824&&(t.flags|=128,n=!0,un(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ae(),t.sibling=null,r=re.current,G(re,n?r&1|2:r&1),t):(je(t),null);case 22:case 23:return ri(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Fe&1073741824&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function pm(e,t){switch(Lo(t),t.tag){case 1:return Re(t.type)&&Ws(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vr(),Z(De),Z(Se),Ho(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vo(t),null;case 13:if(Z(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));Br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(re),null;case 4:return Vr(),null;case 10:return Uo(t.type._context),null;case 22:case 23:return ri(),null;case 24:return null;default:return null}}var gs=!1,Ne=!1,fm=typeof WeakSet=="function"?WeakSet:Set,$=null;function Rr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){le(e,t,n)}else r.current=null}function qa(e,t,r){try{r()}catch(n){le(e,t,n)}}var yc=!1;function hm(e,t){if(Da=$s,e=td(),Mo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,i=-1,c=-1,u=0,p=0,d=e,x=null;t:for(;;){for(var g;d!==r||s!==0&&d.nodeType!==3||(i=o+s),d!==a||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)x=d,d=g;for(;;){if(d===e)break t;if(x===r&&++u===s&&(i=o),x===a&&++p===n&&(c=o),(g=d.nextSibling)!==null)break;d=x,x=d.parentNode}d=g}r=i===-1||c===-1?null:{start:i,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ra={focusedElem:e,selectionRange:r},$s=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var j=y.memoizedProps,k=y.memoizedState,h=t.stateNode,f=h.getSnapshotBeforeUpdate(t.elementType===t.type?j:Ge(t.type,j),k);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(w){le(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return y=yc,yc=!1,y}function bn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&qa(t,r,a)}s=s.next}while(s!==n)}}function gl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ka(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Gd(e){var t=e.alternate;t!==null&&(e.alternate=null,Gd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ct],delete t[Ln],delete t[_a],delete t[Jh],delete t[Gh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xd(e){return e.tag===5||e.tag===3||e.tag===4}function vc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ja(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Bs));else if(n!==4&&(e=e.child,e!==null))for(Ja(e,t,r),e=e.sibling;e!==null;)Ja(e,t,r),e=e.sibling}function Ga(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ga(e,t,r),e=e.sibling;e!==null;)Ga(e,t,r),e=e.sibling}var xe=null,Xe=!1;function Ct(e,t,r){for(r=r.child;r!==null;)Zd(e,t,r),r=r.sibling}function Zd(e,t,r){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(il,r)}catch{}switch(r.tag){case 5:Ne||Rr(r,t);case 6:var n=xe,s=Xe;xe=null,Ct(e,t,r),xe=n,Xe=s,xe!==null&&(Xe?(e=xe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):xe.removeChild(r.stateNode));break;case 18:xe!==null&&(Xe?(e=xe,r=r.stateNode,e.nodeType===8?Kl(e.parentNode,r):e.nodeType===1&&Kl(e,r),Dn(e)):Kl(xe,r.stateNode));break;case 4:n=xe,s=Xe,xe=r.stateNode.containerInfo,Xe=!0,Ct(e,t,r),xe=n,Xe=s;break;case 0:case 11:case 14:case 15:if(!Ne&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&qa(r,t,o),s=s.next}while(s!==n)}Ct(e,t,r);break;case 1:if(!Ne&&(Rr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(i){le(r,t,i)}Ct(e,t,r);break;case 21:Ct(e,t,r);break;case 22:r.mode&1?(Ne=(n=Ne)||r.memoizedState!==null,Ct(e,t,r),Ne=n):Ct(e,t,r);break;default:Ct(e,t,r)}}function wc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new fm),t.forEach(function(n){var s=bm.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Je(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,i=o;e:for(;i!==null;){switch(i.tag){case 5:xe=i.stateNode,Xe=!1;break e;case 3:xe=i.stateNode.containerInfo,Xe=!0;break e;case 4:xe=i.stateNode.containerInfo,Xe=!0;break e}i=i.return}if(xe===null)throw Error(O(160));Zd(a,o,s),xe=null,Xe=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){le(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ep(t,e),t=t.sibling}function ep(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Je(t,e),lt(e),n&4){try{bn(3,e,e.return),gl(3,e)}catch(j){le(e,e.return,j)}try{bn(5,e,e.return)}catch(j){le(e,e.return,j)}}break;case 1:Je(t,e),lt(e),n&512&&r!==null&&Rr(r,r.return);break;case 5:if(Je(t,e),lt(e),n&512&&r!==null&&Rr(r,r.return),e.flags&32){var s=e.stateNode;try{Cn(s,"")}catch(j){le(e,e.return,j)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&a.type==="radio"&&a.name!=null&&Nu(s,a),ja(i,o);var u=ja(i,a);for(o=0;o<c.length;o+=2){var p=c[o],d=c[o+1];p==="style"?Cu(s,d):p==="dangerouslySetInnerHTML"?ku(s,d):p==="children"?Cn(s,d):jo(s,p,d,u)}switch(i){case"input":ga(s,a);break;case"textarea":bu(s,a);break;case"select":var x=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?Mr(s,!!a.multiple,g,!1):x!==!!a.multiple&&(a.defaultValue!=null?Mr(s,!!a.multiple,a.defaultValue,!0):Mr(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ln]=a}catch(j){le(e,e.return,j)}}break;case 6:if(Je(t,e),lt(e),n&4){if(e.stateNode===null)throw Error(O(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(j){le(e,e.return,j)}}break;case 3:if(Je(t,e),lt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Dn(t.containerInfo)}catch(j){le(e,e.return,j)}break;case 4:Je(t,e),lt(e);break;case 13:Je(t,e),lt(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(ei=ae())),n&4&&wc(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(Ne=(u=Ne)||p,Je(t,e),Ne=u):Je(t,e),lt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!p&&e.mode&1)for($=e,p=e.child;p!==null;){for(d=$=p;$!==null;){switch(x=$,g=x.child,x.tag){case 0:case 11:case 14:case 15:bn(4,x,x.return);break;case 1:Rr(x,x.return);var y=x.stateNode;if(typeof y.componentWillUnmount=="function"){n=x,r=x.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(j){le(n,r,j)}}break;case 5:Rr(x,x.return);break;case 22:if(x.memoizedState!==null){Nc(d);continue}}g!==null?(g.return=x,$=g):Nc(d)}p=p.sibling}e:for(p=null,d=e;;){if(d.tag===5){if(p===null){p=d;try{s=d.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(i=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=Eu("display",o))}catch(j){le(e,e.return,j)}}}else if(d.tag===6){if(p===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(j){le(e,e.return,j)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Je(t,e),lt(e),n&4&&wc(e);break;case 21:break;default:Je(t,e),lt(e)}}function lt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Xd(r)){var n=r;break e}r=r.return}throw Error(O(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Cn(s,""),n.flags&=-33);var a=vc(e);Ga(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,i=vc(e);Ja(e,i,o);break;default:throw Error(O(161))}}catch(c){le(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mm(e,t,r){$=e,tp(e)}function tp(e,t,r){for(var n=(e.mode&1)!==0;$!==null;){var s=$,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||gs;if(!o){var i=s.alternate,c=i!==null&&i.memoizedState!==null||Ne;i=gs;var u=Ne;if(gs=o,(Ne=c)&&!u)for($=s;$!==null;)o=$,c=o.child,o.tag===22&&o.memoizedState!==null?bc(s):c!==null?(c.return=o,$=c):bc(s);for(;a!==null;)$=a,tp(a),a=a.sibling;$=s,gs=i,Ne=u}jc(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,$=a):jc(e)}}function jc(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||gl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ne)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ge(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&lc(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}lc(t,o,r)}break;case 5:var i=t.stateNode;if(r===null&&t.flags&4){r=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var d=p.dehydrated;d!==null&&Dn(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Ne||t.flags&512&&Ka(t)}catch(x){le(t,t.return,x)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function Nc(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function bc(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{gl(4,t)}catch(c){le(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){le(t,s,c)}}var a=t.return;try{Ka(t)}catch(c){le(t,a,c)}break;case 5:var o=t.return;try{Ka(t)}catch(c){le(t,o,c)}}}catch(c){le(t,t.return,c)}if(t===e){$=null;break}var i=t.sibling;if(i!==null){i.return=t.return,$=i;break}$=t.return}}var gm=Math.ceil,Zs=kt.ReactCurrentDispatcher,Xo=kt.ReactCurrentOwner,Qe=kt.ReactCurrentBatchConfig,Q=0,ge=null,ue=null,ye=0,Fe=0,Or=Kt(0),fe=0,Bn=null,ur=0,xl=0,Zo=0,Sn=null,Te=null,ei=0,Yr=1/0,ht=null,el=!1,Xa=null,Ut=null,xs=!1,Ot=null,tl=0,kn=0,Za=null,Ps=-1,Ts=0;function Ee(){return Q&6?ae():Ps!==-1?Ps:Ps=ae()}function It(e){return e.mode&1?Q&2&&ye!==0?ye&-ye:Zh.transition!==null?(Ts===0&&(Ts=$u()),Ts):(e=K,e!==0||(e=window.event,e=e===void 0?16:Yu(e.type)),e):1}function tt(e,t,r,n){if(50<kn)throw kn=0,Za=null,Error(O(185));Qn(e,r,n),(!(Q&2)||e!==ge)&&(e===ge&&(!(Q&2)&&(xl|=r),fe===4&&Dt(e,ye)),Oe(e,n),r===1&&Q===0&&!(t.mode&1)&&(Yr=ae()+500,fl&&Jt()))}function Oe(e,t){var r=e.callbackNode;Zf(e,t);var n=As(e,e===ge?ye:0);if(n===0)r!==null&&Ri(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ri(r),t===1)e.tag===0?Xh(Sc.bind(null,e)):dd(Sc.bind(null,e)),qh(function(){!(Q&6)&&Jt()}),r=null;else{switch(Uu(n)){case 1:r=Eo;break;case 4:r=Fu;break;case 16:r=Fs;break;case 536870912:r=Au;break;default:r=Fs}r=cp(r,rp.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function rp(e,t){if(Ps=-1,Ts=0,Q&6)throw Error(O(327));var r=e.callbackNode;if($r()&&e.callbackNode!==r)return null;var n=As(e,e===ge?ye:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=rl(e,n);else{t=n;var s=Q;Q|=2;var a=sp();(ge!==e||ye!==t)&&(ht=null,Yr=ae()+500,sr(e,t));do try{vm();break}catch(i){np(e,i)}while(!0);$o(),Zs.current=a,Q=s,ue!==null?t=0:(ge=null,ye=0,t=fe)}if(t!==0){if(t===2&&(s=Ea(e),s!==0&&(n=s,t=eo(e,s))),t===1)throw r=Bn,sr(e,0),Dt(e,n),Oe(e,ae()),r;if(t===6)Dt(e,n);else{if(s=e.current.alternate,!(n&30)&&!xm(s)&&(t=rl(e,n),t===2&&(a=Ea(e),a!==0&&(n=a,t=eo(e,a))),t===1))throw r=Bn,sr(e,0),Dt(e,n),Oe(e,ae()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(O(345));case 2:Zt(e,Te,ht);break;case 3:if(Dt(e,n),(n&130023424)===n&&(t=ei+500-ae(),10<t)){if(As(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ee(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ma(Zt.bind(null,e,Te,ht),t);break}Zt(e,Te,ht);break;case 4:if(Dt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-et(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=ae()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*gm(n/1960))-n,10<n){e.timeoutHandle=Ma(Zt.bind(null,e,Te,ht),n);break}Zt(e,Te,ht);break;case 5:Zt(e,Te,ht);break;default:throw Error(O(329))}}}return Oe(e,ae()),e.callbackNode===r?rp.bind(null,e):null}function eo(e,t){var r=Sn;return e.current.memoizedState.isDehydrated&&(sr(e,t).flags|=256),e=rl(e,t),e!==2&&(t=Te,Te=r,t!==null&&to(t)),e}function to(e){Te===null?Te=e:Te.push.apply(Te,e)}function xm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!rt(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dt(e,t){for(t&=~Zo,t&=~xl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-et(t),n=1<<r;e[r]=-1,t&=~n}}function Sc(e){if(Q&6)throw Error(O(327));$r();var t=As(e,0);if(!(t&1))return Oe(e,ae()),null;var r=rl(e,t);if(e.tag!==0&&r===2){var n=Ea(e);n!==0&&(t=n,r=eo(e,n))}if(r===1)throw r=Bn,sr(e,0),Dt(e,t),Oe(e,ae()),r;if(r===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zt(e,Te,ht),Oe(e,ae()),null}function ti(e,t){var r=Q;Q|=1;try{return e(t)}finally{Q=r,Q===0&&(Yr=ae()+500,fl&&Jt())}}function dr(e){Ot!==null&&Ot.tag===0&&!(Q&6)&&$r();var t=Q;Q|=1;var r=Qe.transition,n=K;try{if(Qe.transition=null,K=1,e)return e()}finally{K=n,Qe.transition=r,Q=t,!(Q&6)&&Jt()}}function ri(){Fe=Or.current,Z(Or)}function sr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Qh(r)),ue!==null)for(r=ue.return;r!==null;){var n=r;switch(Lo(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ws();break;case 3:Vr(),Z(De),Z(Se),Ho();break;case 5:Vo(n);break;case 4:Vr();break;case 13:Z(re);break;case 19:Z(re);break;case 10:Uo(n.type._context);break;case 22:case 23:ri()}r=r.return}if(ge=e,ue=e=Bt(e.current,null),ye=Fe=t,fe=0,Bn=null,Zo=xl=ur=0,Te=Sn=null,tr!==null){for(t=0;t<tr.length;t++)if(r=tr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}tr=null}return e}function np(e,t){do{var r=ue;try{if($o(),ks.current=Xs,Gs){for(var n=ne.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Gs=!1}if(cr=0,me=pe=ne=null,Nn=!1,$n=0,Xo.current=null,r===null||r.return===null){fe=1,Bn=t,ue=null;break}e:{var a=e,o=r.return,i=r,c=t;if(t=ye,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,p=i,d=p.tag;if(!(p.mode&1)&&(d===0||d===11||d===15)){var x=p.alternate;x?(p.updateQueue=x.updateQueue,p.memoizedState=x.memoizedState,p.lanes=x.lanes):(p.updateQueue=null,p.memoizedState=null)}var g=dc(o);if(g!==null){g.flags&=-257,pc(g,o,i,a,t),g.mode&1&&uc(a,u,t),t=g,c=u;var y=t.updateQueue;if(y===null){var j=new Set;j.add(c),t.updateQueue=j}else y.add(c);break e}else{if(!(t&1)){uc(a,u,t),ni();break e}c=Error(O(426))}}else if(ee&&i.mode&1){var k=dc(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),pc(k,o,i,a,t),Fo(Hr(c,i));break e}}a=c=Hr(c,i),fe!==4&&(fe=2),Sn===null?Sn=[a]:Sn.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var h=Ud(a,c,t);sc(a,h);break e;case 1:i=c;var f=a.type,m=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ut===null||!Ut.has(m)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=Id(a,i,t);sc(a,w);break e}}a=a.return}while(a!==null)}ap(r)}catch(E){t=E,ue===r&&r!==null&&(ue=r=r.return);continue}break}while(!0)}function sp(){var e=Zs.current;return Zs.current=Xs,e===null?Xs:e}function ni(){(fe===0||fe===3||fe===2)&&(fe=4),ge===null||!(ur&268435455)&&!(xl&268435455)||Dt(ge,ye)}function rl(e,t){var r=Q;Q|=2;var n=sp();(ge!==e||ye!==t)&&(ht=null,sr(e,t));do try{ym();break}catch(s){np(e,s)}while(!0);if($o(),Q=r,Zs.current=n,ue!==null)throw Error(O(261));return ge=null,ye=0,fe}function ym(){for(;ue!==null;)lp(ue)}function vm(){for(;ue!==null&&!Vf();)lp(ue)}function lp(e){var t=ip(e.alternate,e,Fe);e.memoizedProps=e.pendingProps,t===null?ap(e):ue=t,Xo.current=null}function ap(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=pm(r,t),r!==null){r.flags&=32767,ue=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fe=6,ue=null;return}}else if(r=dm(r,t,Fe),r!==null){ue=r;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);fe===0&&(fe=5)}function Zt(e,t,r){var n=K,s=Qe.transition;try{Qe.transition=null,K=1,wm(e,t,r,n)}finally{Qe.transition=s,K=n}return null}function wm(e,t,r,n){do $r();while(Ot!==null);if(Q&6)throw Error(O(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(eh(e,a),e===ge&&(ue=ge=null,ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||xs||(xs=!0,cp(Fs,function(){return $r(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Qe.transition,Qe.transition=null;var o=K;K=1;var i=Q;Q|=4,Xo.current=null,hm(e,r),ep(r,e),Uh(Ra),$s=!!Da,Ra=Da=null,e.current=r,mm(r),Hf(),Q=i,K=o,Qe.transition=a}else e.current=r;if(xs&&(xs=!1,Ot=e,tl=s),a=e.pendingLanes,a===0&&(Ut=null),qf(r.stateNode),Oe(e,ae()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(el)throw el=!1,e=Xa,Xa=null,e;return tl&1&&e.tag!==0&&$r(),a=e.pendingLanes,a&1?e===Za?kn++:(kn=0,Za=e):kn=0,Jt(),null}function $r(){if(Ot!==null){var e=Uu(tl),t=Qe.transition,r=K;try{if(Qe.transition=null,K=16>e?16:e,Ot===null)var n=!1;else{if(e=Ot,Ot=null,tl=0,Q&6)throw Error(O(331));var s=Q;for(Q|=4,$=e.current;$!==null;){var a=$,o=a.child;if($.flags&16){var i=a.deletions;if(i!==null){for(var c=0;c<i.length;c++){var u=i[c];for($=u;$!==null;){var p=$;switch(p.tag){case 0:case 11:case 15:bn(8,p,a)}var d=p.child;if(d!==null)d.return=p,$=d;else for(;$!==null;){p=$;var x=p.sibling,g=p.return;if(Gd(p),p===u){$=null;break}if(x!==null){x.return=g,$=x;break}$=g}}}var y=a.alternate;if(y!==null){var j=y.child;if(j!==null){y.child=null;do{var k=j.sibling;j.sibling=null,j=k}while(j!==null)}}$=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,$=o;else e:for(;$!==null;){if(a=$,a.flags&2048)switch(a.tag){case 0:case 11:case 15:bn(9,a,a.return)}var h=a.sibling;if(h!==null){h.return=a.return,$=h;break e}$=a.return}}var f=e.current;for($=f;$!==null;){o=$;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,$=m;else e:for(o=f;$!==null;){if(i=$,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:gl(9,i)}}catch(E){le(i,i.return,E)}if(i===o){$=null;break e}var w=i.sibling;if(w!==null){w.return=i.return,$=w;break e}$=i.return}}if(Q=s,Jt(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(il,e)}catch{}n=!0}return n}finally{K=r,Qe.transition=t}}return!1}function kc(e,t,r){t=Hr(r,t),t=Ud(e,t,1),e=$t(e,t,1),t=Ee(),e!==null&&(Qn(e,1,t),Oe(e,t))}function le(e,t,r){if(e.tag===3)kc(e,e,r);else for(;t!==null;){if(t.tag===3){kc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ut===null||!Ut.has(n))){e=Hr(r,e),e=Id(t,e,1),t=$t(t,e,1),e=Ee(),t!==null&&(Qn(t,1,e),Oe(t,e));break}}t=t.return}}function jm(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ee(),e.pingedLanes|=e.suspendedLanes&r,ge===e&&(ye&r)===r&&(fe===4||fe===3&&(ye&130023424)===ye&&500>ae()-ei?sr(e,0):Zo|=r),Oe(e,t)}function op(e,t){t===0&&(e.mode&1?(t=os,os<<=1,!(os&130023424)&&(os=4194304)):t=1);var r=Ee();e=Nt(e,t),e!==null&&(Qn(e,t,r),Oe(e,r))}function Nm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),op(e,r)}function bm(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(t),op(e,r)}var ip;ip=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||De.current)ze=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ze=!1,um(e,t,r);ze=!!(e.flags&131072)}else ze=!1,ee&&t.flags&1048576&&pd(t,Ys,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Cs(e,t),e=t.pendingProps;var s=Ir(t,Se.current);Ar(t,r),s=Qo(null,t,n,e,s,r);var a=qo();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Re(n)?(a=!0,Vs(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Bo(t),s.updater=ml,t.stateNode=s,s._reactInternals=t,Ia(t,n,e,r),t=Va(null,t,n,!0,a,r)):(t.tag=0,ee&&a&&_o(t),ke(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Cs(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=km(n),e=Ge(n,e),s){case 0:t=Wa(null,t,n,e,r);break e;case 1:t=mc(null,t,n,e,r);break e;case 11:t=fc(null,t,n,e,r);break e;case 14:t=hc(null,t,n,Ge(n.type,e),r);break e}throw Error(O(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ge(n,s),Wa(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ge(n,s),mc(e,t,n,s,r);case 3:e:{if(Hd(t),e===null)throw Error(O(387));n=t.pendingProps,a=t.memoizedState,s=a.element,yd(e,t),Ks(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Hr(Error(O(423)),t),t=gc(e,t,n,r,s);break e}else if(n!==s){s=Hr(Error(O(424)),t),t=gc(e,t,n,r,s);break e}else for(Ae=At(t.stateNode.containerInfo.firstChild),$e=t,ee=!0,Ze=null,r=gd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Br(),n===s){t=bt(e,t,r);break e}ke(e,t,n,r)}t=t.child}return t;case 5:return vd(t),e===null&&Aa(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Oa(n,s)?o=null:a!==null&&Oa(n,a)&&(t.flags|=32),Vd(e,t),ke(e,t,o,r),t.child;case 6:return e===null&&Aa(t),null;case 13:return Yd(e,t,r);case 4:return Wo(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Wr(t,null,n,r):ke(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ge(n,s),fc(e,t,n,s,r);case 7:return ke(e,t,t.pendingProps,r),t.child;case 8:return ke(e,t,t.pendingProps.children,r),t.child;case 12:return ke(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,G(Qs,n._currentValue),n._currentValue=o,a!==null)if(rt(a.value,o)){if(a.children===s.children&&!De.current){t=bt(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){o=a.child;for(var c=i.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=vt(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?c.next=c:(c.next=p.next,p.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),$a(a.return,r,t),i.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(O(341));o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),$a(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ke(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ar(t,r),s=qe(s),n=n(s),t.flags|=1,ke(e,t,n,r),t.child;case 14:return n=t.type,s=Ge(n,t.pendingProps),s=Ge(n.type,s),hc(e,t,n,s,r);case 15:return Bd(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ge(n,s),Cs(e,t),t.tag=1,Re(n)?(e=!0,Vs(t)):e=!1,Ar(t,r),$d(t,n,s),Ia(t,n,s,r),Va(null,t,n,!0,e,r);case 19:return Qd(e,t,r);case 22:return Wd(e,t,r)}throw Error(O(156,t.tag))};function cp(e,t){return Lu(e,t)}function Sm(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(e,t,r,n){return new Sm(e,t,r,n)}function si(e){return e=e.prototype,!(!e||!e.isReactComponent)}function km(e){if(typeof e=="function")return si(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bo)return 11;if(e===So)return 14}return 2}function Bt(e,t){var r=e.alternate;return r===null?(r=Ye(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function zs(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")si(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case br:return lr(r.children,s,a,t);case No:o=8,s|=8;break;case da:return e=Ye(12,r,t,s|2),e.elementType=da,e.lanes=a,e;case pa:return e=Ye(13,r,t,s),e.elementType=pa,e.lanes=a,e;case fa:return e=Ye(19,r,t,s),e.elementType=fa,e.lanes=a,e;case vu:return yl(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xu:o=10;break e;case yu:o=9;break e;case bo:o=11;break e;case So:o=14;break e;case Pt:o=16,n=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=Ye(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function lr(e,t,r,n){return e=Ye(7,e,n,t),e.lanes=r,e}function yl(e,t,r,n){return e=Ye(22,e,n,t),e.elementType=vu,e.lanes=r,e.stateNode={isHidden:!1},e}function na(e,t,r){return e=Ye(6,e,null,t),e.lanes=r,e}function sa(e,t,r){return t=Ye(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Em(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Al(0),this.expirationTimes=Al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function li(e,t,r,n,s,a,o,i,c){return e=new Em(e,t,r,i,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ye(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bo(a),e}function Cm(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function up(e){if(!e)return Qt;e=e._reactInternals;e:{if(yr(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Re(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var r=e.type;if(Re(r))return ud(e,r,t)}return t}function dp(e,t,r,n,s,a,o,i,c){return e=li(r,n,!0,e,s,a,o,i,c),e.context=up(null),r=e.current,n=Ee(),s=It(r),a=vt(n,s),a.callback=t??null,$t(r,a,s),e.current.lanes=s,Qn(e,s,n),Oe(e,n),e}function vl(e,t,r,n){var s=t.current,a=Ee(),o=It(s);return r=up(r),t.context===null?t.context=r:t.pendingContext=r,t=vt(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=$t(s,t,o),e!==null&&(tt(e,s,o,a),Ss(e,s,o)),o}function nl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ec(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ai(e,t){Ec(e,t),(e=e.alternate)&&Ec(e,t)}function Pm(){return null}var pp=typeof reportError=="function"?reportError:function(e){console.error(e)};function oi(e){this._internalRoot=e}wl.prototype.render=oi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));vl(e,t,null,null)};wl.prototype.unmount=oi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dr(function(){vl(null,e,null,null)}),t[jt]=null}};function wl(e){this._internalRoot=e}wl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<zt.length&&t!==0&&t<zt[r].priority;r++);zt.splice(r,0,e),r===0&&Hu(e)}};function ii(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cc(){}function Tm(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=nl(o);a.call(u)}}var o=dp(t,n,e,0,null,!1,!1,"",Cc);return e._reactRootContainer=o,e[jt]=o.current,Mn(e.nodeType===8?e.parentNode:e),dr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var i=n;n=function(){var u=nl(c);i.call(u)}}var c=li(e,0,!1,null,null,!1,!1,"",Cc);return e._reactRootContainer=c,e[jt]=c.current,Mn(e.nodeType===8?e.parentNode:e),dr(function(){vl(t,c,r,n)}),c}function Nl(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var i=s;s=function(){var c=nl(o);i.call(c)}}vl(t,o,e,s)}else o=Tm(r,t,e,s,n);return nl(o)}Iu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=mn(t.pendingLanes);r!==0&&(Co(t,r|1),Oe(t,ae()),!(Q&6)&&(Yr=ae()+500,Jt()))}break;case 13:dr(function(){var n=Nt(e,1);if(n!==null){var s=Ee();tt(n,e,1,s)}}),ai(e,1)}};Po=function(e){if(e.tag===13){var t=Nt(e,134217728);if(t!==null){var r=Ee();tt(t,e,134217728,r)}ai(e,134217728)}};Bu=function(e){if(e.tag===13){var t=It(e),r=Nt(e,t);if(r!==null){var n=Ee();tt(r,e,t,n)}ai(e,t)}};Wu=function(){return K};Vu=function(e,t){var r=K;try{return K=e,t()}finally{K=r}};ba=function(e,t,r){switch(t){case"input":if(ga(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=pl(n);if(!s)throw Error(O(90));ju(n),ga(n,s)}}}break;case"textarea":bu(e,r);break;case"select":t=r.value,t!=null&&Mr(e,!!r.multiple,t,!1)}};zu=ti;Du=dr;var zm={usingClientEntryPoint:!1,Events:[Kn,Cr,pl,Pu,Tu,ti]},dn={findFiberByHostInstance:er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dm={bundleType:dn.bundleType,version:dn.version,rendererPackageName:dn.rendererPackageName,rendererConfig:dn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mu(e),e===null?null:e.stateNode},findFiberByHostInstance:dn.findFiberByHostInstance||Pm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ys=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ys.isDisabled&&ys.supportsFiber)try{il=ys.inject(Dm),ut=ys}catch{}}Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zm;Ie.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ii(t))throw Error(O(200));return Cm(e,t,null,r)};Ie.createRoot=function(e,t){if(!ii(e))throw Error(O(299));var r=!1,n="",s=pp;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=li(e,1,!1,null,null,r,!1,n,s),e[jt]=t.current,Mn(e.nodeType===8?e.parentNode:e),new oi(t)};Ie.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=Mu(t),e=e===null?null:e.stateNode,e};Ie.flushSync=function(e){return dr(e)};Ie.hydrate=function(e,t,r){if(!jl(t))throw Error(O(200));return Nl(null,e,t,!0,r)};Ie.hydrateRoot=function(e,t,r){if(!ii(e))throw Error(O(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=pp;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=dp(t,null,e,1,r??null,s,!1,a,o),e[jt]=t.current,Mn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new wl(t)};Ie.render=function(e,t,r){if(!jl(t))throw Error(O(200));return Nl(null,e,t,!1,r)};Ie.unmountComponentAtNode=function(e){if(!jl(e))throw Error(O(40));return e._reactRootContainer?(dr(function(){Nl(null,null,e,!1,function(){e._reactRootContainer=null,e[jt]=null})}),!0):!1};Ie.unstable_batchedUpdates=ti;Ie.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!jl(r))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return Nl(e,t,r,!1,n)};Ie.version="18.3.1-next-f1338f8080-20240426";function fp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fp)}catch(e){console.error(e)}}fp(),fu.exports=Ie;var Rm=fu.exports,Pc=Rm;ca.createRoot=Pc.createRoot,ca.hydrateRoot=Pc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wn(){return Wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wn.apply(this,arguments)}var Mt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mt||(Mt={}));const Tc="popstate";function Om(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:i}=n.location;return ro("",{pathname:a,search:o,hash:i},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:sl(s)}return _m(t,r,null,e)}function oe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Mm(){return Math.random().toString(36).substr(2,8)}function zc(e,t){return{usr:e.state,key:e.key,idx:t}}function ro(e,t,r,n){return r===void 0&&(r=null),Wn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xr(t):t,{state:r,key:t&&t.key||n||Mm()})}function sl(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function _m(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,i=Mt.Pop,c=null,u=p();u==null&&(u=0,o.replaceState(Wn({},o.state,{idx:u}),""));function p(){return(o.state||{idx:null}).idx}function d(){i=Mt.Pop;let k=p(),h=k==null?null:k-u;u=k,c&&c({action:i,location:j.location,delta:h})}function x(k,h){i=Mt.Push;let f=ro(j.location,k,h);u=p()+1;let m=zc(f,u),w=j.createHref(f);try{o.pushState(m,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(w)}a&&c&&c({action:i,location:j.location,delta:1})}function g(k,h){i=Mt.Replace;let f=ro(j.location,k,h);u=p();let m=zc(f,u),w=j.createHref(f);o.replaceState(m,"",w),a&&c&&c({action:i,location:j.location,delta:0})}function y(k){let h=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof k=="string"?k:sl(k);return f=f.replace(/ $/,"%20"),oe(h,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,h)}let j={get action(){return i},get location(){return e(s,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Tc,d),c=k,()=>{s.removeEventListener(Tc,d),c=null}},createHref(k){return t(s,k)},createURL:y,encodeLocation(k){let h=y(k);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:x,replace:g,go(k){return o.go(k)}};return j}var Dc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Dc||(Dc={}));function Lm(e,t,r){return r===void 0&&(r="/"),Fm(e,t,r)}function Fm(e,t,r,n){let s=typeof t=="string"?Xr(t):t,a=ci(s.pathname||"/",r);if(a==null)return null;let o=mp(e);Am(o);let i=null;for(let c=0;i==null&&c<o.length;++c){let u=Jm(a);i=Qm(o[c],u)}return i}function mp(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,i)=>{let c={relativePath:i===void 0?a.path||"":i,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(oe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Wt([n,c.relativePath]),p=r.concat(c);a.children&&a.children.length>0&&(oe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mp(a.children,t,p,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Hm(u,a.index),routesMeta:p})};return e.forEach((a,o)=>{var i;if(a.path===""||!((i=a.path)!=null&&i.includes("?")))s(a,o);else for(let c of gp(a.path))s(a,o,c)}),t}function gp(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=gp(n.join("/")),i=[];return i.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&i.push(...o),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function Am(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Ym(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const $m=/^:[\w-]+$/,Um=3,Im=2,Bm=1,Wm=10,Vm=-2,Rc=e=>e==="*";function Hm(e,t){let r=e.split("/"),n=r.length;return r.some(Rc)&&(n+=Vm),t&&(n+=Im),r.filter(s=>!Rc(s)).reduce((s,a)=>s+($m.test(a)?Um:a===""?Bm:Wm),n)}function Ym(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Qm(e,t,r){let{routesMeta:n}=e,s={},a="/",o=[];for(let i=0;i<n.length;++i){let c=n[i],u=i===n.length-1,p=a==="/"?t:t.slice(a.length)||"/",d=qm({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},p),x=c.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Wt([a,d.pathname]),pathnameBase:eg(Wt([a,d.pathnameBase])),route:x}),d.pathnameBase!=="/"&&(a=Wt([a,d.pathnameBase]))}return o}function qm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Km(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:n.reduce((u,p,d)=>{let{paramName:x,isOptional:g}=p;if(x==="*"){let j=i[d]||"";o=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const y=i[d];return g&&!y?u[x]=void 0:u[x]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function Km(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),hp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,i,c)=>(n.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Jm(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ci(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Gm(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Xr(e):e;return{pathname:r?r.startsWith("/")?r:Xm(r,t):t,search:tg(n),hash:rg(s)}}function Xm(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function la(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zm(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ui(e,t){let r=Zm(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function di(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Xr(e):(s=Wn({},e),oe(!s.pathname||!s.pathname.includes("?"),la("?","pathname","search",s)),oe(!s.pathname||!s.pathname.includes("#"),la("#","pathname","hash",s)),oe(!s.search||!s.search.includes("#"),la("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,i;if(o==null)i=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),d-=1;s.pathname=x.join("/")}i=d>=0?t[d]:"/"}let c=Gm(s,i),u=o&&o!=="/"&&o.endsWith("/"),p=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||p)&&(c.pathname+="/"),c}const Wt=e=>e.join("/").replace(/\/\/+/g,"/"),eg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ng(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const xp=["post","put","patch","delete"];new Set(xp);const sg=["get",...xp];new Set(sg);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vn(){return Vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vn.apply(this,arguments)}const pi=v.createContext(null),lg=v.createContext(null),Gt=v.createContext(null),bl=v.createContext(null),Et=v.createContext({outlet:null,matches:[],isDataRoute:!1}),yp=v.createContext(null);function ag(e,t){let{relative:r}=t===void 0?{}:t;Zr()||oe(!1);let{basename:n,navigator:s}=v.useContext(Gt),{hash:a,pathname:o,search:i}=jp(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Wt([n,o])),s.createHref({pathname:c,search:i,hash:a})}function Zr(){return v.useContext(bl)!=null}function vr(){return Zr()||oe(!1),v.useContext(bl).location}function vp(e){v.useContext(Gt).static||v.useLayoutEffect(e)}function fi(){let{isDataRoute:e}=v.useContext(Et);return e?vg():og()}function og(){Zr()||oe(!1);let e=v.useContext(pi),{basename:t,future:r,navigator:n}=v.useContext(Gt),{matches:s}=v.useContext(Et),{pathname:a}=vr(),o=JSON.stringify(ui(s,r.v7_relativeSplatPath)),i=v.useRef(!1);return vp(()=>{i.current=!0}),v.useCallback(function(u,p){if(p===void 0&&(p={}),!i.current)return;if(typeof u=="number"){n.go(u);return}let d=di(u,JSON.parse(o),a,p.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Wt([t,d.pathname])),(p.replace?n.replace:n.push)(d,p.state,p)},[t,n,o,a,e])}function wp(){let{matches:e}=v.useContext(Et),t=e[e.length-1];return t?t.params:{}}function jp(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=v.useContext(Gt),{matches:s}=v.useContext(Et),{pathname:a}=vr(),o=JSON.stringify(ui(s,n.v7_relativeSplatPath));return v.useMemo(()=>di(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function ig(e,t){return cg(e,t)}function cg(e,t,r,n){Zr()||oe(!1);let{navigator:s}=v.useContext(Gt),{matches:a}=v.useContext(Et),o=a[a.length-1],i=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=vr(),p;if(t){var d;let k=typeof t=="string"?Xr(t):t;c==="/"||(d=k.pathname)!=null&&d.startsWith(c)||oe(!1),p=k}else p=u;let x=p.pathname||"/",g=x;if(c!=="/"){let k=c.replace(/^\//,"").split("/");g="/"+x.replace(/^\//,"").split("/").slice(k.length).join("/")}let y=Lm(e,{pathname:g}),j=hg(y&&y.map(k=>Object.assign({},k,{params:Object.assign({},i,k.params),pathname:Wt([c,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:Wt([c,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,r,n);return t&&j?v.createElement(bl.Provider,{value:{location:Vn({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Mt.Pop}},j):j}function ug(){let e=yg(),t=ng(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:s},r):null,null)}const dg=v.createElement(ug,null);class pg extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(Et.Provider,{value:this.props.routeContext},v.createElement(yp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fg(e){let{routeContext:t,match:r,children:n}=e,s=v.useContext(pi);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(Et.Provider,{value:t},n)}function hg(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,i=(s=r)==null?void 0:s.errors;if(i!=null){let p=o.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);p>=0||oe(!1),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<o.length;p++){let d=o[p];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=p),d.route.id){let{loaderData:x,errors:g}=r,y=d.route.loader&&x[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((p,d,x)=>{let g,y=!1,j=null,k=null;r&&(g=i&&d.route.id?i[d.route.id]:void 0,j=d.route.errorElement||dg,c&&(u<0&&x===0?(wg("route-fallback"),y=!0,k=null):u===x&&(y=!0,k=d.route.hydrateFallbackElement||null)));let h=t.concat(o.slice(0,x+1)),f=()=>{let m;return g?m=j:y?m=k:d.route.Component?m=v.createElement(d.route.Component,null):d.route.element?m=d.route.element:m=p,v.createElement(fg,{match:d,routeContext:{outlet:p,matches:h,isDataRoute:r!=null},children:m})};return r&&(d.route.ErrorBoundary||d.route.errorElement||x===0)?v.createElement(pg,{location:r.location,revalidation:r.revalidation,component:j,error:g,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var Np=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Np||{}),bp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(bp||{});function mg(e){let t=v.useContext(pi);return t||oe(!1),t}function gg(e){let t=v.useContext(lg);return t||oe(!1),t}function xg(e){let t=v.useContext(Et);return t||oe(!1),t}function Sp(e){let t=xg(),r=t.matches[t.matches.length-1];return r.route.id||oe(!1),r.route.id}function yg(){var e;let t=v.useContext(yp),r=gg(),n=Sp();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function vg(){let{router:e}=mg(Np.UseNavigateStable),t=Sp(bp.UseNavigateStable),r=v.useRef(!1);return vp(()=>{r.current=!0}),v.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Vn({fromRouteId:t},a)))},[e,t])}const Oc={};function wg(e,t,r){Oc[e]||(Oc[e]=!0)}function jg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ng(e){let{to:t,replace:r,state:n,relative:s}=e;Zr()||oe(!1);let{future:a,static:o}=v.useContext(Gt),{matches:i}=v.useContext(Et),{pathname:c}=vr(),u=fi(),p=di(t,ui(i,a.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(p);return v.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function We(e){oe(!1)}function bg(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Mt.Pop,navigator:a,static:o=!1,future:i}=e;Zr()&&oe(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:a,static:o,future:Vn({v7_relativeSplatPath:!1},i)}),[c,i,a,o]);typeof n=="string"&&(n=Xr(n));let{pathname:p="/",search:d="",hash:x="",state:g=null,key:y="default"}=n,j=v.useMemo(()=>{let k=ci(p,c);return k==null?null:{location:{pathname:k,search:d,hash:x,state:g,key:y},navigationType:s}},[c,p,d,x,g,y,s]);return j==null?null:v.createElement(Gt.Provider,{value:u},v.createElement(bl.Provider,{children:r,value:j}))}function Sg(e){let{children:t,location:r}=e;return ig(no(t),r)}new Promise(()=>{});function no(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(n,s)=>{if(!v.isValidElement(n))return;let a=[...t,s];if(n.type===v.Fragment){r.push.apply(r,no(n.props.children,a));return}n.type!==We&&oe(!1),!n.props.index||!n.props.children||oe(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=no(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},so.apply(this,arguments)}function kg(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Eg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Cg(e,t){return e.button===0&&(!t||t==="_self")&&!Eg(e)}function lo(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Pg(e,t){let r=lo(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const Tg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zg="6";try{window.__reactRouterVersion=zg}catch{}const Dg="startTransition",Mc=jf[Dg];function Rg(e){let{basename:t,children:r,future:n,window:s}=e,a=v.useRef();a.current==null&&(a.current=Om({window:s,v5Compat:!0}));let o=a.current,[i,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},p=v.useCallback(d=>{u&&Mc?Mc(()=>c(d)):c(d)},[c,u]);return v.useLayoutEffect(()=>o.listen(p),[o,p]),v.useEffect(()=>jg(n),[n]),v.createElement(bg,{basename:t,children:r,location:i.location,navigationType:i.action,navigator:o,future:n})}const Og=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,te=v.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:i,target:c,to:u,preventScrollReset:p,viewTransition:d}=t,x=kg(t,Tg),{basename:g}=v.useContext(Gt),y,j=!1;if(typeof u=="string"&&Mg.test(u)&&(y=u,Og))try{let m=new URL(window.location.href),w=u.startsWith("//")?new URL(m.protocol+u):new URL(u),E=ci(w.pathname,g);w.origin===m.origin&&E!=null?u=E+w.search+w.hash:j=!0}catch{}let k=ag(u,{relative:s}),h=_g(u,{replace:o,state:i,target:c,preventScrollReset:p,relative:s,viewTransition:d});function f(m){n&&n(m),m.defaultPrevented||h(m)}return v.createElement("a",so({},x,{href:y||k,onClick:j||a?n:f,ref:r,target:c}))});var _c;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_c||(_c={}));var Lc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Lc||(Lc={}));function _g(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:i}=t===void 0?{}:t,c=fi(),u=vr(),p=jp(e,{relative:o});return v.useCallback(d=>{if(Cg(d,r)){d.preventDefault();let x=n!==void 0?n:sl(u)===sl(p);c(e,{replace:x,state:s,preventScrollReset:a,relative:o,viewTransition:i})}},[u,c,p,n,s,r,e,a,o,i])}function Lg(e){let t=v.useRef(lo(e)),r=v.useRef(!1),n=vr(),s=v.useMemo(()=>Pg(n.search,r.current?null:t.current),[n.search]),a=fi(),o=v.useCallback((i,c)=>{const u=lo(typeof i=="function"?i(s):i);r.current=!0,a("?"+u,c)},[a,s]);return[s,o]}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Y=(e,t)=>{const r=v.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:i="",children:c,...u},p)=>v.createElement("svg",{ref:p,...Fg,width:s,height:s,stroke:n,strokeWidth:o?Number(a)*24/Number(s):a,className:["lucide",`lucide-${Ag(e)}`,i].join(" "),...u},[...t.map(([d,x])=>v.createElement(d,x)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=Y("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=Y("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=Y("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=Y("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=Y("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=Y("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=Y("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=Y("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=Y("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=Y("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=Y("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=Y("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=Y("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=Y("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=Y("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Y("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=Y("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=Y("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=Y("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=Y("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=Y("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=Y("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=Y("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=Y("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=Y("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=Y("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=Y("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=Y("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=Y("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=Y("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=Y("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=Y("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=Y("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=Y("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=Y("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Pp(e,t){return function(){return e.apply(t,arguments)}}const{toString:Gg}=Object.prototype,{getPrototypeOf:mi}=Object,{iterator:Sl,toStringTag:Tp}=Symbol,kl=(e=>t=>{const r=Gg.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),st=e=>(e=e.toLowerCase(),t=>kl(t)===e),El=e=>t=>typeof t===e,{isArray:en}=Array,Hn=El("undefined");function Xn(e){return e!==null&&!Hn(e)&&e.constructor!==null&&!Hn(e.constructor)&&_e(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const zp=st("ArrayBuffer");function Xg(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&zp(e.buffer),t}const Zg=El("string"),_e=El("function"),Dp=El("number"),Zn=e=>e!==null&&typeof e=="object",ex=e=>e===!0||e===!1,Ds=e=>{if(kl(e)!=="object")return!1;const t=mi(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Tp in e)&&!(Sl in e)},tx=e=>{if(!Zn(e)||Xn(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},rx=st("Date"),nx=st("File"),sx=st("Blob"),lx=st("FileList"),ax=e=>Zn(e)&&_e(e.pipe),ox=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||_e(e.append)&&((t=kl(e))==="formdata"||t==="object"&&_e(e.toString)&&e.toString()==="[object FormData]"))},ix=st("URLSearchParams"),[cx,ux,dx,px]=["ReadableStream","Request","Response","Headers"].map(st),fx=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function es(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),en(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Xn(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let i;for(n=0;n<o;n++)i=a[n],t.call(null,e[i],i,e)}}function Rp(e,t){if(Xn(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const nr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Op=e=>!Hn(e)&&e!==nr;function io(){const{caseless:e}=Op(this)&&this||{},t={},r=(n,s)=>{const a=e&&Rp(t,s)||s;Ds(t[a])&&Ds(n)?t[a]=io(t[a],n):Ds(n)?t[a]=io({},n):en(n)?t[a]=n.slice():t[a]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&es(arguments[n],r);return t}const hx=(e,t,r,{allOwnKeys:n}={})=>(es(t,(s,a)=>{r&&_e(s)?e[a]=Pp(s,r):e[a]=s},{allOwnKeys:n}),e),mx=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),gx=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},xx=(e,t,r,n)=>{let s,a,o;const i={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)o=s[a],(!n||n(o,e,t))&&!i[o]&&(t[o]=e[o],i[o]=!0);e=r!==!1&&mi(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},yx=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},vx=e=>{if(!e)return null;if(en(e))return e;let t=e.length;if(!Dp(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},wx=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&mi(Uint8Array)),jx=(e,t)=>{const n=(e&&e[Sl]).call(e);let s;for(;(s=n.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},Nx=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},bx=st("HTMLFormElement"),Sx=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),Ic=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),kx=st("RegExp"),Mp=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};es(r,(s,a)=>{let o;(o=t(s,a,e))!==!1&&(n[a]=o||s)}),Object.defineProperties(e,n)},Ex=e=>{Mp(e,(t,r)=>{if(_e(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(_e(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Cx=(e,t)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return en(e)?n(e):n(String(e).split(t)),r},Px=()=>{},Tx=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function zx(e){return!!(e&&_e(e.append)&&e[Tp]==="FormData"&&e[Sl])}const Dx=e=>{const t=new Array(10),r=(n,s)=>{if(Zn(n)){if(t.indexOf(n)>=0)return;if(Xn(n))return n;if(!("toJSON"in n)){t[s]=n;const a=en(n)?[]:{};return es(n,(o,i)=>{const c=r(o,s+1);!Hn(c)&&(a[i]=c)}),t[s]=void 0,a}}return n};return r(e,0)},Rx=st("AsyncFunction"),Ox=e=>e&&(Zn(e)||_e(e))&&_e(e.then)&&_e(e.catch),_p=((e,t)=>e?setImmediate:t?((r,n)=>(nr.addEventListener("message",({source:s,data:a})=>{s===nr&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),nr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",_e(nr.postMessage)),Mx=typeof queueMicrotask<"u"?queueMicrotask.bind(nr):typeof process<"u"&&process.nextTick||_p,_x=e=>e!=null&&_e(e[Sl]),T={isArray:en,isArrayBuffer:zp,isBuffer:Xn,isFormData:ox,isArrayBufferView:Xg,isString:Zg,isNumber:Dp,isBoolean:ex,isObject:Zn,isPlainObject:Ds,isEmptyObject:tx,isReadableStream:cx,isRequest:ux,isResponse:dx,isHeaders:px,isUndefined:Hn,isDate:rx,isFile:nx,isBlob:sx,isRegExp:kx,isFunction:_e,isStream:ax,isURLSearchParams:ix,isTypedArray:wx,isFileList:lx,forEach:es,merge:io,extend:hx,trim:fx,stripBOM:mx,inherits:gx,toFlatObject:xx,kindOf:kl,kindOfTest:st,endsWith:yx,toArray:vx,forEachEntry:jx,matchAll:Nx,isHTMLForm:bx,hasOwnProperty:Ic,hasOwnProp:Ic,reduceDescriptors:Mp,freezeMethods:Ex,toObjectSet:Cx,toCamelCase:Sx,noop:Px,toFiniteNumber:Tx,findKey:Rp,global:nr,isContextDefined:Op,isSpecCompliantForm:zx,toJSONObject:Dx,isAsyncFn:Rx,isThenable:Ox,setImmediate:_p,asap:Mx,isIterable:_x};function V(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}T.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const Lp=V.prototype,Fp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Fp[e]={value:e}});Object.defineProperties(V,Fp);Object.defineProperty(Lp,"isAxiosError",{value:!0});V.from=(e,t,r,n,s,a)=>{const o=Object.create(Lp);return T.toFlatObject(e,o,function(c){return c!==Error.prototype},i=>i!=="isAxiosError"),V.call(o,e.message,t,r,n,s),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const Lx=null;function co(e){return T.isPlainObject(e)||T.isArray(e)}function Ap(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function Bc(e,t,r){return e?e.concat(t).map(function(s,a){return s=Ap(s),!r&&a?"["+s+"]":s}).join(r?".":""):t}function Fx(e){return T.isArray(e)&&!e.some(co)}const Ax=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function Cl(e,t,r){if(!T.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=T.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,k){return!T.isUndefined(k[j])});const n=r.metaTokens,s=r.visitor||p,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(s))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(T.isDate(y))return y.toISOString();if(T.isBoolean(y))return y.toString();if(!c&&T.isBlob(y))throw new V("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(y)||T.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function p(y,j,k){let h=y;if(y&&!k&&typeof y=="object"){if(T.endsWith(j,"{}"))j=n?j:j.slice(0,-2),y=JSON.stringify(y);else if(T.isArray(y)&&Fx(y)||(T.isFileList(y)||T.endsWith(j,"[]"))&&(h=T.toArray(y)))return j=Ap(j),h.forEach(function(m,w){!(T.isUndefined(m)||m===null)&&t.append(o===!0?Bc([j],w,a):o===null?j:j+"[]",u(m))}),!1}return co(y)?!0:(t.append(Bc(k,j,a),u(y)),!1)}const d=[],x=Object.assign(Ax,{defaultVisitor:p,convertValue:u,isVisitable:co});function g(y,j){if(!T.isUndefined(y)){if(d.indexOf(y)!==-1)throw Error("Circular reference detected in "+j.join("."));d.push(y),T.forEach(y,function(h,f){(!(T.isUndefined(h)||h===null)&&s.call(t,h,T.isString(f)?f.trim():f,j,x))===!0&&g(h,j?j.concat(f):[f])}),d.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return g(e),t}function Wc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function gi(e,t){this._pairs=[],e&&Cl(e,this,t)}const $p=gi.prototype;$p.append=function(t,r){this._pairs.push([t,r])};$p.toString=function(t){const r=t?function(n){return t.call(this,n,Wc)}:Wc;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function $x(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Up(e,t,r){if(!t)return e;const n=r&&r.encode||$x;T.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(s?a=s(t,r):a=T.isURLSearchParams(t)?t.toString():new gi(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Vc{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Ip={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ux=typeof URLSearchParams<"u"?URLSearchParams:gi,Ix=typeof FormData<"u"?FormData:null,Bx=typeof Blob<"u"?Blob:null,Wx={isBrowser:!0,classes:{URLSearchParams:Ux,FormData:Ix,Blob:Bx},protocols:["http","https","file","blob","url","data"]},xi=typeof window<"u"&&typeof document<"u",uo=typeof navigator=="object"&&navigator||void 0,Vx=xi&&(!uo||["ReactNative","NativeScript","NS"].indexOf(uo.product)<0),Hx=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Yx=xi&&window.location.href||"http://localhost",Qx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xi,hasStandardBrowserEnv:Vx,hasStandardBrowserWebWorkerEnv:Hx,navigator:uo,origin:Yx},Symbol.toStringTag,{value:"Module"})),be={...Qx,...Wx};function qx(e,t){return Cl(e,new be.classes.URLSearchParams,{visitor:function(r,n,s,a){return be.isNode&&T.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Kx(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Jx(e){const t={},r=Object.keys(e);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}function Bp(e){function t(r,n,s,a){let o=r[a++];if(o==="__proto__")return!0;const i=Number.isFinite(+o),c=a>=r.length;return o=!o&&T.isArray(s)?s.length:o,c?(T.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!i):((!s[o]||!T.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],a)&&T.isArray(s[o])&&(s[o]=Jx(s[o])),!i)}if(T.isFormData(e)&&T.isFunction(e.entries)){const r={};return T.forEachEntry(e,(n,s)=>{t(Kx(n),s,r,0)}),r}return null}function Gx(e,t,r){if(T.isString(e))try{return(t||JSON.parse)(e),T.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const ts={transitional:Ip,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=T.isObject(t);if(a&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return s?JSON.stringify(Bp(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t)||T.isReadableStream(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return qx(t,this.formSerializer).toString();if((i=T.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Cl(i?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),Gx(t)):t}],transformResponse:[function(t){const r=this.transitional||ts.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(T.isResponse(t)||T.isReadableStream(t))return t;if(t&&T.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(i){if(o)throw i.name==="SyntaxError"?V.from(i,V.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:be.classes.FormData,Blob:be.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{ts.headers[e]={}});const Xx=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zx=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&Xx[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Hc=Symbol("internals");function pn(e){return e&&String(e).trim().toLowerCase()}function Rs(e){return e===!1||e==null?e:T.isArray(e)?e.map(Rs):String(e)}function e0(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const t0=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function aa(e,t,r,n,s){if(T.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!T.isString(t)){if(T.isString(n))return t.indexOf(n)!==-1;if(T.isRegExp(n))return n.test(t)}}function r0(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function n0(e,t){const r=T.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,a,o){return this[n].call(this,t,s,a,o)},configurable:!0})})}let Le=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function a(i,c,u){const p=pn(c);if(!p)throw new Error("header name must be a non-empty string");const d=T.findKey(s,p);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||c]=Rs(i))}const o=(i,c)=>T.forEach(i,(u,p)=>a(u,p,c));if(T.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(T.isString(t)&&(t=t.trim())&&!t0(t))o(Zx(t),r);else if(T.isObject(t)&&T.isIterable(t)){let i={},c,u;for(const p of t){if(!T.isArray(p))throw TypeError("Object iterator must return a key-value pair");i[u=p[0]]=(c=i[u])?T.isArray(c)?[...c,p[1]]:[c,p[1]]:p[1]}o(i,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=pn(t),t){const n=T.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return e0(s);if(T.isFunction(r))return r.call(this,s,n);if(T.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=pn(t),t){const n=T.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||aa(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function a(o){if(o=pn(o),o){const i=T.findKey(n,o);i&&(!r||aa(n,n[i],i,r))&&(delete n[i],s=!0)}}return T.isArray(t)?t.forEach(a):a(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!t||aa(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const r=this,n={};return T.forEach(this,(s,a)=>{const o=T.findKey(n,a);if(o){r[o]=Rs(s),delete r[a];return}const i=t?r0(a):String(a).trim();i!==a&&delete r[a],r[i]=Rs(s),n[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return T.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&T.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[Hc]=this[Hc]={accessors:{}}).accessors,s=this.prototype;function a(o){const i=pn(o);n[i]||(n0(s,o),n[i]=!0)}return T.isArray(t)?t.forEach(a):a(t),this}};Le.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(Le.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});T.freezeMethods(Le);function oa(e,t){const r=this||ts,n=t||r,s=Le.from(n.headers);let a=n.data;return T.forEach(e,function(i){a=i.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function Wp(e){return!!(e&&e.__CANCEL__)}function tn(e,t,r){V.call(this,e??"canceled",V.ERR_CANCELED,t,r),this.name="CanceledError"}T.inherits(tn,V,{__CANCEL__:!0});function Vp(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new V("Request failed with status code "+r.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function s0(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function l0(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),p=n[a];o||(o=u),r[s]=c,n[s]=u;let d=a,x=0;for(;d!==s;)x+=r[d++],d=d%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),u-o<t)return;const g=p&&u-p;return g?Math.round(x*1e3/g):void 0}}function a0(e,t){let r=0,n=1e3/t,s,a;const o=(u,p=Date.now())=>{r=p,s=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const p=Date.now(),d=p-r;d>=n?o(u,p):(s=u,a||(a=setTimeout(()=>{a=null,o(s)},n-d)))},()=>s&&o(s)]}const ll=(e,t,r=3)=>{let n=0;const s=l0(50,250);return a0(a=>{const o=a.loaded,i=a.lengthComputable?a.total:void 0,c=o-n,u=s(c),p=o<=i;n=o;const d={loaded:o,total:i,progress:i?o/i:void 0,bytes:c,rate:u||void 0,estimated:u&&i&&p?(i-o)/u:void 0,event:a,lengthComputable:i!=null,[t?"download":"upload"]:!0};e(d)},r)},Yc=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Qc=e=>(...t)=>T.asap(()=>e(...t)),o0=be.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,be.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(be.origin),be.navigator&&/(msie|trident)/i.test(be.navigator.userAgent)):()=>!0,i0=be.hasStandardBrowserEnv?{write(e,t,r,n,s,a){const o=[e+"="+encodeURIComponent(t)];T.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),T.isString(n)&&o.push("path="+n),T.isString(s)&&o.push("domain="+s),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function c0(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function u0(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Hp(e,t,r){let n=!c0(t);return e&&(n||r==!1)?u0(e,t):t}const qc=e=>e instanceof Le?{...e}:e;function mr(e,t){t=t||{};const r={};function n(u,p,d,x){return T.isPlainObject(u)&&T.isPlainObject(p)?T.merge.call({caseless:x},u,p):T.isPlainObject(p)?T.merge({},p):T.isArray(p)?p.slice():p}function s(u,p,d,x){if(T.isUndefined(p)){if(!T.isUndefined(u))return n(void 0,u,d,x)}else return n(u,p,d,x)}function a(u,p){if(!T.isUndefined(p))return n(void 0,p)}function o(u,p){if(T.isUndefined(p)){if(!T.isUndefined(u))return n(void 0,u)}else return n(void 0,p)}function i(u,p,d){if(d in t)return n(u,p);if(d in e)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(u,p,d)=>s(qc(u),qc(p),d,!0)};return T.forEach(Object.keys({...e,...t}),function(p){const d=c[p]||s,x=d(e[p],t[p],p);T.isUndefined(x)&&d!==i||(r[p]=x)}),r}const Yp=e=>{const t=mr({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:i}=t;t.headers=o=Le.from(o),t.url=Up(Hp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&o.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):"")));let c;if(T.isFormData(r)){if(be.hasStandardBrowserEnv||be.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...p]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...p].join("; "))}}if(be.hasStandardBrowserEnv&&(n&&T.isFunction(n)&&(n=n(t)),n||n!==!1&&o0(t.url))){const u=s&&a&&i0.read(a);u&&o.set(s,u)}return t},d0=typeof XMLHttpRequest<"u",p0=d0&&function(e){return new Promise(function(r,n){const s=Yp(e);let a=s.data;const o=Le.from(s.headers).normalize();let{responseType:i,onUploadProgress:c,onDownloadProgress:u}=s,p,d,x,g,y;function j(){g&&g(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let k=new XMLHttpRequest;k.open(s.method.toUpperCase(),s.url,!0),k.timeout=s.timeout;function h(){if(!k)return;const m=Le.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),E={data:!i||i==="text"||i==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:m,config:e,request:k};Vp(function(S){r(S),j()},function(S){n(S),j()},E),k=null}"onloadend"in k?k.onloadend=h:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(h)},k.onabort=function(){k&&(n(new V("Request aborted",V.ECONNABORTED,e,k)),k=null)},k.onerror=function(){n(new V("Network Error",V.ERR_NETWORK,e,k)),k=null},k.ontimeout=function(){let w=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const E=s.transitional||Ip;s.timeoutErrorMessage&&(w=s.timeoutErrorMessage),n(new V(w,E.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,e,k)),k=null},a===void 0&&o.setContentType(null),"setRequestHeader"in k&&T.forEach(o.toJSON(),function(w,E){k.setRequestHeader(E,w)}),T.isUndefined(s.withCredentials)||(k.withCredentials=!!s.withCredentials),i&&i!=="json"&&(k.responseType=s.responseType),u&&([x,y]=ll(u,!0),k.addEventListener("progress",x)),c&&k.upload&&([d,g]=ll(c),k.upload.addEventListener("progress",d),k.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(p=m=>{k&&(n(!m||m.type?new tn(null,e,k):m),k.abort(),k=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const f=s0(s.url);if(f&&be.protocols.indexOf(f)===-1){n(new V("Unsupported protocol "+f+":",V.ERR_BAD_REQUEST,e));return}k.send(a||null)})},f0=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const a=function(u){if(!s){s=!0,i();const p=u instanceof Error?u:this.reason;n.abort(p instanceof V?p:new tn(p instanceof Error?p.message:p))}};let o=t&&setTimeout(()=>{o=null,a(new V(`timeout ${t} of ms exceeded`,V.ETIMEDOUT))},t);const i=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>T.asap(i),c}},h0=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},m0=async function*(e,t){for await(const r of g0(e))yield*h0(r,t)},g0=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Kc=(e,t,r,n)=>{const s=m0(e,t);let a=0,o,i=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:p}=await s.next();if(u){i(),c.close();return}let d=p.byteLength;if(r){let x=a+=d;r(x)}c.enqueue(new Uint8Array(p))}catch(u){throw i(u),u}},cancel(c){return i(c),s.return()}},{highWaterMark:2})},Pl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Qp=Pl&&typeof ReadableStream=="function",x0=Pl&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),qp=(e,...t)=>{try{return!!e(...t)}catch{return!1}},y0=Qp&&qp(()=>{let e=!1;const t=new Request(be.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Jc=64*1024,po=Qp&&qp(()=>T.isReadableStream(new Response("").body)),al={stream:po&&(e=>e.body)};Pl&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!al[t]&&(al[t]=T.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new V(`Response type '${t}' is not supported`,V.ERR_NOT_SUPPORT,n)})})})(new Response);const v0=async e=>{if(e==null)return 0;if(T.isBlob(e))return e.size;if(T.isSpecCompliantForm(e))return(await new Request(be.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(T.isArrayBufferView(e)||T.isArrayBuffer(e))return e.byteLength;if(T.isURLSearchParams(e)&&(e=e+""),T.isString(e))return(await x0(e)).byteLength},w0=async(e,t)=>{const r=T.toFiniteNumber(e.getContentLength());return r??v0(t)},j0=Pl&&(async e=>{let{url:t,method:r,data:n,signal:s,cancelToken:a,timeout:o,onDownloadProgress:i,onUploadProgress:c,responseType:u,headers:p,withCredentials:d="same-origin",fetchOptions:x}=Yp(e);u=u?(u+"").toLowerCase():"text";let g=f0([s,a&&a.toAbortSignal()],o),y;const j=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let k;try{if(c&&y0&&r!=="get"&&r!=="head"&&(k=await w0(p,n))!==0){let E=new Request(t,{method:"POST",body:n,duplex:"half"}),b;if(T.isFormData(n)&&(b=E.headers.get("content-type"))&&p.setContentType(b),E.body){const[S,N]=Yc(k,ll(Qc(c)));n=Kc(E.body,Jc,S,N)}}T.isString(d)||(d=d?"include":"omit");const h="credentials"in Request.prototype;y=new Request(t,{...x,signal:g,method:r.toUpperCase(),headers:p.normalize().toJSON(),body:n,duplex:"half",credentials:h?d:void 0});let f=await fetch(y,x);const m=po&&(u==="stream"||u==="response");if(po&&(i||m&&j)){const E={};["status","statusText","headers"].forEach(P=>{E[P]=f[P]});const b=T.toFiniteNumber(f.headers.get("content-length")),[S,N]=i&&Yc(b,ll(Qc(i),!0))||[];f=new Response(Kc(f.body,Jc,S,()=>{N&&N(),j&&j()}),E)}u=u||"text";let w=await al[T.findKey(al,u)||"text"](f,e);return!m&&j&&j(),await new Promise((E,b)=>{Vp(E,b,{data:w,headers:Le.from(f.headers),status:f.status,statusText:f.statusText,config:e,request:y})})}catch(h){throw j&&j(),h&&h.name==="TypeError"&&/Load failed|fetch/i.test(h.message)?Object.assign(new V("Network Error",V.ERR_NETWORK,e,y),{cause:h.cause||h}):V.from(h,h&&h.code,e,y)}}),fo={http:Lx,xhr:p0,fetch:j0};T.forEach(fo,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Gc=e=>`- ${e}`,N0=e=>T.isFunction(e)||e===null||e===!1,Kp={getAdapter:e=>{e=T.isArray(e)?e:[e];const{length:t}=e;let r,n;const s={};for(let a=0;a<t;a++){r=e[a];let o;if(n=r,!N0(r)&&(n=fo[(o=String(r)).toLowerCase()],n===void 0))throw new V(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+a]=n}if(!n){const a=Object.entries(s).map(([i,c])=>`adapter ${i} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?a.length>1?`since :
`+a.map(Gc).join(`
`):" "+Gc(a[0]):"as no adapter specified";throw new V("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:fo};function ia(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new tn(null,e)}function Xc(e){return ia(e),e.headers=Le.from(e.headers),e.data=oa.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Kp.getAdapter(e.adapter||ts.adapter)(e).then(function(n){return ia(e),n.data=oa.call(e,e.transformResponse,n),n.headers=Le.from(n.headers),n},function(n){return Wp(n)||(ia(e),n&&n.response&&(n.response.data=oa.call(e,e.transformResponse,n.response),n.response.headers=Le.from(n.response.headers))),Promise.reject(n)})}const Jp="1.11.0",Tl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Tl[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Zc={};Tl.transitional=function(t,r,n){function s(a,o){return"[Axios v"+Jp+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,i)=>{if(t===!1)throw new V(s(o," has been removed"+(r?" in "+r:"")),V.ERR_DEPRECATED);return r&&!Zc[o]&&(Zc[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,i):!0}};Tl.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function b0(e,t,r){if(typeof e!="object")throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],o=t[a];if(o){const i=e[a],c=i===void 0||o(i,a,e);if(c!==!0)throw new V("option "+a+" must be "+c,V.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new V("Unknown option "+a,V.ERR_BAD_OPTION)}}const Os={assertOptions:b0,validators:Tl},at=Os.validators;let ar=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Vc,response:new Vc}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=mr(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&Os.assertOptions(n,{silentJSONParsing:at.transitional(at.boolean),forcedJSONParsing:at.transitional(at.boolean),clarifyTimeoutError:at.transitional(at.boolean)},!1),s!=null&&(T.isFunction(s)?r.paramsSerializer={serialize:s}:Os.assertOptions(s,{encode:at.function,serialize:at.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Os.assertOptions(r,{baseUrl:at.spelling("baseURL"),withXsrfToken:at.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&T.merge(a.common,a[r.method]);a&&T.forEach(["delete","get","head","post","put","patch","common"],y=>{delete a[y]}),r.headers=Le.concat(o,a);const i=[];let c=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(r)===!1||(c=c&&j.synchronous,i.unshift(j.fulfilled,j.rejected))});const u=[];this.interceptors.response.forEach(function(j){u.push(j.fulfilled,j.rejected)});let p,d=0,x;if(!c){const y=[Xc.bind(this),void 0];for(y.unshift(...i),y.push(...u),x=y.length,p=Promise.resolve(r);d<x;)p=p.then(y[d++],y[d++]);return p}x=i.length;let g=r;for(d=0;d<x;){const y=i[d++],j=i[d++];try{g=y(g)}catch(k){j.call(this,k);break}}try{p=Xc.call(this,g)}catch(y){return Promise.reject(y)}for(d=0,x=u.length;d<x;)p=p.then(u[d++],u[d++]);return p}getUri(t){t=mr(this.defaults,t);const r=Hp(t.baseURL,t.url,t.allowAbsoluteUrls);return Up(r,t.params,t.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(t){ar.prototype[t]=function(r,n){return this.request(mr(n||{},{method:t,url:r,data:(n||{}).data}))}});T.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,i){return this.request(mr(i||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}ar.prototype[t]=r(),ar.prototype[t+"Form"]=r(!0)});let S0=class Gp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(i=>{n.subscribe(i),a=i}).then(s);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,i){n.reason||(n.reason=new tn(a,o,i),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Gp(function(s){t=s}),cancel:t}}};function k0(e){return function(r){return e.apply(null,r)}}function E0(e){return T.isObject(e)&&e.isAxiosError===!0}const ho={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ho).forEach(([e,t])=>{ho[t]=e});function Xp(e){const t=new ar(e),r=Pp(ar.prototype.request,t);return T.extend(r,ar.prototype,t,{allOwnKeys:!0}),T.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return Xp(mr(e,s))},r}const ie=Xp(ts);ie.Axios=ar;ie.CanceledError=tn;ie.CancelToken=S0;ie.isCancel=Wp;ie.VERSION=Jp;ie.toFormData=Cl;ie.AxiosError=V;ie.Cancel=ie.CanceledError;ie.all=function(t){return Promise.all(t)};ie.spread=k0;ie.isAxiosError=E0;ie.mergeConfig=mr;ie.AxiosHeaders=Le;ie.formToJSON=e=>Bp(T.isHTMLForm(e)?new FormData(e):e);ie.getAdapter=Kp.getAdapter;ie.HttpStatusCode=ho;ie.default=ie;const{Axios:Z0,AxiosError:ey,CanceledError:ty,isCancel:ry,CancelToken:ny,VERSION:sy,all:ly,Cancel:ay,isAxiosError:oy,spread:iy,toFormData:cy,AxiosHeaders:uy,HttpStatusCode:dy,formToJSON:py,getAdapter:fy,mergeConfig:hy}=ie;console.log("VITE_API_URL:","http://localhost:8080");console.log("Window location:",window.location.origin);const C0=()=>window.location.hostname!=="localhost"?window.location.origin:"http://localhost:8080",yi=C0();console.log("Using API URL:",yi);const A=ie.create({baseURL:yi,timeout:1e4,headers:{"Content-Type":"application/json"}});A.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));A.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});const gr=yi,Zp=v.createContext(void 0);function P0({children:e}){const[t,r]=v.useState(!1),[n,s]=v.useState(null),[a,o]=v.useState(!0);v.useEffect(()=>{const p=localStorage.getItem("token");p?(A.defaults.headers.common.Authorization=`Bearer ${p}`,r(!0),i()):o(!1)},[]);const i=async()=>{try{const p=await A.get("/api/auth/profile");s(p.data)}catch(p){console.error("Failed to fetch user data:",p),p.response&&p.response.status===401?(console.log("Token is invalid, logging out"),u()):console.log("Network or server error, keeping user logged in")}finally{o(!1)}},c=async(p,d)=>{try{const x=await A.post("/api/auth/login",{username:p,password:d}),{token:g,user:y}=x.data;return localStorage.setItem("token",g),A.defaults.headers.common.Authorization=`Bearer ${g}`,r(!0),s(y),!0}catch(x){return console.error("Login failed:",x),!1}},u=()=>{localStorage.removeItem("token"),delete A.defaults.headers.common.Authorization,r(!1),s(null)};return l.jsx(Zp.Provider,{value:{isAuthenticated:t,user:n,login:c,logout:u,loading:a},children:e})}function rn(){const e=v.useContext(Zp);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function T0(){const[e,t]=v.useState(""),[r,n]=v.useState(""),[s,a]=v.useState(""),[o,i]=v.useState(!1),{login:c}=rn(),u=async p=>{p.preventDefault(),a(""),i(!0);try{if(await c(e,r)){n(""),i(!1);return}else a("Invalid credentials. Please try again.")}catch{a("Connection failed. Please try again.")}finally{i(!1)}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-6",children:l.jsxs("div",{className:"w-full max-w-sm mx-auto",children:[l.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-12 scale-in",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(he,{className:"h-16 w-16 text-red-500 heart-beat",fill:"currentColor"}),l.jsx("div",{className:"absolute inset-0 h-16 w-16 bg-red-500/20 rounded-full blur-xl"})]})}),l.jsx("h1",{className:"font-heading text-4xl font-bold text-gray-900 mb-3 tracking-tight",children:"Scott & Zoe"}),l.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Welcome to our sanctuary"})]}),l.jsxs("form",{onSubmit:u,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 text-center",children:"Choose your identity"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{type:"button",onClick:()=>t("scott"),className:`relative p-4 rounded-2xl border-2 transition-all duration-300 group ${e==="scott"?"border-blue-500 bg-blue-50/80 shadow-lg shadow-blue-500/20":"border-gray-200 bg-gray-50/50 hover:border-gray-300 hover:bg-gray-50/80"}`,children:[l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg transition-all duration-300 ${e==="scott"?"bg-gradient-to-br from-blue-500 to-blue-600 scale-110":"bg-gradient-to-br from-gray-400 to-gray-500 group-hover:from-blue-400 group-hover:to-blue-500"}`,children:"S"}),l.jsx("span",{className:`font-medium transition-colors ${e==="scott"?"text-blue-700":"text-gray-700"}`,children:"Scott"})]}),e==="scott"&&l.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:l.jsx(qr,{className:"w-3 h-3 text-white"})})]}),l.jsxs("button",{type:"button",onClick:()=>t("zoe"),className:`relative p-4 rounded-2xl border-2 transition-all duration-300 group ${e==="zoe"?"border-pink-500 bg-pink-50/80 shadow-lg shadow-pink-500/20":"border-gray-200 bg-gray-50/50 hover:border-gray-300 hover:bg-gray-50/80"}`,children:[l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg transition-all duration-300 ${e==="zoe"?"bg-gradient-to-br from-pink-500 to-pink-600 scale-110":"bg-gradient-to-br from-gray-400 to-gray-500 group-hover:from-pink-400 group-hover:to-pink-500"}`,children:"Z"}),l.jsx("span",{className:`font-medium transition-colors ${e==="zoe"?"text-pink-700":"text-gray-700"}`,children:"Zoe"})]}),e==="zoe"&&l.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-pink-500 rounded-full flex items-center justify-center",children:l.jsx(qr,{className:"w-3 h-3 text-white"})})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-800 text-center",children:"Enter our secret password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Qg,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{type:"password",id:"password",value:r,onChange:p=>n(p.target.value),className:"w-full pl-12 pr-12 py-4 bg-gray-50/80 border border-gray-200 rounded-2xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500 transition-all duration-300 text-center font-medium backdrop-blur-sm",placeholder:"Enter password",required:!0})]})]}),s&&l.jsx("div",{className:"bg-red-50/80 border border-red-200 text-red-700 text-sm text-center py-4 px-4 rounded-2xl backdrop-blur-sm font-medium",children:s}),l.jsx("button",{type:"submit",disabled:o||!e,className:`w-full py-4 px-6 rounded-2xl font-semibold text-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98] transform ${e==="scott"?"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white hover:shadow-xl hover:shadow-blue-500/25":e==="zoe"?"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white hover:shadow-xl hover:shadow-pink-500/25":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:o?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"}),"Signing in..."]}):l.jsxs("span",{className:"flex items-center justify-center",children:["Enter Our World",l.jsx(he,{className:"h-5 w-5 ml-2",fill:"currentColor"})]})})]}),l.jsx("div",{className:"mt-10 text-center",children:l.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"A private space for our precious memories "})})]}),l.jsx("div",{className:"text-center mt-8",children:l.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Made with  for Scott & Zoe"})})]})})}const ef=({onClose:e,level:t,onPrizeWon:r})=>{const[n,s]=v.useState(!1),[a,o]=v.useState(null),[i,c]=v.useState(!1),[u,p]=v.useState(!1),[d,x]=v.useState(0),[g,y]=v.useState([]),[j,k]=v.useState(!0),h=v.useRef(null),f=(P,C)=>P==="MONEY"?C>=500?l.jsx(gt,{className:"w-4 h-4 text-yellow-400"}):C>=100?l.jsx(gt,{className:"w-4 h-4 text-white"}):C>=50?l.jsx(Ht,{className:"w-4 h-4 text-white"}):C>=25?l.jsx(it,{className:"w-4 h-4 text-white"}):C>=10?l.jsx(it,{className:"w-4 h-4 text-gray-800"}):l.jsx(it,{className:"w-4 h-4 text-gray-600"}):l.jsx(Vt,{className:"w-4 h-4 text-white"}),m=()=>[{id:1,amount:1,color:"#F3F4F6",probability:45,prizeName:"$1",prizeDescription:"Win $1 love points",prizeType:"MONEY",icon:l.jsx(it,{className:"w-4 h-4 text-gray-600"})},{id:2,amount:5,color:"#E5E7EB",probability:25,prizeName:"$5",prizeDescription:"Win $5 love points",prizeType:"MONEY",icon:l.jsx(it,{className:"w-4 h-4 text-gray-700"})},{id:3,amount:10,color:"#D1D5DB",probability:15,prizeName:"$10",prizeDescription:"Win $10 love points",prizeType:"MONEY",icon:l.jsx(it,{className:"w-4 h-4 text-gray-800"})},{id:4,amount:25,color:"#9CA3AF",probability:10,prizeName:"$25",prizeDescription:"Win $25 love points",prizeType:"MONEY",icon:l.jsx(it,{className:"w-4 h-4 text-white"})},{id:5,amount:77,color:"#6B7280",probability:2.5,prizeName:"$77",prizeDescription:"Win $77 love points",prizeType:"MONEY",icon:l.jsx(Ht,{className:"w-4 h-4 text-white"})},{id:6,amount:100,color:"#4B5563",probability:1.5,prizeName:"$100",prizeDescription:"Win $100 love points",prizeType:"MONEY",icon:l.jsx(Ht,{className:"w-4 h-4 text-white"})},{id:7,amount:500,color:"#374151",probability:.5,prizeName:"$500",prizeDescription:"Win $500 love points",prizeType:"MONEY",icon:l.jsx(gt,{className:"w-4 h-4 text-white"})},{id:8,amount:1e3,color:"#1F2937",probability:.5,prizeName:"$1000",prizeDescription:"Win $1000 love points",prizeType:"MONEY",icon:l.jsx(gt,{className:"w-4 h-4 text-yellow-400"})}];v.useEffect(()=>{(async()=>{var C;try{const[z,U,M]=await Promise.all([A.get("/api/wheel/stats"),A.get("/api/opportunities/stats"),A.get("/api/wheel-config/my-wheel")]);if(p(!z.data.canUseThisWeek),x(U.data.unused||0),M.data.hasConfiguration&&M.data.prizes){const _=M.data.prizes.map((L,R)=>({id:L.id||R+1,amount:L.prizeValue,color:L.color,probability:parseFloat(L.probability),prizeName:L.prizeName,prizeDescription:L.prizeDescription,prizeType:L.prizeType,icon:f(L.prizeType,L.prizeValue)}));y(_)}else y(m());console.log(" Wheel data loaded:",{canUseThisWeek:z.data.canUseThisWeek,savedOpportunities:U.data.unused,prizesCount:((C=M.data.prizes)==null?void 0:C.length)||0})}catch(z){console.error(" Error loading wheel data from backend:",z);const U=new Date,_=new Date(U.setDate(U.getDate()-U.getDay())).toDateString(),L=localStorage.getItem("wheelLastUsedWeek"),R=parseInt(localStorage.getItem("wheelOpportunities")||"0");L===_&&p(!0),x(R),y(m())}finally{k(!1)}})()},[]);const w=()=>{const P=Math.random()*100;let C=0;for(const z of g)if(C+=z.probability,P<=C)return z;return g[0]},E=()=>{if(n)return;if(u&&d===0){alert("You can only use the wheel once per week! Come back next week or reach 520 love again for another opportunity.");return}s(!0);const P=w(),C=g.findIndex(D=>D.id===P.id),z=360/g.length,U=C*z+z/2,M=5,_=Math.floor(Math.random()*496)+0,L=M+_,R=(Math.random()-.5)*20,B=L*360+(360-U)+R;h.current&&(h.current.style.transform="rotate(0deg)",h.current.offsetHeight,h.current.style.transform=`rotate(${B}deg)`),setTimeout(async()=>{s(!1),o(P),c(!0);try{const D=d>0?"saved_opportunity":"weekly";await A.post("/api/wheel/use",{prizeAmount:P.amount,source:D}),console.log(" Wheel usage recorded in backend successfully")}catch(D){console.error(" Error recording wheel usage in backend:",D);const F=new Date,J=new Date(F.setDate(F.getDate()-F.getDay())).toDateString();localStorage.setItem("wheelLastUsedWeek",J)}try{await A.post("/api/wheel-prizes",{prizeType:P.prizeType,prizeValue:P.amount,prizeDescription:P.prizeDescription}),console.log(" Prize recorded successfully")}catch(D){console.error(" Error recording prize:",D)}if(p(!0),d>0)try{await A.post("/api/opportunities/use");const D=await A.get("/api/opportunities/stats");x(D.data.unused||0)}catch(D){console.error("Error using saved opportunity in backend:",D);const F=d-1;localStorage.setItem("wheelOpportunities",F.toString()),x(F)}},6500)},b=async P=>{!n&&a&&(r&&(await r(a.amount),console.log(" Prize claimed and saved:",a.amount)),e())},S=P=>{n||e()},N=P=>{switch(P){case 1:return"#F3F4F6";case 5:return"#E5E7EB";case 10:return"#D1D5DB";case 25:return"#9CA3AF";case 77:return"#6B7280";case 100:return"#4B5563";case 500:return"#374151";case 1e3:return"#1F2937";default:return"#F3F4F6"}};return j?l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:l.jsxs("div",{className:"bg-white rounded-3xl max-w-md w-full p-8 apple-shadow-lg relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-50 via-pink-50 to-purple-50 opacity-50"}),l.jsxs("div",{className:"relative z-10 text-center",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"w-8 h-8"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Vt,{className:"w-6 h-6 text-yellow-500"}),l.jsx("h2",{className:"text-2xl font-bold text-apple-label",children:"Prize Wheel"}),l.jsx(gt,{className:"w-6 h-6 text-yellow-500"})]}),l.jsx("button",{onClick:e,className:"w-8 h-8 rounded-full bg-apple-gray-6/10 hover:bg-apple-gray-6/20 flex items-center justify-center transition-colors",children:l.jsx(St,{className:"w-4 h-4 text-apple-secondary-label"})})]}),l.jsxs("div",{className:"py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-500 mx-auto mb-4"}),l.jsx("p",{className:"text-apple-secondary-label",children:"Loading wheel configuration..."})]})]})]})}):l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[60] p-4",onClick:P=>{P.preventDefault(),P.stopPropagation(),P.target===P.currentTarget&&S()},children:l.jsxs("div",{className:"bg-white rounded-3xl max-w-md w-full p-8 apple-shadow-lg relative overflow-hidden",onClick:P=>{P.preventDefault(),P.stopPropagation()},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-50 via-pink-50 to-purple-50 opacity-50"}),l.jsxs("div",{className:"relative z-10 text-center mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"w-8 h-8"})," ",l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Vt,{className:"w-6 h-6 text-yellow-500"}),l.jsx("h2",{className:"text-2xl font-bold text-apple-label",children:"Prize Wheel"}),l.jsx(gt,{className:"w-6 h-6 text-yellow-500"})]}),d>0&&l.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[d," saved opportunity",d>1?"ies":"y"," available"]}),u&&d===0&&l.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Used this week - come back next week!"})]}),l.jsx("button",{onClick:P=>{P.preventDefault(),P.stopPropagation(),S()},disabled:n,className:"w-8 h-8 rounded-full bg-apple-gray-6/10 hover:bg-apple-gray-6/20 flex items-center justify-center transition-colors disabled:opacity-50",children:l.jsx(St,{className:"w-4 h-4 text-apple-secondary-label"})})]}),l.jsxs("p",{className:"text-apple-secondary-label",children:["Congratulations! You've reached level ",t,"!"]})]}),l.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[l.jsxs("div",{className:"relative w-64 h-64 mb-6",children:[n&&l.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent bg-gradient-to-r from-yellow-400 via-red-500 to-pink-500 animate-pulse opacity-20 z-10"}),l.jsx("div",{ref:h,className:`w-full h-full rounded-full border-4 border-white apple-shadow-lg transition-transform duration-[6000ms] ${n?"ease-out":"hover:scale-105 ease-in-out duration-200"}`,style:{background:`conic-gradient(${g.map((P,C)=>{const z=C/g.length*360,U=(C+1)/g.length*360;return`${P.color} ${z}deg ${U}deg`}).join(", ")})`},children:g.map((P,C)=>{const z=C/g.length*360+360/g.length/2,U=80,M=Math.cos((z-90)*Math.PI/180)*U,_=Math.sin((z-90)*Math.PI/180)*U;return l.jsx("div",{className:"absolute flex flex-col items-center justify-center text-white font-bold text-sm",style:{left:`calc(50% + ${M}px - 20px)`,top:`calc(50% + ${_}px - 15px)`,width:"40px",height:"30px",transform:`rotate(${z}deg)`},children:l.jsxs("div",{className:"flex items-center space-x-1",children:[P.icon,l.jsx("span",{children:P.prizeName})]})},P.id)})}),l.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-2 z-10",children:l.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-b-8 border-l-transparent border-r-transparent border-b-red-500"})})]}),!i&&l.jsx("button",{onClick:P=>{P.preventDefault(),P.stopPropagation(),E()},disabled:n,className:`px-8 py-4 bg-white border-2 border-gray-300 hover:border-gray-400 text-gray-800 rounded-xl font-semibold transition-all duration-200 shadow-sm ${n?"opacity-50 cursor-not-allowed":"hover:bg-gray-50 hover:scale-105"}`,children:n?l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-5 h-5 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}),l.jsx("span",{children:"Spinning... "})]}):l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{children:"Spin the Wheel!"}),l.jsx("span",{className:"text-xl",children:""})]})}),i&&a&&l.jsxs("div",{className:"text-center space-y-4 animate-bounce-in",children:[l.jsx("div",{className:`w-20 h-20 rounded-full bg-gradient-to-br ${N(a.amount)} flex items-center justify-center mx-auto apple-shadow-lg`,children:l.jsxs("div",{className:"text-white text-2xl font-bold",children:["$",a.amount]})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold text-apple-label mb-2",children:"Congratulations! "}),l.jsxs("p",{className:"text-apple-secondary-label mb-2",children:["You won ",a.prizeName,"!"]}),l.jsx("p",{className:"text-sm text-apple-secondary-label mb-4",children:a.prizeDescription}),l.jsxs("button",{onClick:P=>{P.preventDefault(),P.stopPropagation(),b()},className:"px-8 py-4 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-xl font-bold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:[" Claim $",a.amount," Prize"]})]})]})]})]})})},z0=({message:e,type:t="general",onClose:r,duration:n=3e3})=>{const[s,a]=v.useState(!1);v.useEffect(()=>{a(!0);const c=setTimeout(()=>{a(!1),setTimeout(r,300)},n);return()=>clearTimeout(c)},[n,r]);const o=()=>{switch(t){case"photo":return l.jsx(Qr,{className:"w-5 h-5 text-white"});case"love":return l.jsx(he,{className:"w-5 h-5 text-white fill-current"});default:return l.jsx(ao,{className:"w-5 h-5 text-white"})}},i=()=>{switch(t){case"photo":return"from-blue-500 to-blue-600";case"love":return"from-pink-500 to-red-500";default:return"from-green-500 to-green-600"}};return l.jsx("div",{className:`transform transition-all duration-300 ${s?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"}`,children:l.jsxs("div",{className:`bg-gradient-to-r ${i()} rounded-2xl p-4 apple-shadow-lg max-w-sm`,children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"flex-shrink-0",children:o()}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-white font-medium text-sm",children:e})}),l.jsx("button",{onClick:()=>{a(!1),setTimeout(r,300)},className:"flex-shrink-0 text-white/80 hover:text-white transition-colors",children:l.jsx(St,{className:"w-4 h-4"})})]}),t==="love"&&l.jsx("div",{className:"absolute -top-1 -right-1",children:l.jsx("div",{className:"flex space-x-1",children:[...Array(3)].map((c,u)=>l.jsx(he,{className:"w-3 h-3 text-pink-300 fill-current animate-float-up",style:{animationDelay:`${u*.2}s`}},u))})}),t==="photo"&&l.jsx("div",{className:"absolute -top-1 -right-1",children:l.jsx("div",{className:"flex space-x-1",children:[...Array(2)].map((c,u)=>l.jsx("div",{className:"w-2 h-2 bg-blue-300 rounded-full animate-sparkle",style:{animationDelay:`${u*.3}s`}},u))})})]})})},tf=v.createContext(void 0),zl=()=>{const e=v.useContext(tf);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},D0=({children:e})=>{const[t,r]=v.useState([]),n=(i,c="general",u=3e3)=>{const d={id:Math.random().toString(36).substr(2,9),message:i,type:c,duration:u};r(x=>[...x,d])},s=i=>{const c=i===1?" Photo uploaded successfully!":` ${i} photos uploaded successfully!`;n(c,"photo",4e3)},a=()=>{const i=[" Love shared!"," Sending love!"," Love you more!"," Sweet love!"," Love grows!"],c=i[Math.floor(Math.random()*i.length)];n(c,"love",2e3)},o=i=>{r(c=>c.filter(u=>u.id!==i))};return l.jsxs(tf.Provider,{value:{showToast:n,showPhotoSuccess:s,showLoveSuccess:a},children:[e,l.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map((i,c)=>l.jsx("div",{style:{transform:`translateY(${c*80}px)`,zIndex:50-c},children:l.jsx(z0,{message:i.message,type:i.type,duration:i.duration,onClose:()=>o(i.id)})},i.id))})]})},R0=({onLoveClick:e})=>{const{user:t}=rn(),[r,n]=v.useState({count:0,totalCount:0,nextMilestone:520,remainingToMilestone:520,currentLevel:1,progressPercent:0,isMilestoneReached:!1}),[s,a]=v.useState(!1),[o,i]=v.useState(!1),[c,u]=v.useState(!1),[p,d]=v.useState(!0),[x,g]=v.useState(0),[y,j]=v.useState(!0),{showLoveSuccess:k,showToast:h}=zl();v.useEffect(()=>{E(),f(),m()},[]);const f=async()=>{try{const _=await A.get("/api/opportunities/stats");g(_.data.unused||0)}catch(_){console.error("Error loading saved opportunities from backend:",_);const L=parseInt(localStorage.getItem("wheelOpportunities")||"0");g(L)}},m=async()=>{try{const _=await A.get("/api/wheel/stats");j(_.data.canUseThisWeek)}catch(_){console.error("Error fetching wheel usage status:",_);const L=new Date,B=new Date(L.setDate(L.getDate()-L.getDay())).toDateString(),D=localStorage.getItem("wheelLastUsedWeek");j(D!==B)}},w=async _=>{if(_&&(_.preventDefault(),_.stopPropagation()),x>0)try{if(!(await A.get("/api/wheel/stats")).data.canUseThisWeek){alert(" Saved opportunities can only be used next week! Come back after the week resets.");return}a(!0)}catch(L){console.error("Error checking wheel usage status:",L);const R=new Date,D=new Date(R.setDate(R.getDate()-R.getDay())).toDateString();if(localStorage.getItem("wheelLastUsedWeek")===D){alert(" Saved opportunities can only be used next week! Come back after the week resets.");return}a(!0)}},E=async()=>{try{d(!0);const _=await A.get("/api/love");n(_.data)}catch(_){console.error("Error fetching love stats:",_)}finally{d(!1)}},b=async _=>{try{await A.post("/api/wheel-prizes",{prizeType:"MONEY",prizeValue:_,prizeDescription:`Won $${_} from prize wheel`}),console.log("Prize recorded successfully:",_)}catch(L){console.error("Error recording wheel prize:",L)}},[S,N]=v.useState(0),[P,C]=v.useState(!1);v.useEffect(()=>{if(S>0&&!P){C(!0);const _=S;N(0),z(_)}},[S,P]);const z=async _=>{try{const L=[];for(let D=0;D<_;D++)L.push(A.post("/api/love/increment"));const B=(await Promise.allSettled(L)).filter(D=>D.status==="fulfilled").map(D=>D.value);if(B.length>0){const F=B[B.length-1].data;n({count:F.count,totalCount:F.totalCount,nextMilestone:F.nextMilestone,remainingToMilestone:F.remainingToMilestone,currentLevel:F.currentLevel,progressPercent:F.progressPercent,isMilestoneReached:F.isMilestoneReached}),Math.random()<.2&&k(),F.justReachedMilestone&&await U()}}catch(L){console.error("Error processing love clicks:",L),h("Failed to share love. Please try again.","general")}finally{C(!1)}},U=async()=>{try{if((await A.get("/api/wheel/stats")).data.canUseThisWeek)setTimeout(()=>{a(!0)},500);else try{await A.post("/api/opportunities/create",{source:"milestone_520"}),await f(),h(" You reached 520 love! Opportunity saved for next week!","general")}catch(R){console.error("Error saving opportunity to backend:",R);const B=parseInt(localStorage.getItem("wheelOpportunities")||"0");localStorage.setItem("wheelOpportunities",(B+1).toString()),await f(),h(" You reached 520 love! Opportunity saved for next week!","general")}}catch(_){console.error("Error checking wheel usage status for milestone:",_);const L=new Date,B=new Date(L.setDate(L.getDate()-L.getDay())).toDateString();if(localStorage.getItem("wheelLastUsedWeek")===B)try{await A.post("/api/opportunities/create",{source:"milestone_520"}),await f(),h(" You reached 520 love! Opportunity saved for next week!","general")}catch(F){console.error("Error saving opportunity to backend:",F);const W=parseInt(localStorage.getItem("wheelOpportunities")||"0");localStorage.setItem("wheelOpportunities",(W+1).toString()),await f(),h(" You reached 520 love! Opportunity saved for next week!","general")}else setTimeout(()=>{a(!0)},500)}},M=async _=>{_&&(_.preventDefault(),_.stopPropagation()),i(!0),u(!0),setTimeout(()=>{i(!1),u(!1)},300),N(L=>L+1),e==null||e()};return p?l.jsx("div",{className:"apple-card apple-card-hover p-6 text-center apple-shadow relative overflow-hidden",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"w-12 h-12 bg-apple-gray-6/20 rounded-full mx-auto mb-4"}),l.jsx("div",{className:"w-16 h-8 bg-apple-gray-6/20 rounded mx-auto mb-2"}),l.jsx("div",{className:"w-20 h-4 bg-apple-gray-6/20 rounded mx-auto"})]})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative pointer-events-auto touch-manipulation",children:[l.jsxs("div",{className:"apple-card apple-card-hover p-6 text-center apple-shadow relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-50 to-red-50 opacity-50"}),c&&l.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(6)].map((_,L)=>l.jsx(he,{className:"absolute w-4 h-4 text-red-500 fill-current animate-float-up",style:{left:`${20+L*10}%`,animationDelay:`${L*.1}s`,animationDuration:"1s"}},L))}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("button",{onClick:_=>M(_),className:`group relative z-30 pointer-events-auto transition-all duration-300 touch-manipulation active:scale-95 ${o?"scale-125":"hover:scale-110"}`,style:{WebkitTapHighlightColor:"transparent"},children:[l.jsx(he,{className:`h-12 w-12 mx-auto mb-4 transition-all duration-300 ${o?"text-red-500 fill-current animate-pulse":"text-gradient fill-current group-hover:text-red-500"}`}),l.jsx("div",{className:"absolute -inset-2 bg-red-500/20 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsx("div",{className:"text-3xl font-semibold text-apple-label mb-2",children:r.count.toLocaleString()}),l.jsx("div",{className:"text-apple-secondary-label mb-2",children:"Love Shared"}),x>0&&(()=>{const _=y;return l.jsx("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"text-sm text-blue-700 font-medium",children:[" ",x," Saved Spin",x>1?"s":""]}),l.jsx("div",{className:"text-xs text-blue-600 mt-1",children:_?"Ready to use this week!":"Available next week!"})]}),l.jsx("button",{onClick:L=>w(L),disabled:!_,className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-colors relative z-30 pointer-events-auto touch-manipulation ${_?"bg-blue-600 text-white hover:bg-blue-700 active:scale-95":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,style:{WebkitTapHighlightColor:"transparent"},children:_?"Use Now":"Next Week"})]})})})(),r.count>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs text-apple-secondary-label",children:[l.jsxs("span",{children:["Level ",r.currentLevel]}),l.jsxs("span",{children:[r.remainingToMilestone," to next prize"]})]}),l.jsx("div",{className:"w-full bg-apple-gray-6/20 rounded-full h-2",children:l.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-red-500 h-2 rounded-full transition-all duration-500",style:{width:`${r.progressPercent}%`}})}),r.remainingToMilestone<=50&&l.jsxs("div",{className:"flex items-center justify-center space-x-1 text-xs text-red-500 animate-pulse",children:[l.jsx(Vt,{className:"w-3 h-3"}),l.jsx("span",{children:"Prize wheel coming soon!"}),l.jsx(gt,{className:"w-3 h-3"})]})]})]})]}),r.count>=520&&l.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl border border-yellow-200",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm",children:[l.jsx(Ht,{className:"w-4 h-4 text-yellow-500 fill-current"}),l.jsxs("span",{className:"text-yellow-700 font-medium",children:["Milestone Level ",r.currentLevel," Achieved!"]}),l.jsx(Ht,{className:"w-4 h-4 text-yellow-500 fill-current"})]}),l.jsxs("div",{className:"text-center text-xs text-yellow-600 mt-1",children:["You've unlocked ",Math.floor(r.count/520)," prize wheel",Math.floor(r.count/520)>1?"s":"","!"]})]})]}),s&&l.jsx(ef,{onClose:()=>{a(!1),f(),m()},level:r.currentLevel,onPrizeWon:b})]})},O0=()=>{const{user:e,isAuthenticated:t}=rn(),[r,n]=v.useState(null),[s,a]=v.useState(!0),[o,i]=v.useState(null),c=v.useRef(null);if(!t||!e)return null;const u=async()=>{try{a(!0),i(null);const y=await A.get("/api/love/partner");n(y.data)}catch(y){console.error("Error fetching partner love count:",y),i("Failed to load partner's love count")}finally{a(!1)}},p=()=>{try{c.current&&c.current.close();const y=localStorage.getItem("token");if(!y){console.error("No authentication token found for SSE"),u();return}const j=new EventSource(`/api/love-updates/subscribe?token=${encodeURIComponent(y)}`,{withCredentials:!0});j.addEventListener("partner-love-update",k=>{try{const h=JSON.parse(k.data);n(h),i(null)}catch(h){console.error("Error parsing SSE data:",h)}}),j.onerror=k=>{console.error("SSE connection error:",k),i("Real-time connection lost"),c.current&&(c.current.close(),c.current=null),setTimeout(()=>{console.log("Attempting to reconnect SSE..."),p()},3e3),setTimeout(()=>{u()},1e3)},j.onopen=()=>{console.log("SSE connection established"),i(null)},c.current=j}catch(y){console.error("Error setting up SSE:",y),u(),setTimeout(()=>{p()},5e3)}};if(v.useEffect(()=>{if(!(!t||!e))return u(),p(),()=>{c.current&&c.current.close()}},[t,e]),s&&!r)return l.jsxs("div",{className:"apple-card apple-shadow p-6 text-center animate-pulse",children:[l.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded-full mx-auto mb-4"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded mb-2"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded"})]});if(o)return l.jsxs("div",{className:"apple-card apple-shadow p-6 text-center",children:[l.jsx("div",{className:"text-red-500 mb-2",children:""}),l.jsx("div",{className:"text-sm text-red-600",children:o})]});if(!r)return null;e==null||e.username,r.partnerUsername;const d=r.partnerUsername==="scott"?"text-blue-500":"text-pink-500",x=r.partnerUsername==="scott"?"bg-blue-50":"bg-pink-50",g=r.partnerUsername==="scott"?"border-blue-200":"border-pink-200";return l.jsxs("div",{className:`apple-card apple-shadow p-6 text-center transition-all duration-300 hover:scale-105 cursor-pointer group pointer-events-auto relative z-10 ${x} ${g} border`,children:[l.jsx("div",{className:"flex items-center justify-center mb-4",children:l.jsx("div",{className:`p-3 rounded-full ${r.partnerUsername==="scott"?"bg-blue-100":"bg-pink-100"}`,children:l.jsx(he,{className:`h-8 w-8 ${d} group-hover:scale-110 transition-transform duration-200`,fill:"currentColor"})})}),l.jsx("div",{className:"text-3xl font-semibold text-apple-label mb-2",children:r.partnerLoveCount.toLocaleString()}),l.jsxs("div",{className:"text-apple-secondary-label group-hover:text-apple-blue-light transition-colors duration-200 mb-3",children:[r.partnerDisplayName,"'s Love"]}),l.jsxs("div",{className:"text-xs text-apple-tertiary-label mb-2",children:[" Love shared by ",r.partnerDisplayName]}),s&&l.jsx("div",{className:"text-xs text-apple-blue-light opacity-70",children:"Updating..."}),l.jsx("div",{className:"mt-2 text-xs text-apple-blue-light font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Real-time sync "})]})};function eu(){const[e,t]=v.useState([]),[r,n]=v.useState([]),[s,a]=v.useState({photos:0,memories:0,totalLove:0}),[o,i]=v.useState([]),[c,u]=v.useState(!1),p=(g=[])=>{let y=0,j;do{const k=Math.random()*70+15,h=Math.random()*70+15;if(j={top:`${k}%`,left:`${h}%`},g.every(m=>{const w=parseFloat(m.top),E=parseFloat(m.left);return Math.sqrt(Math.pow(k-w,2)+Math.pow(h-E,2))>15})||y>20)break;y++}while(y<=20);return j};v.useEffect(()=>{const g=[{emoji:"",title:"Meow! "},{emoji:"",title:"Happy kitty! "},{emoji:"",title:"Love you! "},{emoji:"",title:"Paw prints! "},{emoji:"",title:"Cute cat! "},{emoji:"",title:"Love! "}],y=[];g.forEach((j,k)=>{const h=p(y);y.push({id:`cat-${k}`,...h,emoji:j.emoji,title:j.title,isJumping:!1})}),i(y)},[]);const d=g=>{i(y=>y.map(j=>j.id===g?{...j,isJumping:!0}:j)),setTimeout(()=>{i(y=>{const j=y.filter(h=>h.id!==g),k=p(j);return y.map(h=>h.id===g?{...h,...k,isJumping:!1}:h)})},1e3)};v.useEffect(()=>{x()},[]);const x=async()=>{var g;try{const y=await A.get("/api/photos?page=0&limit=50");console.log("Dashboard photos response:",y.data);const j=y.data.photos||y.data,k=((g=y.data.pagination)==null?void 0:g.total)||j.length;t(j.slice(0,6)),a(h=>({...h,photos:k}));try{const h=await A.get("/api/memories/upcoming");n(h.data.slice(0,3))}catch{console.log("No upcoming memories endpoint, skipping"),n([])}try{const h=await A.get("/api/memories");a(f=>({...f,memories:h.data.length}))}catch{console.log("No memories endpoint, setting count to 0"),a(f=>({...f,memories:0}))}try{const h=await A.get("/api/love");a(f=>({...f,totalLove:h.data.totalCount||0}))}catch{console.log("No love stats endpoint, setting count to 0"),a(f=>({...f,totalLove:0}))}}catch(y){console.error("Error fetching dashboard data:",y)}};return l.jsxs("div",{className:"relative space-y-8 fade-in min-h-screen overflow-hidden bg-white",children:[l.jsx("div",{className:"fixed inset-0 z-0 pointer-events-auto",children:o.map((g,y)=>{const j=["animate-float","animate-float-slow","animate-pulse-glow"],k=j[y%j.length],h=["text-3xl","text-4xl","text-5xl","text-6xl","text-2xl","text-xl","text-lg"],f=h[y%h.length];return l.jsx("div",{className:`absolute ${f} ${g.isJumping?"animate-jump-bounce":k} cursor-pointer hover:scale-150 hover:rotate-12 transition-all duration-300 select-none`,style:{top:g.top,left:g.left,animationDelay:`${y*.5}s`,zIndex:g.isJumping?10:1},title:g.title,onClick:()=>d(g.id),children:g.emoji},g.id)})}),l.jsxs("div",{className:"relative max-w-6xl mx-auto px-6 py-8 z-20 pointer-events-none",children:[l.jsxs("div",{className:"text-center slide-up mb-12",children:[l.jsx("h1",{className:"font-heading text-5xl font-semibold text-apple-label mb-6",children:"Welcome to Our Love Story"}),l.jsx("p",{className:"text-xl text-apple-secondary-label max-w-3xl mx-auto leading-relaxed",children:"A private sanctuary where we celebrate our precious moments, memories, and the beautiful journey of our love "})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[l.jsxs(te,{to:"/gallery",className:"apple-card apple-card-hover p-6 apple-shadow transition-all duration-300 hover:scale-105 cursor-pointer group relative overflow-hidden bg-gradient-to-br from-pink-50 to-purple-50 border border-pink-100/50 pointer-events-auto",children:[l.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-pink-200/20 to-purple-200/20 rounded-full -translate-y-10 translate-x-10 group-hover:scale-150 transition-transform duration-500"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-gradient-to-tr from-pink-100/30 to-purple-100/30 rounded-full translate-y-8 -translate-x-8 group-hover:scale-125 transition-transform duration-700"}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-purple-500 p-2 rounded-xl group-hover:scale-110 transition-transform duration-200",children:l.jsx(Qr,{className:"h-6 w-6 text-white"})}),l.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:s.photos})]}),l.jsx("div",{className:"text-lg font-semibold text-gray-800 group-hover:text-pink-600 transition-colors duration-200 mb-4 text-left flex items-center",children:" Photos Shared"}),e.length>0&&l.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:e.slice(0,4).map((g,y)=>l.jsx("div",{className:"aspect-square rounded-xl overflow-hidden bg-white shadow-sm border-2 border-pink-100 group-hover:border-pink-200 transition-all duration-300",style:{animationDelay:`${y*100}ms`},children:l.jsx("img",{src:`${gr}/api/photos/image/${g.filename}`,alt:g.caption||"Recent photo",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"})},g.id))}),l.jsx("div",{className:"text-sm text-gray-600 text-left mb-2",children:e.length>0?" Latest memories captured with love":" Ready to capture beautiful moments together"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-xs text-pink-500 font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"View Gallery "}),l.jsx("div",{className:"text-xs text-gray-400",children:" Made with love"})]})]})]}),l.jsxs(te,{to:"/memories",className:"apple-card apple-card-hover p-6 text-center apple-shadow transition-all duration-200 hover:scale-105 cursor-pointer group pointer-events-auto relative z-10",children:[l.jsx(pt,{className:"h-12 w-12 text-apple-blue-light mx-auto mb-4 group-hover:scale-110 transition-transform duration-200"}),l.jsx("div",{className:"text-3xl font-semibold text-apple-label mb-2",children:s.memories}),l.jsx("div",{className:"text-apple-secondary-label group-hover:text-apple-blue-light transition-colors duration-200 mb-3",children:"Memories Created"}),r.length>0&&l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsx("div",{className:"text-xs text-apple-tertiary-label mb-2",children:"Recent:"}),l.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:r.slice(0,2).map((g,y)=>l.jsx("div",{className:"bg-apple-gray-6/10 rounded-lg px-2 py-1 text-xs text-apple-secondary-label transform transition-all duration-300 hover:bg-apple-blue/10 hover:text-apple-blue",style:{animationDelay:`${y*.1}s`},children:g.title.length>12?`${g.title.substring(0,12)}...`:g.title},g.id))})]}),l.jsx("div",{className:"text-xs text-apple-tertiary-label mt-3",children:"Special moments we'll never forget"}),l.jsx("div",{className:"mt-2 text-xs text-apple-blue-light font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Browse Memories "})]}),l.jsx("div",{className:"relative z-20 pointer-events-auto",children:l.jsx(R0,{})}),l.jsx("div",{className:"relative z-20 pointer-events-auto",children:l.jsx(O0,{})})]}),l.jsxs("div",{className:"apple-card apple-shadow p-8 mb-8 pointer-events-auto",children:[l.jsx("h2",{className:"text-2xl font-semibold text-apple-label mb-6 text-center",children:"Create New Memories"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(te,{to:"/gallery",className:"bg-apple-blue/5 border border-apple-blue/20 rounded-xl p-6 hover:bg-apple-blue/10 transition-all duration-300 group pointer-events-auto",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"bg-apple-blue/10 p-3 rounded-xl group-hover:bg-apple-blue/20 transition-colors",children:l.jsx(Qr,{className:"h-6 w-6 text-apple-blue"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-apple-label",children:"Upload Photos"}),l.jsx("p",{className:"text-sm text-apple-secondary-label",children:"Add new memories to your gallery"})]})]})}),l.jsx(te,{to:"/memories",className:"bg-apple-blue/5 border border-apple-blue/20 rounded-xl p-6 hover:bg-apple-blue/10 transition-all duration-300 group pointer-events-auto",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"bg-apple-blue/10 p-3 rounded-xl group-hover:bg-apple-blue/20 transition-colors",children:l.jsx(pt,{className:"h-6 w-6 text-apple-blue"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-apple-label",children:"Add Memory"}),l.jsx("p",{className:"text-sm text-apple-secondary-label",children:"Create a special moment"})]})]})})]})]}),r.length>0&&l.jsxs("div",{className:"mb-8 pointer-events-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h2",{className:"text-2xl font-semibold text-apple-label flex items-center",children:[l.jsx(kp,{className:"h-6 w-6 mr-3 text-apple-blue-light"}),"Upcoming Anniversaries"]}),l.jsx(te,{to:"/memories",className:"text-apple-blue-light hover:text-apple-blue-light/80 font-medium transition-colors pointer-events-auto",children:"View All"})]}),l.jsx("div",{className:"space-y-4",children:r.map(g=>l.jsx("div",{className:"apple-card apple-shadow p-6 pointer-events-auto",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-apple-label",children:g.title}),l.jsx("p",{className:"text-apple-secondary-label text-sm mt-1",children:g.description})]}),l.jsx("div",{className:"text-right text-sm text-apple-tertiary-label",children:new Date(g.date).toLocaleDateString()})]})},g.id))})]}),e.length===0&&r.length===0&&l.jsxs("div",{className:"text-center py-16",children:[l.jsx(he,{className:"h-16 w-16 text-apple-blue/30 mx-auto mb-6"}),l.jsx("h3",{className:"text-2xl font-semibold text-apple-label mb-4",children:"Start Your Love Story"}),l.jsx("p",{className:"text-apple-secondary-label mb-8 max-w-md mx-auto",children:"Your beautiful journey together begins here. Use the quick actions above to upload your first photos and create special memories."})]})]}),c&&l.jsx(ef,{onClose:()=>u(!1),level:1,onPrizeWon:async g=>{console.log("Prize won:",g)}})]})}const vi=({photo:e,onClose:t,onPhotoUpdate:r,onPhotoDelete:n})=>{var w;const[s,a]=v.useState(!1),[o,i]=v.useState(e.caption||""),[c,u]=v.useState(((w=e.categories)==null?void 0:w.map(E=>E.id))||[]),[p,d]=v.useState([]),[x,g]=v.useState(!1);console.log("PhotoDetailModal rendered with photo:",e),v.useEffect(()=>{y()},[]);const y=async()=>{try{const E=await A.get("/api/categories");d(E.data)}catch(E){console.error("Error fetching categories:",E)}},j=async()=>{try{if(g(!0),console.log("Saving photo with categories:",c),console.log("Available categories:",p),o!==e.caption)try{await A.put(`/api/photos/${e.id}/caption`,{caption:o}),console.log("Caption updated successfully")}catch(S){console.error("Error updating caption:",S)}try{await A.put(`/api/photos/${e.id}/categories`,{categoryIds:c}),console.log("Categories updated successfully")}catch(S){console.error("Error updating categories:",S)}const E=p.filter(S=>c.includes(S.id)),b={...e,caption:o,categories:E};console.log("Calling onPhotoUpdate with:",b),r(b),a(!1),alert("Photo details updated successfully!")}catch(E){console.error("Error updating photo:",E),alert("Failed to update photo. Please try again.")}finally{g(!1)}},k=async()=>{try{const E=!e.isFavorite;await A.post(`/api/photos/${e.id}/favorite`,{favorite:E});const b={...e,isFavorite:E};r(b)}catch(E){console.error("Error toggling favorite:",E),alert("Failed to update favorite status. Please try again.")}},h=async()=>{if(window.confirm("Are you sure you want to delete this photo?"))try{g(!0),await A.delete(`/api/photos/${e.id}`),n(e.id),t(),alert("Photo deleted successfully!")}catch(E){console.error("Error deleting photo:",E),alert("Failed to delete photo. Please try again.")}finally{g(!1)}},f=async E=>{console.log("Toggling category:",E,"Current selected:",c);const b=c.includes(E)?c.filter(S=>S!==E):[...c,E];console.log("New selected categories:",b),u(b);try{console.log("Saving categories to backend:",b);const S=await A.put(`/api/photos/${e.id}/categories`,{categoryIds:b});console.log("Backend response:",S.data),r(S.data),console.log("Categories saved successfully")}catch(S){console.error("Error saving categories to backend:",S),u(c)}},m=E=>{let b;if(Array.isArray(E)){const[S,N,P,C=0,z=0,U=0]=E;b=new Date(S,N-1,P,C,z,U)}else b=new Date(E);return b.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})};return l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-3xl max-w-4xl w-full max-h-[90vh] overflow-hidden apple-shadow-lg",children:l.jsxs("div",{className:"flex h-full",children:[l.jsx("div",{className:"flex-1 bg-black flex items-center justify-center",children:l.jsx("img",{src:`${gr}/api/photos/image/${e.filename}`,alt:e.originalName,className:"max-w-full max-h-full object-contain"})}),l.jsxs("div",{className:"w-96 bg-white flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-apple-separator",children:[l.jsx("h2",{className:"text-xl font-semibold text-apple-label",children:"Photo Details"}),l.jsx("button",{onClick:t,className:"w-8 h-8 rounded-full bg-apple-gray-6/10 hover:bg-apple-gray-6/20 flex items-center justify-center transition-colors",children:l.jsx(St,{className:"w-4 h-4 text-apple-secondary-label"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-apple-label mb-3",children:"Information"}),l.jsxs("div",{className:"space-y-3 text-sm",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(pt,{className:"w-4 h-4 text-apple-secondary-label"}),l.jsx("span",{className:"text-apple-secondary-label",children:m(e.createdAt)})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(hi,{className:"w-4 h-4 text-apple-secondary-label"}),l.jsxs("span",{className:"text-apple-secondary-label",children:["Uploaded by ",e.uploader.name]})]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"font-medium text-apple-label",children:"Caption"}),l.jsx("button",{onClick:()=>a(!s),className:"text-apple-blue-light hover:text-apple-blue transition-colors",children:l.jsx(Jg,{className:"w-4 h-4"})})]}),s?l.jsx("textarea",{value:o,onChange:E=>i(E.target.value),placeholder:"Add a caption...",className:"w-full p-3 border border-apple-separator rounded-xl focus:outline-none focus:ring-2 focus:ring-apple-blue-light/20 focus:border-apple-blue-light resize-none",rows:3}):l.jsx("div",{className:"max-h-24 overflow-y-auto",children:l.jsx("p",{className:"text-apple-secondary-label text-sm p-3 bg-apple-gray-6/5 rounded-xl break-words",children:o||"No caption added yet"})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"font-medium text-apple-label",children:"Categories"}),l.jsx(hr,{className:"w-4 h-4 text-apple-secondary-label"})]}),l.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:p.filter(E=>E.name.toLowerCase()!=="favorites").map(E=>l.jsxs("label",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-apple-gray-6/5 cursor-pointer transition-colors",children:[l.jsx("input",{type:"checkbox",checked:c.includes(E.id),onChange:()=>f(E.id),className:"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 focus:ring-2"}),l.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:E.color}}),l.jsx("span",{className:"text-sm text-apple-label truncate",children:E.name})]},E.id))})]})]}),l.jsx("div",{className:"p-6 border-t border-apple-separator bg-apple-gray-6/5",children:s?l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:()=>{var E;a(!1),i(e.caption||""),u(((E=e.categories)==null?void 0:E.map(b=>b.id))||[])},className:"flex-1 px-4 py-3 bg-apple-gray-6/10 hover:bg-apple-gray-6/20 text-apple-label rounded-xl font-medium transition-colors",children:"Cancel"}),l.jsxs("button",{onClick:j,disabled:x,className:"flex-1 apple-button-primary px-4 py-3 rounded-xl font-medium flex items-center justify-center gap-2 disabled:opacity-50",children:[l.jsx(Ep,{className:"w-4 h-4"}),x?"Saving...":"Save"]})]}):l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs("button",{onClick:k,className:"flex-1 px-4 py-3 bg-apple-gray-6/10 hover:bg-apple-gray-6/20 text-apple-label rounded-xl font-medium flex items-center justify-center gap-2 transition-colors",children:[l.jsx(he,{className:`w-4 h-4 ${e.isFavorite?"text-red-500 fill-current":""}`}),e.isFavorite?"Favorited":"Add to Favorites"]}),l.jsxs("button",{onClick:h,disabled:x,className:"px-4 py-3 bg-red-500/10 hover:bg-red-500/20 text-red-600 rounded-xl font-medium flex items-center justify-center gap-2 transition-colors disabled:opacity-50",children:[l.jsx(nt,{className:"w-4 h-4"}),"Delete"]})]})})]})]})})})},rf=({onUploadComplete:e,onClose:t})=>{const[r,n]=v.useState([]),[s,a]=v.useState(!1),[o,i]=v.useState(!1),[c,u]=v.useState({success:0,total:0}),p=v.useRef(null),{showPhotoSuccess:d}=zl();console.log("PhotoUpload rendered",{files:r.length,isUploading:o,uploadStats:c});const x=w=>({file:w,id:Math.random().toString(36).substr(2,9),preview:URL.createObjectURL(w),status:"pending",progress:0}),g=v.useCallback(w=>{if(!w)return;const E=Array.from(w).filter(b=>b.type.startsWith("image/")).map(x);n(b=>[...b,...E])},[]),y=v.useCallback(w=>{w.preventDefault(),a(!1),g(w.dataTransfer.files)},[g]),j=v.useCallback(w=>{w.preventDefault(),a(!0)},[]),k=v.useCallback(w=>{w.preventDefault(),a(!1)},[]),h=w=>{n(E=>{const b=E.find(S=>S.id===w);return b&&URL.revokeObjectURL(b.preview),E.filter(S=>S.id!==w)})},f=async()=>{if(r.length!==0){console.log("Starting upload for",r.length,"files"),i(!0),u({success:0,total:r.length}),n(w=>w.map(E=>({...E,status:"uploading"})));try{const w=new FormData;r.forEach(({file:S})=>{w.append("photos",S),console.log("Added file to FormData:",S.name,S.size)});const E=setInterval(()=>{n(S=>S.map(N=>({...N,progress:N.status==="uploading"?Math.min(N.progress+Math.random()*20,90):N.progress})))},200);console.log("Sending upload request...");const b=await A.post("/api/photos/upload-multiple",w,{headers:{"Content-Type":void 0}});if(clearInterval(E),console.log("Upload response:",b.status,b.data),b.status===200)n(S=>S.map(N=>({...N,status:"success",progress:100}))),u({success:r.length,total:r.length}),d(r.length),setTimeout(()=>{e(),setTimeout(()=>{t()},2e3)},1e3);else throw new Error(`Upload failed with status: ${b.status}`)}catch(w){console.error("Upload error:",w),n(E=>E.map(b=>({...b,status:"error"}))),alert(`Upload failed: ${w instanceof Error?w.message:"Unknown error"}`)}finally{i(!1)}}},m=w=>{switch(w){case"success":return l.jsx(ao,{className:"w-5 h-5 text-green-500"});case"error":return l.jsx($g,{className:"w-5 h-5 text-red-500"});case"uploading":return l.jsx("div",{className:"w-5 h-5 border-2 border-apple-blue-light border-t-transparent rounded-full animate-spin"});default:return l.jsx(Yg,{className:"w-5 h-5 text-apple-secondary-label"})}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl apple-shadow max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-apple-separator",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-apple-blue-light/10 rounded-full flex items-center justify-center",children:l.jsx(Qr,{className:"w-5 h-5 text-apple-blue-light"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-apple-label",children:"Upload Photos"}),l.jsx("p",{className:"text-sm text-apple-secondary-label",children:"Share your beautiful memories"})]})]}),l.jsx("button",{onClick:t,className:"w-8 h-8 rounded-full bg-apple-gray-6/10 hover:bg-apple-gray-6/20 flex items-center justify-center transition-colors",children:l.jsx(St,{className:"w-4 h-4 text-apple-secondary-label"})})]}),l.jsx("div",{className:"p-6",children:r.length===0?l.jsxs("div",{className:`border-2 border-dashed rounded-2xl p-12 text-center transition-all duration-200 ${s?"border-apple-blue-light bg-apple-blue-light/5":"border-apple-separator hover:border-apple-blue-light/50 hover:bg-apple-gray-6/5"}`,onDrop:y,onDragOver:j,onDragLeave:k,children:[l.jsx("div",{className:"w-16 h-16 bg-apple-blue-light/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Cp,{className:"w-8 h-8 text-apple-blue-light"})}),l.jsx("h3",{className:"text-lg font-medium text-apple-label mb-2",children:"Drop photos here or click to browse"}),l.jsx("p",{className:"text-apple-secondary-label mb-6",children:"Support for JPEG, PNG, HEIC and more. Upload as many as you want!"}),l.jsx("button",{onClick:()=>{var w;return(w=p.current)==null?void 0:w.click()},className:"px-8 py-4 bg-apple-blue hover:bg-apple-blue-dark text-white rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:"Choose Photos"}),l.jsx("input",{ref:p,type:"file",multiple:!0,accept:"image/*",onChange:w=>g(w.target.files),className:"hidden"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:r.map(w=>l.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-apple-gray-6/5 rounded-xl",children:[l.jsx("img",{src:w.preview,alt:w.file.name,className:"w-12 h-12 object-cover rounded-lg"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-apple-label truncate",children:w.file.name}),l.jsxs("p",{className:"text-xs text-apple-secondary-label",children:[(w.file.size/1024/1024).toFixed(1)," MB"]}),w.status==="uploading"&&l.jsx("div",{className:"w-full bg-apple-gray-6/20 rounded-full h-1.5 mt-1",children:l.jsx("div",{className:"bg-apple-blue-light h-1.5 rounded-full transition-all duration-300",style:{width:`${w.progress}%`}})})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[m(w.status),w.status==="pending"&&l.jsx("button",{onClick:()=>h(w.id),className:"w-6 h-6 rounded-full bg-apple-gray-6/10 hover:bg-red-500/10 flex items-center justify-center transition-colors",children:l.jsx(St,{className:"w-3 h-3 text-apple-secondary-label hover:text-red-500"})})]})]},w.id))}),!o&&l.jsxs("button",{onClick:()=>{var w;return(w=p.current)==null?void 0:w.click()},className:"w-full p-3 border border-dashed border-apple-separator rounded-xl text-apple-blue-light hover:bg-apple-blue-light/5 transition-colors flex items-center justify-center space-x-2",children:[l.jsx(Me,{className:"w-4 h-4"}),l.jsx("span",{children:"Add More Photos"})]}),l.jsx("input",{ref:p,type:"file",multiple:!0,accept:"image/*",onChange:w=>g(w.target.files),className:"hidden"})]})}),c.success>0&&c.success===c.total&&!o&&l.jsx("div",{className:"p-6 border-t border-apple-separator bg-gradient-to-r from-green-50 to-emerald-50",children:l.jsxs("div",{className:"text-center animate-bounce-in",children:[l.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ao,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"text-xl font-semibold text-green-700 mb-2",children:"Upload Successful! "}),l.jsxs("p",{className:"text-green-600 mb-4",children:[c.success," photo",c.success!==1?"s":""," uploaded successfully"]}),l.jsx("div",{className:"flex justify-center space-x-2",children:[...Array(3)].map((w,E)=>l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-sparkle",style:{animationDelay:`${E*.2}s`}},E))})]})}),r.length>0&&!o&&c.success===0&&l.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-apple-separator bg-apple-gray-6/5",children:[l.jsx("div",{className:"text-sm text-apple-secondary-label",children:o?l.jsxs("span",{children:["Uploading ",c.success,"/",c.total," photos..."]}):l.jsxs("span",{children:[r.length," photo",r.length!==1?"s":""," selected"]})}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:t,disabled:o,className:"px-4 py-2 text-apple-secondary-label hover:text-apple-label transition-colors disabled:opacity-50",children:"Cancel"}),l.jsx("button",{onClick:f,disabled:o||r.length===0,className:"apple-button-primary px-6 py-2 rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Uploading...":`Upload ${r.length} Photo${r.length!==1?"s":""}`})]})]})]})})};function M0(){const[e,t]=v.useState([]),[r,n]=v.useState([]),[s,a]=v.useState(!0),[o,i]=v.useState(!1),[c,u]=v.useState("medium"),[p,d]=v.useState(null),[x,g]=v.useState(!1);v.useEffect(()=>{y()},[]),v.useEffect(()=>{e.length>=0&&j()},[e]);const y=async()=>{try{const N=await A.get("/api/photos?page=0&limit=100"),P=N.data.photos||N.data;t(P)}catch(N){console.error("Error fetching photos:",N)}finally{a(!1)}},j=async()=>{try{const P=(await A.get("/api/categories")).data,C={id:-1,name:"Favorites",color:"#ef4444",photos:e.filter(z=>z.isFavorite),photoCount:e.filter(z=>z.isFavorite).length};n([C,...P])}catch(N){console.error("Error fetching categories:",N)}},k=async()=>{i(!1),await y(),await j()},h=async N=>{try{const P=e.find(z=>z.id===N),C=!(P!=null&&P.isFavorite);await A.post(`/api/photos/${N}/favorite`,{favorite:C}),t(z=>z.map(U=>U.id===N?{...U,isFavorite:C}:U)),await j()}catch(P){console.error("Error toggling favorite:",P)}},f=N=>{d(N),g(!0)},m=N=>{t(P=>P.map(C=>C.id===N.id?N:C)),d(N)},w=N=>{t(P=>P.filter(C=>C.id!==N)),g(!1),d(null)},E=()=>{switch(c){case"small":return"w-32 h-32";case"medium":return"w-48 h-48";case"large":return"w-64 h-64";default:return"w-48 h-48"}},b=()=>{switch(c){case"small":return"grid-cols-2 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8";case"medium":return"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4";case"large":return"grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3";default:return"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"}},S=(N,P=!1)=>{const C=P?N:N.slice(0,5);return l.jsx("div",{className:`grid ${b()} gap-4`,children:C.map(z=>l.jsxs("div",{className:"relative group",children:[l.jsxs("div",{className:`${E()} relative overflow-hidden rounded-lg cursor-pointer transition-transform hover:scale-105`,onClick:()=>f(z),children:[l.jsx("img",{src:`${gr}/api/photos/image/${z.filename}`,alt:z.originalName,className:"w-full h-full object-cover",loading:"lazy"}),l.jsx("button",{onClick:U=>{U.stopPropagation(),h(z.id)},className:"absolute top-2 right-2 p-1 bg-white/80 rounded-full hover:bg-white transition-colors opacity-0 group-hover:opacity-100",children:l.jsx(he,{className:`h-4 w-4 ${z.isFavorite?"text-red-500 fill-current":"text-gray-600"}`})})]}),l.jsxs("div",{className:"mt-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:z.originalName}),z.caption&&l.jsx("p",{className:"text-xs text-gray-600 truncate",children:z.caption})]})]},z.id))})};return s?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})}):l.jsxs("div",{className:"space-y-6 fade-in",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Photo Gallery"}),l.jsx("p",{className:"text-gray-600",children:"Your beautiful memories organized by categories"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs(te,{to:"/recycle-bin",className:"bg-apple-gray-6 hover:bg-apple-gray-5 text-apple-label px-6 py-3 rounded-xl transition-all duration-300 flex items-center space-x-2 shadow-lg hover:shadow-xl transform hover:scale-105 font-medium border border-apple-separator",children:[l.jsx(nt,{className:"w-5 h-5"}),l.jsx("span",{children:"Recycle Bin"})]}),l.jsxs(te,{to:"/categories",className:"bg-apple-gray-6 hover:bg-apple-gray-5 text-apple-label px-6 py-3 rounded-xl transition-all duration-300 flex items-center space-x-2 shadow-lg hover:shadow-xl transform hover:scale-105 font-medium border border-apple-separator",children:[l.jsx(fr,{className:"w-5 h-5"}),l.jsx("span",{children:"Manage Categories"})]}),l.jsxs("button",{onClick:()=>i(!0),className:"bg-apple-gray-6 hover:bg-apple-gray-5 text-apple-label px-6 py-3 rounded-xl transition-all duration-300 flex items-center space-x-2 shadow-lg hover:shadow-xl transform hover:scale-105 font-medium border border-apple-separator",children:[l.jsx(Me,{className:"w-5 h-5"}),l.jsx("span",{children:"Add Photos"})]})]})]}),l.jsx("div",{className:"flex items-center space-x-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(fr,{className:"h-4 w-4 text-gray-600"}),l.jsxs("select",{value:c,onChange:N=>u(N.target.value),className:"px-3 py-1 border border-apple-separator rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-apple-blue bg-white",children:[l.jsx("option",{value:"small",children:"Small"}),l.jsx("option",{value:"medium",children:"Medium"}),l.jsx("option",{value:"large",children:"Large"})]})]})}),l.jsxs("div",{className:"mb-12",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-apple-label",children:"All Photos"}),l.jsxs(te,{to:"/photos",className:"text-apple-blue hover:text-apple-blue-dark font-medium transition-colors",children:["View All (",e.length,")"]})]}),e.length>0?l.jsx("div",{children:S(e.slice(0,5))}):l.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl p-12 text-center",children:[l.jsx(Qr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No photos yet"}),l.jsx("p",{className:"text-gray-500",children:"Start uploading to create your gallery!"})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Categories"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(N=>{const P=N.id===-1?e.filter(C=>C.isFavorite):e.filter(C=>C.categories.some(z=>z.id===N.id));return l.jsxs("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden border border-apple-separator",children:[l.jsx("div",{className:"p-4 border-b border-apple-separator",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:N.color}}),l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:N.name})]}),l.jsxs("span",{className:"text-sm text-gray-500",children:["(",P.length,")"]})]})}),l.jsxs("div",{className:"p-4",children:[P.length>0?l.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[P.slice(0,3).map(C=>l.jsx("div",{className:"aspect-square relative overflow-hidden rounded-lg",children:l.jsx("img",{src:`${gr}/api/photos/image/${C.filename}`,alt:C.originalName,className:"w-full h-full object-cover hover:scale-110 transition-transform duration-300 cursor-pointer",onClick:()=>f(C)})},C.id)),P.length>3&&l.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg flex items-center justify-center",children:l.jsxs("span",{className:"text-sm text-gray-500 font-medium",children:["+",P.length-3]})})]}):l.jsx("div",{className:"h-24 bg-gray-50 rounded-lg flex items-center justify-center mb-3",children:l.jsx("p",{className:"text-gray-400 text-sm",children:"No photos yet"})}),N.id===-1?l.jsx(te,{to:"/photos?filter=favorites",className:"block w-full text-center bg-apple-gray-6 hover:bg-apple-gray-5 text-apple-label py-2 px-4 rounded-lg transition-colors duration-200 text-sm font-medium border border-apple-separator",children:"View All Favorites"}):l.jsx(te,{to:`/category/${N.id}`,className:"block w-full text-center bg-apple-gray-6 hover:bg-apple-gray-5 text-apple-label py-2 px-4 rounded-lg transition-colors duration-200 text-sm font-medium border border-apple-separator",children:"View All Photos"})]})]},N.id)})})]}),e.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Cp,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No photos yet"}),l.jsx("p",{className:"text-gray-500 mb-6",children:"Start building your gallery by uploading your first photos!"}),l.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:[l.jsx(Me,{className:"w-5 h-5 mr-2"}),"Add Your First Photo"]})]}),o&&l.jsx(rf,{onClose:()=>i(!1),onUploadComplete:k}),x&&p&&l.jsx(vi,{photo:p,onClose:()=>{g(!1),d(null)},onPhotoUpdate:m,onPhotoDelete:w})]})}function _0(){const{id:e}=wp(),[t,r]=v.useState(null),[n,s]=v.useState([]),[a,o]=v.useState([]),[i,c]=v.useState(!0),[u,p]=v.useState(!1),[d,x]=v.useState(""),[g,y]=v.useState(!1),[j,k]=v.useState(!1),[h,f]=v.useState([]),m=z=>{let U;if(Array.isArray(z)){const[M,_,L,R=0,B=0,D=0]=z;U=new Date(M,_-1,L,R,B,D)}else U=new Date(z);return U.toLocaleDateString()};v.useEffect(()=>{e&&(w(),E(),b())},[e]);const w=async()=>{try{const z=await A.get(`/api/photos/${e}`);r(z.data),f(z.data.categories.map(U=>U.id))}catch(z){console.error("Error fetching photo:",z)}finally{c(!1)}},E=async()=>{try{const z=await A.get(`/api/photos/${e}/notes`);s(z.data)}catch(z){console.error("Error fetching notes:",z)}},b=async()=>{try{const z=await A.get("/api/categories");o(z.data)}catch(z){console.error("Error fetching categories:",z)}},S=async()=>{try{await A.post(`/api/photos/${e}/favorite`),p(!u)}catch(z){console.error("Error toggling favorite:",z)}},N=async z=>{if(z.preventDefault(),!!d.trim()){y(!0);try{await A.post(`/api/photos/${e}/notes`,{content:d.trim()}),x(""),await E()}catch(U){console.error("Error adding note:",U),alert("Error adding note. Please try again.")}finally{y(!1)}}},P=async()=>{try{await A.put(`/api/photos/${e}/categories`,{categoryIds:h}),k(!1),await w()}catch(z){console.error("Error updating categories:",z),alert("Error updating categories. Please try again.")}},C=z=>{f(U=>U.includes(z)?U.filter(M=>M!==z):[...U,z])};return i?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})}):t?l.jsxs("div",{className:"space-y-6 fade-in",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(te,{to:"/gallery",className:"inline-flex items-center text-gray-500 hover:text-gray-700 transition-colors",children:[l.jsx(pr,{className:"h-5 w-5 mr-2"}),"Back to Gallery"]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:S,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:l.jsx(he,{className:`h-5 w-5 ${u?"text-red-500 fill-current":"text-gray-600"}`})}),l.jsx("button",{onClick:()=>k(!0),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:l.jsx(hr,{className:"h-5 w-5 text-gray-600"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx("div",{className:"glass-effect rounded-xl overflow-hidden love-shadow",children:l.jsx("img",{src:`${gr}/api/photos/image/${t.filename}`,alt:t.originalName,className:"w-full h-auto max-h-96 object-contain bg-gray-50"})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:t.originalName}),t.caption&&l.jsx("p",{className:"text-gray-600 mb-4",children:t.caption}),l.jsxs("div",{className:"space-y-3 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(hi,{className:"h-4 w-4 mr-2"}),l.jsxs("span",{children:["Uploaded by ",t.uploader.name]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(pt,{className:"h-4 w-4 mr-2"}),l.jsx("span",{children:m(t.createdAt)})]})]})]}),l.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Categories"}),l.jsx("button",{onClick:()=>k(!0),className:"text-gray-500 hover:text-gray-700 transition-colors",children:l.jsx(Gn,{className:"h-4 w-4"})})]}),t.categories.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:t.categories.map(z=>l.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium text-white",style:{backgroundColor:z.color},children:z.name},z.id))}):l.jsx("p",{className:"text-gray-500 text-sm",children:"No categories assigned"})]}),l.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notes"}),l.jsx(Kg,{className:"h-5 w-5 text-gray-500"})]}),l.jsx("form",{onSubmit:N,className:"mb-6",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("input",{type:"text",value:d,onChange:z=>x(z.target.value),placeholder:"Add a note...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent"}),l.jsx("button",{type:"submit",disabled:g||!d.trim(),className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"...":l.jsx(Me,{className:"h-4 w-4"})})]})}),l.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:n.length>0?n.map(z=>l.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[l.jsx("p",{className:"text-gray-800 mb-2",children:z.content}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[l.jsxs("span",{children:["By ",z.author.name]}),l.jsx("span",{children:m(z.createdAt)})]})]},z.id)):l.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No notes yet. Be the first to add one!"})})]})]})]}),j&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Manage Categories"}),l.jsx("button",{onClick:()=>k(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:l.jsx(St,{className:"h-5 w-5"})})]}),l.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto mb-6",children:a.map(z=>l.jsxs("label",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:h.includes(z.id),onChange:()=>C(z.id),className:"rounded border-gray-300 text-gray-600 focus:ring-gray-400"}),l.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:z.color}}),l.jsx("span",{className:"text-gray-800",children:z.name})]},z.id))}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:()=>k(!1),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-lg transition-colors",children:"Cancel"}),l.jsx("button",{onClick:P,className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors",children:"Update"})]})]})})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-600 mb-4",children:"Photo not found"}),l.jsxs(te,{to:"/gallery",className:"inline-flex items-center text-gray-500 hover:text-gray-700 transition-colors",children:[l.jsx(pr,{className:"h-5 w-5 mr-2"}),"Back to Gallery"]})]})}const L0=({onDayClick:e})=>{const[t,r]=v.useState(new Date),[n,s]=v.useState([]),[a,o]=v.useState(!1),i=new Date,c=t.getFullYear(),u=t.getMonth();v.useEffect(()=>{p()},[c,u]);const p=async()=>{o(!0);try{const S=await A.get("/api/memories");s(S.data)}catch(S){console.error("Error fetching memories:",S),s([])}finally{o(!1)}},d=new Date(c,u,1),x=new Date(c,u+1,0),g=d.getDay(),y=x.getDate(),j=n.filter(S=>{let N;if(Array.isArray(S.date))N=S.date[1];else{const P=S.date.toString(),[C,z,U]=P.split("-").map(Number);N=z}return N-1===u}),k={};j.forEach(S=>{let N;if(Array.isArray(S.date))N=S.date[2];else{const P=S.date.toString(),[C,z,U]=P.split("-").map(Number);N=U}k[N]||(k[N]=[]),k[N].push(S)});const h=S=>{r(N=>{const P=new Date(N);return S==="prev"?P.setMonth(N.getMonth()-1):P.setMonth(N.getMonth()+1),P})},f=S=>{const N=`${c}-${String(u+1).padStart(2,"0")}-${String(S).padStart(2,"0")}`,P=k[S]||[];e(N,P)},m=S=>{switch(S){case"anniversary":return"";case"milestone":return"";default:return""}},w=()=>{const S=[];for(let N=0;N<g;N++)S.push(l.jsx("div",{className:"h-16"},`empty-${N}`));for(let N=1;N<=y;N++){const P=i.getFullYear()===c&&i.getMonth()===u&&i.getDate()===N,C=k[N]||[],z=C.length>0;S.push(l.jsxs("div",{onClick:()=>f(N),className:`h-16 flex flex-col items-center justify-start cursor-pointer rounded-lg transition-colors relative p-1 ${P?"bg-gradient-to-br from-pink-500 to-pink-600 text-white font-bold shadow-lg ring-2 ring-pink-300":z?"bg-purple-100 text-purple-800 hover:bg-purple-200":"hover:bg-gray-100 text-gray-700"}`,children:[l.jsx("span",{className:"text-sm font-medium",children:N}),P&&l.jsx("span",{className:"text-xs font-semibold mt-0.5 opacity-90",children:"Today"}),z&&!P&&l.jsxs("div",{className:"flex flex-col items-center space-y-0.5 mt-0.5",children:[C.slice(0,2).map((U,M)=>l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{className:"text-xs",children:m(U.type)}),l.jsx("span",{className:"text-xs truncate max-w-12 text-purple-700",children:U.title})]},U.id)),C.length>2&&l.jsxs("span",{className:"text-xs text-purple-600",children:["+",C.length-2," more"]})]}),z&&P&&l.jsxs("div",{className:"flex items-center space-x-1 mt-0.5",children:[l.jsx("span",{className:"text-xs",children:m(C[0].type)}),C.length>1&&l.jsxs("span",{className:"text-xs text-white opacity-90",children:["+",C.length-1]})]})]},N))}return S},E=["January","February","March","April","May","June","July","August","September","October","November","December"],b=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return l.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:[E[u]," ",c]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>h("prev"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:l.jsx(Bg,{className:"h-5 w-5 text-gray-600"})}),l.jsx("button",{onClick:()=>h("next"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:l.jsx(Wg,{className:"h-5 w-5 text-gray-600"})})]})]}),l.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:b.map(S=>l.jsx("div",{className:"h-8 flex items-center justify-center text-sm font-medium text-gray-500",children:S},S))}),l.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()}),l.jsxs("div",{className:"flex items-center justify-center space-x-6 mt-4 text-xs text-gray-500",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:""}),l.jsx("span",{children:"Anniversary"})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:""}),l.jsx("span",{children:"Milestone"})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:""}),l.jsx("span",{children:"Special Moment"})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full"}),l.jsx("span",{children:"Today"})]})]})]})},F0=({isOpen:e,onClose:t,date:r,memories:n,onEdit:s,onDelete:a})=>{if(!e)return null;const o=c=>{switch(c){case"anniversary":return l.jsx(he,{className:"h-5 w-5 text-red-500"});case"milestone":return l.jsx(Ht,{className:"h-5 w-5 text-yellow-500"});case"special_moment":return l.jsx(Vt,{className:"h-5 w-5 text-purple-500"});default:return l.jsx(pt,{className:"h-5 w-5 text-blue-500"})}},i=c=>{const[u,p,d]=c.split("-").map(Number);return new Date(u,p-1,d).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Memories for ",i(r)]}),l.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n.length," ",n.length===1?"memory":"memories"," found"]})]}),l.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(St,{className:"h-5 w-5"})})]}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:n.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(pt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No memories found for this date"})]}):l.jsx("div",{className:"space-y-4",children:n.map(c=>l.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 hover:border-gray-300 transition-colors",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o(c.type),l.jsx("h3",{className:"font-semibold text-gray-800",children:c.title})]}),l.jsx("p",{className:"text-gray-600 mb-3",children:c.description}),l.jsx("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:l.jsxs("span",{children:["Added by ",c.creator.name]})})]}),l.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[l.jsx("button",{onClick:()=>s(c),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Edit memory",children:l.jsx(Gn,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>a(c.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Delete memory",children:l.jsx(nt,{className:"h-4 w-4"})})]})]})},c.id))})})]})})};function A0(){const[e,t]=v.useState([]),[r,n]=v.useState(!1),[s,a]=v.useState(null),[o,i]=v.useState({title:"",description:"",date:"",type:"special_moment"}),[c,u]=v.useState(!1),[p,d]=v.useState("all"),[x,g]=v.useState("asc"),[y,j]=v.useState(""),[k,h]=v.useState([]),[f,m]=v.useState(!1);v.useEffect(()=>{w()},[]);const w=async()=>{try{const R=await A.get("/api/memories");t(R.data)}catch(R){console.error("Error fetching memories:",R)}},E=async R=>{if(R.preventDefault(),!c){u(!0);try{s?await A.put(`/api/memories/${s.id}`,o):await A.post("/api/memories",o),await w(),N()}catch(B){console.error("Error saving memory:",B),alert("Error saving memory. Please try again.")}finally{u(!1)}}},b=R=>{a(R),i({title:R.title,description:R.description,date:R.date.includes("T")?R.date.split("T")[0]:R.date,type:R.type}),n(!0)},S=async R=>{if(confirm("Are you sure you want to delete this memory?"))try{await A.delete(`/api/memories/${R}`),await w()}catch(B){console.error("Error deleting memory:",B),alert("Error deleting memory. Please try again.")}},N=()=>{i({title:"",description:"",date:"",type:"special_moment"}),a(null),n(!1)},P=(R,B)=>{j(R),h(B),m(!0)},C=R=>{switch(R){case"anniversary":return l.jsx(he,{className:"h-5 w-5 text-red-500",fill:"currentColor"});case"milestone":return l.jsx(Ht,{className:"h-5 w-5 text-yellow-500",fill:"currentColor"});default:return l.jsx(Vt,{className:"h-5 w-5 text-purple-500"})}},z=R=>{switch(R){case"anniversary":return"Anniversary";case"milestone":return"Milestone";default:return"Special Moment"}},M=e.filter(R=>p==="all"?!0:R.type===p).sort((R,B)=>{const D=new Date(R.date).getTime(),F=new Date(B.date).getTime();return x==="asc"?D-F:F-D}),_=()=>{g(R=>R==="asc"?"desc":"asc")},L=e.map(R=>{const B=new Date(R.date),D=new Date,F=D.getFullYear(),W=new Date(F,B.getMonth(),B.getDate()),J=W>=D?W:new Date(F+1,B.getMonth(),B.getDate());return{...R,nextAnniversaryDate:J,daysUntil:Math.ceil((J.getTime()-D.getTime())/(1e3*60*60*24))}}).sort((R,B)=>R.daysUntil-B.daysUntil).slice(0,3);return l.jsxs("div",{className:"space-y-6 fade-in",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"font-heading text-4xl text-gray-800 mb-2",children:"Our Memories"}),l.jsx("p",{className:"text-lg text-gray-600",children:"Special moments and milestones in our journey together"})]}),l.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 romantic-gradient text-white px-6 py-3 rounded-lg hover:opacity-90 transition-opacity",children:[l.jsx(Me,{className:"h-5 w-5"}),l.jsx("span",{children:"Add Memory"})]})]}),L.length>0&&l.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[l.jsx(kp,{className:"h-5 w-5 mr-2 text-purple-500"}),"Upcoming Anniversaries"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:L.map(R=>{const B=new Date(R.date),D=R.nextAnniversaryDate.getFullYear()-B.getFullYear();return l.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-purple-50 rounded-lg p-4 border border-pink-200",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[C(R.type),l.jsx("span",{className:"text-xs text-gray-500",children:R.nextAnniversaryDate.toLocaleDateString()})]}),l.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:R.title}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:R.description}),l.jsxs("div",{className:"flex items-center justify-between",children:[D>0&&l.jsxs("p",{className:"text-xs text-purple-600 font-medium",children:[D," year",D!==1?"s":""," anniversary"]}),l.jsx("p",{className:"text-xs text-gray-500",children:R.daysUntil===0?"Today!":`${R.daysUntil} days`})]})]},R.id)})})]}),l.jsx(L0,{onDayClick:P}),l.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[l.jsx(pt,{className:"h-5 w-5 mr-2 text-purple-500"}),"All Memories"]}),l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Filter by type:"}),["all","anniversary","milestone","special_moment"].map(R=>l.jsx("button",{onClick:()=>d(R),className:`px-4 py-2 rounded-lg transition-colors ${p===R?"romantic-gradient text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:R==="all"?"All":z(R)},R))]}),l.jsx("button",{onClick:_,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:l.jsx(Ig,{className:"h-4 w-4"})})]}),r&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:l.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:s?"Edit Memory":"Add New Memory"}),l.jsxs("form",{onSubmit:E,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),l.jsx("input",{type:"text",value:o.title,onChange:R=>i({...o,title:R.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),l.jsx("textarea",{value:o.description,onChange:R=>i({...o,description:R.target.value}),rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" Date"}),l.jsx("div",{className:"relative",children:l.jsx("input",{type:"date",value:o.date,onChange:R=>i({...o,date:R.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent bg-gray-50 hover:bg-white transition-colors text-gray-700 font-medium",required:!0})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),l.jsxs("select",{value:o.type,onChange:R=>i({...o,type:R.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent",children:[l.jsx("option",{value:"special_moment",children:"Special Moment"}),l.jsx("option",{value:"anniversary",children:"Anniversary"}),l.jsx("option",{value:"milestone",children:"Milestone"})]})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:N,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-4 py-2 romantic-gradient text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50",children:c?"Saving...":s?"Update":"Add"})]})]})]})}),M.length>0?l.jsx("div",{className:"space-y-4",children:M.map(R=>l.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[C(R.type),l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:R.title}),l.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:z(R.type)})]}),l.jsx("p",{className:"text-gray-600 mb-3",children:R.description}),l.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(pt,{className:"h-4 w-4"}),l.jsx("span",{children:new Date(R.date).toLocaleDateString()})]}),l.jsx("span",{children:""}),l.jsxs("span",{children:["Added by ",R.creator.name]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[l.jsx("button",{onClick:()=>b(R),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Gn,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>S(R.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:l.jsx(nt,{className:"h-4 w-4"})})]})]})},R.id))}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(pt,{className:"h-16 w-16 text-pink-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:p==="all"?"No memories yet":`No ${z(p).toLowerCase()}s yet`}),l.jsx("p",{className:"text-gray-500 mb-6",children:"Start documenting your special moments and milestones!"}),l.jsxs("button",{onClick:()=>n(!0),className:"inline-flex items-center px-6 py-3 romantic-gradient text-white rounded-lg hover:opacity-90 transition-opacity",children:[l.jsx(Me,{className:"h-5 w-5 mr-2"}),"Add First Memory"]})]})]}),l.jsx(F0,{isOpen:f,onClose:()=>m(!1),date:y,memories:k,onEdit:b,onDelete:S})]})}const $0=({prizes:e,size:t=300})=>{const r=(p,d)=>p==="MONEY"?d>=500?l.jsx(gt,{className:"w-4 h-4 text-yellow-400"}):d>=100?l.jsx(gt,{className:"w-4 h-4 text-white"}):d>=50?l.jsx(Ht,{className:"w-4 h-4 text-white"}):d>=25?l.jsx(it,{className:"w-4 h-4 text-white"}):d>=10?l.jsx(it,{className:"w-4 h-4 text-gray-800"}):l.jsx(it,{className:"w-4 h-4 text-gray-600"}):l.jsx(Vt,{className:"w-4 h-4 text-white"}),n=p=>{const d=p.replace("#",""),x=parseInt(d.substr(0,2),16),g=parseInt(d.substr(2,2),16),y=parseInt(d.substr(4,2),16);return(.299*x+.587*g+.114*y)/255>.5?"#000000":"#FFFFFF"},s=t/2,a=s,o=s,i=e.map((p,d)=>{const x=360/e.length,g=d*x,y=(d+1)*x;return{...p,startAngle:g,endAngle:y,segmentAngle:x}}),c=(p,d)=>{const x=p*Math.PI/180,g=d*Math.PI/180,y=a+(s-20)*Math.cos(x),j=o+(s-20)*Math.sin(x),k=a+(s-20)*Math.cos(g),h=o+(s-20)*Math.sin(g),f=d-p<=180?"0":"1";return[`M ${a} ${o}`,`L ${y} ${j}`,`A ${s-20} ${s-20} 0 ${f} 1 ${k} ${h}`,"Z"].join(" ")},u=(p,d)=>{const x=(p+d)/2,g=(s-20)*.7,y=x*Math.PI/180;return{x:a+g*Math.cos(y),y:o+g*Math.sin(y)}};return e.length===0?l.jsx("div",{className:"flex items-center justify-center bg-gray-100 rounded-full border-4 border-gray-300",style:{width:t,height:t},children:l.jsx("p",{className:"text-gray-500 text-center px-4",children:"No prizes configured"})}):l.jsxs("div",{className:"relative",children:[l.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",children:[i.map((p,d)=>l.jsx("g",{children:l.jsx("path",{d:c(p.startAngle,p.endAngle),fill:p.color,stroke:"#ffffff",strokeWidth:"2"})},d)),l.jsx("circle",{cx:a,cy:o,r:"20",fill:"#ffffff",stroke:"#e5e7eb",strokeWidth:"2"})]}),l.jsx("div",{className:"absolute inset-0",children:i.map((p,d)=>{const x=u(p.startAngle,p.endAngle),g=n(p.color);return l.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 text-center",style:{left:x.x,top:x.y,color:g},children:l.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[r(p.prizeType,p.prizeValue),l.jsx("div",{className:"text-xs font-medium whitespace-nowrap",children:p.prizeName}),l.jsxs("div",{className:"text-xs opacity-75",children:[p.probability.toFixed(1),"%"]})]})},d)})}),l.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1",style:{marginTop:"10px"},children:l.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-b-8 border-l-transparent border-r-transparent border-b-red-500"})})]})},U0=`
  .slider {
    -webkit-appearance: none;
    appearance: none;
    height: 12px;
    border-radius: 6px;
    outline: none;
    transition: all 0.2s ease;
  }
  
  .slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: #3B82F6;
    cursor: pointer;
    border: 3px solid white;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    transition: all 0.2s ease;
  }
  
  .slider::-webkit-slider-thumb:hover {
    background: #2563EB;
    transform: scale(1.1);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  }
  
  .slider::-moz-range-thumb {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: #3B82F6;
    cursor: pointer;
    border: 3px solid white;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    transition: all 0.2s ease;
  }
  
  .slider::-moz-range-thumb:hover {
    background: #2563EB;
    transform: scale(1.1);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  }
`,I0=({targetUserId:e,targetUserName:t,onPrizesChange:r})=>{const[n,s]=v.useState([]),[a,o]=v.useState(!0),[i,c]=v.useState(!1),[u,p]=v.useState(!1),{showToast:d}=zl(),x=["#F3F4F6","#E5E7EB","#D1D5DB","#9CA3AF","#6B7280","#4B5563","#374151","#1F2937","#FEF3C7","#FDE68A","#FCD34D","#F59E0B","#D97706","#92400E","#78350F","#FEE2E2","#FECACA","#FCA5A5","#F87171","#EF4444","#DC2626","#B91C1C","#991B1B","#7F1D1D","#DBEAFE","#BFDBFE","#93C5FD","#60A5FA","#3B82F6","#2563EB","#1D4ED8","#1E40AF","#1E3A8A","#D1FAE5","#A7F3D0","#6EE7B7","#34D399","#10B981","#059669","#047857"];v.useEffect(()=>{g()},[e]);const g=async()=>{try{o(!0);const N=e?`/api/wheel-config/other-user-wheel/${e}`:"/api/wheel-config/my-wheel",P=await A.get(N);if(P.data.hasConfiguration&&P.data.prizes)s(P.data.prizes.map((C,z)=>({id:C.id,prizeName:C.prizeName,prizeDescription:C.prizeDescription,prizeType:C.prizeType,prizeValue:C.prizeValue,probability:parseFloat(C.probability),color:C.color,displayOrder:C.displayOrder||z}))),p(!0),r&&r(P.data.prizes.map((C,z)=>({id:C.id,prizeName:C.prizeName,prizeDescription:C.prizeDescription,prizeType:C.prizeType,prizeValue:C.prizeValue,probability:parseFloat(C.probability),color:C.color,displayOrder:C.displayOrder||z})));else{const C=y();s(C),p(!1),r&&r(C)}}catch(N){console.error("Error loading wheel configuration:",N),d("Failed to load wheel configuration","general"),s(y()),p(!1)}finally{o(!1)}},y=()=>[{prizeName:"$1",prizeDescription:"Win $1 love points",prizeType:"MONEY",prizeValue:1,probability:45,color:"#F3F4F6",displayOrder:0},{prizeName:"$5",prizeDescription:"Win $5 love points",prizeType:"MONEY",prizeValue:5,probability:25,color:"#E5E7EB",displayOrder:1},{prizeName:"$10",prizeDescription:"Win $10 love points",prizeType:"MONEY",prizeValue:10,probability:15,color:"#D1D5DB",displayOrder:2},{prizeName:"$25",prizeDescription:"Win $25 love points",prizeType:"MONEY",prizeValue:25,probability:10,color:"#9CA3AF",displayOrder:3},{prizeName:"$77",prizeDescription:"Win $77 love points",prizeType:"MONEY",prizeValue:77,probability:2.5,color:"#6B7280",displayOrder:4},{prizeName:"$100",prizeDescription:"Win $100 love points",prizeType:"MONEY",prizeValue:100,probability:1.5,color:"#4B5563",displayOrder:5},{prizeName:"$500",prizeDescription:"Win $500 love points",prizeType:"MONEY",prizeValue:500,probability:.5,color:"#374151",displayOrder:6},{prizeName:"$1000",prizeDescription:"Win $1000 love points",prizeType:"MONEY",prizeValue:1e3,probability:.5,color:"#1F2937",displayOrder:7}],j=()=>{const N={prizeName:"New Prize",prizeDescription:"Description for new prize",prizeType:"MONEY",prizeValue:1,probability:1,color:x[Math.floor(Math.random()*x.length)],displayOrder:n.length},P=[...n,N];s(P),r&&r(P)},k=N=>{if(n.length<=2){d("You must have at least 2 prizes","general");return}const P=n.filter((C,z)=>z!==N);m(P),r&&r(P)},h=(N,P,C)=>{const z=[...n];z[N]={...z[N],[P]:C},s(z),r&&r(z)},f=(N,P)=>{const C=[...n],z=C[N].probability,U=P-z;C[N].probability=P;const M=C.filter((L,R)=>R!==N),_=M.reduce((L,R)=>L+R.probability,0);_>0&&M.forEach((L,R)=>{const B=C.findIndex(F=>F===L),D=U*L.probability/_;C[B].probability=Math.max(.1,L.probability-D)}),w(C),r&&r(C)},m=N=>{const P=N.reduce((C,z)=>C+z.probability,0);P>0&&N.forEach(C=>{C.probability=C.probability/P*100}),s(N)},w=N=>{const P=N.reduce((C,z)=>C+z.probability,0);if(P!==100){const C=100/P;N.forEach(z=>{z.probability=z.probability*C})}s(N)},E=()=>{const N=y();s(N),d("Reset to default configuration","general"),r&&r(N)},b=async()=>{var N,P;try{c(!0);const C=n.reduce((M,_)=>M+_.probability,0);if(Math.abs(C-100)>.1){d("Total probability must equal 100%","general");return}for(const M of n)if(!M.prizeName.trim()||!M.prizeDescription.trim()||M.prizeValue<=0){d("All prize fields must be filled with valid values","general");return}const z=e?`/api/wheel-config/save-for-user/${e}`:"/api/wheel-config/save",U={prizes:n.map(M=>({prizeName:M.prizeName,prizeDescription:M.prizeDescription,prizeType:M.prizeType,prizeValue:M.prizeValue,probability:M.probability,color:M.color}))};await A.post(z,U),d(e?`Successfully saved wheel configuration for ${t}`:"Successfully saved wheel configuration","general"),p(!0)}catch(C){console.error("Error saving wheel configuration:",C),d(((P=(N=C.response)==null?void 0:N.data)==null?void 0:P.message)||"Failed to save wheel configuration","general")}finally{c(!1)}},S=n.reduce((N,P)=>N+P.probability,0);return a?l.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),l.jsx("div",{className:"space-y-3",children:[1,2,3].map(N=>l.jsx("div",{className:"h-20 bg-gray-200 rounded"},N))})]})}):l.jsxs(l.Fragment,{children:[l.jsx("style",{children:U0}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 border-b border-gray-100",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:l.jsx(fr,{className:"w-5 h-5 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?`${t}'s Wheel Configuration`:"My Wheel Configuration"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Configure prizes and probabilities"})]})]}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Math.abs(S-100)<.1?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:["Total: ",S.toFixed(1),"%"]})})]})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Live Preview"}),l.jsx("div",{className:"flex justify-center",children:l.jsx($0,{prizes:n,size:280})})]}),l.jsxs("div",{className:"space-y-6 mb-8",children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Prize Configuration"}),n.map((N,P)=>l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:N.color}}),l.jsxs("span",{className:"font-medium text-gray-900",children:["Prize ",P+1]})]}),l.jsx("button",{onClick:()=>k(P),disabled:n.length<=2,className:`p-2 rounded-lg transition-colors ${n.length<=2?"text-gray-400 cursor-not-allowed":"text-red-500 hover:text-red-700 hover:bg-red-50"}`,title:n.length<=2?"Minimum 2 prizes required":"Remove prize",children:l.jsx(nt,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prize Name"}),l.jsx("input",{type:"text",value:N.prizeName,onChange:C=>h(P,"prizeName",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., $10"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("input",{type:"text",value:N.prizeDescription,onChange:C=>h(P,"prizeDescription",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Prize description"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),l.jsxs("select",{value:N.prizeType,onChange:C=>h(P,"prizeType",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"MONEY",children:" Money"}),l.jsx("option",{value:"GIFT",children:" Gift"}),l.jsx("option",{value:"EXPERIENCE",children:" Experience"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Value"}),l.jsx("input",{type:"number",value:N.prizeValue,onChange:C=>h(P,"prizeValue",parseFloat(C.target.value)||0),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Value",min:"0",step:"0.01"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg border-2 border-gray-300 cursor-pointer shadow-sm",style:{backgroundColor:N.color}}),l.jsx("select",{value:N.color,onChange:C=>h(P,"color",C.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:x.map(C=>l.jsx("option",{value:C,children:C},C))})]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Probability"}),l.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[N.probability.toFixed(1),"%"]})]}),l.jsx("input",{type:"range",min:"0.1",max:"95",step:"0.1",value:N.probability,onChange:C=>f(P,parseFloat(C.target.value)),className:"w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, ${N.color} 0%, ${N.color} ${N.probability}%, #e5e7eb ${N.probability}%, #e5e7eb 100%)`}})]})]},P))]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:items-center sm:justify-between",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsxs("button",{onClick:j,className:"flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:[l.jsx(Me,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:"Add Prize"})]}),l.jsxs("button",{onClick:E,className:"flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-xl hover:from-gray-600 hover:to-gray-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:[l.jsx(oo,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:"Reset to Default"})]})]}),l.jsxs("button",{onClick:b,disabled:i||Math.abs(S-100)>.1,className:`flex items-center justify-center space-x-2 px-8 py-3 rounded-xl font-medium transition-all duration-200 shadow-md transform ${i||Math.abs(S-100)>.1?"bg-gray-400 cursor-not-allowed text-white":"bg-gradient-to-r from-green-500 to-green-600 text-white hover:from-green-600 hover:to-green-700 hover:shadow-lg hover:-translate-y-0.5"}`,children:[l.jsx(Ep,{className:"w-5 h-5"}),l.jsx("span",{children:i?"Saving...":"Save Configuration"})]})]}),Math.abs(S-100)>.1&&l.jsx("div",{className:"mt-6 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"text-amber-500",children:l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),l.jsxs("p",{className:"text-sm font-medium text-amber-800",children:["Total probability must equal 100% to save the configuration. Current total: ",S.toFixed(1),"%"]})]})})]})]})]})};function B0(){const{user:e}=rn(),[t,r]=v.useState(null),[n,s]=v.useState([]),[a,o]=v.useState({totalPrizes:0,totalValue:0}),[i,c]=v.useState(!0),[u,p]=v.useState(0),[d,x]=v.useState(!0),[g,y]=v.useState(null),[j,k]=v.useState([]);v.useEffect(()=>{const f=async()=>{try{const b=await A.get("/api/auth/relationship-info");r(b.data)}catch(b){console.error("Error fetching relationship info:",b)}},m=async()=>{try{c(!0);const[b,S]=await Promise.all([A.get("/api/wheel-prizes"),A.get("/api/wheel-prizes/stats")]);s(b.data.prizes||[]),o(S.data)}catch(b){console.error("Error fetching wheel prizes:",b)}finally{c(!1)}},w=async()=>{try{x(!0);const b=await A.get("/api/opportunities/stats");p(b.data.unused||0)}catch(b){console.error("Error fetching user data:",b)}finally{x(!1)}},E=async()=>{try{const b=await A.get("/api/auth/other-user");y(b.data)}catch(b){console.error("Error fetching other user:",b)}};f(),m(),w(),E()},[]),v.useEffect(()=>{g&&(async()=>{try{const m=await A.get("/api/wheel-config/my-wheel");m.data.hasConfiguration&&m.data.prizes&&setMyWheelPrizes(m.data.prizes);const w=await A.get(`/api/wheel-config/other-user-wheel/${g.id}`);w.data.hasConfiguration&&w.data.prizes&&k(w.data.prizes)}catch(m){console.error("Error fetching wheel configurations:",m)}})()},[g]);const h=f=>new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return l.jsx("div",{className:"min-h-screen bg-apple-secondary-background",children:l.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs(te,{to:"/dashboard",className:"inline-flex items-center text-apple-blue hover:text-apple-blue/80 mb-6 transition-colors",children:[l.jsx(pr,{className:"h-5 w-5 mr-2"}),"Back to Dashboard"]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"bg-apple-blue/10 p-4 rounded-2xl",children:l.jsx(he,{className:"h-8 w-8 text-apple-blue",fill:"currentColor"})})}),l.jsx("h1",{className:"font-heading text-4xl font-semibold text-apple-label mb-3",children:"Relationship Settings"}),l.jsx("p",{className:"text-apple-secondary-label text-lg",children:"Customize your love story timeline"})]})]}),l.jsx("div",{className:"apple-card apple-shadow p-8",children:l.jsxs("div",{className:"text-center space-y-6",children:[l.jsx("div",{className:"bg-apple-blue/5 border border-apple-blue/20 rounded-xl p-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-4xl font-bold text-apple-blue mb-3",children:""}),l.jsx("div",{className:"text-xl font-semibold text-apple-label mb-2",children:"Your Love Story"}),l.jsxs("div",{className:"text-apple-secondary-label",children:["Started on ",t?h(t.startDate):"June 8th, 2020"]}),l.jsx("div",{className:"text-sm text-apple-tertiary-label mt-4",children:"Watch your days together count up in real-time in the header!"})]})}),l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-apple-secondary-label",children:"Your relationship timeline is automatically calculated and updates every second."})})]})}),l.jsx("div",{className:"mt-8",children:l.jsxs("div",{className:"apple-card apple-shadow p-8",children:[l.jsxs("div",{className:"flex items-center justify-center mb-6",children:[l.jsx("div",{className:`p-3 rounded-2xl mr-4 ${(e==null?void 0:e.username)==="scott"?"bg-blue-100":"bg-pink-100"}`,children:l.jsx(hi,{className:`h-6 w-6 ${(e==null?void 0:e.username)==="scott"?"text-blue-600":"text-pink-600"}`})}),l.jsxs("h2",{className:"text-2xl font-semibold text-apple-label",children:[(e==null?void 0:e.name)||(e==null?void 0:e.username)||"Your"," Stats"]})]}),d?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500 mx-auto mb-2"}),l.jsx("div",{className:"text-sm text-apple-secondary-label",children:"Loading your stats..."})]}):l.jsx("div",{className:"flex justify-center",children:l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6 text-center max-w-sm",children:[l.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:u}),l.jsx("div",{className:"text-yellow-700 font-medium mb-1",children:"Saved Opportunities"}),l.jsx("div",{className:"text-sm text-yellow-600",children:"Ready to use on prize wheel"})]})})]})}),l.jsx("div",{className:"mt-8",children:l.jsxs("div",{className:"apple-card apple-shadow p-8",children:[l.jsxs("div",{className:"flex items-center justify-center mb-6",children:[l.jsx("div",{className:"bg-purple-100 p-3 rounded-2xl mr-4",children:l.jsx(Uc,{className:"h-6 w-6 text-purple-600"})}),l.jsx("h2",{className:"font-heading text-2xl font-semibold text-apple-label",children:"Prize Wheel History"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:a.totalPrizes}),l.jsx("div",{className:"text-sm text-purple-700",children:"Total Prizes Won"})]}),l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:a.totalValue}),l.jsx("div",{className:"text-sm text-green-700",children:"Total Value"})]})]}),i?l.jsx("div",{className:"text-center py-8",children:l.jsx("div",{className:"text-apple-secondary-label",children:"Loading prize history..."})}):n.length>0?l.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:n.map(f=>l.jsx("div",{className:"bg-apple-secondary-background border border-apple-separator rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"bg-yellow-100 p-2 rounded-lg mr-3",children:l.jsx(Vt,{className:"h-4 w-4 text-yellow-600"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-apple-label",children:f.prizeDescription}),l.jsx("div",{className:"text-sm text-apple-secondary-label",children:new Date(f.wonAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"font-semibold text-green-600",children:["+",f.prizeValue]}),l.jsx("div",{className:"text-xs text-apple-tertiary-label",children:f.prizeType})]})]})},f.id))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"bg-gray-100 p-4 rounded-2xl mb-4 inline-block",children:l.jsx(Uc,{className:"h-8 w-8 text-gray-400"})}),l.jsx("div",{className:"text-apple-secondary-label mb-2",children:"No prizes won yet"}),l.jsx("div",{className:"text-sm text-apple-tertiary-label",children:"Start spinning the wheel to win prizes!"})]})]})}),l.jsx("div",{className:"mt-8",children:l.jsxs("div",{className:"apple-card apple-shadow p-8",children:[l.jsxs("div",{className:"flex items-center justify-center mb-6",children:[l.jsx("div",{className:"bg-blue-100 p-3 rounded-2xl mr-4",children:l.jsx(fr,{className:"h-6 w-6 text-blue-600"})}),l.jsx("h2",{className:"font-heading text-2xl font-semibold text-apple-label",children:"Wheel Configuration"})]}),l.jsx("div",{className:"text-center mb-6",children:l.jsxs("p",{className:"text-apple-secondary-label",children:["Customize ",(g==null?void 0:g.displayName)||(g==null?void 0:g.username)||"your partner","'s prize wheel and adjust winning probabilities"]})}),l.jsx("div",{children:l.jsx(I0,{targetUserId:g==null?void 0:g.id,targetUserName:(g==null?void 0:g.displayName)||(g==null?void 0:g.username),onPrizesChange:k})})]})})]})})}function W0({category:e,onClose:t,onCategoryUpdated:r}={}){const[n,s]=v.useState([]),[a,o]=v.useState(!0),[i,c]=v.useState(!1),[u,p]=v.useState(null),[d,x]=v.useState({name:"",description:"",color:"#3B82F6"}),g=[{value:"#EF4444",name:"Red"},{value:"#F59E0B",name:"Orange"},{value:"#10B981",name:"Green"},{value:"#3B82F6",name:"Blue"},{value:"#8B5CF6",name:"Purple"},{value:"#EC4899",name:"Pink"},{value:"#6B7280",name:"Gray"}];v.useEffect(()=>{y(),e&&(p(e),x({name:e.name,description:e.description||"",color:e.color})),t&&c(!0)},[e,t]);const y=async()=>{try{const m=await A.get("/api/categories");s(m.data)}catch(m){console.error("Error fetching categories:",m)}finally{o(!1)}},j=async m=>{var w,E;m.preventDefault();try{u?await A.put(`/api/categories/${u.id}`,d):await A.post("/api/categories",d),await y(),r==null||r(),f()}catch(b){console.error("Error saving category:",b),alert(((E=(w=b.response)==null?void 0:w.data)==null?void 0:E.message)||"Error saving category")}},k=async m=>{if(confirm("Are you sure you want to delete this category? This will remove it from all photos."))try{await A.delete(`/api/categories/${m}`),await y()}catch(w){console.error("Error deleting category:",w),alert("Error deleting category")}},h=m=>{p(m),x({name:m.name,description:m.description||"",color:m.color}),c(!0)},f=()=>{x({name:"",description:"",color:"#3B82F6"}),p(null),c(!1),t==null||t()};return a?l.jsx("div",{className:"flex items-center justify-center min-h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})}):l.jsxs("div",{className:"space-y-6 fade-in",children:[!t&&l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"font-heading text-4xl text-gray-800 mb-4",children:"Photo Categories"}),l.jsx("p",{className:"text-lg text-gray-600",children:"Organize your memories into meaningful collections"})]}),!t&&l.jsx("div",{className:"flex justify-center",children:l.jsxs("button",{onClick:()=>c(!0),className:"flex items-center space-x-2 bg-gray-800 hover:bg-gray-900 text-white px-6 py-3 rounded-lg transition-colors font-medium",children:[l.jsx(Me,{className:"h-5 w-5"}),l.jsx("span",{children:"Create New Category"})]})}),i&&l.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:u?"Edit Category":"Create New Category"}),l.jsx("button",{onClick:f,className:"text-gray-500 hover:text-gray-700 transition-colors",children:l.jsx(St,{className:"h-5 w-5"})})]}),l.jsxs("form",{onSubmit:j,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name"}),l.jsx("input",{type:"text",value:d.name,onChange:m=>x({...d,name:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent",placeholder:"Enter category name",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),l.jsx("textarea",{value:d.description,onChange:m=>x({...d,description:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"Describe this category",rows:3})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(m=>l.jsx("button",{type:"button",onClick:()=>x({...d,color:m.value}),className:`w-8 h-8 rounded-full border-2 transition-all ${d.color===m.value?"border-gray-800 scale-110":"border-gray-300 hover:border-gray-500"}`,style:{backgroundColor:m.value},title:m.name,children:d.color===m.value&&l.jsx(qr,{className:"h-4 w-4 text-white mx-auto"})},m.value))})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"submit",className:"flex-1 bg-gray-800 hover:bg-gray-900 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:u?"Update Category":"Create Category"}),l.jsx("button",{type:"button",onClick:f,className:"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"})]})]})]}),!t&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(m=>l.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:m.color}}),l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:m.name})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>h(m),className:"text-gray-500 hover:text-blue-600 transition-colors",children:l.jsx(Gn,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>k(m.id),className:"text-gray-500 hover:text-red-600 transition-colors",children:l.jsx(nt,{className:"h-4 w-4"})})]})]}),m.description&&l.jsx("p",{className:"text-gray-600 text-sm mb-4",children:m.description}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[l.jsx(hr,{className:"h-4 w-4"}),l.jsxs("span",{children:[m.photoCount," photos"]})]}),l.jsx("button",{onClick:()=>window.location.href=`/photos/category/${m.id}`,className:"text-gray-600 hover:text-gray-700 text-sm font-medium transition-colors",children:"View Photos"})]})]},m.id))}),n.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(hr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No categories yet"}),l.jsx("p",{className:"text-gray-500 mb-6",children:"Create your first category to start organizing your photos!"}),l.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center px-6 py-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg transition-colors",children:[l.jsx(Me,{className:"h-5 w-5 mr-2"}),"Create First Category"]})]})]})}function V0(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,a]=v.useState(!1),[o,i]=v.useState(null);v.useEffect(()=>{c()},[]);const c=async()=>{try{const g=await A.get("/api/categories");t(g.data)}catch(g){console.error("Error fetching categories:",g)}finally{n(!1)}},u=async g=>{if(confirm("Are you sure you want to delete this category? This will not delete the photos, only remove them from this category."))try{await A.delete(`/api/categories/${g}`),await c()}catch(y){console.error("Error deleting category:",y),alert("Error deleting category")}},p=()=>{c(),a(!1),i(null)},d=g=>{i(g),a(!0)},x=()=>{i(null),a(!0)};return r?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})}):l.jsxs("div",{className:"space-y-6 fade-in",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(te,{to:"/gallery",className:"inline-flex items-center text-gray-500 hover:text-gray-700 transition-colors p-2 hover:bg-gray-100 rounded-full",children:l.jsx(pr,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Photo Categories"}),l.jsx("p",{className:"text-gray-600",children:"Organize your memories by themes and moments"})]})]}),l.jsxs("button",{onClick:x,className:"flex items-center space-x-2 bg-gray-800 hover:bg-gray-900 text-white px-6 py-3 rounded-lg transition-colors font-medium",children:[l.jsx(Me,{className:"h-5 w-5"}),l.jsx("span",{children:"New Category"})]})]}),s&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-xl max-w-md w-full",children:l.jsx(W0,{category:o,onClose:()=>{a(!1),i(null)},onCategoryUpdated:p})})}),e.length>0?l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(g=>l.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow hover:scale-105 transition-transform group",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:g.color}}),l.jsx("h3",{className:"font-semibold text-gray-800 truncate",children:g.name})]}),l.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>d(g),className:"p-1 text-gray-500 hover:text-blue-600 transition-colors",title:"Edit category",children:l.jsx(Gn,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>u(g.id),className:"p-1 text-gray-500 hover:text-red-600 transition-colors",title:"Delete category",children:l.jsx(nt,{className:"h-4 w-4"})})]})]}),g.description&&l.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:g.description}),l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[l.jsx(hr,{className:"h-4 w-4"}),l.jsxs("span",{children:[g.photoCount," ",g.photoCount===1?"photo":"photos"]})]})}),l.jsxs(te,{to:`/photos/category/${g.id}`,className:"flex items-center justify-center space-x-2 w-full py-2 px-4 bg-gray-800 hover:bg-gray-900 text-white rounded-lg transition-colors font-medium",children:[l.jsx(Vg,{className:"h-4 w-4"}),l.jsx("span",{children:"View Photos"})]})]},g.id))}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(hr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No categories yet"}),l.jsx("p",{className:"text-gray-500 mb-6",children:"Create your first category to start organizing your photos!"}),l.jsxs("button",{onClick:x,className:"inline-flex items-center px-6 py-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg transition-colors",children:[l.jsx(Me,{className:"h-5 w-5 mr-2"}),"Create First Category"]})]}),e.length>0&&l.jsxs("div",{className:"glass-effect rounded-xl p-6 love-shadow",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Category Overview"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-700",children:e.length}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Categories"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-700",children:e.reduce((g,y)=>g+y.photoCount,0)}),l.jsx("div",{className:"text-sm text-gray-600",children:"Categorized Photos"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:Math.round(e.reduce((g,y)=>g+y.photoCount,0)/e.length)||0}),l.jsx("div",{className:"text-sm text-gray-600",children:"Avg Photos/Category"})]})]})]})]})}function H0(){const{id:e}=wp(),[t,r]=v.useState([]),[n,s]=v.useState(null),[a,o]=v.useState(!0),[i,c]=v.useState(null),[u,p]=v.useState("medium"),[d,x]=v.useState(!1),[g,y]=v.useState(new Set),[j,k]=v.useState(null),[h,f]=v.useState(!1);v.useEffect(()=>{console.log("CategoryPhotos useEffect triggered with categoryId:",e),e?(console.log("Fetching data for categoryId:",e),m(),w()):console.log("No categoryId provided")},[e]);const m=async()=>{var M,_,L,R,B;console.log("fetchCategoryPhotos called for categoryId:",e);try{if(console.log("Setting loading to true"),o(!0),c(null),e==="-1"){console.log("Fetching favorite photos from /api/photos/favorites");const D=await A.get("/api/photos/favorites");console.log("Favorite photos response:",D.data),r(D.data)}else{const D=`/api/categories/${e}/photos`;console.log("Fetching category photos from:",D);const F=await A.get(D);console.log("Category photos response:",F.data),r(F.data)}console.log("Photos fetched successfully")}catch(D){console.error("Error fetching category photos:",D),console.error("Error details:",{status:(M=D.response)==null?void 0:M.status,statusText:(_=D.response)==null?void 0:_.statusText,data:(L=D.response)==null?void 0:L.data,message:D.message}),((R=D.response)==null?void 0:R.status)===401||((B=D.response)==null?void 0:B.status)===403?c("Authentication required. Please log in."):c("Failed to load photos. Please try again."),r([])}finally{console.log("Setting loading to false"),o(!1)}},w=async()=>{var M,_,L,R,B;console.log("fetchCategoryInfo called for categoryId:",e);try{if(e==="-1")console.log("Setting favorites category info"),s({id:-1,name:"Favorites",color:"#ef4444"});else{const D=`/api/categories/${e}`;console.log("Fetching category info from:",D);const F=await A.get(D);console.log("Category info response:",F.data),s(F.data)}console.log("Category info fetched successfully")}catch(D){console.error("Error fetching category info:",D),console.error("Category info error details:",{status:(M=D.response)==null?void 0:M.status,statusText:(_=D.response)==null?void 0:_.statusText,data:(L=D.response)==null?void 0:L.data,message:D.message}),(((R=D.response)==null?void 0:R.status)===401||((B=D.response)==null?void 0:B.status)===403)&&console.error("Authentication required. Please log in."),s(null)}},E=async M=>{try{const _=t.find(R=>R.id===M),L=!(_!=null&&_.isFavorite);await A.post(`/api/photos/${M}/favorite`,{favorite:L}),r(R=>R.map(B=>B.id===M?{...B,isFavorite:L}:B)),e==="-1"&&!L&&r(R=>R.filter(B=>B.id!==M))}catch(_){console.error("Error toggling favorite:",_)}},b=M=>{y(_=>{const L=new Set(_);return L.has(M)?L.delete(M):L.add(M),L})},S=async()=>{if(g.size!==0&&confirm(`Are you sure you want to delete ${g.size} photo(s)?`))try{await A.delete("/api/photos/bulk",{data:{photoIds:Array.from(g)}}),y(new Set),x(!1),await m()}catch(M){console.error("Error deleting photos:",M),alert("Error deleting photos. Please try again.")}},N=M=>{k(M),f(!0)},P=M=>{r(_=>_.map(L=>L.id===M.id?M:L)),k(M)},C=M=>{r(_=>_.filter(L=>L.id!==M)),f(!1),k(null)},z=()=>{switch(u){case"small":return"w-32 h-32";case"medium":return"w-48 h-48";case"large":return"w-64 h-64";default:return"w-48 h-48"}},U=()=>{switch(u){case"small":return"grid-cols-2 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8";case"medium":return"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4";case"large":return"grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3";default:return"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"}};return console.log("CategoryPhotos render - loading:",a,"error:",i,"photos.length:",t.length,"category:",n),a?(console.log("Rendering loading spinner"),l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})})):i?l.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen space-y-4",children:[l.jsx("div",{className:"text-red-500 text-lg font-medium",children:i}),l.jsx("button",{onClick:()=>{c(null),m(),w()},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Try Again"}),l.jsx(te,{to:"/photos",className:"text-blue-500 hover:text-blue-600 underline",children:"Back to Photos"})]}):l.jsxs("div",{className:"space-y-6 fade-in",children:[l.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(te,{to:"/photos",className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:l.jsx(pr,{className:"h-5 w-5 text-gray-600"})}),l.jsxs("div",{className:"flex items-center space-x-3",children:[n&&l.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:n.color}}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:(n==null?void 0:n.name)||"Category"}),l.jsxs("p",{className:"text-gray-600",children:[t.length," photos"]})]})]})]})}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(fr,{className:"h-4 w-4 text-gray-600"}),l.jsxs("select",{value:u,onChange:M=>p(M.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"small",children:"Small"}),l.jsx("option",{value:"medium",children:"Medium"}),l.jsx("option",{value:"large",children:"Large"})]})]}),l.jsx("button",{onClick:()=>{x(!d),y(new Set)},className:`px-3 py-1 rounded-md text-sm transition-colors ${d?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:d?"Cancel Selection":"Select Photos"})]}),d&&g.size>0&&l.jsxs("button",{onClick:S,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[l.jsx(nt,{className:"w-4 h-4"}),l.jsxs("span",{children:["Delete Selected (",g.size,")"]})]})]}),t.length>0?l.jsx("div",{className:`grid ${U()} gap-4`,children:t.map(M=>l.jsxs("div",{className:"relative group",children:[l.jsxs("div",{className:`${z()} relative overflow-hidden rounded-lg cursor-pointer transition-transform hover:scale-105 ${d&&g.has(M.id)?"ring-4 ring-blue-500":""}`,onClick:()=>d?b(M.id):N(M),children:[l.jsx("img",{src:`${gr}/api/photos/image/${M.filename}`,alt:M.originalName,className:"w-full h-full object-cover",loading:"lazy"}),d&&l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:g.has(M.id)&&l.jsx("div",{className:"bg-blue-500 text-white rounded-full p-1",children:l.jsx(qr,{className:"h-4 w-4"})})}),!d&&l.jsx("button",{onClick:_=>{_.stopPropagation(),E(M.id)},className:"absolute top-2 right-2 p-1 bg-white/80 rounded-full hover:bg-white transition-colors opacity-0 group-hover:opacity-100",children:l.jsx(he,{className:`h-4 w-4 ${M.isFavorite?"text-red-500 fill-current":"text-gray-600"}`})})]}),M.caption&&l.jsx("div",{className:"mt-2",children:l.jsx("p",{className:"text-xs text-gray-600 truncate",children:M.caption})})]},M.id))}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:n&&l.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center text-white text-2xl font-bold",style:{backgroundColor:n.color},children:n.name.charAt(0).toUpperCase()})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No photos in this category"}),l.jsx("p",{className:"text-gray-500",children:"Photos assigned to this category will appear here."})]}),h&&j&&l.jsx(vi,{photo:j,onClose:()=>{f(!1),k(null)},onPhotoUpdate:P,onPhotoDelete:C})]})}function Y0(){const[e]=Lg(),r=e.get("filter")==="favorites",[n,s]=v.useState([]),[a,o]=v.useState(!0),[i,c]=v.useState("medium"),[u,p]=v.useState(!1),[d,x]=v.useState(null),[g,y]=v.useState(!1),[j,k]=v.useState(0),[h,f]=v.useState(0),[m,w]=v.useState(0),[E,b]=v.useState(!1),[S,N]=v.useState(new Set),[P,C]=v.useState([]),[z,U]=v.useState(!1);v.useEffect(()=>{M()},[j,r]),v.useEffect(()=>{_()},[]);const M=async()=>{try{o(!0);const I=r?"/api/photos/favorites":`/api/photos?page=${j}&limit=20`,q=await A.get(I);r?(s(q.data),w(q.data.length),f(1)):(s(q.data.photos),f(q.data.pagination.totalPages),w(q.data.pagination.total))}catch(I){console.error("Error fetching photos:",I)}finally{o(!1)}},_=async()=>{try{const I=await A.get("/api/categories");C(I.data)}catch(I){console.error("Error fetching categories:",I)}},L=async I=>{try{const q=n.find(Dl=>Dl.id===I),de=!(q!=null&&q.isFavorite);await A.post(`/api/photos/${I}/favorite`,{favorite:de}),s(Dl=>Dl.map(Rl=>Rl.id===I?{...Rl,isFavorite:de}:Rl))}catch(q){console.error("Error toggling favorite:",q)}},R=I=>{N(q=>{const de=new Set(q);return de.has(I)?de.delete(I):de.add(I),de})},B=async()=>{if(S.size!==0&&confirm(`Are you sure you want to delete ${S.size} photo(s)?`))try{await A.delete("/api/photos/bulk",{data:{photoIds:Array.from(S)}}),N(new Set),b(!1),await M()}catch(I){console.error("Error deleting photos:",I),alert("Error deleting photos. Please try again.")}},D=async I=>{if(S.size!==0)try{await A.put("/api/photos/bulk/categories",{photoIds:Array.from(S),categoryIds:I}),N(new Set),b(!1),U(!1),await M()}catch(q){console.error("Error assigning categories:",q),alert("Error assigning categories. Please try again.")}},F=I=>{x(I),p(!0)},W=I=>{s(q=>q.map(de=>de.id===I.id?I:de)),x(I)},J=I=>{s(q=>q.filter(de=>de.id!==I)),p(!1),x(null)},ce=()=>{y(!1),M()},wr=()=>{switch(i){case"small":return"grid-cols-6 md:grid-cols-8 lg:grid-cols-10";case"medium":return"grid-cols-4 md:grid-cols-6 lg:grid-cols-8";case"large":return"grid-cols-3 md:grid-cols-4 lg:grid-cols-6";default:return"grid-cols-4 md:grid-cols-6 lg:grid-cols-8"}},ft=()=>{switch(i){case"small":return"aspect-square";case"medium":return"aspect-square";case"large":return"aspect-square";default:return"aspect-square"}};return a&&j===0?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})}):l.jsxs("div",{className:"space-y-6 fade-in",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(te,{to:"/gallery",className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:l.jsx(pr,{className:"h-5 w-5 text-gray-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-apple-label",children:r?"Favorites":"All Photos"}),l.jsxs("p",{className:"text-apple-secondary-label",children:[m," photos"]})]})]}),l.jsx("div",{className:"flex items-center space-x-2",children:E?l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"text-sm text-apple-secondary-label",children:[S.size," selected"]}),S.size>0&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:B,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[l.jsx(nt,{className:"w-4 h-4"}),l.jsx("span",{children:"Delete"})]}),l.jsxs("button",{onClick:()=>U(!0),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[l.jsx(hr,{className:"w-4 h-4"}),l.jsx("span",{children:"Assign Categories"})]})]}),l.jsx("button",{onClick:()=>{b(!1),N(new Set)},className:"bg-apple-gray-6 hover:bg-apple-gray-5 text-apple-label px-4 py-2 rounded-lg transition-colors border border-apple-separator",children:"Cancel"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>b(!0),className:"bg-apple-gray-6 hover:bg-apple-gray-5 text-apple-label px-6 py-3 rounded-xl transition-all duration-300 flex items-center space-x-2 shadow-lg hover:shadow-xl transform hover:scale-105 font-medium border border-apple-separator",children:[l.jsx(qr,{className:"w-5 h-5"}),l.jsx("span",{children:"Select"})]}),l.jsxs("button",{onClick:()=>y(!0),className:"bg-apple-gray-6 hover:bg-apple-gray-5 text-apple-label px-6 py-3 rounded-xl transition-all duration-300 flex items-center space-x-2 shadow-lg hover:shadow-xl transform hover:scale-105 font-medium border border-apple-separator",children:[l.jsx(Me,{className:"w-5 h-5"}),l.jsx("span",{children:"Add Photos"})]})]})})]}),l.jsx("div",{className:"flex items-center space-x-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(fr,{className:"h-4 w-4 text-gray-600"}),l.jsxs("select",{value:i,onChange:I=>c(I.target.value),className:"px-3 py-1 border border-apple-separator rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-apple-blue bg-white",children:[l.jsx("option",{value:"small",children:"Small"}),l.jsx("option",{value:"medium",children:"Medium"}),l.jsx("option",{value:"large",children:"Large"})]})]})}),n.length>0?l.jsx("div",{className:`grid ${wr()} gap-4`,children:n.map(I=>l.jsxs("div",{className:"relative group",children:[l.jsxs("div",{className:`${ft()} relative overflow-hidden rounded-lg cursor-pointer transition-transform hover:scale-105`,onClick:()=>E?R(I.id):F(I),children:[l.jsx("img",{src:`${gr}/api/photos/image/${I.filename}`,alt:I.originalName,className:"w-full h-full object-cover",loading:"lazy"}),E&&l.jsx("div",{className:"absolute top-2 left-2 p-1 bg-white/80 rounded-full",children:l.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${S.has(I.id)?"bg-blue-500 border-blue-500":"border-gray-400 bg-white"}`,children:S.has(I.id)&&l.jsx(qr,{className:"w-3 h-3 text-white"})})}),!E&&l.jsx("button",{onClick:q=>{q.stopPropagation(),L(I.id)},className:"absolute top-2 right-2 p-1 bg-white/80 rounded-full hover:bg-white transition-colors opacity-0 group-hover:opacity-100",children:l.jsx(he,{className:`h-4 w-4 ${I.isFavorite?"text-red-500 fill-current":"text-gray-600"}`})})]}),I.caption&&l.jsx("div",{className:"mt-2",children:l.jsx("p",{className:"text-xs text-gray-600 truncate",children:I.caption})})]},I.id))}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx(Me,{className:"w-16 h-16 mx-auto mb-4"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No photos yet"}),l.jsx("p",{className:"text-gray-500 mb-6",children:"Start building your gallery by uploading your first photos!"}),l.jsxs("button",{onClick:()=>y(!0),className:"inline-flex items-center px-6 py-3 bg-apple-gray-6 hover:bg-apple-gray-5 text-apple-label rounded-lg transition-colors border border-apple-separator",children:[l.jsx(Me,{className:"w-5 h-5 mr-2"}),"Add Your First Photo"]})]}),h>1&&l.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[l.jsx("button",{onClick:()=>k(Math.max(0,j-1)),disabled:j===0,className:"px-4 py-2 bg-apple-gray-6 hover:bg-apple-gray-5 disabled:opacity-50 disabled:cursor-not-allowed text-apple-label rounded-lg transition-colors border border-apple-separator",children:"Previous"}),l.jsxs("span",{className:"text-apple-secondary-label",children:["Page ",j+1," of ",h]}),l.jsx("button",{onClick:()=>k(Math.min(h-1,j+1)),disabled:j>=h-1,className:"px-4 py-2 bg-apple-gray-6 hover:bg-apple-gray-5 disabled:opacity-50 disabled:cursor-not-allowed text-apple-label rounded-lg transition-colors border border-apple-separator",children:"Next"})]}),g&&l.jsx(rf,{onClose:()=>y(!1),onUploadComplete:ce}),u&&d&&l.jsx(vi,{photo:d,onClose:()=>{p(!1),x(null)},onPhotoUpdate:W,onPhotoDelete:J}),z&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Assign Categories"}),l.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Select categories to assign to ",S.size," photo(s):"]}),l.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto mb-4",children:P.map(I=>l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"rounded",value:I.id}),l.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:I.color}}),l.jsx("span",{className:"text-sm",children:I.name})]},I.id))}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>U(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),l.jsx("button",{onClick:()=>{const I=document.querySelectorAll('input[type="checkbox"]:checked'),q=Array.from(I).map(de=>parseInt(de.value));D(q)},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Assign"})]})]})})]})}function Q0(){const{showToast:e}=zl(),[t,r]=v.useState([]),[n,s]=v.useState(!0),[a,o]=v.useState(new Set),[i,c]=v.useState(0),[u,p]=v.useState(0),[d,x]=v.useState(0);v.useEffect(()=>{g()},[i]);const g=async()=>{try{s(!0);const b=await fetch(`/api/photos/recycle-bin?page=${i}&size=20`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(b.ok){const S=await b.json();r(S.photos),p(S.totalPages),x(S.totalElements)}else e("Failed to fetch deleted photos","general")}catch(b){console.error("Error fetching deleted photos:",b),e("Error loading recycle bin","general")}finally{s(!1)}},y=b=>{const S=new Set(a);S.has(b)?S.delete(b):S.add(b),o(S)},j=()=>{a.size===t.length?o(new Set):o(new Set(t.map(b=>b.id)))},k=async b=>{try{(await fetch(`/api/photos/${b}/recover`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok?(e("Photo recovered successfully","general"),g(),o(N=>{const P=new Set(N);return P.delete(b),P})):e("Failed to recover photo","general")}catch(S){console.error("Error recovering photo:",S),e("Error recovering photo","general")}},h=async b=>{if(confirm("Are you sure you want to permanently delete this photo? This action cannot be undone."))try{(await fetch(`/api/photos/${b}/permanent`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok?(e("Photo permanently deleted","general"),g(),o(N=>{const P=new Set(N);return P.delete(b),P})):e("Failed to delete photo","general")}catch(S){console.error("Error deleting photo:",S),e("Error deleting photo","general")}},f=async()=>{if(a.size===0){e("Please select photos to recover","general");return}try{const b=await fetch("/api/photos/bulk/recover",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({photoIds:Array.from(a)})});if(b.ok){const S=await b.json();e(S.message,"general"),g(),o(new Set)}else e("Failed to recover photos","general")}catch(b){console.error("Error recovering photos:",b),e("Error recovering photos","general")}},m=async()=>{if(a.size===0){e("Please select photos to delete","general");return}if(confirm(`Are you sure you want to permanently delete ${a.size} photo(s)? This action cannot be undone.`))try{const b=await fetch("/api/photos/bulk/permanent",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({photoIds:Array.from(a)})});if(b.ok){const S=await b.json();e(S.message,"general"),g(),o(new Set)}else e("Failed to delete photos","general")}catch(b){console.error("Error deleting photos:",b),e("Error deleting photos","general")}},w=b=>{if(b===0)return"0 Bytes";const S=1024,N=["Bytes","KB","MB","GB"],P=Math.floor(Math.log(b)/Math.log(S));return parseFloat((b/Math.pow(S,P)).toFixed(2))+" "+N[P]},E=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return n?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500"})}):l.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[l.jsx(te,{to:"/gallery",className:"inline-flex items-center text-gray-500 hover:text-gray-700 transition-colors p-2 hover:bg-gray-100 rounded-full",children:l.jsx(pr,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Recycle Bin"}),l.jsxs("p",{className:"text-gray-600",children:[d," deleted photo",d!==1?"s":"","  Photos will be permanently deleted after 7 days"]})]})]})}),t.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(nt,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Recycle bin is empty"}),l.jsx("p",{className:"text-gray-500",children:"Deleted photos will appear here"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-6 flex flex-wrap gap-4 items-center",children:[l.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[a.size===t.length?l.jsx(Fc,{className:"h-4 w-4"}):l.jsx($c,{className:"h-4 w-4"}),"Select All"]}),a.size>0&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[l.jsx(oo,{className:"h-4 w-4"}),"Recover Selected (",a.size,")"]}),l.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[l.jsx(Ug,{className:"h-4 w-4"}),"Permanently Delete (",a.size,")"]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(b=>l.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border",children:[l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:`/api/photos/image/${b.filename}`,alt:b.originalName,className:"w-full h-48 object-cover"}),l.jsx("div",{className:"absolute top-2 left-2",children:l.jsx("button",{onClick:()=>y(b.id),className:"p-1 bg-white bg-opacity-80 rounded hover:bg-opacity-100",children:a.has(b.id)?l.jsx(Fc,{className:"h-4 w-4 text-blue-600"}):l.jsx($c,{className:"h-4 w-4 text-gray-600"})})})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"font-medium text-gray-900 mb-1 truncate",children:b.originalName}),b.caption&&l.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:b.caption}),l.jsxs("div",{className:"text-xs text-gray-500 mb-3",children:[l.jsxs("p",{children:["Deleted: ",E(b.deletedAt)]}),l.jsxs("p",{children:["Size: ",w(b.size)]}),l.jsxs("p",{children:["By: ",b.uploader.name]})]}),b.categories.length>0&&l.jsx("div",{className:"mb-3",children:l.jsx("div",{className:"flex flex-wrap gap-1",children:b.categories.map(S=>l.jsx("span",{className:"inline-block px-2 py-1 text-xs rounded-full text-white",style:{backgroundColor:S.color},children:S.name},S.id))})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>k(b.id),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:[l.jsx(oo,{className:"h-3 w-3"}),"Recover"]}),l.jsxs("button",{onClick:()=>h(b.id),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700",children:[l.jsx(nt,{className:"h-3 w-3"}),"Delete"]})]})]})]},b.id))}),u>1&&l.jsxs("div",{className:"mt-8 flex justify-center gap-2",children:[l.jsx("button",{onClick:()=>c(b=>Math.max(0,b-1)),disabled:i===0,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),l.jsxs("span",{className:"px-4 py-2 text-gray-600",children:["Page ",i+1," of ",u]}),l.jsx("button",{onClick:()=>c(b=>Math.min(u-1,b+1)),disabled:i>=u-1,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})}function q0(){const{logout:e}=rn(),t=vr(),[r,n]=v.useState(null),[s,a]=v.useState(!1),[o,i]=v.useState({days:0,hours:0,minutes:0,seconds:0}),c=v.useCallback(()=>{if(!(r!=null&&r.startDate)){const f=new Date("2020-06-08T00:00:00"),w=new Date().getTime()-f.getTime(),E=Math.floor(w/(1e3*60*60*24)),b=Math.floor(w%(1e3*60*60*24)/(1e3*60*60)),S=Math.floor(w%(1e3*60*60)/(1e3*60)),N=Math.floor(w%(1e3*60)/1e3);i({days:E,hours:b,minutes:S,seconds:N});return}const d=new Date(r.startDate),g=new Date().getTime()-d.getTime(),y=Math.floor(g/(1e3*60*60*24)),j=Math.floor(g%(1e3*60*60*24)/(1e3*60*60)),k=Math.floor(g%(1e3*60*60)/(1e3*60)),h=Math.floor(g%(1e3*60)/1e3);i({days:y,hours:j,minutes:k,seconds:h})},[r]),u=v.useCallback(async()=>{try{const d=await A.get("/api/auth/relationship-info");n(d.data)}catch(d){console.error("Error fetching relationship info:",d)}},[]);v.useEffect(()=>{u()},[u]),v.useEffect(()=>{c();const d=setInterval(c,1e3);return window.refreshRelationshipInfo=u,()=>{clearInterval(d),delete window.refreshRelationshipInfo}},[u,c]),v.useEffect(()=>{const d=x=>{s&&!x.target.closest(".relationship-dropdown")&&a(!1)};return s&&document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[s]);const p=d=>t.pathname===d;return l.jsx("header",{className:"apple-glass-effect border-b border-apple-separator sticky top-0 z-40 backdrop-blur-xl",children:l.jsxs("div",{className:"container mx-auto px-6",children:[l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs(te,{to:"/",className:"flex items-center space-x-3",children:[l.jsx(he,{className:"h-7 w-7 text-apple-blue-light floating",fill:"currentColor"}),l.jsx("span",{className:"font-semibold text-xl text-apple-label",children:"Scott & Zoe"})]}),r&&l.jsxs("div",{className:"relative hidden md:block",children:[l.jsxs("button",{onClick:()=>a(!s),className:"flex items-center space-x-2 apple-glass-background rounded-xl px-4 py-2 apple-shadow hover:bg-apple-gray-6/10 transition-all duration-200",children:[l.jsx(he,{className:"h-4 w-4 text-apple-blue-light",fill:"currentColor"}),l.jsx("span",{className:"text-sm font-medium text-apple-label",children:"Days Together"}),l.jsx(Ac,{className:`h-4 w-4 text-apple-secondary-label transition-transform duration-200 ${s?"rotate-180":""}`})]}),s&&l.jsx("div",{className:"absolute top-full right-0 mt-2 bg-white/95 backdrop-blur-xl rounded-xl p-6 apple-shadow border border-apple-separator min-w-[280px] z-40",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{className:"bg-apple-blue/5 rounded-lg p-3",children:[l.jsx("div",{className:"text-2xl font-bold text-apple-blue",children:o.days}),l.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Days"})]}),l.jsxs("div",{className:"bg-apple-blue/5 rounded-lg p-3",children:[l.jsx("div",{className:"text-2xl font-bold text-apple-blue",children:o.hours}),l.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Hours"})]}),l.jsxs("div",{className:"bg-apple-blue/5 rounded-lg p-3",children:[l.jsx("div",{className:"text-2xl font-bold text-apple-blue",children:o.minutes}),l.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Minutes"})]}),l.jsxs("div",{className:"bg-apple-blue/5 rounded-lg p-3",children:[l.jsx("div",{className:"text-2xl font-bold text-apple-blue",children:o.seconds}),l.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Seconds"})]})]}),l.jsxs("div",{className:"text-apple-secondary-label border-t border-apple-separator pt-3",children:[l.jsx("div",{className:"text-xs",children:"Since June 8th, 2020"}),l.jsx("div",{className:"font-medium text-apple-label text-sm mt-1",children:" Every second counts! "})]})]})})]}),l.jsxs("nav",{className:"flex items-center space-x-2",children:[l.jsxs(te,{to:"/",className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 ${p("/")?"bg-apple-blue-light/10 text-apple-blue-light":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[l.jsx(Hg,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline font-medium",children:"Home"})]}),l.jsxs(te,{to:"/gallery",className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 ${p("/gallery")?"bg-apple-blue-light/10 text-apple-blue-light":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[l.jsx(Qr,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline font-medium",children:"Gallery"})]}),l.jsxs(te,{to:"/memories",className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 ${p("/memories")?"bg-apple-blue-light/10 text-apple-blue-light":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[l.jsx(pt,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline font-medium",children:"Memories"})]}),l.jsxs(te,{to:"/settings",className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 ${p("/settings")?"bg-apple-blue-light/10 text-apple-blue-light":"text-apple-secondary-label hover:bg-apple-gray-6/10 hover:text-apple-label"}`,children:[l.jsx(fr,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline font-medium",children:"Settings"})]}),l.jsxs("button",{onClick:e,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-apple-secondary-label hover:bg-red-500/10 hover:text-red-500 transition-all duration-200",children:[l.jsx(qg,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline font-medium",children:"Logout"})]})]})]}),r&&l.jsx("div",{className:"md:hidden pb-4 text-center",children:l.jsxs("div",{className:"relative inline-block",children:[l.jsxs("button",{onClick:()=>a(!s),className:"flex items-center space-x-2 apple-glass-background rounded-xl px-4 py-2 apple-shadow hover:bg-apple-gray-6/10 transition-all duration-200",children:[l.jsx(he,{className:"h-4 w-4 text-apple-blue-light",fill:"currentColor"}),l.jsx("span",{className:"text-sm font-medium text-apple-label",children:"Days Together"}),l.jsx(Ac,{className:`h-4 w-4 text-apple-secondary-label transition-transform duration-200 ${s?"rotate-180":""}`})]}),s&&l.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 bg-white/95 backdrop-blur-xl rounded-xl p-4 apple-shadow border border-apple-separator min-w-[200px] z-50",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[l.jsxs("div",{className:"bg-apple-blue/5 rounded-lg p-2",children:[l.jsx("div",{className:"text-lg font-bold text-apple-blue",children:o.days}),l.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Days"})]}),l.jsxs("div",{className:"bg-apple-blue/5 rounded-lg p-2",children:[l.jsx("div",{className:"text-lg font-bold text-apple-blue",children:o.hours}),l.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Hours"})]}),l.jsxs("div",{className:"bg-apple-blue/5 rounded-lg p-2",children:[l.jsx("div",{className:"text-lg font-bold text-apple-blue",children:o.minutes}),l.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Minutes"})]}),l.jsxs("div",{className:"bg-apple-blue/5 rounded-lg p-2",children:[l.jsx("div",{className:"text-lg font-bold text-apple-blue",children:o.seconds}),l.jsx("div",{className:"text-xs text-apple-secondary-label",children:"Seconds"})]})]}),l.jsxs("div",{className:"text-apple-secondary-label border-t border-apple-separator pt-3",children:[l.jsx("div",{className:"text-xs",children:"Since June 8th, 2020"}),l.jsx("div",{className:"font-medium text-apple-label text-sm mt-1",children:" Every second counts! "})]})]})})]})})]})})}function K0(){const{isAuthenticated:e,loading:t}=rn();return t?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):e?l.jsxs("div",{className:"min-h-screen",children:[l.jsx(q0,{}),l.jsx("main",{className:"container mx-auto px-4 py-8",children:l.jsxs(Sg,{children:[l.jsx(We,{path:"/",element:l.jsx(eu,{})}),l.jsx(We,{path:"/dashboard",element:l.jsx(eu,{})}),l.jsx(We,{path:"/gallery",element:l.jsx(M0,{})}),l.jsx(We,{path:"/photos",element:l.jsx(Y0,{})}),l.jsx(We,{path:"/category/:id",element:l.jsx(H0,{})}),l.jsx(We,{path:"/photo/:id",element:l.jsx(_0,{})}),l.jsx(We,{path:"/memories",element:l.jsx(A0,{})}),l.jsx(We,{path:"/categories",element:l.jsx(V0,{})}),l.jsx(We,{path:"/recycle-bin",element:l.jsx(Q0,{})}),l.jsx(We,{path:"/settings",element:l.jsx(B0,{})}),l.jsx(We,{path:"*",element:l.jsx(Ng,{to:"/",replace:!0})})]})})]}):l.jsx(T0,{})}function J0(){return l.jsx(P0,{children:l.jsx(D0,{children:l.jsx(Rg,{children:l.jsx(K0,{})})})})}ca.createRoot(document.getElementById("root")).render(l.jsx(du.StrictMode,{children:l.jsx(J0,{})}));
